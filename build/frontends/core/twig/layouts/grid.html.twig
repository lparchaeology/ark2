{# ARK GridLayout template for standard Bootstrap grid #}

{% if layout.form %}
    {{ form_start(form) }}
{% endif %}

{% if label %}
    <div class="form-group">
        <div class="col-md-4"></div>
        <div class="col-md-8">
            <h4>{{ label | translate }}</h4>
        </div>
    </div>
{% endif %}

{% for rdx, row in layout.grid %}

    {% set rowlength = row | length %}
    {% if rowlength > 1 %}
        <div class="row">
    {% endif %}

    {% for cdx, col in row %}

        {% if layout.columnWidth(rdx, cdx) %}
            <div class="col-md-{{- layout.columnWidth(rdx, cdx) -}}" >
        {% elseif rowlength > 12 %}
            <div class="col-md-12">
        {% elseif rowlength > 6 %}
            <div class="col-md-1">
        {% elseif rowlength >= 5 %}
            <div class="col-md-2">
        {% elseif rowlength == 4 %}
            <div class="col-md-3">
        {% elseif rowlength == 3 %}
            <div class="col-md-4">
        {% elseif rowlength == 2 %}
            <div class="col-md-6">
        {% elseif rowlength == 1 %}
            <div class="col-md-12">
        {% endif %}

        {% for idx, cell in col %}
            {{ cell.renderForm(data, state, form)|raw }}
        {% endfor %}
        </div>
    {% endfor %}

    {% if rowlength > 1 %}
        </div>
    {% endif %}

{% endfor %}

{% if layout.form %}
    {{ form_end(form) }}
{% endif %}

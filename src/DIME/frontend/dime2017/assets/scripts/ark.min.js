(function(e,t){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=e.document?t(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}}else{t(e)}})(typeof window!=="undefined"?window:this,function(e,t){"use strict";var i=[];var n=e.document;var r=Object.getPrototypeOf;var o=i.slice;var s=i.concat;var a=i.push;var l=i.indexOf;var d={};var u=d.toString;var h=d.hasOwnProperty;var c=h.toString;var f=c.call(Object);var p={};function m(e,t){t=t||n;var i=t.createElement("script");i.text=e;t.head.appendChild(i).parentNode.removeChild(i)}var v="3.2.1",g=function(e,t){return new g.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,w=/-([a-z])/g,x=function(e,t){return t.toUpperCase()};g.fn=g.prototype={jquery:v,constructor:g,length:0,toArray:function(){return o.call(this)},get:function(e){if(e==null){return o.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice};g.extend=g.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,d=false;if(typeof s==="boolean"){d=s;s=arguments[a]||{};a++}if(typeof s!=="object"&&!g.isFunction(s)){s={}}if(a===l){s=this;a--}for(;a<l;a++){if((e=arguments[a])!=null){for(t in e){i=s[t];n=e[t];if(s===n){continue}if(d&&n&&(g.isPlainObject(n)||(r=Array.isArray(n)))){if(r){r=false;o=i&&Array.isArray(i)?i:[]}else{o=i&&g.isPlainObject(i)?i:{}}s[t]=g.extend(d,o,n)}else if(n!==undefined){s[t]=n}}}}return s};g.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return g.type(e)==="function"},isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){var t=g.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;if(!e||u.call(e)!=="[object Object]"){return false}t=r(e);if(!t){return true}i=h.call(t,"constructor")&&t.constructor;return typeof i==="function"&&c.call(i)===f},isEmptyObject:function(e){var t;for(t in e){return false}return true},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?d[u.call(e)]||"object":typeof e},globalEval:function(e){m(e)},camelCase:function(e){return e.replace(b,"ms-").replace(w,x)},each:function(e,t){var i,n=0;if(_(e)){i=e.length;for(;n<i;n++){if(t.call(e[n],n,e[n])===false){break}}}else{for(n in e){if(t.call(e[n],n,e[n])===false){break}}}return e},trim:function(e){return e==null?"":(e+"").replace(y,"")},makeArray:function(e,t){var i=t||[];if(e!=null){if(_(Object(e))){g.merge(i,typeof e==="string"?[e]:e)}else{a.call(i,e)}}return i},inArray:function(e,t,i){return t==null?-1:l.call(t,e,i)},merge:function(e,t){var i=+t.length,n=0,r=e.length;for(;n<i;n++){e[r++]=t[n]}e.length=r;return e},grep:function(e,t,i){var n,r=[],o=0,s=e.length,a=!i;for(;o<s;o++){n=!t(e[o],o);if(n!==a){r.push(e[o])}}return r},map:function(e,t,i){var n,r,o=0,a=[];if(_(e)){n=e.length;for(;o<n;o++){r=t(e[o],o,i);if(r!=null){a.push(r)}}}else{for(o in e){r=t(e[o],o,i);if(r!=null){a.push(r)}}}return s.apply([],a)},guid:1,proxy:function(e,t){var i,n,r;if(typeof t==="string"){i=e[t];t=e;e=i}if(!g.isFunction(e)){return undefined}n=o.call(arguments,2);r=function(){return e.apply(t||this,n.concat(o.call(arguments)))};r.guid=e.guid=e.guid||g.guid++;return r},now:Date.now,support:p});if(typeof Symbol==="function"){g.fn[Symbol.iterator]=i[Symbol.iterator]}g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});function _(e){var t=!!e&&"length"in e&&e.length,i=g.type(e);if(i==="function"||g.isWindow(e)){return false}return i==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var k=function(e){var t,i,n,r,o,s,a,l,d,u,h,c,f,p,m,v,g,y,b,w="sizzle"+1*new Date,x=e.document,_=0,k=0,C=se(),S=se(),T=se(),D=function(e,t){if(e===t){h=true}return 0},E={}.hasOwnProperty,O=[],P=O.pop,M=O.push,A=O.push,I=O.slice,F=function(e,t){var i=0,n=e.length;for(;i<n;i++){if(e[i]===t){return i}}return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+N+"*("+L+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+N+"*\\]",B=":("+L+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|"+".*"+")\\)|)",z=new RegExp(N+"+","g"),$=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),U=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),q=new RegExp(B),Y=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){if(t){if(e==="\0"){return"ï¿½"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},ne=function(){c()},re=ye(function(e){return e.disabled===true&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{A.apply(O=I.call(x.childNodes),x.childNodes);O[x.childNodes.length].nodeType}catch(e){A={apply:O.length?function(e,t){M.apply(e,I.call(t))}:function(e,t){var i=e.length,n=0;while(e[i++]=t[n++]){}e.length=i-1}}}function oe(e,t,n,r){var o,a,d,u,h,p,g,y=t&&t.ownerDocument,_=t?t.nodeType:9;n=n||[];if(typeof e!=="string"||!e||_!==1&&_!==9&&_!==11){return n}if(!r){if((t?t.ownerDocument||t:x)!==f){c(t)}t=t||f;if(m){if(_!==11&&(h=K.exec(e))){if(o=h[1]){if(_===9){if(d=t.getElementById(o)){if(d.id===o){n.push(d);return n}}else{return n}}else{if(y&&(d=y.getElementById(o))&&b(t,d)&&d.id===o){n.push(d);return n}}}else if(h[2]){A.apply(n,t.getElementsByTagName(e));return n}else if((o=h[3])&&i.getElementsByClassName&&t.getElementsByClassName){A.apply(n,t.getElementsByClassName(o));return n}}if(i.qsa&&!T[e+" "]&&(!v||!v.test(e))){if(_!==1){y=t;g=e}else if(t.nodeName.toLowerCase()!=="object"){if(u=t.getAttribute("id")){u=u.replace(te,ie)}else{t.setAttribute("id",u=w)}p=s(e);a=p.length;while(a--){p[a]="#"+u+" "+ge(p[a])}g=p.join(",");y=Q.test(e)&&me(t.parentNode)||t}if(g){try{A.apply(n,y.querySelectorAll(g));return n}catch(e){}finally{if(u===w){t.removeAttribute("id")}}}}}}return l(e.replace($,"$1"),t,n,r)}function se(){var e=[];function t(i,r){if(e.push(i+" ")>n.cacheLength){delete t[e.shift()]}return t[i+" "]=r}return t}function ae(e){e[w]=true;return e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function de(e,t){var i=e.split("|"),r=i.length;while(r--){n.attrHandle[i[r]]=t}}function ue(e,t){var i=t&&e,n=i&&e.nodeType===1&&t.nodeType===1&&e.sourceIndex-t.sourceIndex;if(n){return n}if(i){while(i=i.nextSibling){if(i===t){return-1}}}return e?1:-1}function he(e){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===e}}function ce(e){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===e}}function fe(e){return function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&re(t)===e}return t.disabled===e}else if("label"in t){return t.disabled===e}return false}}function pe(e){return ae(function(t){t=+t;return ae(function(i,n){var r,o=e([],i.length,t),s=o.length;while(s--){if(i[r=o[s]]){i[r]=!(n[r]=i[r])}}})})}function me(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}i=oe.support={};o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};c=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;if(s===f||s.nodeType!==9||!s.documentElement){return f}f=s;p=f.documentElement;m=!o(f);if(x!==f&&(r=f.defaultView)&&r.top!==r){if(r.addEventListener){r.addEventListener("unload",ne,false)}else if(r.attachEvent){r.attachEvent("onunload",ne)}}i.attributes=le(function(e){e.className="i";return!e.getAttribute("className")});i.getElementsByTagName=le(function(e){e.appendChild(f.createComment(""));return!e.getElementsByTagName("*").length});i.getElementsByClassName=Z.test(f.getElementsByClassName);i.getById=le(function(e){p.appendChild(e).id=w;return!f.getElementsByName||!f.getElementsByName(w).length});if(i.getById){n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var i=t.getElementById(e);return i?[i]:[]}}}else{n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){var i=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return i&&i.value===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var i,n,r,o=t.getElementById(e);if(o){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}r=t.getElementsByName(e);n=0;while(o=r[n++]){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}}}return[]}}}n.find["TAG"]=i.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(i.qsa){return t.querySelectorAll(e)}}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if(e==="*"){while(i=o[r++]){if(i.nodeType===1){n.push(i)}}return n}return o};n.find["CLASS"]=i.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&m){return t.getElementsByClassName(e)}};g=[];v=[];if(i.qsa=Z.test(f.querySelectorAll)){le(function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a>"+"<select id='"+w+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){v.push("[*^$]="+N+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){v.push("\\["+N+"*(?:value|"+R+")")}if(!e.querySelectorAll("[id~="+w+"-]").length){v.push("~=")}if(!e.querySelectorAll(":checked").length){v.push(":checked")}if(!e.querySelectorAll("a#"+w+"+*").length){v.push(".#.+[+~]")}});le(function(e){e.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){v.push("name"+N+"*[*^$|!~]?=")}if(e.querySelectorAll(":enabled").length!==2){v.push(":enabled",":disabled")}p.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){v.push(":enabled",":disabled")}e.querySelectorAll("*,:x");v.push(",.*:")})}if(i.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)){le(function(e){i.disconnectedMatch=y.call(e,"*");y.call(e,"[s!='']:x");g.push("!=",B)})}v=v.length&&new RegExp(v.join("|"));g=g.length&&new RegExp(g.join("|"));t=Z.test(p.compareDocumentPosition);b=t||Z.test(p.contains)?function(e,t){var i=e.nodeType===9?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(i.contains?i.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};D=t?function(e,t){if(e===t){h=true;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n){return n}n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(n&1||!i.sortDetached&&t.compareDocumentPosition(e)===n){if(e===f||e.ownerDocument===x&&b(x,e)){return-1}if(t===f||t.ownerDocument===x&&b(x,t)){return 1}return u?F(u,e)-F(u,t):0}return n&4?-1:1}:function(e,t){if(e===t){h=true;return 0}var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o){return e===f?-1:t===f?1:r?-1:o?1:u?F(u,e)-F(u,t):0}else if(r===o){return ue(e,t)}i=e;while(i=i.parentNode){s.unshift(i)}i=t;while(i=i.parentNode){a.unshift(i)}while(s[n]===a[n]){n++}return n?ue(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0};return f};oe.matches=function(e,t){return oe(e,null,null,t)};oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f){c(e)}t=t.replace(W,"='$1']");if(i.matchesSelector&&m&&!T[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t))){try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return oe(t,f,null,[e]).length>0};oe.contains=function(e,t){if((e.ownerDocument||e)!==f){c(e)}return b(e,t)};oe.attr=function(e,t){if((e.ownerDocument||e)!==f){c(e)}var r=n.attrHandle[t.toLowerCase()],o=r&&E.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):undefined;return o!==undefined?o:i.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null};oe.escape=function(e){return(e+"").replace(te,ie)};oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};oe.uniqueSort=function(e){var t,n=[],r=0,o=0;h=!i.detectDuplicates;u=!i.sortStable&&e.slice(0);e.sort(D);if(h){while(t=e[o++]){if(t===e[o]){r=n.push(o)}}while(r--){e.splice(n[r],1)}}u=null;return e};r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(!o){while(t=e[n++]){i+=r(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){i+=r(e)}}}else if(o===3||o===4){return e.nodeValue}return i};n=oe.selectors={cacheLength:50,createPseudo:ae,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(J,ee);e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){oe.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){oe.error(e[0])}return e},PSEUDO:function(e){var t,i=!e[6]&&e[2];if(V["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(i&&q.test(i)&&(t=s(i,true))&&(t=i.indexOf(")",i.length-t)-i.length)){e[0]=e[0].slice(0,t);e[2]=i.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&C(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);if(r==null){return t==="!="}if(!t){return true}r+="";return t==="="?r===i:t==="!="?r!==i:t==="^="?i&&r.indexOf(i)===0:t==="*="?i&&r.indexOf(i)>-1:t==="$="?i&&r.slice(-i.length)===i:t==="~="?(" "+r.replace(z," ")+" ").indexOf(i)>-1:t==="|="?r===i||r.slice(0,i.length+1)===i+"-":false}},CHILD:function(e,t,i,n,r){var o=e.slice(0,3)!=="nth",s=e.slice(-4)!=="last",a=t==="of-type";return n===1&&r===0?function(e){return!!e.parentNode}:function(t,i,l){var d,u,h,c,f,p,m=o!==s?"nextSibling":"previousSibling",v=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=false;if(v){if(o){while(m){c=t;while(c=c[m]){if(a?c.nodeName.toLowerCase()===g:c.nodeType===1){return false}}p=m=e==="only"&&!p&&"nextSibling"}return true}p=[s?v.firstChild:v.lastChild];if(s&&y){c=v;h=c[w]||(c[w]={});u=h[c.uniqueID]||(h[c.uniqueID]={});d=u[e]||[];f=d[0]===_&&d[1];b=f&&d[2];c=f&&v.childNodes[f];while(c=++f&&c&&c[m]||(b=f=0)||p.pop()){if(c.nodeType===1&&++b&&c===t){u[e]=[_,f,b];break}}}else{if(y){c=t;h=c[w]||(c[w]={});u=h[c.uniqueID]||(h[c.uniqueID]={});d=u[e]||[];f=d[0]===_&&d[1];b=f}if(b===false){while(c=++f&&c&&c[m]||(b=f=0)||p.pop()){if((a?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++b){if(y){h=c[w]||(c[w]={});u=h[c.uniqueID]||(h[c.uniqueID]={});u[e]=[_,b]}if(c===t){break}}}}}b-=r;return b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);if(r[w]){return r(t)}if(r.length>1){i=[e,e,"",t];return n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){var n,o=r(e,t),s=o.length;while(s--){n=F(e,o[s]);e[n]=!(i[n]=o[s])}}):function(e){return r(e,0,i)}}return r}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace($,"$1"));return n[w]?ae(function(e,t,i,r){var o,s=n(e,null,r,[]),a=e.length;while(a--){if(o=s[a]){e[a]=!(t[a]=o)}}}):function(e,r,o){t[0]=e;n(t,null,o,i);t[0]=null;return!i.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){e=e.replace(J,ee);return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){if(!Y.test(e||"")){oe.error("unsupported lang: "+e)}e=e.replace(J,ee).toLowerCase();return function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){i=i.toLowerCase();return i===e||i.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(false),disabled:fe(true),checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!n.pseudos["empty"](e)},header:function(e){return X.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(e,t){var i=0;for(;i<t;i+=2){e.push(i)}return e}),odd:pe(function(e,t){var i=1;for(;i<t;i+=2){e.push(i)}return e}),lt:pe(function(e,t,i){var n=i<0?i+t:i;for(;--n>=0;){e.push(n)}return e}),gt:pe(function(e,t,i){var n=i<0?i+t:i;for(;++n<t;){e.push(n)}return e})}};n.pseudos["nth"]=n.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){n.pseudos[t]=he(t)}for(t in{submit:true,reset:true}){n.pseudos[t]=ce(t)}function ve(){}ve.prototype=n.filters=n.pseudos;n.setFilters=new ve;s=oe.tokenize=function(e,t){var i,r,o,s,a,l,d,u=S[e+" "];if(u){return t?0:u.slice(0)}a=e;l=[];d=n.preFilter;while(a){if(!i||(r=H.exec(a))){if(r){a=a.slice(r[0].length)||a}l.push(o=[])}i=false;if(r=U.exec(a)){i=r.shift();o.push({value:i,type:r[0].replace($," ")});a=a.slice(i.length)}for(s in n.filter){if((r=V[s].exec(a))&&(!d[s]||(r=d[s](r)))){i=r.shift();o.push({value:i,type:s,matches:r});a=a.slice(i.length)}}if(!i){break}}return t?a.length:a?oe.error(e):S(e,l).slice(0)};function ge(e){var t=0,i=e.length,n="";for(;t<i;t++){n+=e[t].value}return n}function ye(e,t,i){var n=t.dir,r=t.next,o=r||n,s=i&&o==="parentNode",a=k++;return t.first?function(t,i,r){while(t=t[n]){if(t.nodeType===1||s){return e(t,i,r)}}return false}:function(t,i,l){var d,u,h,c=[_,a];if(l){while(t=t[n]){if(t.nodeType===1||s){if(e(t,i,l)){return true}}}}else{while(t=t[n]){if(t.nodeType===1||s){h=t[w]||(t[w]={});u=h[t.uniqueID]||(h[t.uniqueID]={});if(r&&r===t.nodeName.toLowerCase()){t=t[n]||t}else if((d=u[o])&&d[0]===_&&d[1]===a){return c[2]=d[2]}else{u[o]=c;if(c[2]=e(t,i,l)){return true}}}}}return false}}function be(e){return e.length>1?function(t,i,n){var r=e.length;while(r--){if(!e[r](t,i,n)){return false}}return true}:e[0]}function we(e,t,i){var n=0,r=t.length;for(;n<r;n++){oe(e,t[n],i)}return i}function xe(e,t,i,n,r){var o,s=[],a=0,l=e.length,d=t!=null;for(;a<l;a++){if(o=e[a]){if(!i||i(o,n,r)){s.push(o);if(d){t.push(a)}}}}return s}function _e(e,t,i,n,r,o){if(n&&!n[w]){n=_e(n)}if(r&&!r[w]){r=_e(r,o)}return ae(function(o,s,a,l){var d,u,h,c=[],f=[],p=s.length,m=o||we(t||"*",a.nodeType?[a]:a,[]),v=e&&(o||!t)?xe(m,c,e,a,l):m,g=i?r||(o?e:p||n)?[]:s:v;if(i){i(v,g,a,l)}if(n){d=xe(g,f);n(d,[],a,l);u=d.length;while(u--){if(h=d[u]){g[f[u]]=!(v[f[u]]=h)}}}if(o){if(r||e){if(r){d=[];u=g.length;while(u--){if(h=g[u]){d.push(v[u]=h)}}r(null,g=[],d,l)}u=g.length;while(u--){if((h=g[u])&&(d=r?F(o,h):c[u])>-1){o[d]=!(s[d]=h)}}}}else{g=xe(g===s?g.splice(p,g.length):g);if(r){r(null,s,g,l)}else{A.apply(s,g)}}})}function ke(e){var t,i,r,o=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,u=ye(function(e){return e===t},a,true),h=ye(function(e){return F(t,e)>-1},a,true),c=[function(e,i,n){var r=!s&&(n||i!==d)||((t=i).nodeType?u(e,i,n):h(e,i,n));t=null;return r}];for(;l<o;l++){if(i=n.relative[e[l].type]){c=[ye(be(c),i)]}else{i=n.filter[e[l].type].apply(null,e[l].matches);if(i[w]){r=++l;for(;r<o;r++){if(n.relative[e[r].type]){break}}return _e(l>1&&be(c),l>1&&ge(e.slice(0,l-1).concat({value:e[l-2].type===" "?"*":""})).replace($,"$1"),i,l<r&&ke(e.slice(l,r)),r<o&&ke(e=e.slice(r)),r<o&&ge(e))}c.push(i)}}return be(c)}function Ce(e,t){var i=t.length>0,r=e.length>0,o=function(o,s,a,l,u){var h,p,v,g=0,y="0",b=o&&[],w=[],x=d,k=o||r&&n.find["TAG"]("*",u),C=_+=x==null?1:Math.random()||.1,S=k.length;if(u){d=s===f||s||u}for(;y!==S&&(h=k[y])!=null;y++){if(r&&h){p=0;if(!s&&h.ownerDocument!==f){c(h);a=!m}while(v=e[p++]){if(v(h,s||f,a)){l.push(h);break}}if(u){_=C}}if(i){if(h=!v&&h){g--}if(o){b.push(h)}}}g+=y;if(i&&y!==g){p=0;while(v=t[p++]){v(b,w,s,a)}if(o){if(g>0){while(y--){if(!(b[y]||w[y])){w[y]=P.call(l)}}}w=xe(w)}A.apply(l,w);if(u&&!o&&w.length>0&&g+t.length>1){oe.uniqueSort(l)}}if(u){_=C;d=x}return b};return i?ae(o):o}a=oe.compile=function(e,t){var i,n=[],r=[],o=T[e+" "];if(!o){if(!t){t=s(e)}i=t.length;while(i--){o=ke(t[i]);if(o[w]){n.push(o)}else{r.push(o)}}o=T(e,Ce(r,n));o.selector=e}return o};l=oe.select=function(e,t,i,r){var o,l,d,u,h,c=typeof e==="function"&&e,f=!r&&s(e=c.selector||e);i=i||[];if(f.length===1){l=f[0]=f[0].slice(0);if(l.length>2&&(d=l[0]).type==="ID"&&t.nodeType===9&&m&&n.relative[l[1].type]){t=(n.find["ID"](d.matches[0].replace(J,ee),t)||[])[0];if(!t){return i}else if(c){t=t.parentNode}e=e.slice(l.shift().value.length)}o=V["needsContext"].test(e)?0:l.length;while(o--){d=l[o];if(n.relative[u=d.type]){break}if(h=n.find[u]){if(r=h(d.matches[0].replace(J,ee),Q.test(l[0].type)&&me(t.parentNode)||t)){l.splice(o,1);e=r.length&&ge(l);if(!e){A.apply(i,r);return i}break}}}}(c||a(e,f))(r,t,!m,i,!t||Q.test(e)&&me(t.parentNode)||t);return i};i.sortStable=w.split("").sort(D).join("")===w;i.detectDuplicates=!!h;c();i.sortDetached=le(function(e){return e.compareDocumentPosition(f.createElement("fieldset"))&1});if(!le(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){de("type|href|height|width",function(e,t,i){if(!i){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!i.attributes||!le(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){de("value",function(e,t,i){if(!i&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!le(function(e){return e.getAttribute("disabled")==null})){de(R,function(e,t,i){var n;if(!i){return e[t]===true?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}})}return oe}(e);g.find=k;g.expr=k.selectors;g.expr[":"]=g.expr.pseudos;g.uniqueSort=g.unique=k.uniqueSort;g.text=k.getText;g.isXMLDoc=k.isXML;g.contains=k.contains;g.escapeSelector=k.escape;var C=function(e,t,i){var n=[],r=i!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(r&&g(e).is(i)){break}n.push(e)}}return n};var S=function(e,t){var i=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){i.push(e)}}return i};var T=g.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;var O=/^.[^:#\[\.,]*$/;function P(e,t,i){if(g.isFunction(t)){return g.grep(e,function(e,n){return!!t.call(e,n,e)!==i})}if(t.nodeType){return g.grep(e,function(e){return e===t!==i})}if(typeof t!=="string"){return g.grep(e,function(e){return l.call(t,e)>-1!==i})}if(O.test(t)){return g.filter(t,e,i)}t=g.filter(t,e);return g.grep(e,function(e){return l.call(t,e)>-1!==i&&e.nodeType===1})}g.filter=function(e,t,i){var n=t[0];if(i){e=":not("+e+")"}if(t.length===1&&n.nodeType===1){return g.find.matchesSelector(n,e)?[n]:[]}return g.find.matches(e,g.grep(t,function(e){return e.nodeType===1}))};g.fn.extend({find:function(e){var t,i,n=this.length,r=this;if(typeof e!=="string"){return this.pushStack(g(e).filter(function(){for(t=0;t<n;t++){if(g.contains(r[t],this)){return true}}}))}i=this.pushStack([]);for(t=0;t<n;t++){g.find(e,r[t],i)}return n>1?g.uniqueSort(i):i},filter:function(e){return this.pushStack(P(this,e||[],false))},not:function(e){return this.pushStack(P(this,e||[],true))},is:function(e){return!!P(this,typeof e==="string"&&T.test(e)?g(e):e||[],false).length}});var M,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,I=g.fn.init=function(e,t,i){var r,o;if(!e){return this}i=i||M;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){r=[null,e,null]}else{r=A.exec(e)}if(r&&(r[1]||!t)){if(r[1]){t=t instanceof g?t[0]:t;g.merge(this,g.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:n,true));if(E.test(r[1])&&g.isPlainObject(t)){for(r in t){if(g.isFunction(this[r])){this[r](t[r])}else{this.attr(r,t[r])}}}return this}else{o=n.getElementById(r[2]);if(o){this[0]=o;this.length=1}return this}}else if(!t||t.jquery){return(t||i).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(g.isFunction(e)){return i.ready!==undefined?i.ready(e):e(g)}return g.makeArray(e,this)};I.prototype=g.fn;M=g(n);var F=/^(?:parents|prev(?:Until|All))/,R={children:true,contents:true,next:true,prev:true};g.fn.extend({has:function(e){var t=g(e,this),i=t.length;return this.filter(function(){var e=0;for(;e<i;e++){if(g.contains(this,t[e])){return true}}})},closest:function(e,t){var i,n=0,r=this.length,o=[],s=typeof e!=="string"&&g(e);if(!T.test(e)){for(;n<r;n++){for(i=this[n];i&&i!==t;i=i.parentNode){if(i.nodeType<11&&(s?s.index(i)>-1:i.nodeType===1&&g.find.matchesSelector(i,e))){o.push(i);break}}}}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return l.call(g(e),this[0])}return l.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function N(e,t){while((e=e[t])&&e.nodeType!==1){}return e}g.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,i){return C(e,"parentNode",i)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,i){return C(e,"nextSibling",i)},prevUntil:function(e,t,i){return C(e,"previousSibling",i)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){if(D(e,"iframe")){return e.contentDocument}if(D(e,"template")){e=e.content||e}return g.merge([],e.childNodes)}},function(e,t){g.fn[e]=function(i,n){var r=g.map(this,t,i);if(e.slice(-5)!=="Until"){n=i}if(n&&typeof n==="string"){r=g.filter(n,r)}if(this.length>1){if(!R[e]){g.uniqueSort(r)}if(F.test(e)){r.reverse()}}return this.pushStack(r)}});var L=/[^\x20\t\r\n\f]+/g;function j(e){var t={};g.each(e.match(L)||[],function(e,i){t[i]=true});return t}g.Callbacks=function(e){e=typeof e==="string"?j(e):g.extend({},e);var t,i,n,r,o=[],s=[],a=-1,l=function(){r=r||e.once;n=t=true;for(;s.length;a=-1){i=s.shift();while(++a<o.length){if(o[a].apply(i[0],i[1])===false&&e.stopOnFalse){a=o.length;i=false}}}if(!e.memory){i=false}t=false;if(r){if(i){o=[]}else{o=""}}},d={add:function(){if(o){if(i&&!t){a=o.length-1;s.push(i)}(function t(i){g.each(i,function(i,n){if(g.isFunction(n)){if(!e.unique||!d.has(n)){o.push(n)}}else if(n&&n.length&&g.type(n)!=="string"){t(n)}})})(arguments);if(i&&!t){l()}}return this},remove:function(){g.each(arguments,function(e,t){var i;while((i=g.inArray(t,o,i))>-1){o.splice(i,1);if(i<=a){a--}}});return this},has:function(e){return e?g.inArray(e,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){r=s=[];o=i="";return this},disabled:function(){return!o},lock:function(){r=s=[];if(!i&&!t){o=i=""}return this},locked:function(){return!!r},fireWith:function(e,i){if(!r){i=i||[];i=[e,i.slice?i.slice():i];s.push(i);if(!t){l()}}return this},fire:function(){d.fireWith(this,arguments);return this},fired:function(){return!!n}};return d};function B(e){return e}function z(e){throw e}function $(e,t,i,n){var r;try{if(e&&g.isFunction(r=e.promise)){r.call(e).done(t).fail(i)}else if(e&&g.isFunction(r=e.then)){r.call(e,t,i)}else{t.apply(undefined,[e].slice(n))}}catch(e){i.apply(undefined,[e])}}g.extend({Deferred:function(t){var i=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){o.done(arguments).fail(arguments);return this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return g.Deferred(function(t){g.each(i,function(i,n){var r=g.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);if(e&&g.isFunction(e.promise)){e.promise().progress(t.notify).done(t.resolve).fail(t.reject)}else{t[n[0]+"With"](this,r?[e]:arguments)}})});e=null}).promise()},then:function(t,n,r){var o=0;function s(t,i,n,r){return function(){var a=this,l=arguments,d=function(){var e,d;if(t<o){return}e=n.apply(a,l);if(e===i.promise()){throw new TypeError("Thenable self-resolution")}d=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(g.isFunction(d)){if(r){d.call(e,s(o,i,B,r),s(o,i,z,r))}else{o++;d.call(e,s(o,i,B,r),s(o,i,z,r),s(o,i,B,i.notifyWith))}}else{if(n!==B){a=undefined;l=[e]}(r||i.resolveWith)(a,l)}},u=r?d:function(){try{d()}catch(e){if(g.Deferred.exceptionHook){g.Deferred.exceptionHook(e,u.stackTrace)}if(t+1>=o){if(n!==z){a=undefined;l=[e]}i.rejectWith(a,l)}}};if(t){u()}else{if(g.Deferred.getStackHook){u.stackTrace=g.Deferred.getStackHook()}e.setTimeout(u)}}}return g.Deferred(function(e){i[0][3].add(s(0,e,g.isFunction(r)?r:B,e.notifyWith));i[1][3].add(s(0,e,g.isFunction(t)?t:B));i[2][3].add(s(0,e,g.isFunction(n)?n:z))}).promise()},promise:function(e){return e!=null?g.extend(e,r):r}},o={};g.each(i,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add;if(a){s.add(function(){n=a},i[3-e][2].disable,i[0][2].lock)}s.add(t[3].fire);o[t[0]]=function(){o[t[0]+"With"](this===o?undefined:this,arguments);return this};o[t[0]+"With"]=s.fireWith});r.promise(o);if(t){t.call(o,o)}return o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=o.call(arguments),s=g.Deferred(),a=function(e){return function(i){n[e]=this;r[e]=arguments.length>1?o.call(arguments):i;if(!--t){s.resolveWith(n,r)}}};if(t<=1){$(e,s.done(a(i)).resolve,s.reject,!t);if(s.state()==="pending"||g.isFunction(r[i]&&r[i].then)){return s.then()}}while(i--){$(r[i],a(i),s.reject)}return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,i){if(e.console&&e.console.warn&&t&&H.test(t.name)){e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)}};g.readyException=function(t){e.setTimeout(function(){throw t})};var U=g.Deferred();g.fn.ready=function(e){U.then(e).catch(function(e){g.readyException(e)});return this};g.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--g.readyWait:g.isReady){return}g.isReady=true;if(e!==true&&--g.readyWait>0){return}U.resolveWith(n,[g])}});g.ready.then=U.then;function W(){n.removeEventListener("DOMContentLoaded",W);e.removeEventListener("load",W);g.ready()}if(n.readyState==="complete"||n.readyState!=="loading"&&!n.documentElement.doScroll){e.setTimeout(g.ready)}else{n.addEventListener("DOMContentLoaded",W);e.addEventListener("load",W)}var q=function(e,t,i,n,r,o,s){var a=0,l=e.length,d=i==null;if(g.type(i)==="object"){r=true;for(a in i){q(e,t,a,i[a],true,o,s)}}else if(n!==undefined){r=true;if(!g.isFunction(n)){s=true}if(d){if(s){t.call(e,n);t=null}else{d=t;t=function(e,t,i){return d.call(g(e),i)}}}if(t){for(;a<l;a++){t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)))}}}if(r){return e}if(d){return t.call(e)}return l?t(e[0],i):o};var Y=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function V(){this.expando=g.expando+V.uid++}V.uid=1;V.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(Y(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,i){var n,r=this.cache(e);if(typeof t==="string"){r[g.camelCase(t)]=i}else{for(n in t){r[g.camelCase(n)]=t[n]}}return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,i){if(t===undefined||t&&typeof t==="string"&&i===undefined){return this.get(e,t)}this.set(e,t,i);return i!==undefined?i:t},remove:function(e,t){var i,n=e[this.expando];if(n===undefined){return}if(t!==undefined){if(Array.isArray(t)){t=t.map(g.camelCase)}else{t=g.camelCase(t);t=t in n?[t]:t.match(L)||[]}i=t.length;while(i--){delete n[t[i]]}}if(t===undefined||g.isEmptyObject(n)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!g.isEmptyObject(t)}};var G=new V;var X=new V;var Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Q(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return+e}if(Z.test(e)){return JSON.parse(e)}return e}function J(e,t,i){var n;if(i===undefined&&e.nodeType===1){n="data-"+t.replace(K,"-$&").toLowerCase();i=e.getAttribute(n);if(typeof i==="string"){try{i=Q(i)}catch(e){}X.set(e,t,i)}else{i=undefined}}return i}g.extend({hasData:function(e){return X.hasData(e)||G.hasData(e)},data:function(e,t,i){return X.access(e,t,i)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,i){return G.access(e,t,i)},_removeData:function(e,t){G.remove(e,t)}});g.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(e===undefined){if(this.length){r=X.get(o);if(o.nodeType===1&&!G.get(o,"hasDataAttrs")){i=s.length;while(i--){if(s[i]){n=s[i].name;if(n.indexOf("data-")===0){n=g.camelCase(n.slice(5));J(o,n,r[n])}}}G.set(o,"hasDataAttrs",true)}}return r}if(typeof e==="object"){return this.each(function(){X.set(this,e)})}return q(this,function(t){var i;if(o&&t===undefined){i=X.get(o,e);if(i!==undefined){return i}i=J(o,e);if(i!==undefined){return i}return}this.each(function(){X.set(this,e,t)})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){X.remove(this,e)})}});g.extend({queue:function(e,t,i){var n;if(e){t=(t||"fx")+"queue";n=G.get(e,t);if(i){if(!n||Array.isArray(i)){n=G.access(e,t,g.makeArray(i))}else{n.push(i)}}return n||[]}},dequeue:function(e,t){t=t||"fx";var i=g.queue(e,t),n=i.length,r=i.shift(),o=g._queueHooks(e,t),s=function(){g.dequeue(e,t)};if(r==="inprogress"){r=i.shift();n--}if(r){if(t==="fx"){i.unshift("inprogress")}delete o.stop;r.call(e,s,o)}if(!n&&o){o.empty.fire()}},_queueHooks:function(e,t){var i=t+"queueHooks";return G.get(e,i)||G.access(e,i,{empty:g.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",i])})})}});g.fn.extend({queue:function(e,t){var i=2;if(typeof e!=="string"){t=e;e="fx";i--}if(arguments.length<i){return g.queue(this[0],e)}return t===undefined?this:this.each(function(){var i=g.queue(this,e,t);g._queueHooks(this,e);if(e==="fx"&&i[0]!=="inprogress"){g.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=g.Deferred(),o=this,s=this.length,a=function(){if(!--n){r.resolveWith(o,[o])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(s--){i=G.get(o[s],e+"queueHooks");if(i&&i.empty){n++;i.empty.add(a)}}a();return r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i");var ie=["Top","Right","Bottom","Left"];var ne=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&g.contains(e.ownerDocument,e)&&g.css(e,"display")==="none"};var re=function(e,t,i,n){var r,o,s={};for(o in t){s[o]=e.style[o];e.style[o]=t[o]}r=i.apply(e,n||[]);for(o in t){e.style[o]=s[o]}return r};function oe(e,t,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return g.css(e,t,"")},l=a(),d=i&&i[3]||(g.cssNumber[t]?"":"px"),u=(g.cssNumber[t]||d!=="px"&&+l)&&te.exec(g.css(e,t));if(u&&u[3]!==d){d=d||u[3];i=i||[];u=+l||1;do{o=o||".5";u=u/o;g.style(e,t,u+d)}while(o!==(o=a()/l)&&o!==1&&--s)}if(i){u=+u||+l||0;r=i[1]?u+(i[1]+1)*i[2]:+i[2];if(n){n.unit=d;n.start=u;n.end=r}}return r}var se={};function ae(e){var t,i=e.ownerDocument,n=e.nodeName,r=se[n];if(r){return r}t=i.body.appendChild(i.createElement(n));r=g.css(t,"display");t.parentNode.removeChild(t);if(r==="none"){r="block"}se[n]=r;return r}function le(e,t){var i,n,r=[],o=0,s=e.length;for(;o<s;o++){n=e[o];if(!n.style){continue}i=n.style.display;if(t){if(i==="none"){r[o]=G.get(n,"display")||null;if(!r[o]){n.style.display=""}}if(n.style.display===""&&ne(n)){r[o]=ae(n)}}else{if(i!=="none"){r[o]="none";G.set(n,"display",i)}}}for(o=0;o<s;o++){if(r[o]!=null){e[o].style.display=r[o]}}return e}g.fn.extend({show:function(){return le(this,true)},hide:function(){return le(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(ne(this)){g(this).show()}else{g(this).hide()}})}});var de=/^(?:checkbox|radio)$/i;var ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var he=/^$|\/(?:java|ecma)script/i;var ce={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ce.optgroup=ce.option;ce.tbody=ce.tfoot=ce.colgroup=ce.caption=ce.thead;ce.th=ce.td;function fe(e,t){var i;if(typeof e.getElementsByTagName!=="undefined"){i=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){i=e.querySelectorAll(t||"*")}else{i=[]}if(t===undefined||t&&D(e,t)){return g.merge([e],i)}return i}function pe(e,t){var i=0,n=e.length;for(;i<n;i++){G.set(e[i],"globalEval",!t||G.get(t[i],"globalEval"))}}var me=/<|&#?\w+;/;function ve(e,t,i,n,r){var o,s,a,l,d,u,h=t.createDocumentFragment(),c=[],f=0,p=e.length;for(;f<p;f++){o=e[f];if(o||o===0){if(g.type(o)==="object"){g.merge(c,o.nodeType?[o]:o)}else if(!me.test(o)){c.push(t.createTextNode(o))}else{s=s||h.appendChild(t.createElement("div"));a=(ue.exec(o)||["",""])[1].toLowerCase();l=ce[a]||ce._default;s.innerHTML=l[1]+g.htmlPrefilter(o)+l[2];u=l[0];while(u--){s=s.lastChild}g.merge(c,s.childNodes);s=h.firstChild;s.textContent=""}}}h.textContent="";f=0;while(o=c[f++]){if(n&&g.inArray(o,n)>-1){if(r){r.push(o)}continue}d=g.contains(o.ownerDocument,o);s=fe(h.appendChild(o),"script");if(d){pe(s)}if(i){u=0;while(o=s[u++]){if(he.test(o.type||"")){i.push(o)}}}}return h}(function(){var e=n.createDocumentFragment(),t=e.appendChild(n.createElement("div")),i=n.createElement("input");i.setAttribute("type","radio");i.setAttribute("checked","checked");i.setAttribute("name","t");t.appendChild(i);p.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";p.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var ge=n.documentElement;var ye=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function xe(){return true}function _e(){return false}function ke(){try{return n.activeElement}catch(e){}}function Ce(e,t,i,n,r,o){var s,a;if(typeof t==="object"){if(typeof i!=="string"){n=n||i;i=undefined}for(a in t){Ce(e,a,i,n,t[a],o)}return e}if(n==null&&r==null){r=i;n=i=undefined}else if(r==null){if(typeof i==="string"){r=n;n=undefined}else{r=n;n=i;i=undefined}}if(r===false){r=_e}else if(!r){return e}if(o===1){s=r;r=function(e){g().off(e);return s.apply(this,arguments)};r.guid=s.guid||(s.guid=g.guid++)}return e.each(function(){g.event.add(this,t,r,n,i)})}g.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,d,u,h,c,f,p,m,v=G.get(e);if(!v){return}if(i.handler){o=i;i=o.handler;r=o.selector}if(r){g.find.matchesSelector(ge,r)}if(!i.guid){i.guid=g.guid++}if(!(l=v.events)){l=v.events={}}if(!(s=v.handle)){s=v.handle=function(t){return typeof g!=="undefined"&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match(L)||[""];d=t.length;while(d--){a=we.exec(t[d])||[];f=m=a[1];p=(a[2]||"").split(".").sort();if(!f){continue}h=g.event.special[f]||{};f=(r?h.delegateType:h.bindType)||f;h=g.event.special[f]||{};u=g.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:p.join(".")},o);if(!(c=l[f])){c=l[f]=[];c.delegateCount=0;if(!h.setup||h.setup.call(e,n,p,s)===false){if(e.addEventListener){e.addEventListener(f,s)}}}if(h.add){h.add.call(e,u);if(!u.handler.guid){u.handler.guid=i.guid}}if(r){c.splice(c.delegateCount++,0,u)}else{c.push(u)}g.event.global[f]=true}},remove:function(e,t,i,n,r){var o,s,a,l,d,u,h,c,f,p,m,v=G.hasData(e)&&G.get(e);if(!v||!(l=v.events)){return}t=(t||"").match(L)||[""];d=t.length;while(d--){a=we.exec(t[d])||[];f=m=a[1];p=(a[2]||"").split(".").sort();if(!f){for(f in l){g.event.remove(e,f+t[d],i,n,true)}continue}h=g.event.special[f]||{};f=(n?h.delegateType:h.bindType)||f;c=l[f]||[];a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");s=o=c.length;while(o--){u=c[o];if((r||m===u.origType)&&(!i||i.guid===u.guid)&&(!a||a.test(u.namespace))&&(!n||n===u.selector||n==="**"&&u.selector)){c.splice(o,1);if(u.selector){c.delegateCount--}if(h.remove){h.remove.call(e,u)}}}if(s&&!c.length){if(!h.teardown||h.teardown.call(e,p,v.handle)===false){g.removeEvent(e,f,v.handle)}delete l[f]}}if(g.isEmptyObject(l)){G.remove(e,"handle events")}},dispatch:function(e){var t=g.event.fix(e);var i,n,r,o,s,a,l=new Array(arguments.length),d=(G.get(this,"events")||{})[t.type]||[],u=g.event.special[t.type]||{};l[0]=t;for(i=1;i<arguments.length;i++){l[i]=arguments[i]}t.delegateTarget=this;if(u.preDispatch&&u.preDispatch.call(this,t)===false){return}a=g.event.handlers.call(this,t,d);i=0;while((o=a[i++])&&!t.isPropagationStopped()){t.currentTarget=o.elem;n=0;while((s=o.handlers[n++])&&!t.isImmediatePropagationStopped()){if(!t.rnamespace||t.rnamespace.test(s.namespace)){t.handleObj=s;t.data=s.data;r=((g.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l);if(r!==undefined){if((t.result=r)===false){t.preventDefault();t.stopPropagation()}}}}}if(u.postDispatch){u.postDispatch.call(this,t)}return t.result},handlers:function(e,t){var i,n,r,o,s,a=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!(e.type==="click"&&e.button>=1)){for(;d!==this;d=d.parentNode||this){if(d.nodeType===1&&!(e.type==="click"&&d.disabled===true)){o=[];s={};for(i=0;i<l;i++){n=t[i];r=n.selector+" ";if(s[r]===undefined){s[r]=n.needsContext?g(r,this).index(d)>-1:g.find(r,this,null,[d]).length}if(s[r]){o.push(n)}}if(o.length){a.push({elem:d,handlers:o})}}}}d=this;if(l<t.length){a.push({elem:d,handlers:t.slice(l)})}return a},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:true,configurable:true,get:g.isFunction(t)?function(){if(this.originalEvent){return t(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(t){Object.defineProperty(this,e,{enumerable:true,configurable:true,writable:true,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ke()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&D(this,"input")){this.click();return false}},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};g.removeEvent=function(e,t,i){if(e.removeEventListener){e.removeEventListener(t,i)}};g.Event=function(e,t){if(!(this instanceof g.Event)){return new g.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?xe:_e;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){g.extend(this,t)}this.timeStamp=e&&e.timeStamp||g.now();this[g.expando]=true};g.Event.prototype={constructor:g.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};g.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(e){var t=e.button;if(e.which==null&&ye.test(e.type)){return e.charCode!=null?e.charCode:e.keyCode}if(!e.which&&t!==undefined&&be.test(e.type)){if(t&1){return 1}if(t&2){return 3}if(t&4){return 2}return 0}return e.which}},g.event.addProp);g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;if(!r||r!==n&&!g.contains(n,r)){e.type=o.origType;i=o.handler.apply(this,arguments);e.type=t}return i}}});g.fn.extend({on:function(e,t,i,n){return Ce(this,e,t,i,n)},one:function(e,t,i,n){return Ce(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj){n=e.handleObj;g(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);return this}if(typeof e==="object"){for(r in e){this.off(r,t,e[r])}return this}if(t===false||typeof t==="function"){i=t;t=undefined}if(i===false){i=_e}return this.each(function(){g.event.remove(this,e,i,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Te=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^true\/(.*)/,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pe(e,t){if(D(e,"table")&&D(t.nodeType!==11?t:t.firstChild,"tr")){return g(">tbody",e)[0]||e}return e}function Me(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function Ae(e){var t=Ee.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function Ie(e,t){var i,n,r,o,s,a,l,d;if(t.nodeType!==1){return}if(G.hasData(e)){o=G.access(e);s=G.set(t,o);d=o.events;if(d){delete s.handle;s.events={};for(r in d){for(i=0,n=d[r].length;i<n;i++){g.event.add(t,r,d[r][i])}}}}if(X.hasData(e)){a=X.access(e);l=g.extend({},a);X.set(t,l)}}function Fe(e,t){var i=t.nodeName.toLowerCase();if(i==="input"&&de.test(e.type)){t.checked=e.checked}else if(i==="input"||i==="textarea"){t.defaultValue=e.defaultValue}}function Re(e,t,i,n){t=s.apply([],t);var r,o,a,l,d,u,h=0,c=e.length,f=c-1,v=t[0],y=g.isFunction(v);if(y||c>1&&typeof v==="string"&&!p.checkClone&&De.test(v)){return e.each(function(r){var o=e.eq(r);if(y){t[0]=v.call(this,r,o.html())}Re(o,t,i,n)})}if(c){r=ve(t,e[0].ownerDocument,false,e,n);o=r.firstChild;if(r.childNodes.length===1){r=o}if(o||n){a=g.map(fe(r,"script"),Me);l=a.length;for(;h<c;h++){d=r;if(h!==f){d=g.clone(d,true,true);if(l){g.merge(a,fe(d,"script"))}}i.call(e[h],d,h)}if(l){u=a[a.length-1].ownerDocument;g.map(a,Ae);for(h=0;h<l;h++){d=a[h];if(he.test(d.type||"")&&!G.access(d,"globalEval")&&g.contains(u,d)){if(d.src){if(g._evalUrl){g._evalUrl(d.src)}}else{m(d.textContent.replace(Oe,""),u)}}}}}}return e}function Ne(e,t,i){var n,r=t?g.filter(t,e):e,o=0;for(;(n=r[o])!=null;o++){if(!i&&n.nodeType===1){g.cleanData(fe(n))}if(n.parentNode){if(i&&g.contains(n.ownerDocument,n)){pe(fe(n,"script"))}n.parentNode.removeChild(n)}}return e}g.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a=e.cloneNode(true),l=g.contains(e.ownerDocument,e);if(!p.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!g.isXMLDoc(e)){s=fe(a);o=fe(e);for(n=0,r=o.length;n<r;n++){Fe(o[n],s[n])}}if(t){if(i){o=o||fe(e);s=s||fe(a);for(n=0,r=o.length;n<r;n++){Ie(o[n],s[n])}}else{Ie(e,a)}}s=fe(a,"script");if(s.length>0){pe(s,!l&&fe(e,"script"))}return a},cleanData:function(e){var t,i,n,r=g.event.special,o=0;for(;(i=e[o])!==undefined;o++){if(Y(i)){if(t=i[G.expando]){if(t.events){for(n in t.events){if(r[n]){g.event.remove(i,n)}else{g.removeEvent(i,n,t.handle)}}}i[G.expando]=undefined}if(i[X.expando]){i[X.expando]=undefined}}}}});g.fn.extend({detach:function(e){return Ne(this,e,true)},remove:function(e){return Ne(this,e)},text:function(e){return q(this,function(e){return e===undefined?g.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Pe(this,e);t.appendChild(e)}})},prepend:function(){return Re(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return Re(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){g.cleanData(fe(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return g.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!Te.test(e)&&!ce[(ue.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;i<n;i++){t=this[i]||{};if(t.nodeType===1){g.cleanData(fe(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var i=this.parentNode;if(g.inArray(this,e)<0){g.cleanData(fe(this));if(i){i.replaceChild(t,this)}}},e)}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){var i,n=[],r=g(e),o=r.length-1,s=0;for(;s<=o;s++){i=s===o?this:this.clone(true);g(r[s])[t](i);a.apply(n,i.get())}return this.pushStack(n)}});var Le=/^margin/;var je=new RegExp("^("+ee+")(?!px)[a-z%]+$","i");var Be=function(t){var i=t.ownerDocument.defaultView;if(!i||!i.opener){i=e}return i.getComputedStyle(t)};(function(){function t(){if(!l){return}l.style.cssText="box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";l.innerHTML="";ge.appendChild(a);var t=e.getComputedStyle(l);i=t.top!=="1%";s=t.marginLeft==="2px";r=t.width==="4px";l.style.marginRight="50%";o=t.marginRight==="4px";ge.removeChild(a);l=null}var i,r,o,s,a=n.createElement("div"),l=n.createElement("div");if(!l.style){return}l.style.backgroundClip="content-box";l.cloneNode(true).style.backgroundClip="";p.clearCloneStyle=l.style.backgroundClip==="content-box";a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";a.appendChild(l);g.extend(p,{pixelPosition:function(){t();return i},boxSizingReliable:function(){t();return r},pixelMarginRight:function(){t();return o},reliableMarginLeft:function(){t();return s}})})();function ze(e,t,i){var n,r,o,s,a=e.style;i=i||Be(e);if(i){s=i.getPropertyValue(t)||i[t];if(s===""&&!g.contains(e.ownerDocument,e)){s=g.style(e,t)}if(!p.pixelMarginRight()&&je.test(s)&&Le.test(t)){n=a.width;r=a.minWidth;o=a.maxWidth;a.minWidth=a.maxWidth=a.width=s;s=i.width;a.width=n;a.minWidth=r;a.maxWidth=o}}return s!==undefined?s+"":s}function $e(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var He=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","Moz","ms"],Ve=n.createElement("div").style;function Ge(e){if(e in Ve){return e}var t=e[0].toUpperCase()+e.slice(1),i=Ye.length;while(i--){e=Ye[i]+t;if(e in Ve){return e}}}function Xe(e){var t=g.cssProps[e];if(!t){t=g.cssProps[e]=Ge(e)||e}return t}function Ze(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ke(e,t,i,n,r){var o,s=0;if(i===(n?"border":"content")){o=4}else{o=t==="width"?1:0}for(;o<4;o+=2){if(i==="margin"){s+=g.css(e,i+ie[o],true,r)}if(n){if(i==="content"){s-=g.css(e,"padding"+ie[o],true,r)}if(i!=="margin"){s-=g.css(e,"border"+ie[o]+"Width",true,r)}}else{s+=g.css(e,"padding"+ie[o],true,r);if(i!=="padding"){s+=g.css(e,"border"+ie[o]+"Width",true,r)}}}return s}function Qe(e,t,i){var n,r=Be(e),o=ze(e,t,r),s=g.css(e,"boxSizing",false,r)==="border-box";if(je.test(o)){return o}n=s&&(p.boxSizingReliable()||o===e.style[t]);if(o==="auto"){o=e["offset"+t[0].toUpperCase()+t.slice(1)]}o=parseFloat(o)||0;return o+Ke(e,t,i||(s?"border":"content"),n,r)+"px"}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ze(e,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var r,o,s,a=g.camelCase(t),l=Ue.test(t),d=e.style;if(!l){t=Xe(a)}s=g.cssHooks[t]||g.cssHooks[a];if(i!==undefined){o=typeof i;if(o==="string"&&(r=te.exec(i))&&r[1]){i=oe(e,t,r);o="number"}if(i==null||i!==i){return}if(o==="number"){i+=r&&r[3]||(g.cssNumber[a]?"":"px")}if(!p.clearCloneStyle&&i===""&&t.indexOf("background")===0){d[t]="inherit"}if(!s||!("set"in s)||(i=s.set(e,i,n))!==undefined){if(l){d.setProperty(t,i)}else{d[t]=i}}}else{if(s&&"get"in s&&(r=s.get(e,false,n))!==undefined){return r}return d[t]}},css:function(e,t,i,n){var r,o,s,a=g.camelCase(t),l=Ue.test(t);if(!l){t=Xe(a)}s=g.cssHooks[t]||g.cssHooks[a];if(s&&"get"in s){r=s.get(e,true,i)}if(r===undefined){r=ze(e,t,n)}if(r==="normal"&&t in qe){r=qe[t]}if(i===""||i){o=parseFloat(r);return i===true||isFinite(o)?o||0:r}return r}});g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,i,n){if(i){return He.test(g.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?re(e,We,function(){return Qe(e,t,n)}):Qe(e,t,n)}},set:function(e,i,n){var r,o=n&&Be(e),s=n&&Ke(e,t,n,g.css(e,"boxSizing",false,o)==="border-box",o);if(s&&(r=te.exec(i))&&(r[3]||"px")!=="px"){e.style[t]=i;i=g.css(e,t)}return Ze(e,i,s)}}});g.cssHooks.marginLeft=$e(p.reliableMarginLeft,function(e,t){if(t){return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(i){var n=0,r={},o=typeof i==="string"?i.split(" "):[i];for(;n<4;n++){r[e+ie[n]+t]=o[n]||o[n-2]||o[0]}return r}};if(!Le.test(e)){g.cssHooks[e+t].set=Ze}});g.fn.extend({css:function(e,t){return q(this,function(e,t,i){var n,r,o={},s=0;if(Array.isArray(t)){n=Be(e);r=t.length;for(;s<r;s++){o[t[s]]=g.css(e,t[s],false,n)}return o}return i!==undefined?g.style(e,t,i):g.css(e,t)},e,t,arguments.length>1)}});function Je(e,t,i,n,r){return new Je.prototype.init(e,t,i,n,r)}g.Tween=Je;Je.prototype={constructor:Je,init:function(e,t,i,n,r,o){this.elem=e;this.prop=i;this.easing=r||g.easing._default;this.options=t;this.start=this.now=this.cur();this.end=n;this.unit=o||(g.cssNumber[i]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,i=Je.propHooks[this.prop];if(this.options.duration){this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(i&&i.set){i.set(this)}else{Je.propHooks._default.set(this)}return this}};Je.prototype.init.prototype=Je.prototype;Je.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=g.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(g.fx.step[e.prop]){g.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[g.cssProps[e.prop]]!=null||g.cssHooks[e.prop])){g.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};g.fx=Je.prototype.init;g.fx.step={};var et,tt,it=/^(?:toggle|show|hide)$/,nt=/queueHooks$/;function rt(){if(tt){if(n.hidden===false&&e.requestAnimationFrame){e.requestAnimationFrame(rt)}else{e.setTimeout(rt,g.fx.interval)}g.fx.tick()}}function ot(){e.setTimeout(function(){et=undefined});return et=g.now()}function st(e,t){var i,n=0,r={height:e};t=t?1:0;for(;n<4;n+=2-t){i=ie[n];r["margin"+i]=r["padding"+i]=e}if(t){r.opacity=r.width=e}return r}function at(e,t,i){var n,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,s=r.length;for(;o<s;o++){if(n=r[o].call(i,t,e)){return n}}}function lt(e,t,i){var n,r,o,s,a,l,d,u,h="width"in t||"height"in t,c=this,f={},p=e.style,m=e.nodeType&&ne(e),v=G.get(e,"fxshow");if(!i.queue){s=g._queueHooks(e,"fx");if(s.unqueued==null){s.unqueued=0;a=s.empty.fire;s.empty.fire=function(){if(!s.unqueued){a()}}}s.unqueued++;c.always(function(){c.always(function(){s.unqueued--;if(!g.queue(e,"fx").length){s.empty.fire()}})})}for(n in t){r=t[n];if(it.test(r)){delete t[n];o=o||r==="toggle";if(r===(m?"hide":"show")){if(r==="show"&&v&&v[n]!==undefined){m=true}else{continue}}f[n]=v&&v[n]||g.style(e,n)}}l=!g.isEmptyObject(t);if(!l&&g.isEmptyObject(f)){return}if(h&&e.nodeType===1){i.overflow=[p.overflow,p.overflowX,p.overflowY];d=v&&v.display;if(d==null){d=G.get(e,"display")}u=g.css(e,"display");if(u==="none"){if(d){u=d}else{le([e],true);d=e.style.display||d;u=g.css(e,"display");le([e])}}if(u==="inline"||u==="inline-block"&&d!=null){if(g.css(e,"float")==="none"){if(!l){c.done(function(){p.display=d});if(d==null){u=p.display;d=u==="none"?"":u}}p.display="inline-block"}}}if(i.overflow){p.overflow="hidden";c.always(function(){p.overflow=i.overflow[0];p.overflowX=i.overflow[1];p.overflowY=i.overflow[2]})}l=false;for(n in f){if(!l){if(v){if("hidden"in v){m=v.hidden}}else{v=G.access(e,"fxshow",{display:d})}if(o){v.hidden=!m}if(m){le([e],true)}c.done(function(){if(!m){le([e])}G.remove(e,"fxshow");for(n in f){g.style(e,n,f[n])}})}l=at(m?v[n]:0,n,c);if(!(n in v)){v[n]=l.start;if(m){l.end=l.start;l.start=0}}}}function dt(e,t){var i,n,r,o,s;for(i in e){n=g.camelCase(i);r=t[n];o=e[i];if(Array.isArray(o)){r=o[1];o=e[i]=o[0]}if(i!==n){e[n]=o;delete e[i]}s=g.cssHooks[n];if(s&&"expand"in s){o=s.expand(o);delete e[n];for(i in o){if(!(i in e)){e[i]=o[i];t[i]=r}}}else{t[n]=r}}}function ut(e,t,i){var n,r,o=0,s=ut.prefilters.length,a=g.Deferred().always(function(){delete l.elem}),l=function(){if(r){return false}var t=et||ot(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,o=1-n,s=0,l=d.tweens.length;for(;s<l;s++){d.tweens[s].run(o)}a.notifyWith(e,[d,o,i]);if(o<1&&l){return i}if(!l){a.notifyWith(e,[d,1,0])}a.resolveWith(e,[d]);return false},d=a.promise({elem:e,props:g.extend({},t),opts:g.extend(true,{specialEasing:{},easing:g.easing._default},i),originalProperties:t,originalOptions:i,startTime:et||ot(),duration:i.duration,tweens:[],createTween:function(t,i){var n=g.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);d.tweens.push(n);return n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(r){return this}r=true;for(;i<n;i++){d.tweens[i].run(1)}if(t){a.notifyWith(e,[d,1,0]);a.resolveWith(e,[d,t])}else{a.rejectWith(e,[d,t])}return this}}),u=d.props;dt(u,d.opts.specialEasing);for(;o<s;o++){n=ut.prefilters[o].call(d,e,u,d.opts);if(n){if(g.isFunction(n.stop)){g._queueHooks(d.elem,d.opts.queue).stop=g.proxy(n.stop,n)}return n}}g.map(u,at,d);if(g.isFunction(d.opts.start)){d.opts.start.call(e,d)}d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always);g.fx.timer(g.extend(l,{elem:e,anim:d,queue:d.opts.queue}));return d}g.Animation=g.extend(ut,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);oe(i.elem,e,te.exec(t),i);return i}]},tweener:function(e,t){if(g.isFunction(e)){t=e;e=["*"]}else{e=e.match(L)}var i,n=0,r=e.length;for(;n<r;n++){i=e[n];ut.tweeners[i]=ut.tweeners[i]||[];ut.tweeners[i].unshift(t)}},prefilters:[lt],prefilter:function(e,t){if(t){ut.prefilters.unshift(e)}else{ut.prefilters.push(e)}}});g.speed=function(e,t,i){var n=e&&typeof e==="object"?g.extend({},e):{complete:i||!i&&t||g.isFunction(e)&&e,duration:e,easing:i&&t||t&&!g.isFunction(t)&&t};if(g.fx.off){n.duration=0}else{if(typeof n.duration!=="number"){if(n.duration in g.fx.speeds){n.duration=g.fx.speeds[n.duration]}else{n.duration=g.fx.speeds._default}}}if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete;n.complete=function(){if(g.isFunction(n.old)){n.old.call(this)}if(n.queue){g.dequeue(this,n.queue)}};return n};g.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ne).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=g.isEmptyObject(e),o=g.speed(t,i,n),s=function(){var t=ut(this,g.extend({},e),o);if(r||G.get(this,"finish")){t.stop(true)}};s.finish=s;return r||o.queue===false?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop;t(i)};if(typeof e!=="string"){i=t;t=e;e=undefined}if(t&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,r=e!=null&&e+"queueHooks",o=g.timers,s=G.get(this);if(r){if(s[r]&&s[r].stop){n(s[r])}}else{for(r in s){if(s[r]&&s[r].stop&&nt.test(r)){n(s[r])}}}for(r=o.length;r--;){if(o[r].elem===this&&(e==null||o[r].queue===e)){o[r].anim.stop(i);t=false;o.splice(r,1)}}if(t||!i){g.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,i=G.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=g.timers,s=n?n.length:0;i.finish=true;g.queue(this,e,[]);if(r&&r.stop){r.stop.call(this,true)}for(t=o.length;t--;){if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(true);o.splice(t,1)}}for(t=0;t<s;t++){if(n[t]&&n[t].finish){n[t].finish.call(this)}}delete i.finish})}});g.each(["toggle","show","hide"],function(e,t){var i=g.fn[t];g.fn[t]=function(e,n,r){return e==null||typeof e==="boolean"?i.apply(this,arguments):this.animate(st(t,true),e,n,r)}});g.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}});g.timers=[];g.fx.tick=function(){var e,t=0,i=g.timers;et=g.now();for(;t<i.length;t++){e=i[t];if(!e()&&i[t]===e){i.splice(t--,1)}}if(!i.length){g.fx.stop()}et=undefined};g.fx.timer=function(e){g.timers.push(e);g.fx.start()};g.fx.interval=13;g.fx.start=function(){if(tt){return}tt=true;rt()};g.fx.stop=function(){tt=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fn.delay=function(t,i){t=g.fx?g.fx.speeds[t]||t:t;i=i||"fx";return this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})};(function(){var e=n.createElement("input"),t=n.createElement("select"),i=t.appendChild(n.createElement("option"));e.type="checkbox";p.checkOn=e.value!=="";p.optSelected=i.selected;e=n.createElement("input");e.value="t";e.type="radio";p.radioValue=e.value==="t"})();var ht,ct=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return q(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}});g.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(typeof e.getAttribute==="undefined"){return g.prop(e,t,i)}if(o!==1||!g.isXMLDoc(e)){r=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?ht:undefined)}if(i!==undefined){if(i===null){g.removeAttr(e,t);return}if(r&&"set"in r&&(n=r.set(e,i,t))!==undefined){return n}e.setAttribute(t,i+"");return i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}n=g.find.attr(e,t);return n==null?undefined:n},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&t==="radio"&&D(e,"input")){var i=e.value;e.setAttribute("type",t);if(i){e.value=i}return t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(L);if(r&&e.nodeType===1){while(i=r[n++]){e.removeAttribute(i)}}}});ht={set:function(e,t,i){if(t===false){g.removeAttr(e,i)}else{e.setAttribute(i,i)}return i}};g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||g.find.attr;ct[t]=function(e,t,n){var r,o,s=t.toLowerCase();if(!n){o=ct[s];ct[s]=r;r=i(e,t,n)!=null?s:null;ct[s]=o}return r}});var ft=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return q(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}});g.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!g.isXMLDoc(e)){t=g.propFix[t]||t;r=g.propHooks[t]}if(i!==undefined){if(r&&"set"in r&&(n=r.set(e,i,t))!==undefined){return n}return e[t]=i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}return e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");if(t){return parseInt(t,10)}if(ft.test(e.nodeName)||pt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!p.optSelected){g.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function mt(e){var t=e.match(L)||[];return t.join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,l=0;if(g.isFunction(e)){return this.each(function(t){g(this).addClass(e.call(this,t,vt(this)))})}if(typeof e==="string"&&e){t=e.match(L)||[];while(i=this[l++]){r=vt(i);n=i.nodeType===1&&" "+mt(r)+" ";if(n){s=0;while(o=t[s++]){if(n.indexOf(" "+o+" ")<0){n+=o+" "}}a=mt(n);if(r!==a){i.setAttribute("class",a)}}}}return this},removeClass:function(e){var t,i,n,r,o,s,a,l=0;if(g.isFunction(e)){return this.each(function(t){g(this).removeClass(e.call(this,t,vt(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof e==="string"&&e){t=e.match(L)||[];while(i=this[l++]){r=vt(i);n=i.nodeType===1&&" "+mt(r)+" ";if(n){s=0;while(o=t[s++]){while(n.indexOf(" "+o+" ")>-1){n=n.replace(" "+o+" "," ")}}a=mt(n);if(r!==a){i.setAttribute("class",a)}}}}return this},toggleClass:function(e,t){var i=typeof e;if(typeof t==="boolean"&&i==="string"){return t?this.addClass(e):this.removeClass(e)}if(g.isFunction(e)){return this.each(function(i){g(this).toggleClass(e.call(this,i,vt(this),t),t)})}return this.each(function(){var t,n,r,o;if(i==="string"){n=0;r=g(this);o=e.match(L)||[];while(t=o[n++]){if(r.hasClass(t)){r.removeClass(t)}else{r.addClass(t)}}}else if(e===undefined||i==="boolean"){t=vt(this);if(t){G.set(this,"__className__",t)}if(this.setAttribute){this.setAttribute("class",t||e===false?"":G.get(this,"__className__")||"")}}})},hasClass:function(e){var t,i,n=0;t=" "+e+" ";while(i=this[n++]){if(i.nodeType===1&&(" "+mt(vt(i))+" ").indexOf(t)>-1){return true}}return false}});var gt=/\r/g;g.fn.extend({val:function(e){var t,i,n,r=this[0];if(!arguments.length){if(r){t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()];if(t&&"get"in t&&(i=t.get(r,"value"))!==undefined){return i}i=r.value;if(typeof i==="string"){return i.replace(gt,"")}return i==null?"":i}return}n=g.isFunction(e);return this.each(function(i){var r;if(this.nodeType!==1){return}if(n){r=e.call(this,i,g(this).val())}else{r=e}if(r==null){r=""}else if(typeof r==="number"){r+=""}else if(Array.isArray(r)){r=g.map(r,function(e){return e==null?"":e+""})}t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,r,"value")===undefined){this.value=r}})}});g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return t!=null?t:mt(g.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s=e.type==="select-one",a=s?null:[],l=s?o+1:r.length;if(o<0){n=l}else{n=s?o:0}for(;n<l;n++){i=r[n];if((i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){t=g(i).val();if(s){return t}a.push(t)}}return a},set:function(e,t){var i,n,r=e.options,o=g.makeArray(t),s=r.length;while(s--){n=r[s];if(n.selected=g.inArray(g.valHooks.option.get(n),o)>-1){i=true}}if(!i){e.selectedIndex=-1}return o}}}});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=g.inArray(g(e).val(),t)>-1}}};if(!p.checkOn){g.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var yt=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,i,r,o){var s,a,l,d,u,c,f,p=[r||n],m=h.call(t,"type")?t.type:t,v=h.call(t,"namespace")?t.namespace.split("."):[];a=l=r=r||n;if(r.nodeType===3||r.nodeType===8){return}if(yt.test(m+g.event.triggered)){return}if(m.indexOf(".")>-1){v=m.split(".");m=v.shift();v.sort()}u=m.indexOf(":")<0&&"on"+m;t=t[g.expando]?t:new g.Event(m,typeof t==="object"&&t);t.isTrigger=o?2:3;t.namespace=v.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}i=i==null?[t]:g.makeArray(i,[t]);f=g.event.special[m]||{};if(!o&&f.trigger&&f.trigger.apply(r,i)===false){return}if(!o&&!f.noBubble&&!g.isWindow(r)){d=f.delegateType||m;if(!yt.test(d+m)){a=a.parentNode}for(;a;a=a.parentNode){p.push(a);l=a}if(l===(r.ownerDocument||n)){p.push(l.defaultView||l.parentWindow||e)}}s=0;while((a=p[s++])&&!t.isPropagationStopped()){t.type=s>1?d:f.bindType||m;c=(G.get(a,"events")||{})[t.type]&&G.get(a,"handle");if(c){c.apply(a,i)}c=u&&a[u];if(c&&c.apply&&Y(a)){t.result=c.apply(a,i);if(t.result===false){t.preventDefault()}}}t.type=m;if(!o&&!t.isDefaultPrevented()){if((!f._default||f._default.apply(p.pop(),i)===false)&&Y(r)){if(u&&g.isFunction(r[m])&&!g.isWindow(r)){l=r[u];if(l){r[u]=null}g.event.triggered=m;r[m]();g.event.triggered=undefined;if(l){r[u]=l}}}}return t.result},simulate:function(e,t,i){var n=g.extend(new g.Event,i,{type:e,isSimulated:true});g.event.trigger(n,null,t)}});g.fn.extend({trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i){return g.event.trigger(e,t,i,true)}}});g.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,t){g.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}});g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});p.focusin="onfocusin"in e;if(!p.focusin){g.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=G.access(n,t);if(!r){n.addEventListener(e,i,true)}G.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=G.access(n,t)-1;if(!r){n.removeEventListener(e,i,true);G.remove(n,t)}else{G.access(n,t,r)}}}})}var bt=e.location;var wt=g.now();var xt=/\?/;g.parseXML=function(t){var i;if(!t||typeof t!=="string"){return null}try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=undefined}if(!i||i.getElementsByTagName("parsererror").length){g.error("Invalid XML: "+t)}return i};var _t=/\[\]$/,kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,i,n){var r;if(Array.isArray(t)){g.each(t,function(t,r){if(i||_t.test(e)){n(e,r)}else{Tt(e+"["+(typeof r==="object"&&r!=null?t:"")+"]",r,i,n)}})}else if(!i&&g.type(t)==="object"){for(r in t){Tt(e+"["+r+"]",t[r],i,n)}}else{n(e,t)}}g.param=function(e,t){var i,n=[],r=function(e,t){var i=g.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(i==null?"":i)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e)){g.each(e,function(){r(this.name,this.value)})}else{for(i in e){Tt(i,e[i],t,r)}}return n.join("&")};g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&St.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var i=g(this).val();if(i==null){return null}if(Array.isArray(i)){return g.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})}return{name:t.name,value:i.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,Et=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,At=/^(?:GET|HEAD)$/,It=/^\/\//,Ft={},Rt={},Nt="*/".concat("*"),Lt=n.createElement("a");Lt.href=bt.href;function jt(e){return function(t,i){if(typeof t!=="string"){i=t;t="*"}var n,r=0,o=t.toLowerCase().match(L)||[];if(g.isFunction(i)){while(n=o[r++]){if(n[0]==="+"){n=n.slice(1)||"*";(e[n]=e[n]||[]).unshift(i)}else{(e[n]=e[n]||[]).push(i)}}}}}function Bt(e,t,i,n){var r={},o=e===Rt;function s(a){var l;r[a]=true;g.each(e[a]||[],function(e,a){var d=a(t,i,n);if(typeof d==="string"&&!o&&!r[d]){t.dataTypes.unshift(d);s(d);return false}else if(o){return!(l=d)}});return l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function zt(e,t){var i,n,r=g.ajaxSettings.flatOptions||{};for(i in t){if(t[i]!==undefined){(r[i]?e:n||(n={}))[i]=t[i]}}if(n){g.extend(true,e,n)}return e}function $t(e,t,i){var n,r,o,s,a=e.contents,l=e.dataTypes;while(l[0]==="*"){l.shift();if(n===undefined){n=e.mimeType||t.getResponseHeader("Content-Type")}}if(n){for(r in a){if(a[r]&&a[r].test(n)){l.unshift(r);break}}}if(l[0]in i){o=l[0]}else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}if(!s){s=r}}o=o||s}if(o){if(o!==l[0]){l.unshift(o)}return i[o]}}function Ht(e,t,i,n){var r,o,s,a,l,d={},u=e.dataTypes.slice();if(u[1]){for(s in e.converters){d[s.toLowerCase()]=e.converters[s]}}o=u.shift();while(o){if(e.responseFields[o]){i[e.responseFields[o]]=t}if(!l&&n&&e.dataFilter){t=e.dataFilter(t,e.dataType)}l=o;o=u.shift();if(o){if(o==="*"){o=l}else if(l!=="*"&&l!==o){s=d[l+" "+o]||d["* "+o];if(!s){for(r in d){a=r.split(" ");if(a[1]===o){s=d[l+" "+a[0]]||d["* "+a[0]];if(s){if(s===true){s=d[r]}else if(d[r]!==true){o=a[0];u.unshift(a[1])}break}}}}if(s!==true){if(s&&e.throws){t=s(t)}else{try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}}}}}return{state:"success",data:t}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:Mt.test(bt.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?zt(zt(e,g.ajaxSettings),t):zt(g.ajaxSettings,e)},ajaxPrefilter:jt(Ft),ajaxTransport:jt(Rt),ajax:function(t,i){if(typeof t==="object"){i=t;t=undefined}i=i||{};var r,o,s,a,l,d,u,h,c,f,p=g.ajaxSetup({},i),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?g(m):g.event,y=g.Deferred(),b=g.Callbacks("once memory"),w=p.statusCode||{},x={},_={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a){a={};while(t=Pt.exec(s)){a[t[1].toLowerCase()]=t[2]}}t=a[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){if(u==null){e=_[e.toLowerCase()]=_[e.toLowerCase()]||e;x[e]=t}return this},overrideMimeType:function(e){if(u==null){p.mimeType=e}return this},statusCode:function(e){var t;if(e){if(u){C.always(e[C.status])}else{for(t in e){w[t]=[w[t],e[t]]}}}return this},abort:function(e){var t=e||k;if(r){r.abort(t)}S(0,t);return this}};y.promise(C);p.url=((t||p.url||bt.href)+"").replace(It,bt.protocol+"//");p.type=i.method||i.type||p.method||p.type;p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""];if(p.crossDomain==null){d=n.createElement("a");try{d.href=p.url;d.href=d.href;p.crossDomain=Lt.protocol+"//"+Lt.host!==d.protocol+"//"+d.host}catch(e){p.crossDomain=true}}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=g.param(p.data,p.traditional)}Bt(Ft,p,i,C);if(u){return C}h=g.event&&p.global;if(h&&g.active++===0){g.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!At.test(p.type);o=p.url.replace(Et,"");if(!p.hasContent){f=p.url.slice(o.length);if(p.data){o+=(xt.test(o)?"&":"?")+p.data;delete p.data}if(p.cache===false){o=o.replace(Ot,"$1");f=(xt.test(o)?"&":"?")+"_="+wt+++f}p.url=o+f}else if(p.data&&p.processData&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0){p.data=p.data.replace(Dt,"+")}if(p.ifModified){if(g.lastModified[o]){C.setRequestHeader("If-Modified-Since",g.lastModified[o])}if(g.etag[o]){C.setRequestHeader("If-None-Match",g.etag[o])}}if(p.data&&p.hasContent&&p.contentType!==false||i.contentType){C.setRequestHeader("Content-Type",p.contentType)}C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+Nt+"; q=0.01":""):p.accepts["*"]);for(c in p.headers){C.setRequestHeader(c,p.headers[c])}if(p.beforeSend&&(p.beforeSend.call(m,C,p)===false||u)){return C.abort()}k="abort";b.add(p.complete);C.done(p.success);C.fail(p.error);r=Bt(Rt,p,i,C);if(!r){S(-1,"No Transport")}else{C.readyState=1;if(h){v.trigger("ajaxSend",[C,p])}if(u){return C}if(p.async&&p.timeout>0){l=e.setTimeout(function(){C.abort("timeout")},p.timeout)}try{u=false;r.send(x,S)}catch(e){if(u){throw e}S(-1,e)}}function S(t,i,n,a){var d,c,f,x,_,k=i;if(u){return}u=true;if(l){e.clearTimeout(l)}r=undefined;s=a||"";C.readyState=t>0?4:0;d=t>=200&&t<300||t===304;if(n){x=$t(p,C,n)}x=Ht(p,x,C,d);if(d){if(p.ifModified){_=C.getResponseHeader("Last-Modified");if(_){g.lastModified[o]=_}_=C.getResponseHeader("etag");if(_){g.etag[o]=_}}if(t===204||p.type==="HEAD"){k="nocontent"}else if(t===304){k="notmodified"}else{k=x.state;c=x.data;f=x.error;d=!f}}else{f=k;if(t||!k){k="error";if(t<0){t=0}}}C.status=t;C.statusText=(i||k)+"";if(d){y.resolveWith(m,[c,k,C])}else{y.rejectWith(m,[C,k,f])}C.statusCode(w);w=undefined;if(h){v.trigger(d?"ajaxSuccess":"ajaxError",[C,p,d?c:f])}b.fireWith(m,[C,k]);if(h){v.trigger("ajaxComplete",[C,p]);if(!--g.active){g.event.trigger("ajaxStop")}}}return C},getJSON:function(e,t,i){return g.get(e,t,i,"json")},getScript:function(e,t){return g.get(e,undefined,t,"script")}});g.each(["get","post"],function(e,t){g[t]=function(e,i,n,r){if(g.isFunction(i)){r=r||n;n=i;i=undefined}return g.ajax(g.extend({url:e,type:t,dataType:r,data:i,success:n},g.isPlainObject(e)&&e))}});g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};g.fn.extend({wrapAll:function(e){var t;if(this[0]){if(g.isFunction(e)){e=e.call(this[0])}t=g(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(g.isFunction(e)){return this.each(function(t){g(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=g(this),i=t.contents();if(i.length){i.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=g.isFunction(e);return this.each(function(i){g(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){this.parent(e).not("body").each(function(){g(this).replaceWith(this.childNodes)});return this}});g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)};g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Wt=g.ajaxSettings.xhr();p.cors=!!Wt&&"withCredentials"in Wt;p.ajax=Wt=!!Wt;g.ajaxTransport(function(t){var i,n;if(p.cors||Wt&&!t.crossDomain){return{send:function(r,o){var s,a=t.xhr();a.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(s in t.xhrFields){a[s]=t.xhrFields[s]}}if(t.mimeType&&a.overrideMimeType){a.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!r["X-Requested-With"]){r["X-Requested-With"]="XMLHttpRequest"}for(s in r){a.setRequestHeader(s,r[s])}i=function(e){return function(){if(i){i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null;if(e==="abort"){a.abort()}else if(e==="error"){if(typeof a.status!=="number"){o(0,"error")}else{o(a.status,a.statusText)}}else{o(Ut[a.status]||a.status,a.statusText,(a.responseType||"text")!=="text"||typeof a.responseText!=="string"?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders())}}}};a.onload=i();n=a.onerror=i("error");if(a.onabort!==undefined){a.onabort=n}else{a.onreadystatechange=function(){if(a.readyState===4){e.setTimeout(function(){if(i){n()}})}}}i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i){throw e}}},abort:function(){if(i){i()}}}}});g.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){g.globalEval(e);return e}}});g.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});g.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,o){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove();i=null;if(e){o(e.type==="error"?404:200,e.type)}});n.head.appendChild(t[0])},abort:function(){if(i){i()}}}}});var qt=[],Yt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||g.expando+"_"+wt++;this[e]=true;return e}});g.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,s,a=t.jsonp!==false&&(Yt.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Yt.test(t.data)&&"data");if(a||t.dataTypes[0]==="jsonp"){r=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(a){t[a]=t[a].replace(Yt,"$1"+r)}else if(t.jsonp!==false){t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+r}t.converters["script json"]=function(){if(!s){g.error(r+" was not called")}return s[0]};t.dataTypes[0]="json";o=e[r];e[r]=function(){s=arguments};n.always(function(){if(o===undefined){g(e).removeProp(r)}else{e[r]=o}if(t[r]){t.jsonpCallback=i.jsonpCallback;qt.push(r)}if(s&&g.isFunction(o)){o(s[0])}s=o=undefined});return"script"}});p.createHTMLDocument=function(){var e=n.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();g.parseHTML=function(e,t,i){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){i=t;t=false}var r,o,s;if(!t){if(p.createHTMLDocument){t=n.implementation.createHTMLDocument("");r=t.createElement("base");r.href=n.location.href;t.head.appendChild(r)}else{t=n}}o=E.exec(e);s=!i&&[];if(o){return[t.createElement(o[1])]}o=ve([e],t,s);if(s&&s.length){g(s).remove()}return g.merge([],o.childNodes)};g.fn.load=function(e,t,i){var n,r,o,s=this,a=e.indexOf(" ");if(a>-1){n=mt(e.slice(a));e=e.slice(0,a)}if(g.isFunction(t)){i=t;t=undefined}else if(t&&typeof t==="object"){r="POST"}if(s.length>0){g.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments;s.html(n?g("<div>").append(g.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})})}return this};g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}});g.expr.pseudos.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length};g.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,d,u=g.css(e,"position"),h=g(e),c={};if(u==="static"){e.style.position="relative"}a=h.offset();o=g.css(e,"top");l=g.css(e,"left");d=(u==="absolute"||u==="fixed")&&(o+l).indexOf("auto")>-1;if(d){n=h.position();s=n.top;r=n.left}else{s=parseFloat(o)||0;r=parseFloat(l)||0}if(g.isFunction(t)){t=t.call(e,i,g.extend({},a))}if(t.top!=null){c.top=t.top-a.top+s}if(t.left!=null){c.left=t.left-a.left+r}if("using"in t){t.using.call(e,c)}else{h.css(c)}}};g.fn.extend({offset:function(e){if(arguments.length){return e===undefined?this:this.each(function(t){g.offset.setOffset(this,e,t)})}var t,i,n,r,o=this[0];if(!o){return}if(!o.getClientRects().length){return{top:0,left:0}}n=o.getBoundingClientRect();t=o.ownerDocument;i=t.documentElement;r=t.defaultView;return{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}},position:function(){if(!this[0]){return}var e,t,i=this[0],n={top:0,left:0};if(g.css(i,"position")==="fixed"){t=i.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!D(e[0],"html")){n=e.offset()}n={top:n.top+g.css(e[0],"borderTopWidth",true),left:n.left+g.css(e[0],"borderLeftWidth",true)}}return{top:t.top-n.top-g.css(i,"marginTop",true),left:t.left-n.left-g.css(i,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&g.css(e,"position")==="static"){e=e.offsetParent}return e||ge})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;g.fn[e]=function(n){return q(this,function(e,n,r){var o;if(g.isWindow(e)){o=e}else if(e.nodeType===9){o=e.defaultView}if(r===undefined){return o?o[t]:e[n]}if(o){o.scrollTo(!i?r:o.pageXOffset,i?r:o.pageYOffset)}else{e[n]=r}},e,n,arguments.length)}});g.each(["top","left"],function(e,t){g.cssHooks[t]=$e(p.pixelPosition,function(e,i){if(i){i=ze(e,t);return je.test(i)?g(e).position()[t]+"px":i}})});g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){g.fn[n]=function(r,o){var s=arguments.length&&(i||typeof r!=="boolean"),a=i||(r===true||o===true?"margin":"border");return q(this,function(t,i,r){var o;if(g.isWindow(t)){return n.indexOf("outer")===0?t["inner"+e]:t.document.documentElement["client"+e]}if(t.nodeType===9){o=t.documentElement;return Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])}return r===undefined?g.css(t,i,a):g.style(t,i,r,a)},t,s?r:undefined,s)}})});g.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",i)}});g.holdReady=function(e){if(e){g.readyWait++}else{g.ready(true)}};g.isArray=Array.isArray;g.parseJSON=JSON.parse;g.nodeName=D;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return g})}var Vt=e.jQuery,Gt=e.$;g.noConflict=function(t){if(e.$===g){e.$=Gt}if(t&&e.jQuery===g){e.jQuery=Vt}return g};if(!t){e.jQuery=e.$=g}return g});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){module.exports=function(t,i){if(typeof i==="undefined"){if(typeof window!=="undefined"){i=require("jquery")}else{i=require("jquery")(t)}}e(i);return i}}else{e(jQuery)}})(function(e){"use strict";var t=/\r?\n/g;var i={};i.fileapi=e('<input type="file">').get(0).files!==undefined;i.formdata=typeof window.FormData!=="undefined";var n=!!e.fn.prop;e.fn.attr2=function(){if(!n){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);if(e&&e.jquery||typeof e==="string"){return e}return this.attr.apply(this,arguments)};e.fn.ajaxSubmit=function(t,r,o,a){if(!this.length){s("ajaxSubmit: skipping submit process - no element selected");return this}var l,d,u,h=this;if(typeof t==="function"){t={success:t}}else if(typeof t==="string"||t===false&&arguments.length>0){t={url:t,data:r,dataType:o};if(typeof a==="function"){t.success=a}}else if(typeof t==="undefined"){t={}}l=t.method||t.type||this.attr2("method");d=t.url||this.attr2("action");u=typeof d==="string"?e.trim(d):"";u=u||window.location.href||"";if(u){u=(u.match(/^([^#]+)/)||[])[1]}t=e.extend(true,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var c={};this.trigger("form-pre-serialize",[this,t,c]);if(c.veto){s("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(t.beforeSerialize&&t.beforeSerialize(this,t)===false){s("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f=t.traditional;if(typeof f==="undefined"){f=e.ajaxSettings.traditional}var p=[];var m,v=this.formToArray(t.semantic,p,t.filtering);if(t.data){var g=e.isFunction(t.data)?t.data(v):t.data;t.extraData=g;m=e.param(g,f)}if(t.beforeSubmit&&t.beforeSubmit(v,this,t)===false){s("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[v,this,t,c]);if(c.veto){s("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=e.param(v,f);if(m){y=y?y+"&"+m:m}if(t.type.toUpperCase()==="GET"){t.url+=(t.url.indexOf("?")>=0?"&":"?")+y;t.data=null}else{t.data=y}var b=[];if(t.resetForm){b.push(function(){h.resetForm()})}if(t.clearForm){b.push(function(){h.clearForm(t.includeHidden)})}if(!t.dataType&&t.target){var w=t.success||function(){};b.push(function(i,n,r){var o=arguments,s=t.replaceTarget?"replaceWith":"html";e(t.target)[s](i).each(function(){w.apply(this,o)})})}else if(t.success){if(e.isArray(t.success)){e.merge(b,t.success)}else{b.push(t.success)}}t.success=function(e,i,n){var r=t.context||this;for(var o=0,s=b.length;o<s;o++){b[o].apply(r,[e,i,n||h,h])}};if(t.error){var x=t.error;t.error=function(e,i,n){var r=t.context||this;x.apply(r,[e,i,n,h])}}if(t.complete){var _=t.complete;t.complete=function(e,i){var n=t.context||this;_.apply(n,[e,i,h])}}var k=e("input[type=file]:enabled",this).filter(function(){return e(this).val()!==""});var C=k.length>0;var S="multipart/form-data";var T=h.attr("enctype")===S||h.attr("encoding")===S;var D=i.fileapi&&i.formdata;s("fileAPI :"+D);var E=(C||T)&&!D;var O;if(t.iframe!==false&&(t.iframe||E)){if(t.closeKeepAlive){e.get(t.closeKeepAlive,function(){O=I(v)})}else{O=I(v)}}else if((C||T)&&D){O=A(v)}else{O=e.ajax(t)}h.removeData("jqxhr").data("jqxhr",O);for(var P=0;P<p.length;P++){p[P]=null}this.trigger("form-submit-notify",[this,t]);return this;function M(i){var n=e.param(i,t.traditional).split("&");var r=n.length;var o=[];var s,a;for(s=0;s<r;s++){n[s]=n[s].replace(/\+/g," ");a=n[s].split("=");o.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])])}return o}function A(i){var n=new FormData;for(var r=0;r<i.length;r++){n.append(i[r].name,i[r].value)}if(t.extraData){var o=M(t.extraData);for(r=0;r<o.length;r++){if(o[r]){n.append(o[r][0],o[r][1])}}}t.data=null;var s=e.extend(true,{},e.ajaxSettings,t,{contentType:false,processData:false,cache:false,type:l||"POST"});if(t.uploadProgress){s.xhr=function(){var i=e.ajaxSettings.xhr();if(i.upload){i.upload.addEventListener("progress",function(e){var i=0;var n=e.loaded||e.position;var r=e.total;if(e.lengthComputable){i=Math.ceil(n/r*100)}t.uploadProgress(e,n,r,i)},false)}return i}}s.data=null;var a=s.beforeSend;s.beforeSend=function(e,i){if(t.formData){i.data=t.formData}else{i.data=n}if(a){a.call(this,e,i)}};return e.ajax(s)}function I(i){var r=h[0],o,a,d,u,c,f,m,v,g,y,b,w;var x=e.Deferred();x.abort=function(e){v.abort(e)};if(i){for(a=0;a<p.length;a++){o=e(p[a]);if(n){o.prop("disabled",false)}else{o.removeAttr("disabled")}}}d=e.extend(true,{},e.ajaxSettings,t);d.context=d.context||d;c="jqFormIO"+(new Date).getTime();var _=r.ownerDocument;var k=h.closest("body");if(d.iframeTarget){f=e(d.iframeTarget,_);y=f.attr2("name");if(!y){f.attr2("name",c)}else{c=y}}else{f=e('<iframe name="'+c+'" src="'+d.iframeSrc+'" />',_);f.css({position:"absolute",top:"-1000px",left:"-1000px"})}m=f[0];v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i=t==="timeout"?"timeout":"aborted";s("aborting upload... "+i);this.aborted=1;try{if(m.contentWindow.document.execCommand){m.contentWindow.document.execCommand("Stop")}}catch(e){}f.attr("src",d.iframeSrc);v.error=i;if(d.error){d.error.call(d.context,v,i,t)}if(u){e.event.trigger("ajaxError",[v,d,i])}if(d.complete){d.complete.call(d.context,v,i)}}};u=d.global;if(u&&e.active++===0){e.event.trigger("ajaxStart")}if(u){e.event.trigger("ajaxSend",[v,d])}if(d.beforeSend&&d.beforeSend.call(d.context,v,d)===false){if(d.global){e.active--}x.reject();return x}if(v.aborted){x.reject();return x}g=r.clk;if(g){y=g.name;if(y&&!g.disabled){d.extraData=d.extraData||{};d.extraData[y]=g.value;if(g.type==="image"){d.extraData[y+".x"]=r.clk_x;d.extraData[y+".y"]=r.clk_y}}}var C=1;var S=2;function T(e){var t=null;try{if(e.contentWindow){t=e.contentWindow.document}}catch(e){s("cannot get iframe.contentWindow document: "+e)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(i){s("cannot get iframe.contentDocument: "+i);t=e.document}return t}var D=e("meta[name=csrf-token]").attr("content");var E=e("meta[name=csrf-param]").attr("content");if(E&&D){d.extraData=d.extraData||{};d.extraData[E]=D}function O(){var t=h.attr2("target"),i=h.attr2("action"),n="multipart/form-data",o=h.attr("enctype")||h.attr("encoding")||n;r.setAttribute("target",c);if(!l||/post/i.test(l)){r.setAttribute("method","POST")}if(i!==d.url){r.setAttribute("action",d.url)}if(!d.skipEncodingOverride&&(!l||/post/i.test(l))){h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(d.timeout){w=setTimeout(function(){b=true;F(C)},d.timeout)}function a(){try{var e=T(m).readyState;s("state = "+e);if(e&&e.toLowerCase()==="uninitialized"){setTimeout(a,50)}}catch(e){s("Server abort: ",e," (",e.name,")");F(S);if(w){clearTimeout(w)}w=undefined}}var u=[];try{if(d.extraData){for(var p in d.extraData){if(d.extraData.hasOwnProperty(p)){if(e.isPlainObject(d.extraData[p])&&d.extraData[p].hasOwnProperty("name")&&d.extraData[p].hasOwnProperty("value")){u.push(e('<input type="hidden" name="'+d.extraData[p].name+'">',_).val(d.extraData[p].value).appendTo(r)[0])}else{u.push(e('<input type="hidden" name="'+p+'">',_).val(d.extraData[p]).appendTo(r)[0])}}}}if(!d.iframeTarget){f.appendTo(k)}if(m.attachEvent){m.attachEvent("onload",F)}else{m.addEventListener("load",F,false)}setTimeout(a,15);try{r.submit()}catch(e){var v=document.createElement("form").submit;v.apply(r)}}finally{r.setAttribute("action",i);r.setAttribute("enctype",o);if(t){r.setAttribute("target",t)}else{h.removeAttr("target")}e(u).remove()}}if(d.forceSync){O()}else{setTimeout(O,10)}var P,M,A=50,I;function F(t){if(v.aborted||I){return}M=T(m);if(!M){s("cannot access response document");t=S}if(t===C&&v){v.abort("timeout");x.reject(v,"timeout");return}else if(t===S&&v){v.abort("server abort");x.reject(v,"error","server abort");return}if(!M||M.location.href===d.iframeSrc){if(!b){return}}if(m.detachEvent){m.detachEvent("onload",F)}else{m.removeEventListener("load",F,false)}var i="success",n;try{if(b){throw"timeout"}var r=d.dataType==="xml"||M.XMLDocument||e.isXMLDoc(M);s("isXml="+r);if(!r&&window.opera&&(M.body===null||!M.body.innerHTML)){if(--A){s("requeing onLoad callback, DOM not available");setTimeout(F,250);return}}var o=M.body?M.body:M.documentElement;v.responseText=o?o.innerHTML:null;v.responseXML=M.XMLDocument?M.XMLDocument:M;if(r){d.dataType="xml"}v.getResponseHeader=function(e){var t={"content-type":d.dataType};return t[e.toLowerCase()]};if(o){v.status=Number(o.getAttribute("status"))||v.status;v.statusText=o.getAttribute("statusText")||v.statusText}var a=(d.dataType||"").toLowerCase();var l=/(json|script|text)/.test(a);if(l||d.textarea){var h=M.getElementsByTagName("textarea")[0];if(h){v.responseText=h.value;v.status=Number(h.getAttribute("status"))||v.status;v.statusText=h.getAttribute("statusText")||v.statusText}else if(l){var c=M.getElementsByTagName("pre")[0];var p=M.getElementsByTagName("body")[0];if(c){v.responseText=c.textContent?c.textContent:c.innerText}else if(p){v.responseText=p.textContent?p.textContent:p.innerText}}}else if(a==="xml"&&!v.responseXML&&v.responseText){v.responseXML=R(v.responseText)}try{P=L(v,a,d)}catch(e){i="parsererror";v.error=n=e||i}}catch(e){s("error caught: ",e);i="error";v.error=n=e||i}if(v.aborted){s("upload aborted");i=null}if(v.status){i=v.status>=200&&v.status<300||v.status===304?"success":"error"}if(i==="success"){if(d.success){d.success.call(d.context,P,"success",v)}x.resolve(v.responseText,"success",v);if(u){e.event.trigger("ajaxSuccess",[v,d])}}else if(i){if(typeof n==="undefined"){n=v.statusText}if(d.error){d.error.call(d.context,v,i,n)}x.reject(v,"error",n);if(u){e.event.trigger("ajaxError",[v,d,n])}}if(u){e.event.trigger("ajaxComplete",[v,d])}if(u&&!--e.active){e.event.trigger("ajaxStop")}if(d.complete){d.complete.call(d.context,v,i)}I=true;if(d.timeout){clearTimeout(w)}setTimeout(function(){if(!d.iframeTarget){f.remove()}else{f.attr("src",d.iframeSrc)}v.responseXML=null},100)}var R=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!=="parsererror"?t:null};var N=e.parseJSON||function(e){return window["eval"]("("+e+")")};var L=function(t,i,n){var r=t.getResponseHeader("content-type")||"",o=(i==="xml"||!i)&&r.indexOf("xml")>=0,s=o?t.responseXML:t.responseText;if(o&&s.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(n&&n.dataFilter){s=n.dataFilter(s,i)}if(typeof s==="string"){if((i==="json"||!i)&&r.indexOf("json")>=0){s=N(s)}else if((i==="script"||!i)&&r.indexOf("javascript")>=0){e.globalEval(s)}}return s};return x}};e.fn.ajaxForm=function(t,i,n,a){if(typeof t==="string"||t===false&&arguments.length>0){t={url:t,data:i,dataType:n};if(typeof a==="function"){t.success=a}}t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var l={s:this.selector,c:this.context};if(!e.isReady&&l.s){s("DOM not ready, queuing ajaxForm");e(function(){e(l.s,l.c).ajaxForm(t)});return this}s("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,o).on("submit.form-plugin",this.selector,t,r).on("click.form-plugin",this.selector,t,o);return this}return this.ajaxFormUnbind().on("submit.form-plugin",t,r).on("click.form-plugin",t,o)};function r(t){var i=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(t.target).closest("form").ajaxSubmit(i)}}function o(t){var i=t.target;var n=e(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(r.length===0){return}i=r[0]}var o=i.form;o.clk=i;if(i.type==="image"){if(typeof t.offsetX!=="undefined"){o.clk_x=t.offsetX;o.clk_y=t.offsetY}else if(typeof e.fn.offset==="function"){var s=n.offset();o.clk_x=t.pageX-s.left;o.clk_y=t.pageY-s.top}else{o.clk_x=t.pageX-i.offsetLeft;o.clk_y=t.pageY-i.offsetTop}}setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(t,n,r){var o=[];if(this.length===0){return o}var s=this[0];var a=this.attr("id");var l=t||typeof s.elements==="undefined"?s.getElementsByTagName("*"):s.elements;var d;if(l){l=e.makeArray(l)}if(a&&(t||/(Edge|Trident)\//.test(navigator.userAgent))){d=e(':input[form="'+a+'"]').get();if(d.length){l=(l||[]).concat(d)}}if(!l||!l.length){return o}if(e.isFunction(r)){l=e.map(l,r)}var u,h,c,f,p,m,v;for(u=0,m=l.length;u<m;u++){p=l[u];c=p.name;if(!c||p.disabled){continue}if(t&&s.clk&&p.type==="image"){if(s.clk===p){o.push({name:c,value:e(p).val(),type:p.type});o.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y})}continue}f=e.fieldValue(p,true);if(f&&f.constructor===Array){if(n){n.push(p)}for(h=0,v=f.length;h<v;h++){o.push({name:c,value:f[h]})}}else if(i.fileapi&&p.type==="file"){if(n){n.push(p)}var g=p.files;if(g.length){for(h=0;h<g.length;h++){o.push({name:c,value:g[h],type:p.type})}}else{o.push({name:c,value:"",type:p.type})}}else if(f!==null&&typeof f!=="undefined"){if(n){n.push(p)}o.push({name:c,value:f,type:p.type,required:p.required})}}if(!t&&s.clk){var y=e(s.clk),b=y[0];c=b.name;if(c&&!b.disabled&&b.type==="image"){o.push({name:c,value:y.val()});o.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y})}}return o};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var i=[];this.each(function(){var n=this.name;if(!n){return}var r=e.fieldValue(this,t);if(r&&r.constructor===Array){for(var o=0,s=r.length;o<s;o++){i.push({name:n,value:r[o]})}}else if(r!==null&&typeof r!=="undefined"){i.push({name:this.name,value:r})}});return e.param(i)};e.fn.fieldValue=function(t){for(var i=[],n=0,r=this.length;n<r;n++){var o=this[n];var s=e.fieldValue(o,t);if(s===null||typeof s==="undefined"||s.constructor===Array&&!s.length){continue}if(s.constructor===Array){e.merge(i,s)}else{i.push(s)}}return i};e.fieldValue=function(i,n){var r=i.name,o=i.type,s=i.tagName.toLowerCase();if(typeof n==="undefined"){n=true}if(n&&(!r||i.disabled||o==="reset"||o==="button"||(o==="checkbox"||o==="radio")&&!i.checked||(o==="submit"||o==="image")&&i.form&&i.form.clk!==i||s==="select"&&i.selectedIndex===-1)){return null}if(s==="select"){var a=i.selectedIndex;if(a<0){return null}var l=[],d=i.options;var u=o==="select-one";var h=u?a+1:d.length;for(var c=u?a:0;c<h;c++){var f=d[c];if(f.selected&&!f.disabled){var p=f.value;if(!p){p=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value}if(u){return p}l.push(p)}}return l}return e(i).val().replace(t,"\r\n")};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();if(i.test(n)||r==="textarea"){this.value=""}else if(n==="checkbox"||n==="radio"){this.checked=false}else if(r==="select"){this.selectedIndex=-1}else if(n==="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone(true))}else{e(this).val("")}}else if(t){if(t===true&&/hidden/.test(n)||typeof t==="string"&&e(this).is(t)){this.value=""}}})};e.fn.resetForm=function(){return this.each(function(){var t=e(this);var i=this.tagName.toLowerCase();switch(i){case"input":this.checked=this.defaultChecked;case"textarea":this.value=this.defaultValue;return true;case"option":case"optgroup":var n=t.parents("select");if(n.length&&n[0].multiple){if(i==="option"){this.selected=this.defaultSelected}else{t.find("option").resetForm()}}else{n.resetForm()}return true;case"select":t.find("option").each(function(e){this.selected=this.defaultSelected;if(this.defaultSelected&&!t[0].multiple){t[0].selectedIndex=e;return false}});return true;case"label":var r=e(t.attr("for"));var o=t.find("input,select,textarea");if(r[0]){o.unshift(r[0])}o.resetForm();return true;case"form":if(typeof this.reset==="function"||typeof this.reset==="object"&&!this.reset.nodeType){this.reset()}return true;default:t.find("form,input,label,select,textarea").resetForm();return true}})};e.fn.enable=function(e){if(typeof e==="undefined"){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(typeof t==="undefined"){t=true}return this.each(function(){var i=this.type;if(i==="checkbox"||i==="radio"){this.checked=t}else if(this.tagName.toLowerCase()==="option"){var n=e(this).parent("select");if(t&&n[0]&&n[0].type==="select-one"){n.find("option").selected(false)}this.selected=t}})};e.fn.ajaxSubmit.debug=false;function s(){if(!e.fn.ajaxSubmit.debug){return}var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else if(window.opera&&window.opera.postError){window.opera.postError(t)}}});(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.moment=t()})(this,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function i(t){e=t}function n(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function r(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function o(e){var t;for(t in e){return false}return true}function s(e){return e===void 0}function a(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function l(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function d(e,t){var i=[],n;for(n=0;n<e.length;++n){i.push(t(e[n],n))}return i}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var i in t){if(u(t,i)){e[i]=t[i]}}if(u(t,"toString")){e.toString=t.toString}if(u(t,"valueOf")){e.valueOf=t.valueOf}return e}function c(e,t,i,n){return zi(e,t,i,n,true).utc()}function f(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function p(e){if(e._pf==null){e._pf=f()}return e._pf}var m;if(Array.prototype.some){m=Array.prototype.some}else{m=function(e){var t=Object(this);var i=t.length>>>0;for(var n=0;n<i;n++){if(n in t&&e.call(this,t[n],n,t)){return true}}return false}}var v=m;function g(e){if(e._isValid==null){var t=p(e);var i=v.call(t.parsedDateParts,function(e){return e!=null});var n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict){n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=n}else{return n}}return e._isValid}function y(e){var t=c(NaN);if(e!=null){h(p(t),e)}else{p(t).userInvalidated=true}return t}var b=t.momentProperties=[];function w(e,t){var i,n,r;if(!s(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!s(t._i)){e._i=t._i}if(!s(t._f)){e._f=t._f}if(!s(t._l)){e._l=t._l}if(!s(t._strict)){e._strict=t._strict}if(!s(t._tzm)){e._tzm=t._tzm}if(!s(t._isUTC)){e._isUTC=t._isUTC}if(!s(t._offset)){e._offset=t._offset}if(!s(t._pf)){e._pf=p(t)}if(!s(t._locale)){e._locale=t._locale}if(b.length>0){for(i=0;i<b.length;i++){n=b[i];r=t[n];if(!s(r)){e[n]=r}}}return e}var x=false;function _(e){w(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(x===false){x=true;t.updateOffset(this);x=false}}function k(e){return e instanceof _||e!=null&&e._isAMomentObject!=null}function C(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function S(e){var t=+e,i=0;if(t!==0&&isFinite(t)){i=C(t)}return i}function T(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++){if(i&&e[s]!==t[s]||!i&&S(e[s])!==S(t[s])){o++}}return o+r}function D(e){if(t.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function E(e,i){var n=true;return h(function(){if(t.deprecationHandler!=null){t.deprecationHandler(null,e)}if(n){var r=[];var o;for(var s=0;s<arguments.length;s++){o="";if(typeof arguments[s]==="object"){o+="\n["+s+"] ";for(var a in arguments[0]){o+=a+": "+arguments[0][a]+", "}o=o.slice(0,-2)}else{o=arguments[s]}r.push(o)}D(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack);n=false}return i.apply(this,arguments)},i)}var O={};function P(e,i){if(t.deprecationHandler!=null){t.deprecationHandler(e,i)}if(!O[e]){D(i);O[e]=true}}t.suppressDeprecationWarnings=false;t.deprecationHandler=null;function M(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function A(e){var t,i;for(i in e){t=e[i];if(M(t)){this[i]=t}else{this["_"+i]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var i=h({},e),n;for(n in t){if(u(t,n)){if(r(e[n])&&r(t[n])){i[n]={};h(i[n],e[n]);h(i[n],t[n])}else if(t[n]!=null){i[n]=t[n]}else{delete i[n]}}}for(n in e){if(u(e,n)&&!u(t,n)&&r(e[n])){i[n]=h({},i[n])}}return i}function F(e){if(e!=null){this.set(e)}}var R;if(Object.keys){R=Object.keys}else{R=function(e){var t,i=[];for(t in e){if(u(e,t)){i.push(t)}}return i}}var N=R;var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,i){var n=this._calendar[e]||this._calendar["sameElse"];return M(n)?n.call(t,i):n}var B={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];if(t||!i){return t}this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var $="Invalid date";function H(){return this._invalidDate}var U="%d";var W=/\d{1,2}/;function q(e){return this._ordinal.replace("%d",e)}var Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function V(e,t,i,n){var r=this._relativeTime[i];return M(r)?r(e,t,i,n):r.replace(/%d/i,e)}function G(e,t){var i=this._relativeTime[e>0?"future":"past"];return M(i)?i(t):i.replace(/%s/i,t)}var X={};function Z(e,t){var i=e.toLowerCase();X[i]=X[i+"s"]=X[t]=e}function K(e){return typeof e==="string"?X[e]||X[e.toLowerCase()]:undefined}function Q(e){var t={},i,n;for(n in e){if(u(e,n)){i=K(n);if(i){t[i]=e[n]}}}return t}var J={};function ee(e,t){J[e]=t}function te(e){var t=[];for(var i in e){t.push({unit:i,priority:J[i]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ie(e,i){return function(n){if(n!=null){re(this,e,n);t.updateOffset(this,i);return this}else{return ne(this,e)}}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,i){if(e.isValid()){e._d["set"+(e._isUTC?"UTC":"")+t](i)}}function oe(e){e=K(e);if(M(this[e])){return this[e]()}return this}function se(e,t){if(typeof e==="object"){e=Q(e);var i=te(e);for(var n=0;n<i.length;n++){this[i[n].unit](e[i[n].unit])}}else{e=K(e);if(M(this[e])){return this[e](t)}}return this}function ae(e,t,i){var n=""+Math.abs(e),r=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var le=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var de=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var ue={};var he={};function ce(e,t,i,n){var r=n;if(typeof n==="string"){r=function(){return this[n]()}}if(e){he[e]=r}if(t){he[t[0]]=function(){return ae(r.apply(this,arguments),t[1],t[2])}}if(i){he[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)}}}function fe(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function pe(e){var t=e.match(le),i,n;for(i=0,n=t.length;i<n;i++){if(he[t[i]]){t[i]=he[t[i]]}else{t[i]=fe(t[i])}}return function(i){var r="",o;for(o=0;o<n;o++){r+=M(t[o])?t[o].call(i,e):t[o]}return r}}function me(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=ve(t,e.localeData());ue[t]=ue[t]||pe(t);return ue[t](e)}function ve(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}de.lastIndex=0;while(i>=0&&de.test(e)){e=e.replace(de,n);de.lastIndex=0;i-=1}return e}var ge=/\d/;var ye=/\d\d/;var be=/\d{3}/;var we=/\d{4}/;var xe=/[+-]?\d{6}/;var _e=/\d\d?/;var ke=/\d\d\d\d?/;var Ce=/\d\d\d\d\d\d?/;var Se=/\d{1,3}/;var Te=/\d{1,4}/;var De=/[+-]?\d{1,6}/;var Ee=/\d+/;var Oe=/[+-]?\d+/;var Pe=/Z|[+-]\d\d:?\d\d/gi;var Me=/Z|[+-]\d\d(?::?\d\d)?/gi;var Ae=/[+-]?\d+(\.\d{1,3})?/;var Ie=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Fe={};function Re(e,t,i){Fe[e]=M(t)?t:function(e,n){return e&&i?i:t}}function Ne(e,t){if(!u(Fe,e)){return new RegExp(Le(e))}return Fe[e](t._strict,t._locale)}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Be={};function ze(e,t){var i,n=t;if(typeof e==="string"){e=[e]}if(a(t)){n=function(e,i){i[t]=S(e)}}for(i=0;i<e.length;i++){Be[e[i]]=n}}function $e(e,t){ze(e,function(e,i,n,r){n._w=n._w||{};t(e,n._w,n,r)})}function He(e,t,i){if(t!=null&&u(Be,e)){Be[e](t,i._a,i,e)}}var Ue=0;var We=1;var qe=2;var Ye=3;var Ve=4;var Ge=5;var Xe=6;var Ze=7;var Ke=8;var Qe;if(Array.prototype.indexOf){Qe=Array.prototype.indexOf}else{Qe=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}var Je=Qe;function et(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}ce("M",["MM",2],"Mo",function(){return this.month()+1});ce("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ce("MMMM",0,0,function(e){return this.localeData().months(this,e)});Z("month","M");ee("month",8);Re("M",_e);Re("MM",_e,ye);Re("MMM",function(e,t){return t.monthsShortRegex(e)});Re("MMMM",function(e,t){return t.monthsRegex(e)});ze(["M","MM"],function(e,t){t[We]=S(e)-1});ze(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);if(r!=null){t[We]=r}else{p(i).invalidMonth=e}});var tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function nt(e,t){if(!e){return n(this._months)?this._months:this._months["standalone"]}return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tt).test(t)?"format":"standalone"][e.month()]}var rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ot(e,t){if(!e){return n(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tt.test(t)?"format":"standalone"][e.month()]}function st(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){o=c([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase()}}if(i){if(t==="MMM"){r=Je.call(this._shortMonthsParse,s);return r!==-1?r:null}else{r=Je.call(this._longMonthsParse,s);return r!==-1?r:null}}else{if(t==="MMM"){r=Je.call(this._shortMonthsParse,s);if(r!==-1){return r}r=Je.call(this._longMonthsParse,s);return r!==-1?r:null}else{r=Je.call(this._longMonthsParse,s);if(r!==-1){return r}r=Je.call(this._shortMonthsParse,s);return r!==-1?r:null}}}function at(e,t,i){var n,r,o;if(this._monthsParseExact){return st.call(this,e,t,i)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=c([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){o="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="MMMM"&&this._longMonthsParse[n].test(e)){return n}else if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e)){return n}else if(!i&&this._monthsParse[n].test(e)){return n}}}function lt(e,t){var i;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=S(t)}else{t=e.localeData().monthsParse(t);if(!a(t)){return e}}}i=Math.min(e.date(),et(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i);return e}function dt(e){if(e!=null){lt(this,e);t.updateOffset(this,true);return this}else{return ne(this,"Month")}}function ut(){return et(this.year(),this.month())}var ht=Ie;function ct(e){if(this._monthsParseExact){if(!u(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!u(this,"_monthsShortRegex")){this._monthsShortRegex=ht}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var ft=Ie;function pt(e){if(this._monthsParseExact){if(!u(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!u(this,"_monthsRegex")){this._monthsRegex=ft}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function mt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r,o;for(r=0;r<12;r++){o=c([2e3,r]);t.push(this.monthsShort(o,""));i.push(this.months(o,""));n.push(this.months(o,""));n.push(this.monthsShort(o,""))}t.sort(e);i.sort(e);n.sort(e);for(r=0;r<12;r++){t[r]=je(t[r]);i[r]=je(i[r])}for(r=0;r<24;r++){n[r]=je(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}ce("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});ce(0,["YY",2],0,function(){return this.year()%100});ce(0,["YYYY",4],0,"year");ce(0,["YYYYY",5],0,"year");ce(0,["YYYYYY",6,true],0,"year");Z("year","y");ee("year",1);Re("Y",Oe);Re("YY",_e,ye);Re("YYYY",Te,we);Re("YYYYY",De,xe);Re("YYYYYY",De,xe);ze(["YYYYY","YYYYYY"],Ue);ze("YYYY",function(e,i){i[Ue]=e.length===2?t.parseTwoDigitYear(e):S(e)});ze("YY",function(e,i){i[Ue]=t.parseTwoDigitYear(e)});ze("Y",function(e,t){t[Ue]=parseInt(e,10)});function vt(e){return gt(e)?366:365}function gt(e){return e%4===0&&e%100!==0||e%400===0}t.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var yt=ie("FullYear",true);function bt(){return gt(this.year())}function wt(e,t,i,n,r,o,s){var a=new Date(e,t,i,n,r,o,s);if(e<100&&e>=0&&isFinite(a.getFullYear())){a.setFullYear(e)}return a}function xt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function _t(e,t,i){var n=7+t-i,r=(7+xt(e,0,n).getUTCDay()-t)%7;return-r+n-1}function kt(e,t,i,n,r){var o=(7+i-n)%7,s=_t(e,n,r),a=1+7*(t-1)+o+s,l,d;if(a<=0){l=e-1;d=vt(l)+a}else if(a>vt(e)){l=e+1;d=a-vt(e)}else{l=e;d=a}return{year:l,dayOfYear:d}}function Ct(e,t,i){var n=_t(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1,o,s;if(r<1){s=e.year()-1;o=r+St(s,t,i)}else if(r>St(e.year(),t,i)){o=r-St(e.year(),t,i);s=e.year()+1}else{s=e.year();o=r}return{week:o,year:s}}function St(e,t,i){var n=_t(e,t,i),r=_t(e+1,t,i);return(vt(e)-n+r)/7}ce("w",["ww",2],"wo","week");ce("W",["WW",2],"Wo","isoWeek");Z("week","w");Z("isoWeek","W");ee("week",5);ee("isoWeek",5);Re("w",_e);Re("ww",_e,ye);Re("W",_e);Re("WW",_e,ye);$e(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=S(e)});function Tt(e){return Ct(e,this._week.dow,this._week.doy).week}var Dt={dow:0,doy:6};function Et(){return this._week.dow}function Ot(){return this._week.doy}function Pt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Mt(e){var t=Ct(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ce("d",0,"do","day");ce("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ce("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ce("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ce("e",0,0,"weekday");ce("E",0,0,"isoWeekday");Z("day","d");Z("weekday","e");Z("isoWeekday","E");ee("day",11);ee("weekday",11);ee("isoWeekday",11);Re("d",_e);Re("e",_e);Re("E",_e);Re("dd",function(e,t){return t.weekdaysMinRegex(e)});Re("ddd",function(e,t){return t.weekdaysShortRegex(e)});Re("dddd",function(e,t){return t.weekdaysRegex(e)});$e(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);if(r!=null){t.d=r}else{p(i).invalidWeekday=e}});$e(["d","e","E"],function(e,t,i,n){t[n]=S(e)});function At(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function It(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Rt(e,t){if(!e){return n(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Lt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Bt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){o=c([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase()}}if(i){if(t==="dddd"){r=Je.call(this._weekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=Je.call(this._shortWeekdaysParse,s);return r!==-1?r:null}else{r=Je.call(this._minWeekdaysParse,s);return r!==-1?r:null}}else{if(t==="dddd"){r=Je.call(this._weekdaysParse,s);if(r!==-1){return r}r=Je.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=Je.call(this._minWeekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=Je.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=Je.call(this._weekdaysParse,s);if(r!==-1){return r}r=Je.call(this._minWeekdaysParse,s);return r!==-1?r:null}else{r=Je.call(this._minWeekdaysParse,s);if(r!==-1){return r}r=Je.call(this._weekdaysParse,s);if(r!==-1){return r}r=Je.call(this._shortWeekdaysParse,s);return r!==-1?r:null}}}function $t(e,t,i){var n,r,o;if(this._weekdaysParseExact){return zt.call(this,e,t,i)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=c([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e)){return n}else if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e)){return n}else if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e)){return n}else if(!i&&this._weekdaysParse[n].test(e)){return n}}}function Ht(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=At(e,this.localeData());return this.add(e-t,"d")}else{return t}}function Ut(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var qt=Ie;function Yt(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!u(this,"_weekdaysRegex")){this._weekdaysRegex=qt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var Vt=Ie;function Gt(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!u(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Vt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Xt=Ie;function Zt(e){if(this._weekdaysParseExact){if(!u(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!u(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Xt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Kt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r=[],o,s,a,l,d;for(o=0;o<7;o++){s=c([2e3,1]).day(o);a=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");d=this.weekdays(s,"");t.push(a);i.push(l);n.push(d);r.push(a);r.push(l);r.push(d)}t.sort(e);i.sort(e);n.sort(e);r.sort(e);for(o=0;o<7;o++){i[o]=je(i[o]);n[o]=je(n[o]);r[o]=je(r[o])}this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(){return this.hours()||24}ce("H",["HH",2],0,"hour");ce("h",["hh",2],0,Qt);ce("k",["kk",2],0,Jt);ce("hmm",0,0,function(){return""+Qt.apply(this)+ae(this.minutes(),2)});ce("hmmss",0,0,function(){return""+Qt.apply(this)+ae(this.minutes(),2)+ae(this.seconds(),2)});ce("Hmm",0,0,function(){return""+this.hours()+ae(this.minutes(),2)});ce("Hmmss",0,0,function(){return""+this.hours()+ae(this.minutes(),2)+ae(this.seconds(),2)});function ei(e,t){ce(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ei("a",true);ei("A",false);Z("hour","h");ee("hour",13);function ti(e,t){return t._meridiemParse}Re("a",ti);Re("A",ti);Re("H",_e);Re("h",_e);Re("k",_e);Re("HH",_e,ye);Re("hh",_e,ye);Re("kk",_e,ye);Re("hmm",ke);Re("hmmss",Ce);Re("Hmm",ke);Re("Hmmss",Ce);ze(["H","HH"],Ye);ze(["k","kk"],function(e,t,i){var n=S(e);t[Ye]=n===24?0:n});ze(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e);i._meridiem=e});ze(["h","hh"],function(e,t,i){t[Ye]=S(e);p(i).bigHour=true});ze("hmm",function(e,t,i){var n=e.length-2;t[Ye]=S(e.substr(0,n));t[Ve]=S(e.substr(n));p(i).bigHour=true});ze("hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ye]=S(e.substr(0,n));t[Ve]=S(e.substr(n,2));t[Ge]=S(e.substr(r));p(i).bigHour=true});ze("Hmm",function(e,t,i){var n=e.length-2;t[Ye]=S(e.substr(0,n));t[Ve]=S(e.substr(n))});ze("Hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ye]=S(e.substr(0,n));t[Ve]=S(e.substr(n,2));t[Ge]=S(e.substr(r))});function ii(e){return(e+"").toLowerCase().charAt(0)==="p"}var ni=/[ap]\.?m?\.?/i;function ri(e,t,i){if(e>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var oi=ie("Hours",true);var si={calendar:L,longDateFormat:B,invalidDate:$,ordinal:U,dayOfMonthOrdinalParse:W,relativeTime:Y,months:it,monthsShort:rt,week:Dt,weekdays:Ft,weekdaysMin:jt,weekdaysShort:Nt,meridiemParse:ni};var ai={};var li={};var di;function ui(e){return e?e.toLowerCase().replace("_","-"):e}function hi(e){var t=0,i,n,r,o;while(t<e.length){o=ui(e[t]).split("-");i=o.length;n=ui(e[t+1]);n=n?n.split("-"):null;while(i>0){r=ci(o.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&T(o,n,true)>=i-1){break}i--}t++}return null}function ci(e){var t=null;if(!ai[e]&&typeof module!=="undefined"&&module&&module.exports){try{t=di._abbr;require("./locale/"+e);fi(t)}catch(e){}}return ai[e]}function fi(e,t){var i;if(e){if(s(t)){i=vi(e)}else{i=pi(e,t)}if(i){di=i}}return di._abbr}function pi(e,t){if(t!==null){var i=si;t.abbr=e;if(ai[e]!=null){P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");i=ai[e]._config}else if(t.parentLocale!=null){if(ai[t.parentLocale]!=null){i=ai[t.parentLocale]._config}else{if(!li[t.parentLocale]){li[t.parentLocale]=[]}li[t.parentLocale].push({name:e,config:t});return null}}ai[e]=new F(I(i,t));if(li[e]){li[e].forEach(function(e){pi(e.name,e.config)})}fi(e);return ai[e]}else{delete ai[e];return null}}function mi(e,t){if(t!=null){var i,n=si;if(ai[e]!=null){n=ai[e]._config}t=I(n,t);i=new F(t);i.parentLocale=ai[e];ai[e]=i;fi(e)}else{if(ai[e]!=null){if(ai[e].parentLocale!=null){ai[e]=ai[e].parentLocale}else if(ai[e]!=null){delete ai[e]}}}return ai[e]}function vi(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return di}if(!n(e)){t=ci(e);if(t){return t}e=[e]}return hi(e)}function gi(){return N(ai)}function yi(e){var t;var i=e._a;if(i&&p(e).overflow===-2){t=i[We]<0||i[We]>11?We:i[qe]<1||i[qe]>et(i[Ue],i[We])?qe:i[Ye]<0||i[Ye]>24||i[Ye]===24&&(i[Ve]!==0||i[Ge]!==0||i[Xe]!==0)?Ye:i[Ve]<0||i[Ve]>59?Ve:i[Ge]<0||i[Ge]>59?Ge:i[Xe]<0||i[Xe]>999?Xe:-1;if(p(e)._overflowDayOfYear&&(t<Ue||t>qe)){t=qe}if(p(e)._overflowWeeks&&t===-1){t=Ze}if(p(e)._overflowWeekday&&t===-1){t=Ke}p(e).overflow=t}return e}var bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var xi=/Z|[+-]\d\d(?::?\d\d)?/;var _i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var ki=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Ci=/^\/?Date\((\-?\d+)/i;function Si(e){var t,i,n=e._i,r=bi.exec(n)||wi.exec(n),o,s,a,l;if(r){p(e).iso=true;for(t=0,i=_i.length;t<i;t++){if(_i[t][1].exec(r[1])){s=_i[t][0];o=_i[t][2]!==false;break}}if(s==null){e._isValid=false;return}if(r[3]){for(t=0,i=ki.length;t<i;t++){if(ki[t][1].exec(r[3])){a=(r[2]||" ")+ki[t][0];break}}if(a==null){e._isValid=false;return}}if(!o&&a!=null){e._isValid=false;return}if(r[4]){if(xi.exec(r[4])){l="Z"}else{e._isValid=false;return}}e._f=s+(a||"")+(l||"");Ii(e)}else{e._isValid=false}}var Ti=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function Di(e){var t,i,n,r,o,s;var a={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var l="YXWVUTSRQPONZABCDEFGHIKLM";var d,u;t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");i=Ti.exec(t);if(i){n=i[1]?"ddd"+(i[1].length===5?", ":" "):"";r="D MMM "+(i[2].length>10?"YYYY ":"YY ");o="HH:mm"+(i[4]?":ss":"");if(i[1]){var h=new Date(i[2]);var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(i[1].substr(0,3)!==c){p(e).weekdayMismatch=true;e._isValid=false;return}}switch(i[5].length){case 2:if(u===0){d=" +0000"}else{u=l.indexOf(i[5][1].toUpperCase())-12;d=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00"}break;case 4:d=a[i[5]];break;default:d=a[" GMT"]}i[5]=d;e._i=i.splice(1).join("");s=" ZZ";e._f=n+r+o+s;Ii(e);p(e).rfc2822=true}else{e._isValid=false}}function Ei(e){var i=Ci.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}Si(e);if(e._isValid===false){delete e._isValid}else{return}Di(e);if(e._isValid===false){delete e._isValid}else{return}t.createFromInputFallback(e)}t.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Oi(e,t,i){if(e!=null){return e}if(t!=null){return t}return i}function Pi(e){var i=new Date(t.now());if(e._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}return[i.getFullYear(),i.getMonth(),i.getDate()]}function Mi(e){var t,i,n=[],r,o;if(e._d){return}r=Pi(e);if(e._w&&e._a[qe]==null&&e._a[We]==null){Ai(e)}if(e._dayOfYear!=null){o=Oi(e._a[Ue],r[Ue]);if(e._dayOfYear>vt(o)||e._dayOfYear===0){p(e)._overflowDayOfYear=true}i=xt(o,0,e._dayOfYear);e._a[We]=i.getUTCMonth();e._a[qe]=i.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=r[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ye]===24&&e._a[Ve]===0&&e._a[Ge]===0&&e._a[Xe]===0){e._nextDay=true;e._a[Ye]=0}e._d=(e._useUTC?xt:wt).apply(null,n);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ye]=24}}function Ai(e){var t,i,n,r,o,s,a,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){o=1;s=4;i=Oi(t.GG,e._a[Ue],Ct($i(),1,4).year);n=Oi(t.W,1);r=Oi(t.E,1);if(r<1||r>7){l=true}}else{o=e._locale._week.dow;s=e._locale._week.doy;var d=Ct($i(),o,s);i=Oi(t.gg,e._a[Ue],d.year);n=Oi(t.w,d.week);if(t.d!=null){r=t.d;if(r<0||r>6){l=true}}else if(t.e!=null){r=t.e+o;if(t.e<0||t.e>6){l=true}}else{r=o}}if(n<1||n>St(i,o,s)){p(e)._overflowWeeks=true}else if(l!=null){p(e)._overflowWeekday=true}else{a=kt(i,n,r,o,s);e._a[Ue]=a.year;e._dayOfYear=a.dayOfYear}}t.ISO_8601=function(){};t.RFC_2822=function(){};function Ii(e){if(e._f===t.ISO_8601){Si(e);return}if(e._f===t.RFC_2822){Di(e);return}e._a=[];p(e).empty=true;var i=""+e._i,n,r,o,s,a,l=i.length,d=0;o=ve(e._f,e._locale).match(le)||[];for(n=0;n<o.length;n++){s=o[n];r=(i.match(Ne(s,e))||[])[0];if(r){a=i.substr(0,i.indexOf(r));if(a.length>0){p(e).unusedInput.push(a)}i=i.slice(i.indexOf(r)+r.length);d+=r.length}if(he[s]){if(r){p(e).empty=false}else{p(e).unusedTokens.push(s)}He(s,r,e)}else if(e._strict&&!r){p(e).unusedTokens.push(s)}}p(e).charsLeftOver=l-d;if(i.length>0){p(e).unusedInput.push(i)}if(e._a[Ye]<=12&&p(e).bigHour===true&&e._a[Ye]>0){p(e).bigHour=undefined}p(e).parsedDateParts=e._a.slice(0);p(e).meridiem=e._meridiem;e._a[Ye]=Fi(e._locale,e._a[Ye],e._meridiem);Mi(e);yi(e)}function Fi(e,t,i){var n;if(i==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,i)}else if(e.isPM!=null){n=e.isPM(i);if(n&&t<12){t+=12}if(!n&&t===12){t=0}return t}else{return t}}function Ri(e){var t,i,n,r,o;if(e._f.length===0){p(e).invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){o=0;t=w({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[r];Ii(t);if(!g(t)){continue}o+=p(t).charsLeftOver;o+=p(t).unusedTokens.length*10;p(t).score=o;if(n==null||o<n){n=o;i=t}}h(e,i||t)}function Ni(e){if(e._d){return}var t=Q(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});Mi(e)}function Li(e){var t=new _(yi(ji(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function ji(e){var t=e._i,i=e._f;e._locale=e._locale||vi(e._l);if(t===null||i===undefined&&t===""){return y({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(k(t)){return new _(yi(t))}else if(l(t)){e._d=t}else if(n(i)){Ri(e)}else if(i){Ii(e)}else{Bi(e)}if(!g(e)){e._d=null}return e}function Bi(e){var i=e._i;if(s(i)){e._d=new Date(t.now())}else if(l(i)){e._d=new Date(i.valueOf())}else if(typeof i==="string"){Ei(e)}else if(n(i)){e._a=d(i.slice(0),function(e){return parseInt(e,10)});Mi(e)}else if(r(i)){Ni(e)}else if(a(i)){e._d=new Date(i)}else{t.createFromInputFallback(e)}}function zi(e,t,i,s,a){var l={};if(i===true||i===false){s=i;i=undefined}if(r(e)&&o(e)||n(e)&&e.length===0){e=undefined}l._isAMomentObject=true;l._useUTC=l._isUTC=a;l._l=i;l._i=e;l._f=t;l._strict=s;return Li(l)}function $i(e,t,i,n){return zi(e,t,i,n,false)}var Hi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$i.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return y()}});var Ui=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$i.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return y()}});function Wi(e,t){var i,r;if(t.length===1&&n(t[0])){t=t[0]}if(!t.length){return $i()}i=t[0];for(r=1;r<t.length;++r){if(!t[r].isValid()||t[r][e](i)){i=t[r]}}return i}function qi(){var e=[].slice.call(arguments,0);return Wi("isBefore",e)}function Yi(){var e=[].slice.call(arguments,0);return Wi("isAfter",e)}var Vi=function(){return Date.now?Date.now():+new Date};var Gi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Xi(e){for(var t in e){if(!(Gi.indexOf(t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var i=false;for(var n=0;n<Gi.length;++n){if(e[Gi[n]]){if(i){return false}if(parseFloat(e[Gi[n]])!==S(e[Gi[n]])){i=true}}}return true}function Zi(){return this._isValid}function Ki(){return wn(NaN)}function Qi(e){var t=Q(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=Xi(t);this._milliseconds=+u+d*1e3+l*6e4+a*1e3*60*60;this._days=+s+o*7;this._months=+r+n*3+i*12;this._data={};this._locale=vi();this._bubble()}function Ji(e){return e instanceof Qi}function en(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function tn(e,t){ce(e,0,0,function(){var e=this.utcOffset();var i="+";if(e<0){e=-e;i="-"}return i+ae(~~(e/60),2)+t+ae(~~e%60,2)})}tn("Z",":");tn("ZZ","");Re("Z",Me);Re("ZZ",Me);ze(["Z","ZZ"],function(e,t,i){i._useUTC=true;i._tzm=rn(Me,e)});var nn=/([\+\-]|\d\d)/gi;function rn(e,t){var i=(t||"").match(e);if(i===null){return null}var n=i[i.length-1]||[];var r=(n+"").match(nn)||["-",0,0];var o=+(r[1]*60)+S(r[2]);return o===0?0:r[0]==="+"?o:-o}function on(e,i){var n,r;if(i._isUTC){n=i.clone();r=(k(e)||l(e)?e.valueOf():$i(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);t.updateOffset(n,false);return n}else{return $i(e).local()}}function sn(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}t.updateOffset=function(){};function an(e,i,n){var r=this._offset||0,o;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=rn(Me,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&i){o=sn(this)}this._offset=e;this._isUTC=true;if(o!=null){this.add(o,"m")}if(r!==e){if(!i||this._changeInProgress){Sn(this,wn(e-r,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;t.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?r:sn(this)}}function ln(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function dn(e){return this.utcOffset(0,e)}function un(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(sn(this),"m")}}return this}function hn(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=rn(Pe,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function cn(e){if(!this.isValid()){return false}e=e?$i(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function fn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pn(){if(!s(this._isDSTShifted)){return this._isDSTShifted}var e={};w(e,this);e=ji(e);if(e._a){var t=e._isUTC?c(e._a):$i(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function mn(){return this.isValid()?!this._isUTC:false}function vn(){return this.isValid()?this._isUTC:false}function gn(){return this.isValid()?this._isUTC&&this._offset===0:false}var yn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var bn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function wn(e,t){var i=e,n=null,r,o,s;if(Ji(e)){i={ms:e._milliseconds,d:e._days,M:e._months}}else if(a(e)){i={};if(t){i[t]=e}else{i.milliseconds=e}}else if(!!(n=yn.exec(e))){r=n[1]==="-"?-1:1;i={y:0,d:S(n[qe])*r,h:S(n[Ye])*r,m:S(n[Ve])*r,s:S(n[Ge])*r,ms:S(en(n[Xe]*1e3))*r}}else if(!!(n=bn.exec(e))){r=n[1]==="-"?-1:1;i={y:xn(n[2],r),M:xn(n[3],r),w:xn(n[4],r),d:xn(n[5],r),h:xn(n[6],r),m:xn(n[7],r),s:xn(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){s=kn($i(i.from),$i(i.to));i={};i.ms=s.milliseconds;i.M=s.months}o=new Qi(i);if(Ji(e)&&u(e,"_locale")){o._locale=e._locale}return o}wn.fn=Qi.prototype;wn.invalid=Ki;function xn(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function _n(e,t){var i={milliseconds:0,months:0};i.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(i.months,"M").isAfter(t)){--i.months}i.milliseconds=+t-+e.clone().add(i.months,"M");return i}function kn(e,t){var i;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=on(t,e);if(e.isBefore(t)){i=_n(e,t)}else{i=_n(t,e);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function Cn(e,t){return function(i,n){var r,o;if(n!==null&&!isNaN(+n)){P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");o=i;i=n;n=o}i=typeof i==="string"?+i:i;r=wn(i,n);Sn(this,r,e);return this}}function Sn(e,i,n,r){var o=i._milliseconds,s=en(i._days),a=en(i._months);if(!e.isValid()){return}r=r==null?true:r;if(o){e._d.setTime(e._d.valueOf()+o*n)}if(s){re(e,"Date",ne(e,"Date")+s*n)}if(a){lt(e,ne(e,"Month")+a*n)}if(r){t.updateOffset(e,s||a)}}var Tn=Cn(1,"add");var Dn=Cn(-1,"subtract");function En(e,t){var i=e.diff(t,"days",true);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function On(e,i){var n=e||$i(),r=on(n,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse";var s=i&&(M(i[o])?i[o].call(this,n):i[o]);return this.format(s||this.localeData().calendar(o,this,$i(n)))}function Pn(){return new _(this)}function Mn(e,t){var i=k(e)?e:$i(e);if(!(this.isValid()&&i.isValid())){return false}t=K(!s(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>i.valueOf()}else{return i.valueOf()<this.clone().startOf(t).valueOf()}}function An(e,t){var i=k(e)?e:$i(e);if(!(this.isValid()&&i.isValid())){return false}t=K(!s(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<i.valueOf()}else{return this.clone().endOf(t).valueOf()<i.valueOf()}}function In(e,t,i,n){n=n||"()";return(n[0]==="("?this.isAfter(e,i):!this.isBefore(e,i))&&(n[1]===")"?this.isBefore(t,i):!this.isAfter(t,i))}function Fn(e,t){var i=k(e)?e:$i(e),n;if(!(this.isValid()&&i.isValid())){return false}t=K(t||"millisecond");if(t==="millisecond"){return this.valueOf()===i.valueOf()}else{n=i.valueOf();return this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()}}function Rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Nn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ln(e,t,i){var n,r,o,s;if(!this.isValid()){return NaN}n=on(e,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;t=K(t);if(t==="year"||t==="month"||t==="quarter"){s=jn(this,n);if(t==="quarter"){s=s/3}else if(t==="year"){s=s/12}}else{o=this-n;s=t==="second"?o/1e3:t==="minute"?o/6e4:t==="hour"?o/36e5:t==="day"?(o-r)/864e5:t==="week"?(o-r)/6048e5:o}return i?s:C(s)}function jn(e,t){var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),r,o;if(t-n<0){r=e.clone().add(i-1,"months");o=(t-n)/(n-r)}else{r=e.clone().add(i+1,"months");o=(t-n)/(r-n)}return-(i+o)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Bn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function zn(){if(!this.isValid()){return null}var e=this.clone().utc();if(e.year()<0||e.year()>9999){return me(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(M(Date.prototype.toISOString)){return this.toDate().toISOString()}return me(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function $n(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var i="["+e+'("]';var n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var r="-MM-DD[T]HH:mm:ss.SSS";var o=t+'[")]';return this.format(i+n+r+o)}function Hn(e){if(!e){e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat}var i=me(this,e);return this.localeData().postformat(i)}function Un(e,t){if(this.isValid()&&(k(e)&&e.isValid()||$i(e).isValid())){return wn({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Wn(e){return this.from($i(),e)}function qn(e,t){if(this.isValid()&&(k(e)&&e.isValid()||$i(e).isValid())){return wn({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Yn(e){return this.to($i(),e)}function Vn(e){var t;if(e===undefined){return this._locale._abbr}else{t=vi(e);if(t!=null){this._locale=t}return this}}var Gn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function Xn(){return this._locale}function Zn(e){e=K(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Kn(e){e=K(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function Qn(){return this._d.valueOf()-(this._offset||0)*6e4}function Jn(){return Math.floor(this.valueOf()/1e3)}function er(){return new Date(this.valueOf())}function tr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ir(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function nr(){return this.isValid()?this.toISOString():null}function rr(){return g(this)}function or(){return h({},p(this))}function sr(){return p(this).overflow}function ar(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ce(0,["gg",2],0,function(){return this.weekYear()%100});ce(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lr(e,t){ce(0,[e,e.length],0,t)}lr("gggg","weekYear");lr("ggggg","weekYear");lr("GGGG","isoWeekYear");lr("GGGGG","isoWeekYear");Z("weekYear","gg");Z("isoWeekYear","GG");ee("weekYear",1);ee("isoWeekYear",1);Re("G",Oe);Re("g",Oe);Re("GG",_e,ye);Re("gg",_e,ye);Re("GGGG",Te,we);Re("gggg",Te,we);Re("GGGGG",De,xe);Re("ggggg",De,xe);$e(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=S(e)});$e(["gg","GG"],function(e,i,n,r){i[r]=t.parseTwoDigitYear(e)});function dr(e){return fr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ur(e){return fr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function hr(){return St(this.year(),1,4)}function cr(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function fr(e,t,i,n,r){var o;if(e==null){return Ct(this,n,r).year}else{o=St(e,n,r);if(t>o){t=o}return pr.call(this,e,t,i,n,r)}}function pr(e,t,i,n,r){var o=kt(e,t,i,n,r),s=xt(o.year,0,o.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}ce("Q",0,"Qo","quarter");Z("quarter","Q");ee("quarter",7);Re("Q",ge);ze("Q",function(e,t){t[We]=(S(e)-1)*3});function mr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ce("D",["DD",2],"Do","date");Z("date","D");ee("date",9);Re("D",_e);Re("DD",_e,ye);Re("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ze(["D","DD"],qe);ze("Do",function(e,t){t[qe]=S(e.match(_e)[0],10)});var vr=ie("Date",true);ce("DDD",["DDDD",3],"DDDo","dayOfYear");Z("dayOfYear","DDD");ee("dayOfYear",4);Re("DDD",Se);Re("DDDD",be);ze(["DDD","DDDD"],function(e,t,i){i._dayOfYear=S(e)});function gr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ce("m",["mm",2],0,"minute");Z("minute","m");ee("minute",14);Re("m",_e);Re("mm",_e,ye);ze(["m","mm"],Ve);var yr=ie("Minutes",false);ce("s",["ss",2],0,"second");Z("second","s");ee("second",15);Re("s",_e);Re("ss",_e,ye);ze(["s","ss"],Ge);var br=ie("Seconds",false);ce("S",0,0,function(){return~~(this.millisecond()/100)});ce(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ce(0,["SSS",3],0,"millisecond");ce(0,["SSSS",4],0,function(){return this.millisecond()*10});ce(0,["SSSSS",5],0,function(){return this.millisecond()*100});ce(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ce(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ce(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ce(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Z("millisecond","ms");ee("millisecond",16);Re("S",Se,ge);Re("SS",Se,ye);Re("SSS",Se,be);var wr;for(wr="SSSS";wr.length<=9;wr+="S"){Re(wr,Ee)}function xr(e,t){t[Xe]=S(("0."+e)*1e3)}for(wr="S";wr.length<=9;wr+="S"){ze(wr,xr)}var _r=ie("Milliseconds",false);ce("z",0,0,"zoneAbbr");ce("zz",0,0,"zoneName");function kr(){return this._isUTC?"UTC":""}function Cr(){return this._isUTC?"Coordinated Universal Time":""}var Sr=_.prototype;Sr.add=Tn;Sr.calendar=On;Sr.clone=Pn;Sr.diff=Ln;Sr.endOf=Kn;Sr.format=Hn;Sr.from=Un;Sr.fromNow=Wn;Sr.to=qn;Sr.toNow=Yn;Sr.get=oe;Sr.invalidAt=sr;Sr.isAfter=Mn;Sr.isBefore=An;Sr.isBetween=In;Sr.isSame=Fn;Sr.isSameOrAfter=Rn;Sr.isSameOrBefore=Nn;Sr.isValid=rr;Sr.lang=Gn;Sr.locale=Vn;Sr.localeData=Xn;Sr.max=Ui;Sr.min=Hi;Sr.parsingFlags=or;Sr.set=se;Sr.startOf=Zn;Sr.subtract=Dn;Sr.toArray=tr;Sr.toObject=ir;Sr.toDate=er;Sr.toISOString=zn;Sr.inspect=$n;Sr.toJSON=nr;Sr.toString=Bn;Sr.unix=Jn;Sr.valueOf=Qn;Sr.creationData=ar;Sr.year=yt;Sr.isLeapYear=bt;Sr.weekYear=dr;Sr.isoWeekYear=ur;Sr.quarter=Sr.quarters=mr;Sr.month=dt;Sr.daysInMonth=ut;Sr.week=Sr.weeks=Pt;Sr.isoWeek=Sr.isoWeeks=Mt;Sr.weeksInYear=cr;Sr.isoWeeksInYear=hr;Sr.date=vr;Sr.day=Sr.days=Ht;Sr.weekday=Ut;Sr.isoWeekday=Wt;Sr.dayOfYear=gr;Sr.hour=Sr.hours=oi;Sr.minute=Sr.minutes=yr;Sr.second=Sr.seconds=br;Sr.millisecond=Sr.milliseconds=_r;Sr.utcOffset=an;Sr.utc=dn;Sr.local=un;Sr.parseZone=hn;Sr.hasAlignedHourOffset=cn;Sr.isDST=fn;Sr.isLocal=mn;Sr.isUtcOffset=vn;Sr.isUtc=gn;Sr.isUTC=gn;Sr.zoneAbbr=kr;Sr.zoneName=Cr;Sr.dates=E("dates accessor is deprecated. Use date instead.",vr);Sr.months=E("months accessor is deprecated. Use month instead",dt);Sr.years=E("years accessor is deprecated. Use year instead",yt);Sr.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ln);Sr.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pn);function Tr(e){return $i(e*1e3)}function Dr(){return $i.apply(null,arguments).parseZone()}function Er(e){return e}var Or=F.prototype;Or.calendar=j;Or.longDateFormat=z;Or.invalidDate=H;Or.ordinal=q;Or.preparse=Er;Or.postformat=Er;Or.relativeTime=V;Or.pastFuture=G;Or.set=A;Or.months=nt;Or.monthsShort=ot;Or.monthsParse=at;Or.monthsRegex=pt;Or.monthsShortRegex=ct;Or.week=Tt;Or.firstDayOfYear=Ot;Or.firstDayOfWeek=Et;Or.weekdays=Rt;Or.weekdaysMin=Bt;Or.weekdaysShort=Lt;Or.weekdaysParse=$t;Or.weekdaysRegex=Yt;Or.weekdaysShortRegex=Gt;Or.weekdaysMinRegex=Zt;Or.isPM=ii;Or.meridiem=ri;function Pr(e,t,i,n){var r=vi();var o=c().set(n,t);return r[i](o,e)}function Mr(e,t,i){if(a(e)){t=e;e=undefined}e=e||"";if(t!=null){return Pr(e,t,i,"month")}var n;var r=[];for(n=0;n<12;n++){r[n]=Pr(e,n,i,"month")}return r}function Ar(e,t,i,n){if(typeof e==="boolean"){if(a(t)){i=t;t=undefined}t=t||""}else{t=e;i=t;e=false;if(a(t)){i=t;t=undefined}t=t||""}var r=vi(),o=e?r._week.dow:0;if(i!=null){return Pr(t,(i+o)%7,n,"day")}var s;var l=[];for(s=0;s<7;s++){l[s]=Pr(t,(s+o)%7,n,"day")}return l}function Ir(e,t){return Mr(e,t,"months")}function Fr(e,t){return Mr(e,t,"monthsShort")}function Rr(e,t,i){return Ar(e,t,i,"weekdays")}function Nr(e,t,i){return Ar(e,t,i,"weekdaysShort")}function Lr(e,t,i){return Ar(e,t,i,"weekdaysMin")}fi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=S(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});t.lang=E("moment.lang is deprecated. Use moment.locale instead.",fi);t.langData=E("moment.langData is deprecated. Use moment.localeData instead.",vi);var jr=Math.abs;function Br(){var e=this._data;this._milliseconds=jr(this._milliseconds);this._days=jr(this._days);this._months=jr(this._months);e.milliseconds=jr(e.milliseconds);e.seconds=jr(e.seconds);e.minutes=jr(e.minutes);e.hours=jr(e.hours);e.months=jr(e.months);e.years=jr(e.years);return this}function zr(e,t,i,n){var r=wn(t,i);e._milliseconds+=n*r._milliseconds;e._days+=n*r._days;e._months+=n*r._months;return e._bubble()}function $r(e,t){return zr(this,e,t,1)}function Hr(e,t){return zr(this,e,t,-1)}function Ur(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function Wr(){var e=this._milliseconds;var t=this._days;var i=this._months;var n=this._data;var r,o,s,a,l;if(!(e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0)){e+=Ur(Yr(i)+t)*864e5;t=0;i=0}n.milliseconds=e%1e3;r=C(e/1e3);n.seconds=r%60;o=C(r/60);n.minutes=o%60;s=C(o/60);n.hours=s%24;t+=C(s/24);l=C(qr(t));i+=l;t-=Ur(Yr(l));a=C(i/12);i%=12;n.days=t;n.months=i;n.years=a;return this}function qr(e){return e*4800/146097}function Yr(e){return e*146097/4800}function Vr(e){if(!this.isValid()){return NaN}var t;var i;var n=this._milliseconds;e=K(e);if(e==="month"||e==="year"){t=this._days+n/864e5;i=this._months+qr(t);return e==="month"?i:i/12}else{t=this._days+Math.round(Yr(this._months));switch(e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}}function Gr(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+S(this._months/12)*31536e6}function Xr(e){return function(){return this.as(e)}}var Zr=Xr("ms");var Kr=Xr("s");var Qr=Xr("m");var Jr=Xr("h");var eo=Xr("d");var to=Xr("w");var io=Xr("M");var no=Xr("y");function ro(e){e=K(e);return this.isValid()?this[e+"s"]():NaN}function oo(e){return function(){return this.isValid()?this._data[e]:NaN}}var so=oo("milliseconds");var ao=oo("seconds");var lo=oo("minutes");var uo=oo("hours");var ho=oo("days");var co=oo("months");var fo=oo("years");function po(){return C(this.days()/7)}var mo=Math.round;var vo={ss:44,s:45,m:45,h:22,d:26,M:11};function go(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function yo(e,t,i){var n=wn(e).abs();var r=mo(n.as("s"));var o=mo(n.as("m"));var s=mo(n.as("h"));var a=mo(n.as("d"));var l=mo(n.as("M"));var d=mo(n.as("y"));var u=r<=vo.ss&&["s",r]||r<vo.s&&["ss",r]||o<=1&&["m"]||o<vo.m&&["mm",o]||s<=1&&["h"]||s<vo.h&&["hh",s]||a<=1&&["d"]||a<vo.d&&["dd",a]||l<=1&&["M"]||l<vo.M&&["MM",l]||d<=1&&["y"]||["yy",d];u[2]=t;u[3]=+e>0;u[4]=i;return go.apply(null,u)}function bo(e){if(e===undefined){return mo}if(typeof e==="function"){mo=e;return true}return false}function wo(e,t){if(vo[e]===undefined){return false}if(t===undefined){return vo[e]}vo[e]=t;if(e==="s"){vo.ss=t-1}return true}function xo(e){if(!this.isValid()){return this.localeData().invalidDate()}var t=this.localeData();var i=yo(this,!e,t);if(e){i=t.pastFuture(+this,i)}return t.postformat(i)}var _o=Math.abs;function ko(){if(!this.isValid()){return this.localeData().invalidDate()}var e=_o(this._milliseconds)/1e3;var t=_o(this._days);var i=_o(this._months);var n,r,o;n=C(e/60);r=C(n/60);e%=60;n%=60;o=C(i/12);i%=12;var s=o;var a=i;var l=t;var d=r;var u=n;var h=e;var c=this.asSeconds();if(!c){return"P0D"}return(c<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(d||u||h?"T":"")+(d?d+"H":"")+(u?u+"M":"")+(h?h+"S":"")}var Co=Qi.prototype;Co.isValid=Zi;Co.abs=Br;Co.add=$r;Co.subtract=Hr;Co.as=Vr;Co.asMilliseconds=Zr;Co.asSeconds=Kr;Co.asMinutes=Qr;Co.asHours=Jr;Co.asDays=eo;Co.asWeeks=to;Co.asMonths=io;Co.asYears=no;Co.valueOf=Gr;Co._bubble=Wr;Co.get=ro;Co.milliseconds=so;Co.seconds=ao;Co.minutes=lo;Co.hours=uo;Co.days=ho;Co.weeks=po;Co.months=co;Co.years=fo;Co.humanize=xo;Co.toISOString=ko;Co.toString=ko;Co.toJSON=ko;Co.locale=Vn;Co.localeData=Xn;Co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ko);Co.lang=Gn;ce("X",0,0,"unix");ce("x",0,0,"valueOf");Re("x",Oe);Re("X",Ae);ze("X",function(e,t,i){i._d=new Date(parseFloat(e,10)*1e3)});ze("x",function(e,t,i){i._d=new Date(S(e))});t.version="2.18.1";i($i);t.fn=Sr;t.min=qi;t.max=Yi;t.now=Vi;t.utc=c;t.unix=Tr;t.months=Ir;t.isDate=l;t.locale=fi;t.invalid=y;t.duration=wn;t.isMoment=k;t.weekdays=Rr;t.parseZone=Dr;t.localeData=vi;t.isDuration=Ji;t.monthsShort=Fr;t.weekdaysMin=Lr;t.defineLocale=pi;t.updateLocale=mi;t.locales=gi;t.weekdaysShort=Nr;t.normalizeUnits=K;t.relativeTimeRounding=bo;t.relativeTimeThreshold=wo;t.calendarFormat=En;t.prototype=Sr;return t});(function(e,t){typeof exports==="object"&&typeof module!=="undefined"&&typeof require==="function"?t(require("../moment")):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}});return t});(function(e,t){typeof exports==="object"&&typeof module!=="undefined"&&typeof require==="function"?t(require("../moment")):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"pÃ¥ dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"fÃ¥ sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"et Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){module.exports=e(require("jquery"))}else{e(window.jQuery)}})(function(e){"use strict";var t=typeof define==="function"&&define.amd;var i=function(t){var i=t==="Comic Sans MS"?"Courier New":"Comic Sans MS";var n=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body);var r=n.css("fontFamily",i).width();var o=n.css("fontFamily",t+","+i).width();n.remove();return r!==o};var n=navigator.userAgent;var r=/MSIE|Trident/i.test(n);var o;if(r){var s=/MSIE (\d+[.]\d+)/.exec(n);if(s){o=parseFloat(s[1])}s=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(n);if(s){o=parseFloat(s[1])}}var a=/Edge\/\d+/.test(n);var l=!!window.CodeMirror;if(!l&&t){if(typeof __webpack_require__==="function"){try{require.resolve("codemirror");l=true}catch(e){}}else if(typeof require!=="undefined"){if(typeof require.resolve!=="undefined"){try{require.resolve("codemirror");l=true}catch(e){}}else if(typeof require.specified!=="undefined"){l=require.specified("codemirror")}}}var d="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;var u={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isEdge:a,isFF:!a&&/firefox/i.test(n),isPhantom:/PhantomJS/i.test(n),isWebkit:!a&&/webkit/i.test(n),isChrome:!a&&/chrome/i.test(n),isSafari:!a&&/safari/i.test(n),browserVersion:o,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:t,isSupportTouch:d,hasCodeMirror:l,isFontInstalled:i,isW3CRangeSupport:!!document.createRange};var h=function(){var t=function(e){return function(t){return e===t}};var i=function(e,t){return e===t};var n=function(e){return function(t,i){return t[e]===i[e]}};var r=function(){return true};var o=function(){return false};var s=function(e){return function(){return!e.apply(e,arguments)}};var a=function(e,t){return function(i){return e(i)&&t(i)}};var l=function(e){return e};var d=function(e,t){return function(){return e[t].apply(e,arguments)}};var u=0;var h=function(e){var t=++u+"";return e?e+t:t};var c=function(t){var i=e(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}};var f=function(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){t[e[i]]=i}}return t};var p=function(e,t){t=t||"";return t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};var m=function(e,t,i){var n;return function(){var r=this,o=arguments;var s=function(){n=null;if(!i){e.apply(r,o)}};var a=i&&!n;clearTimeout(n);n=setTimeout(s,t);if(a){e.apply(r,o)}}};return{eq:t,eq2:i,peq2:n,ok:r,fail:o,self:l,not:s,and:a,invoke:d,uniqueId:h,rect2bnd:c,invertObject:f,namespaceToCamel:p,debounce:m}}();var c=function(){var t=function(e){return e[0]};var i=function(e){return e[e.length-1]};var n=function(e){return e.slice(0,e.length-1)};var r=function(e){return e.slice(1)};var o=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(t(r)){return r}}};var s=function(e,t){for(var i=0,n=e.length;i<n;i++){if(!t(e[i])){return false}}return true};var a=function(t,i){return e.inArray(i,t)};var l=function(e,t){return a(e,t)!==-1};var d=function(e,t){t=t||h.self;return e.reduce(function(e,i){return e+t(i)},0)};var u=function(e){var t=[],i=-1,n=e.length;while(++i<n){t[i]=e[i]}return t};var c=function(e){return!e||!e.length};var f=function(e,n){if(!e.length){return[]}var o=r(e);return o.reduce(function(e,t){var r=i(e);if(n(i(r),t)){r[r.length]=t}else{e[e.length]=[t]}return e},[[t(e)]])};var p=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){if(e[i]){t.push(e[i])}}return t};var m=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){if(!l(t,e[i])){t.push(e[i])}}return t};var v=function(e,t){var i=a(e,t);if(i===-1){return null}return e[i+1]};var g=function(e,t){var i=a(e,t);if(i===-1){return null}return e[i-1]};return{head:t,last:i,initial:n,tail:r,prev:g,next:v,find:o,contains:l,all:s,sum:d,from:u,isEmpty:c,clusterBy:f,compact:p,unique:m}}();var f=String.fromCharCode(160);var p="\ufeff";var m=function(){var t=function(t){return t&&e(t).hasClass("note-editable")};var i=function(t){return t&&e(t).hasClass("note-control-sizing")};var n=function(e){e=e.toUpperCase();return function(t){return t&&t.nodeName.toUpperCase()===e}};var r=function(e){return e&&e.nodeType===3};var o=function(e){return e&&e.nodeType===1};var s=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())};var a=function(e){if(t(e)){return false}return e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())};var l=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())};var d=n("PRE");var v=n("LI");var g=function(e){return a(e)&&!v(e)};var y=n("TABLE");var b=n("DATA");var w=function(e){return!S(e)&&!x(e)&&!_(e)&&!a(e)&&!y(e)&&!C(e)&&!b(e)};var x=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())};var _=n("HR");var k=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())};var C=n("BLOCKQUOTE");var S=function(e){return k(e)||C(e)||t(e)};var T=n("A");var D=function(e){return w(e)&&!!N(e,a)};var E=function(e){return w(e)&&!N(e,a)};var O=n("BODY");var P=function(e,t){return e.nextSibling===t||e.previousSibling===t};var M=function(e,t){t=t||h.ok;var i=[];if(e.previousSibling&&t(e.previousSibling)){i.push(e.previousSibling)}i.push(e);if(e.nextSibling&&t(e.nextSibling)){i.push(e.nextSibling)}return i};var A=u.isMSIE&&u.browserVersion<11?"&nbsp;":"<br>";var I=function(e){if(r(e)){return e.nodeValue.length}if(e){return e.childNodes.length}return 0};var F=function(e){var t=I(e);if(t===0){return true}else if(!r(e)&&t===1&&e.innerHTML===A){return true}else if(c.all(e.childNodes,r)&&e.innerHTML===""){return true}return false};var R=function(e){if(!s(e)&&!I(e)){e.innerHTML=A}};var N=function(e,i){while(e){if(i(e)){return e}if(t(e)){break}e=e.parentNode}return null};var L=function(e,i){e=e.parentNode;while(e){if(I(e)!==1){break}if(i(e)){return e}if(t(e)){break}e=e.parentNode}return null};var j=function(e,i){i=i||h.fail;var n=[];N(e,function(e){if(!t(e)){n.push(e)}return i(e)});return n};var B=function(e,t){var i=j(e);return c.last(i.filter(t))};var z=function(t,i){var n=j(t);for(var r=i;r;r=r.parentNode){if(e.inArray(r,n)>-1){return r}}return null};var $=function(e,t){t=t||h.fail;var i=[];while(e){if(t(e)){break}i.push(e);e=e.previousSibling}return i};var H=function(e,t){t=t||h.fail;var i=[];while(e){if(t(e)){break}i.push(e);e=e.nextSibling}return i};var U=function(e,t){var i=[];t=t||h.ok;(function n(r){if(e!==r&&t(r)){i.push(r)}for(var o=0,s=r.childNodes.length;o<s;o++){n(r.childNodes[o])}})(e);return i};var W=function(t,i){var n=t.parentNode;var r=e("<"+i+">")[0];n.insertBefore(r,t);r.appendChild(t);return r};var q=function(e,t){var i=t.nextSibling,n=t.parentNode;if(i){n.insertBefore(e,i)}else{n.appendChild(e)}return e};var Y=function(t,i){e.each(i,function(e,i){t.appendChild(i)});return t};var V=function(e){return e.offset===0};var G=function(e){return e.offset===I(e.node)};var X=function(e){return V(e)||G(e)};var Z=function(e,t){while(e&&e!==t){if(ee(e)!==0){return false}e=e.parentNode}return true};var K=function(e,t){if(!t){return false}while(e&&e!==t){if(ee(e)!==I(e.parentNode)-1){return false}e=e.parentNode}return true};var Q=function(e,t){return V(e)&&Z(e.node,t)};var J=function(e,t){return G(e)&&K(e.node,t)};var ee=function(e){var t=0;while(e=e.previousSibling){t+=1}return t};var te=function(e){return!!(e&&e.childNodes&&e.childNodes.length)};var ie=function(e,i){var n,r;if(e.offset===0){if(t(e.node)){return null}n=e.node.parentNode;r=ee(e.node)}else if(te(e.node)){n=e.node.childNodes[e.offset-1];r=I(n)}else{n=e.node;r=i?0:e.offset-1}return{node:n,offset:r}};var ne=function(e,i){var n,r;if(I(e.node)===e.offset){if(t(e.node)){return null}n=e.node.parentNode;r=ee(e.node)+1}else if(te(e.node)){n=e.node.childNodes[e.offset];r=0}else{n=e.node;r=i?I(e.node):e.offset+1}return{node:n,offset:r}};var re=function(e,t){return e.node===t.node&&e.offset===t.offset};var oe=function(e){if(r(e.node)||!te(e.node)||F(e.node)){return true}var t=e.node.childNodes[e.offset-1];var i=e.node.childNodes[e.offset];if((!t||s(t))&&(!i||s(i))){return true}return false};var se=function(e,t){while(e){if(t(e)){return e}e=ie(e)}return null};var ae=function(e,t){while(e){if(t(e)){return e}e=ne(e)}return null};var le=function(e){if(!r(e.node)){return false}var t=e.node.nodeValue.charAt(e.offset-1);return t&&(t!==" "&&t!==f)};var de=function(e,t,i,n){var r=e;while(r){i(r);if(re(r,t)){break}var o=n&&e.node!==r.node&&t.node!==r.node;r=ne(r,o)}};var ue=function(e,t){var i=j(t,h.eq(e));return i.map(ee).reverse()};var he=function(e,t){var i=e;for(var n=0,r=t.length;n<r;n++){if(i.childNodes.length<=t[n]){i=i.childNodes[i.childNodes.length-1]}else{i=i.childNodes[t[n]]}}return i};var ce=function(e,t){var i=t&&t.isSkipPaddingBlankHTML;var n=t&&t.isNotSplitEdgePoint;if(X(e)&&(r(e.node)||n)){if(V(e)){return e.node}else if(G(e)){return e.node.nextSibling}}if(r(e.node)){return e.node.splitText(e.offset)}else{var o=e.node.childNodes[e.offset];var s=q(e.node.cloneNode(false),e.node);Y(s,H(o));if(!i){R(e.node);R(s)}return s}};var fe=function(e,t,i){var n=j(t.node,h.eq(e));if(!n.length){return null}else if(n.length===1){return ce(t,i)}return n.reduce(function(e,n){if(e===t.node){e=ce(t,i)}return ce({node:n,offset:e?m.position(e):I(n)},i)})};var pe=function(e,t){var i=t?a:S;var n=j(e.node,i);var r=c.last(n)||e.node;var o,s;if(i(r)){o=n[n.length-2];s=r}else{o=r;s=o.parentNode}var l=o&&fe(o,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});if(!l&&s===e.node){l=e.node.childNodes[e.offset]}return{rightNode:l,container:s}};var me=function(e){return document.createElement(e)};var ve=function(e){return document.createTextNode(e)};var ge=function(e,t){if(!e||!e.parentNode){return}if(e.removeNode){return e.removeNode(t)}var i=e.parentNode;if(!t){var n=[];var r,o;for(r=0,o=e.childNodes.length;r<o;r++){n.push(e.childNodes[r])}for(r=0,o=n.length;r<o;r++){i.insertBefore(n[r],e)}}i.removeChild(e)};var ye=function(e,i){while(e){if(t(e)||!i(e)){break}var n=e.parentNode;ge(e);e=n}};var be=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase()){return e}var i=me(t);if(e.style.cssText){i.style.cssText=e.style.cssText}Y(i,c.from(e.childNodes));q(i,e);ge(e);return i};var we=n("TEXTAREA");var xe=function(e,t){var i=we(e[0])?e.val():e.html();if(t){return i.replace(/[\n\r]/g,"")}return i};var _e=function(t,i){var n=xe(t);if(i){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(r,function(e,t,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t;var r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(n||r?"\n":"")});n=e.trim(n)}return n};var ke=function(t){var i=e(t);var n=i.offset();var r=i.outerHeight(true);return{left:n.left,top:n.top+r}};var Ce=function(e,t){Object.keys(t).forEach(function(i){e.on(i,t[i])})};var Se=function(e,t){Object.keys(t).forEach(function(i){e.off(i,t[i])})};var Te=function(e){return e&&!m.isText(e)&&c.contains(e.classList,"note-styletag")};return{NBSP_CHAR:f,ZERO_WIDTH_NBSP_CHAR:p,blank:A,emptyPara:"<p>"+A+"</p>",makePredByNodeName:n,isEditable:t,isControlSizing:i,isText:r,isElement:o,isVoid:s,isPara:a,isPurePara:g,isHeading:l,isInline:w,isBlock:h.not(w),isBodyInline:E,isBody:O,isParaInline:D,isPre:d,isList:x,isTable:y,isData:b,isCell:k,isBlockquote:C,isBodyContainer:S,isAnchor:T,isDiv:n("DIV"),isLi:v,isBR:n("BR"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:we,isEmpty:F,isEmptyAnchor:h.and(T,F),isClosestSibling:P,withClosestSiblings:M,nodeLength:I,isLeftEdgePoint:V,isRightEdgePoint:G,isEdgePoint:X,isLeftEdgeOf:Z,isRightEdgeOf:K,isLeftEdgePointOf:Q,isRightEdgePointOf:J,prevPoint:ie,nextPoint:ne,isSamePoint:re,isVisiblePoint:oe,prevPointUntil:se,nextPointUntil:ae,isCharPoint:le,walkPoint:de,ancestor:N,singleChildAncestor:L,listAncestor:j,lastAncestor:B,listNext:H,listPrev:$,listDescendant:U,commonAncestor:z,wrap:W,insertAfter:q,appendChildNodes:Y,position:ee,hasChildren:te,makeOffsetPath:ue,fromOffsetPath:he,splitTree:fe,splitPoint:pe,create:me,createText:ve,remove:ge,removeWhile:ye,replace:be,html:_e,value:xe,posFromPlaceholder:ke,attachEvents:Ce,detachEvents:Se,isCustomStyleTag:Te}}();var v=function(t,i){var n=this;var r=e.summernote.ui;this.memos={};this.modules={};this.layoutInfo={};this.options=i;this.initialize=function(){this.layoutInfo=r.createLayout(t,i);this._initialize();t.hide();return this};this.destroy=function(){this._destroy();t.removeData("summernote");r.removeLayout(t,this.layoutInfo)};this.reset=function(){var e=n.isDisabled();this.code(m.emptyPara);this._destroy();this._initialize();if(e){n.disable()}};this._initialize=function(){var t=e.extend({},this.options.buttons);Object.keys(t).forEach(function(e){n.memo("button."+e,t[e])});var i=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(i).forEach(function(e){n.module(e,i[e],true)});Object.keys(this.modules).forEach(function(e){n.initializeModule(e)})};this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){n.removeModule(e)});Object.keys(this.memos).forEach(function(e){n.removeMemo(e)});this.triggerEvent("destroy",this)};this.code=function(e){var i=this.invoke("codeview.isActivated");if(e===undefined){this.invoke("codeview.sync");return i?this.layoutInfo.codable.val():this.layoutInfo.editable.html()}else{if(i){this.layoutInfo.codable.val(e)}else{this.layoutInfo.editable.html(e)}t.val(e);this.triggerEvent("change",e)}};this.isDisabled=function(){return this.layoutInfo.editable.attr("contenteditable")==="false"};this.enable=function(){this.layoutInfo.editable.attr("contenteditable",true);this.invoke("toolbar.activate",true);this.triggerEvent("disable",false)};this.disable=function(){if(this.invoke("codeview.isActivated")){this.invoke("codeview.deactivate")}this.layoutInfo.editable.attr("contenteditable",false);this.invoke("toolbar.deactivate",true);this.triggerEvent("disable",true)};this.triggerEvent=function(){var e=c.head(arguments);var i=c.tail(c.from(arguments));var n=this.options.callbacks[h.namespaceToCamel(e,"on")];if(n){n.apply(t[0],i)}t.trigger("summernote."+e,i)};this.initializeModule=function(e){var i=this.modules[e];i.shouldInitialize=i.shouldInitialize||h.ok;if(!i.shouldInitialize()){return}if(i.initialize){i.initialize()}if(i.events){m.attachEvents(t,i.events)}};this.module=function(e,t,i){if(arguments.length===1){return this.modules[e]}this.modules[e]=new t(this);if(!i){this.initializeModule(e)}};this.removeModule=function(e){var i=this.modules[e];if(i.shouldInitialize()){if(i.events){m.detachEvents(t,i.events)}if(i.destroy){i.destroy()}}delete this.modules[e]};this.memo=function(e,t){if(arguments.length===1){return this.memos[e]}this.memos[e]=t};this.removeMemo=function(e){if(this.memos[e]&&this.memos[e].destroy){this.memos[e].destroy()}delete this.memos[e]};this.createInvokeHandlerAndUpdateState=function(e,t){return function(i){n.createInvokeHandler(e,t)(i);n.invoke("buttons.updateCurrentStyle")}};this.createInvokeHandler=function(t,i){return function(r){r.preventDefault();var o=e(r.target);n.invoke(t,i||o.closest("[data-value]").data("value"),o)}};this.invoke=function(){var e=c.head(arguments);var t=c.tail(c.from(arguments));var i=e.split(".");var n=i.length>1;var r=n&&c.head(i);var o=n?c.last(i):c.head(i);var s=this.modules[r||"editor"];if(!r&&this[o]){return this[o].apply(this,t)}else if(s&&s[o]&&s.shouldInitialize()){return s[o].apply(s,t)}};return this.initialize()};e.fn.extend({summernote:function(){var t=e.type(c.head(arguments));var i=t==="string";var n=t==="object";var r=n?c.head(arguments):{};r=e.extend({},e.summernote.options,r);r.langInfo=e.extend(true,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]);r.icons=e.extend(true,{},e.summernote.options.icons,r.icons);r.tooltip=r.tooltip==="auto"?!u.isSupportTouch:r.tooltip;this.each(function(t,i){var n=e(i);if(!n.data("summernote")){var o=new v(n,r);n.data("summernote",o);n.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var s=o.data("summernote");if(i){return s.invoke.apply(s,c.from(arguments))}else if(r.focus){s.invoke("editor.focus")}}return this}});var g=function(t,i,n,r){this.render=function(o){var s=e(t);if(n&&n.contents){s.html(n.contents)}if(n&&n.className){s.addClass(n.className)}if(n&&n.data){e.each(n.data,function(e,t){s.attr("data-"+e,t)})}if(n&&n.click){s.on("click",n.click)}if(i){var a=s.find(".note-children-container");i.forEach(function(e){e.render(a.length?a:s)})}if(r){r(s,n)}if(n&&n.callback){n.callback(s)}if(o){o.append(s)}return s}};var y={create:function(t,i){return function(){var n=e.isArray(arguments[0])?arguments[0]:[];var r=typeof arguments[1]==="object"?arguments[1]:arguments[0];if(r&&r.children){n=r.children}return new g(t,n,r,i)}}};var b=y.create('<div class="note-editor note-frame panel panel-default"/>');var w=y.create('<div class="note-toolbar panel-heading"/>');var x=y.create('<div class="note-editing-area"/>');var _=y.create('<textarea class="note-codable"/>');var k=y.create('<div class="note-editable panel-body" contentEditable="true"/>');var C=y.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join(""));var S=y.create('<div class="note-editor"/>');var T=y.create('<div class="note-editable" contentEditable="true"/>');var D=y.create('<div class="note-btn-group btn-group">');var E=y.create('<div class="dropdown-menu">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t=typeof e==="string"?e:e.value||"";var n=i.template?i.template(e):e;var r=typeof e==="object"?e.option:undefined;var o='data-value="'+t+'"';var s=r!==undefined?' data-option="'+r+'"':"";return'<li><a href="#" '+(o+s)+">"+n+"</a></li>"}).join(""):i.items;t.html(n)});var O=function(e,t){return e+" "+R(t.icons.caret,"span")};var P=y.create('<div class="dropdown-menu note-check">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t=typeof e==="string"?e:e.value||"";var n=i.template?i.template(e):e;return'<li><a href="#" data-value="'+t+'">'+R(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;t.html(n)});var M=y.create('<div class="note-color-palette"/>',function(e,t){var i=[];for(var n=0,r=t.colors.length;n<r;n++){var o=t.eventName;var s=t.colors[n];var a=[];for(var l=0,d=s.length;l<d;l++){var u=s[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',o,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+a.join("")+"</div>")}e.html(i.join(""));if(t.tooltip){e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}});var A=y.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){if(t.fade){e.addClass("fade")}e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">'+'      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+'      <h4 class="modal-title">'+t.title+"</h4>"+"    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))});var I=y.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var i=typeof t.direction!=="undefined"?t.direction:"bottom";e.addClass(i);if(t.hideArrow){e.find(".arrow").hide()}});var F=y.create('<div class="checkbox"></div>',function(e,t){e.html([" <label"+(t.id?' for="'+t.id+'"':"")+">",' <input type="checkbox"'+(t.id?' id="'+t.id+'"':""),(t.checked?" checked":"")+"/>",t.text?t.text:"","</label>"].join(""))});var R=function(e,t){t=t||"i";return"<"+t+' class="'+e+'"/>'};var N={editor:b,toolbar:w,editingArea:x,codable:_,editable:k,statusbar:C,airEditor:S,airEditable:T,buttonGroup:D,dropdown:E,dropdownButtonContents:O,dropdownCheck:P,palette:M,dialog:A,popover:I,checkbox:F,icon:R,options:{},button:function(e,t){return y.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){if(t&&t.tooltip&&self.options.tooltip){e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t);e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){self.options=t;var i=(t.airMode?N.airEditor([N.editingArea([N.airEditable()])]):N.editor([N.toolbar(),N.editingArea([N.codable(),N.editable()]),N.statusbar()])).render();i.insertAfter(e);return{note:e,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html());t.editor.remove();e.show()}};e.summernote=e.summernote||{lang:{}};e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var L=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return c.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE,e.DELETE],t)},isMove:function(t){return c.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:h.invertObject(e),code:e}}();var j=function(){var t=function(e,t){var i=e.parentElement(),n;var r=document.body.createTextRange(),o;var s=c.from(i.childNodes);for(n=0;n<s.length;n++){if(m.isText(s[n])){continue}r.moveToElementText(s[n]);if(r.compareEndPoints("StartToStart",e)>=0){break}o=s[n]}if(n!==0&&m.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(o||i);a.collapse(!o);l=o?o.nextSibling:i.firstChild;var d=e.duplicate();d.setEndPoint("StartToStart",a);var u=d.text.replace(/[\r\n]/g,"").length;while(u>l.nodeValue.length&&l.nextSibling){u-=l.nodeValue.length;l=l.nextSibling}var h=l.nodeValue;if(t&&l.nextSibling&&m.isText(l.nextSibling)&&u===l.nodeValue.length){u-=l.nodeValue.length;l=l.nextSibling}i=l;n=u}return{cont:i,offset:n}};var i=function(e){var t=function(e,i){var n,r;if(m.isText(e)){var o=m.listPrev(e,h.not(m.isText));var s=c.last(o).previousSibling;n=s||e.parentNode;i+=c.sum(c.tail(o),m.nodeLength);r=!s}else{n=e.childNodes[i]||e;if(m.isText(n)){return t(n,0)}i=0;r=false}return{node:n,collapseToStart:r,offset:i}};var i=document.body.createTextRange();var n=t(e.node,e.offset);i.moveToElementText(n.node);i.collapse(n.collapseToStart);i.moveStart("character",n.offset);return i};var n=function(t,r,o,s){this.sc=t;this.so=r;this.ec=o;this.eo=s;var a=function(){if(u.isW3CRangeSupport){var e=document.createRange();e.setStart(t,r);e.setEnd(o,s);return e}else{var n=i({node:t,offset:r});n.setEndPoint("EndToEnd",i({node:o,offset:s}));return n}};this.getPoints=function(){return{sc:t,so:r,ec:o,eo:s}};this.getStartPoint=function(){return{node:t,offset:r}};this.getEndPoint=function(){return{node:o,offset:s}};this.select=function(){var e=a();if(u.isW3CRangeSupport){var t=document.getSelection();if(t.rangeCount>0){t.removeAllRanges()}t.addRange(e)}else{e.select()}return this};this.scrollIntoView=function(t){var i=e(t).height();if(t.scrollTop+i<this.sc.offsetTop){t.scrollTop+=Math.abs(t.scrollTop+i-this.sc.offsetTop)}return this};this.normalize=function(){var e=function(e,t){if(m.isVisiblePoint(e)&&!m.isEdgePoint(e)||m.isVisiblePoint(e)&&m.isRightEdgePoint(e)&&!t||m.isVisiblePoint(e)&&m.isLeftEdgePoint(e)&&t||m.isVisiblePoint(e)&&m.isBlock(e.node)&&m.isEmpty(e.node)){return e}var i=m.ancestor(e.node,m.isBlock);if((m.isLeftEdgePointOf(e,i)||m.isVoid(m.prevPoint(e).node))&&!t||(m.isRightEdgePointOf(e,i)||m.isVoid(m.nextPoint(e).node))&&t){if(m.isVisiblePoint(e)){return e}t=!t}var n=t?m.nextPointUntil(m.nextPoint(e),m.isVisiblePoint):m.prevPointUntil(m.prevPoint(e),m.isVisiblePoint);return n||e};var t=e(this.getEndPoint(),false);var i=this.isCollapsed()?t:e(this.getStartPoint(),true);return new n(i.node,i.offset,t.node,t.offset)};this.nodes=function(e,t){e=e||h.ok;var i=t&&t.includeAncestor;var n=t&&t.fullyContains;var r=this.getStartPoint();var o=this.getEndPoint();var s=[];var a=[];m.walkPoint(r,o,function(t){if(m.isEditable(t.node)){return}var r;if(n){if(m.isLeftEdgePoint(t)){a.push(t.node)}if(m.isRightEdgePoint(t)&&c.contains(a,t.node)){r=t.node}}else if(i){r=m.ancestor(t.node,e)}else{r=t.node}if(r&&e(r)){s.push(r)}},true);return c.unique(s)};this.commonAncestor=function(){return m.commonAncestor(t,o)};this.expand=function(e){var i=m.ancestor(t,e);var a=m.ancestor(o,e);if(!i&&!a){return new n(t,r,o,s)}var l=this.getPoints();if(i){l.sc=i;l.so=0}if(a){l.ec=a;l.eo=m.nodeLength(a)}return new n(l.sc,l.so,l.ec,l.eo)};this.collapse=function(e){if(e){return new n(t,r,t,r)}else{return new n(o,s,o,s)}};this.splitText=function(){var e=t===o;var i=this.getPoints();if(m.isText(o)&&!m.isEdgePoint(this.getEndPoint())){o.splitText(s)}if(m.isText(t)&&!m.isEdgePoint(this.getStartPoint())){i.sc=t.splitText(r);i.so=0;if(e){i.ec=i.sc;i.eo=s-r}}return new n(i.sc,i.so,i.ec,i.eo)};this.deleteContents=function(){if(this.isCollapsed()){return this}var t=this.splitText();var i=t.nodes(null,{fullyContains:true});var r=m.prevPointUntil(t.getStartPoint(),function(e){return!c.contains(i,e.node)});var o=[];e.each(i,function(e,t){var i=t.parentNode;if(r.node!==i&&m.nodeLength(i)===1){o.push(i)}m.remove(t,false)});e.each(o,function(e,t){m.remove(t,false)});return new n(r.node,r.offset,r.node,r.offset).normalize()};var l=function(e){return function(){var i=m.ancestor(t,e);return!!i&&i===m.ancestor(o,e)}};this.isOnEditable=l(m.isEditable);this.isOnList=l(m.isList);this.isOnAnchor=l(m.isAnchor);this.isOnCell=l(m.isCell);this.isOnData=l(m.isData);this.isLeftEdgeOf=function(e){if(!m.isLeftEdgePoint(this.getStartPoint())){return false}var t=m.ancestor(this.sc,e);return t&&m.isLeftEdgeOf(this.sc,t)};this.isCollapsed=function(){return t===o&&r===s};this.wrapBodyInlineWithPara=function(){if(m.isBodyContainer(t)&&m.isEmpty(t)){t.innerHTML=m.emptyPara;return new n(t.firstChild,0,t.firstChild,0)}var e=this.normalize();if(m.isParaInline(t)||m.isPara(t)){return e}var i;if(m.isInline(e.sc)){var r=m.listAncestor(e.sc,h.not(m.isInline));i=c.last(r);if(!m.isInline(i)){i=r[r.length-2]||e.sc.childNodes[e.so]}}else{i=e.sc.childNodes[e.so>0?e.so-1:0]}var o=m.listPrev(i,m.isParaInline).reverse();o=o.concat(m.listNext(i.nextSibling,m.isParaInline));if(o.length){var s=m.wrap(c.head(o),"p");m.appendChildNodes(s,c.tail(o))}return this.normalize()};this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents();var i=m.splitPoint(t.getStartPoint(),m.isInline(e));if(i.rightNode){i.rightNode.parentNode.insertBefore(e,i.rightNode)}else{i.container.appendChild(e)}return e};this.pasteHTML=function(t){var i=e("<div></div>").html(t)[0];var n=c.from(i.childNodes);var r=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return r.insertNode(e)}).reverse()};this.toString=function(){var e=a();return u.isW3CRangeSupport?e.toString():e.text};this.getWordRange=function(e){var t=this.getEndPoint();if(!m.isCharPoint(t)){return this}var i=m.prevPointUntil(t,function(e){return!m.isCharPoint(e)});if(e){t=m.nextPointUntil(t,function(e){return!m.isCharPoint(e)})}return new n(i.node,i.offset,t.node,t.offset)};this.bookmark=function(e){return{s:{path:m.makeOffsetPath(e,t),offset:r},e:{path:m.makeOffsetPath(e,o),offset:s}}};this.paraBookmark=function(e){return{s:{path:c.tail(m.makeOffsetPath(c.head(e),t)),offset:r},e:{path:c.tail(m.makeOffsetPath(c.last(e),o)),offset:s}}};this.getClientRects=function(){var e=a();return e.getClientRects()}};return{create:function(e,t,i,r){if(arguments.length===4){return new n(e,t,i,r)}else if(arguments.length===2){i=e;r=t;return new n(e,t,i,r)}else{var o=this.createFromSelection();if(!o&&arguments.length===1){o=this.createFromNode(arguments[0]);return o.collapse(m.emptyPara===arguments[0].innerHTML)}return o}},createFromSelection:function(){var e,i,r,o;if(u.isW3CRangeSupport){var s=document.getSelection();if(!s||s.rangeCount===0){return null}else if(m.isBody(s.anchorNode)){return null}var a=s.getRangeAt(0);e=a.startContainer;i=a.startOffset;r=a.endContainer;o=a.endOffset}else{var l=document.selection.createRange();var d=l.duplicate();d.collapse(false);var h=l;h.collapse(true);var c=t(h,true),f=t(d,false);if(m.isText(c.node)&&m.isLeftEdgePoint(c)&&m.isTextNode(f.node)&&m.isRightEdgePoint(f)&&f.node.nextSibling===c.node){c=f}e=c.cont;i=c.offset;r=f.cont;o=f.offset}return new n(e,i,r,o)},createFromNode:function(e){var t=e;var i=0;var n=e;var r=m.nodeLength(n);if(m.isVoid(t)){i=m.listPrev(t).length-1;t=t.parentNode}if(m.isBR(n)){r=m.listPrev(n).length-1;n=n.parentNode}else if(m.isVoid(n)){r=m.listPrev(n).length;n=n.parentNode}return this.create(t,i,n,r)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(true)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=m.fromOffsetPath(e,t.s.path);var r=t.s.offset;var o=m.fromOffsetPath(e,t.e.path);var s=t.e.offset;return new n(i,r,o,s)},createFromParaBookmark:function(e,t){var i=e.s.offset;var r=e.e.offset;var o=m.fromOffsetPath(c.head(t),e.s.path);var s=m.fromOffsetPath(c.last(t),e.e.path);return new n(o,i,s,r)}}}();var B=function(){var t=function(t){return e.Deferred(function(i){e.extend(new FileReader,{onload:function(e){var t=e.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()};var i=function(t){return e.Deferred(function(i){var n=e("<img>");n.one("load",function(){n.off("error abort");i.resolve(n)}).one("error abort",function(){n.off("load").detach();i.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:i}}();var z=function(e){var t=[],i=-1;var n=e[0];var r=function(){var t=j.create(n);var i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(n):i}};var o=function(t){if(t.contents!==null){e.html(t.contents)}if(t.bookmark!==null){j.createFromBookmark(n,t.bookmark).select()}};this.rewind=function(){if(e.html()!==t[i].contents){this.recordUndo()}i=0;o(t[i])};this.reset=function(){t=[];i=-1;e.html("");this.recordUndo()};this.undo=function(){if(e.html()!==t[i].contents){this.recordUndo()}if(0<i){i--;o(t[i])}};this.redo=function(){if(t.length-1>i){i++;o(t[i])}};this.recordUndo=function(){i++;if(t.length>i){t=t.slice(0,i)}t.push(r())}};var $=function(){var t=function(t,i){if(u.jqueryVersion<1.9){var n={};e.each(i,function(e,i){n[i]=t.css(i)});return n}return t.css.call(t,i)};this.fromNode=function(e){var i=["font-family","font-size","text-align","list-style-type","line-height"];var n=t(e,i)||{};n["font-size"]=parseInt(n["font-size"],10);return n};this.stylePara=function(t,i){e.each(t.nodes(m.isPara,{includeAncestor:true}),function(t,n){e(n).css(i)})};this.styleNodes=function(t,i){t=t.splitText();var n=i&&i.nodeName||"SPAN";var r=!!(i&&i.expandClosestSibling);var o=!!(i&&i.onlyPartialContains);if(t.isCollapsed()){return[t.insertNode(m.create(n))]}var s=m.makePredByNodeName(n);var a=t.nodes(m.isText,{fullyContains:true}).map(function(e){return m.singleChildAncestor(e,s)||m.wrap(e,n)});if(r){if(o){var l=t.nodes();s=h.and(s,function(e){return c.contains(l,e)})}return a.map(function(t){var i=m.withClosestSiblings(t,s);var n=c.head(i);var r=c.tail(i);e.each(r,function(e,t){m.appendChildNodes(n,t.childNodes);m.remove(t)});return c.head(i)})}else{return a}};this.current=function(t){var i=e(!m.isElement(t.sc)?t.sc.parentNode:t.sc);var n=this.fromNode(i);try{n=e.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(!t.isOnList()){n["list-style"]="none"}else{var r=["circle","disc","disc-leading-zero","square"];var o=e.inArray(n["list-style-type"],r)>-1;n["list-style"]=o?"unordered":"ordered"}var s=m.ancestor(t.sc,m.isPara);if(s&&s.style["line-height"]){n["line-height"]=s.style.lineHeight}else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}n.anchor=t.isOnAnchor()&&m.ancestor(t.sc,m.isAnchor);n.ancestors=m.listAncestor(t.sc,m.isEditable);n.range=t;return n}};var H=function(){var t=this;this.insertOrderedList=function(e){this.toggleList("OL",e)};this.insertUnorderedList=function(e){this.toggleList("UL",e)};this.indent=function(t){var i=this;var n=j.create(t).wrapBodyInlineWithPara();var r=n.nodes(m.isPara,{includeAncestor:true});var o=c.clusterBy(r,h.peq2("parentNode"));e.each(o,function(t,n){var r=c.head(n);if(m.isLi(r)){i.wrapList(n,r.parentNode.nodeName)}else{e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}});n.select()};this.outdent=function(t){var i=this;var n=j.create(t).wrapBodyInlineWithPara();var r=n.nodes(m.isPara,{includeAncestor:true});var o=c.clusterBy(r,h.peq2("parentNode"));e.each(o,function(t,n){var r=c.head(n);if(m.isLi(r)){i.releaseList([n])}else{e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){t=parseInt(t,10)||0;return t>25?t-25:""})})}});n.select()};this.toggleList=function(i,n){var r=j.create(n).wrapBodyInlineWithPara();var o=r.nodes(m.isPara,{includeAncestor:true});var s=r.paraBookmark(o);var a=c.clusterBy(o,h.peq2("parentNode"));if(c.find(o,m.isPurePara)){var l=[];e.each(a,function(e,n){l=l.concat(t.wrapList(n,i))});o=l}else{var d=r.nodes(m.isList,{includeAncestor:true}).filter(function(t){return!e.nodeName(t,i)});if(d.length){e.each(d,function(e,t){m.replace(t,i)})}else{o=this.releaseList(a,true)}}j.createFromParaBookmark(s,o).select()};this.wrapList=function(e,t){var i=c.head(e);var n=c.last(e);var r=m.isList(i.previousSibling)&&i.previousSibling;var o=m.isList(n.nextSibling)&&n.nextSibling;var s=r||m.insertAfter(m.create(t||"UL"),n);e=e.map(function(e){return m.isPurePara(e)?m.replace(e,"LI"):e});m.appendChildNodes(s,e);if(o){m.appendChildNodes(s,c.from(o.childNodes));m.remove(o)}return e};this.releaseList=function(t,i){var n=[];e.each(t,function(t,r){var o=c.head(r);var s=c.last(r);var a=i?m.lastAncestor(o,m.isList):o.parentNode;var l=a.childNodes.length>1?m.splitTree(a,{node:s.parentNode,offset:m.position(s)+1},{isSkipPaddingBlankHTML:true}):null;var d=m.splitTree(a,{node:o.parentNode,offset:m.position(o)},{isSkipPaddingBlankHTML:true});r=i?m.listDescendant(d,m.isLi):c.from(d.childNodes).filter(m.isLi);if(i||!m.isList(a.parentNode)){r=r.map(function(e){return m.replace(e,"P")})}e.each(c.from(r).reverse(),function(e,t){m.insertAfter(t,a)});var u=c.compact([a,d,l]);e.each(u,function(t,i){var n=[i].concat(m.listDescendant(i,m.isList));e.each(n.reverse(),function(e,t){if(!m.nodeLength(t)){m.remove(t,true)}})});n=n.concat(r)});return n}};var U=function(){var t=new H;this.insertTab=function(e,t){var i=m.createText(new Array(t+1).join(m.NBSP_CHAR));e=e.deleteContents();e.insertNode(i,true);e=j.create(i,t);e.select()};this.insertParagraph=function(i){var n=j.create(i);n=n.deleteContents();n=n.wrapBodyInlineWithPara();var r=m.ancestor(n.sc,m.isPara);var o;if(r){if(m.isEmpty(r)&&m.isLi(r)){t.toggleList(r.parentNode.nodeName);return}else if(m.isEmpty(r)&&m.isPara(r)&&m.isBlockquote(r.parentNode)){m.insertAfter(r,r.parentNode);o=r}else{o=m.splitTree(r,n.getStartPoint());var s=m.listDescendant(r,m.isEmptyAnchor);s=s.concat(m.listDescendant(o,m.isEmptyAnchor));e.each(s,function(e,t){m.remove(t)});if((m.isHeading(o)||m.isPre(o)||m.isCustomStyleTag(o))&&m.isEmpty(o)){o=m.replace(o,"p")}}}else{var a=n.sc.childNodes[n.so];o=e(m.emptyPara)[0];if(a){n.sc.insertBefore(o,a)}else{n.sc.appendChild(o)}}j.create(o,0).normalize().select().scrollIntoView(i)}};var W=function(e,t,i,n){var r={colPos:0,rowPos:0};var o=[];var s=[];function a(){if(!e||!e.tagName||e.tagName.toLowerCase()!=="td"&&e.tagName.toLowerCase()!=="th"){console.error("Impossible to identify start Cell point.",e);return}r.colPos=e.cellIndex;if(!e.parentElement||!e.parentElement.tagName||e.parentElement.tagName.toLowerCase()!=="tr"){console.error("Impossible to identify start Row point.",e);return}r.rowPos=e.parentElement.rowIndex}function l(e,t,i,n,r,s,a){var l={baseRow:i,baseCell:n,isRowSpan:r,isColSpan:s,isVirtual:a};if(!o[e]){o[e]=[]}o[e][t]=l}function d(e,t,i,n){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:n}}}function u(e,t){if(!o[e]){return t}if(!o[e][t]){return t}var i=t;while(o[e][i]){i++;if(!o[e][i]){return i}}}function h(e,t){var i=u(e.rowIndex,t.cellIndex);var n=t.colSpan>1;var o=t.rowSpan>1;var s=e.rowIndex===r.rowPos&&t.cellIndex===r.colPos;l(e.rowIndex,i,e,t,o,n,false);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(a>1){for(var d=1;d<a;d++){var h=e.rowIndex+d;c(h,i,t,s);l(h,i,e,t,true,n,true)}}var f=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(f>1){for(var p=1;p<f;p++){var m=u(e.rowIndex,i+p);c(e.rowIndex,m,t,s);l(e.rowIndex,m,e,t,o,true,true)}}}function c(e,t,i,n){if(e===r.rowPos&&r.colPos>=i.cellIndex&&i.cellIndex<=t&&!n){r.colPos++}}function f(){var e=n.rows;for(var t=0;t<e.length;t++){var i=e[t].cells;for(var r=0;r<i.length;r++){h(e[t],i[r])}}}function p(e){switch(t){case W.where.Column:if(e.isColSpan){return W.resultAction.SubtractSpanCount}break;case W.where.Row:if(!e.isVirtual&&e.isRowSpan){return W.resultAction.AddCell}else if(e.isRowSpan){return W.resultAction.SubtractSpanCount}break}return W.resultAction.RemoveCell}function m(e){switch(t){case W.where.Column:if(e.isColSpan){return W.resultAction.SumSpanCount}else if(e.isRowSpan&&e.isVirtual){return W.resultAction.Ignore}break;case W.where.Row:if(e.isRowSpan){return W.resultAction.SumSpanCount}else if(e.isColSpan&&e.isVirtual){return W.resultAction.Ignore}break}return W.resultAction.AddCell}function v(){a();f()}this.getActionList=function(){var e=t===W.where.Row?r.rowPos:-1;var n=t===W.where.Column?r.colPos:-1;var a=0;var l=true;while(l){var u=e>=0?e:a;var h=n>=0?n:a;var c=o[u];if(!c){l=false;return s}var f=c[h];if(!f){l=false;return s}var v=W.resultAction.Ignore;switch(i){case W.requestAction.Add:v=m(f);break;case W.requestAction.Delete:v=p(f);break}s.push(d(f,v,u,h));a++}return s};v()};W.where={Row:0,Column:1};W.requestAction={Add:0,Delete:1};W.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var q=function(){this.tab=function(e,t){var i=m.ancestor(e.commonAncestor(),m.isCell);var n=m.ancestor(i,m.isTable);var r=m.listDescendant(n,m.isCell);var o=c[t?"prev":"next"](r,i);if(o){j.create(o,0).select()}};this.addRow=function(t,i){var n=m.ancestor(t.commonAncestor(),m.isCell);var r=e(n).closest("tr");var o=this.recoverAttributes(r);var s=e("<tr"+o+"></tr>");var a=new W(n,W.where.Row,W.requestAction.Add,e(r).closest("table")[0]);var l=a.getActionList();for(var d=0;d<l.length;d++){var u=l[d];var h=this.recoverAttributes(u.baseCell);switch(u.action){case W.resultAction.AddCell:s.append("<td"+h+">"+m.blank+"</td>");break;case W.resultAction.SumSpanCount:if(i==="top"){var c=u.baseCell.parent;var f=(!c?0:u.baseCell.closest("tr").rowIndex)<=r[0].rowIndex;if(f){var p=e("<div></div>").append(e("<td"+h+">"+m.blank+"</td>").removeAttr("rowspan")).html();s.append(p);break}}var v=parseInt(u.baseCell.rowSpan,10);v++;u.baseCell.setAttribute("rowSpan",v);break}}if(i==="top"){r.before(s)}else{var g=n.rowSpan>1;if(g){var y=r[0].rowIndex+(n.rowSpan-2);e(e(r).parent().find("tr")[y]).after(e(s));return}r.after(s)}};this.addCol=function(t,i){var n=m.ancestor(t.commonAncestor(),m.isCell);var r=e(n).closest("tr");var o=e(r).siblings();o.push(r);var s=new W(n,W.where.Column,W.requestAction.Add,e(r).closest("table")[0]);var a=s.getActionList();for(var l=0;l<a.length;l++){var d=a[l];var u=this.recoverAttributes(d.baseCell);switch(d.action){case W.resultAction.AddCell:if(i==="right"){e(d.baseCell).after("<td"+u+">"+m.blank+"</td>")}else{e(d.baseCell).before("<td"+u+">"+m.blank+"</td>")}break;case W.resultAction.SumSpanCount:if(i==="right"){var h=parseInt(d.baseCell.colSpan,10);h++;d.baseCell.setAttribute("colSpan",h)}else{e(d.baseCell).before("<td"+u+">"+m.blank+"</td>")}break}}};this.recoverAttributes=function(e){var t="";if(!e){return t}var i=e.attributes||[];for(var n=0;n<i.length;n++){if(i[n].name.toLowerCase()==="id"){continue}if(i[n].specified){t+=" "+i[n].name+"='"+i[n].value+"'"}}return t};this.deleteRow=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);var n=e(i).closest("tr");var r=n.children("td, th").index(e(i));var o=n[0].rowIndex;var s=new W(i,W.where.Row,W.requestAction.Delete,e(n).closest("table")[0]);var a=s.getActionList();for(var l=0;l<a.length;l++){if(!a[l]){continue}var d=a[l].baseCell;var u=a[l].virtualTable;var h=d.rowSpan&&d.rowSpan>1;var c=h?parseInt(d.rowSpan,10):0;switch(a[l].action){case W.resultAction.Ignore:continue;case W.resultAction.AddCell:var f=n.next("tr")[0];if(!f){continue}var p=n[0].cells[r];if(h){if(c>2){c--;f.insertBefore(p,f.cells[r]);f.cells[r].setAttribute("rowSpan",c);f.cells[r].innerHTML=""}else if(c===2){f.insertBefore(p,f.cells[r]);f.cells[r].removeAttribute("rowSpan");f.cells[r].innerHTML=""}}continue;case W.resultAction.SubtractSpanCount:if(h){if(c>2){c--;d.setAttribute("rowSpan",c);if(u.rowIndex!==o&&d.cellIndex===r){d.innerHTML=""}}else if(c===2){d.removeAttribute("rowSpan");if(u.rowIndex!==o&&d.cellIndex===r){d.innerHTML=""}}}continue;case W.resultAction.RemoveCell:continue}}n.remove()};this.deleteCol=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);var n=e(i).closest("tr");var r=n.children("td, th").index(e(i));var o=new W(i,W.where.Column,W.requestAction.Delete,e(n).closest("table")[0]);var s=o.getActionList();for(var a=0;a<s.length;a++){if(!s[a]){continue}switch(s[a].action){case W.resultAction.Ignore:continue;case W.resultAction.SubtractSpanCount:var l=s[a].baseCell;var d=l.colSpan&&l.colSpan>1;if(d){var u=l.colSpan?parseInt(l.colSpan,10):0;if(u>2){u--;l.setAttribute("colSpan",u);if(l.cellIndex===r){l.innerHTML=""}}else if(u===2){l.removeAttribute("colSpan");if(l.cellIndex===r){l.innerHTML=""}}}continue;case W.resultAction.RemoveCell:m.remove(s[a].baseCell,true);continue}}};this.createTable=function(t,i,n){var r=[],o;for(var s=0;s<t;s++){r.push("<td>"+m.blank+"</td>")}o=r.join("");var a=[],l;for(var d=0;d<i;d++){a.push("<tr>"+o+"</tr>")}l=a.join("");var u=e("<table>"+l+"</table>");if(n&&n.tableClassName){u.addClass(n.tableClassName)}return u[0]};this.deleteTable=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);e(i).closest("table").remove()}};var Y="bogus";var V=function(t){var i=this;var n=t.layoutInfo.note;var r=t.layoutInfo.editor;var o=t.layoutInfo.editable;var s=t.options;var a=s.langInfo;var l=o[0];var d=null;var f=new $;var p=new q;var v=new U;var g=new H;var y=new z(o);this.initialize=function(){o.on("keydown",function(e){if(e.keyCode===L.code.ENTER){t.triggerEvent("enter",e)}t.triggerEvent("keydown",e);if(!e.isDefaultPrevented()){if(s.shortcuts){i.handleKeyMap(e)}else{i.preventDefaultEditableShortCuts(e)}}}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)});o.html(m.html(n)||m.emptyPara);var e=u.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(e,h.debounce(function(){t.triggerEvent("change",o.html())},100));r.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)});if(!s.airMode){if(s.width){r.outerWidth(s.width)}if(s.height){o.outerHeight(s.height)}if(s.maxHeight){o.css("max-height",s.maxHeight)}if(s.minHeight){o.css("min-height",s.minHeight)}}y.recordUndo()};this.destroy=function(){o.off()};this.handleKeyMap=function(e){var i=s.keyMap[u.isMac?"mac":"pc"];var n=[];if(e.metaKey){n.push("CMD")}if(e.ctrlKey&&!e.altKey){n.push("CTRL")}if(e.shiftKey){n.push("SHIFT")}var r=L.nameFromCode[e.keyCode];if(r){n.push(r)}var o=i[n.join("+")];if(o){e.preventDefault();t.invoke(o)}else if(L.isEdit(e.keyCode)){this.afterCommand()}};this.preventDefaultEditableShortCuts=function(e){if((e.ctrlKey||e.metaKey)&&c.contains([66,73,85],e.keyCode)){e.preventDefault()}};this.createRange=function(){this.focus();return j.create(l)};this.saveRange=function(e){d=this.createRange();if(e){d.collapse().select()}};this.restoreRange=function(){if(d){d.select();this.focus()}};this.saveTarget=function(e){o.data("target",e)};this.clearTarget=function(){o.removeData("target")};this.restoreTarget=function(){return o.data("target")};this.currentStyle=function(){var e=j.create();if(e){e=e.normalize()}return e?f.current(e):f.fromNode(o)};this.styleFromNode=function(e){return f.fromNode(e)};this.undo=function(){t.triggerEvent("before.command",o.html());y.undo();t.triggerEvent("change",o.html())};t.memo("help.undo",a.help.undo);this.redo=function(){t.triggerEvent("before.command",o.html());y.redo();t.triggerEvent("change",o.html())};t.memo("help.redo",a.help.redo);var b=this.beforeCommand=function(){t.triggerEvent("before.command",o.html());i.focus()};var w=this.afterCommand=function(e){y.recordUndo();if(!e){t.triggerEvent("change",o.html())}};var x=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","fontName"];for(var _=0,k=x.length;_<k;_++){this[x[_]]=function(e){return function(t){b();document.execCommand(e,false,t);w(true)}}(x[_]);t.memo("help."+x[_],a.help[x[_]])}this.tab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell()){p.tab(e)}else{b();v.insertTab(e,s.tabSize);w()}};t.memo("help.tab",a.help.tab);this.untab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell()){p.tab(e,true)}};t.memo("help.untab",a.help.untab);this.wrapCommand=function(e){return function(){b();e.apply(i,arguments);w()}};this.insertParagraph=this.wrapCommand(function(){v.insertParagraph(l)});t.memo("help.insertParagraph",a.help.insertParagraph);this.insertOrderedList=this.wrapCommand(function(){g.insertOrderedList(l)});t.memo("help.insertOrderedList",a.help.insertOrderedList);this.insertUnorderedList=this.wrapCommand(function(){g.insertUnorderedList(l)});t.memo("help.insertUnorderedList",a.help.insertUnorderedList);this.indent=this.wrapCommand(function(){g.indent(l)});t.memo("help.indent",a.help.indent);this.outdent=this.wrapCommand(function(){g.outdent(l)});t.memo("help.outdent",a.help.outdent);this.insertImage=function(e,i){return B.createImage(e,i).then(function(e){b();if(typeof i==="function"){i(e)}else{if(typeof i==="string"){e.attr("data-filename",i)}e.css("width",Math.min(o.width(),e.width()))}e.show();j.create(l).insertNode(e[0]);j.createFromNodeAfter(e[0]).select();w()}).fail(function(e){t.triggerEvent("image.upload.error",e)})};this.insertImages=function(n){e.each(n,function(e,n){var r=n.name;if(s.maximumImageFileSize&&s.maximumImageFileSize<n.size){t.triggerEvent("image.upload.error",a.image.maximumFileSizeError)}else{B.readFileAsDataURL(n).then(function(e){return i.insertImage(e,r)}).fail(function(){t.triggerEvent("image.upload.error")})}})};this.insertImagesOrCallback=function(e){var i=s.callbacks;if(i.onImageUpload){t.triggerEvent("image.upload",e)}else{this.insertImages(e)}};this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e);j.createFromNodeAfter(e).select()});this.insertText=this.wrapCommand(function(e){var t=this.createRange();var i=t.insertNode(m.createText(e));j.create(i,m.nodeLength(i)).select()});this.getSelectedText=function(){var e=this.createRange();if(e.isOnAnchor()){e=j.createFromNode(m.ancestor(e.sc,m.isAnchor))}return e.toString()};this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);j.createFromNodeAfter(c.last(t)).select()});this.formatBlock=this.wrapCommand(function(e,i){var n=t.options.callbacks.onApplyCustomStyle;if(n){n.call(this,i,t,this.onFormatBlock)}else{this.onFormatBlock(e)}});this.onFormatBlock=function(e){e=u.isMSIE?"<"+e+">":e;document.execCommand("FormatBlock",false,e)};this.formatPara=function(){this.formatBlock("P")};t.memo("help.formatPara",a.help.formatPara);for(var _=1;_<=6;_++){this["formatH"+_]=function(e){return function(){this.formatBlock("H"+e)}}(_);t.memo("help.formatH"+_,a.help["formatH"+_])}this.fontSize=function(t){var i=this.createRange();if(i&&i.isCollapsed()){var n=f.styleNodes(i);var r=c.head(n);e(n).css({"font-size":t+"px"});if(r&&!m.nodeLength(r)){r.innerHTML=m.ZERO_WIDTH_NBSP_CHAR;j.createFromNodeAfter(r.firstChild).select();o.data(Y,r)}}else{b();e(f.styleNodes(i)).css({"font-size":t+"px"});w()}};this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(m.create("HR"));if(e.nextSibling){j.create(e.nextSibling,0).normalize().select()}});t.memo("help.insertHorizontalRule",a.help.insertHorizontalRule);this.removeBogus=function(){var e=o.data(Y);if(!e){return}var t=c.find(c.from(e.childNodes),m.isText);var i=t.nodeValue.indexOf(m.ZERO_WIDTH_NBSP_CHAR);if(i!==-1){t.deleteData(i,1)}if(m.isEmpty(e)){m.remove(e)}o.removeData(Y)};this.lineHeight=this.wrapCommand(function(e){f.stylePara(this.createRange(),{lineHeight:e})});this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=m.ancestor(e.sc,m.isAnchor);e=j.createFromNode(t);e.select();b();document.execCommand("unlink");w()}};this.createLink=this.wrapCommand(function(t){var i=t.url;var n=t.text;var r=t.isNewWindow;var o=t.range||this.createRange();var a=o.toString()!==n;if(typeof i==="string"){i=i.trim()}if(s.onCreateLink){i=s.onCreateLink(i)}else{i=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i}var l=[];if(a){o=o.deleteContents();var d=o.insertNode(e("<A>"+n+"</A>")[0]);l.push(d)}else{l=f.styleNodes(o,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true})}e.each(l,function(t,n){e(n).attr("href",i);if(r){e(n).attr("target","_blank")}else{e(n).removeAttr("target")}});var u=j.createFromNodeBefore(c.head(l));var h=u.getStartPoint();var p=j.createFromNodeAfter(c.last(l));var m=p.getEndPoint();j.create(h.node,h.offset,m.node,m.offset).select()});this.getLinkInfo=function(){var t=this.createRange().expand(m.isAnchor);var i=e(c.head(t.nodes(m.isAnchor)));var n={range:t,text:t.toString(),url:i.length?i.attr("href"):""};if(i.length){n.isNewWindow=i.attr("target")==="_blank"}return n};this.color=this.wrapCommand(function(e){var t=e.foreColor;var i=e.backColor;if(t){document.execCommand("foreColor",false,t)}if(i){document.execCommand("backColor",false,i)}});this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",false,true);document.execCommand("foreColor",false,e)});this.insertTable=this.wrapCommand(function(e){var t=e.split("x");var i=this.createRange().deleteContents();i.insertNode(p.createTable(t[0],t[1],s))});this.addRow=function(e){var t=this.createRange(o);if(t.isCollapsed()&&t.isOnCell()){b();p.addRow(t,e);w()}};this.addCol=function(e){var t=this.createRange(o);if(t.isCollapsed()&&t.isOnCell()){b();p.addCol(t,e);w()}};this.deleteRow=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteRow(e);w()}};this.deleteCol=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteCol(e);w()}};this.deleteTable=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteTable(e);w()}};this.floatMe=this.wrapCommand(function(t){var i=e(this.restoreTarget());i.toggleClass("note-float-left",t==="left");i.toggleClass("note-float-right",t==="right");i.css("float",t)});this.resize=this.wrapCommand(function(t){var i=e(this.restoreTarget());i.css({width:t*100+"%",height:""})});this.resizeTo=function(e,t,i){var n;if(i){var r=e.y/e.x;var o=t.data("ratio");n={width:o>r?e.x:e.y/o,height:o>r?e.x*o:e.y}}else{n={width:e.x,height:e.y}}t.css(n)};this.removeMedia=this.wrapCommand(function(){var i=e(this.restoreTarget()).detach();t.triggerEvent("media.delete",i,o)});this.hasFocus=function(){return o.is(":focus")};this.focus=function(){if(!this.hasFocus()){o.focus()}};this.isEmpty=function(){return m.isEmpty(o[0])||m.emptyPara===o.html()};this.empty=function(){t.invoke("code",m.emptyPara)}};var G=function(t){var i=this;var n=t.layoutInfo.editable;this.events={"summernote.keydown":function(e,n){if(i.needKeydownHook()){if((n.ctrlKey||n.metaKey)&&n.keyCode===L.code.V){t.invoke("editor.saveRange");i.$paste.focus();setTimeout(function(){i.pasteByHook()},0)}}}};this.needKeydownHook=function(){return u.isMSIE&&u.browserVersion>10||u.isFF};this.initialize=function(){if(this.needKeydownHook()){this.$paste=e('<div tabindex="-1" />').attr("contenteditable",true).css({position:"absolute",left:-1e5,opacity:0});n.before(this.$paste);this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})}else{n.on("paste",this.pasteByEvent)}};this.destroy=function(){if(this.needKeydownHook()){this.$paste.remove();this.$paste=null}};this.pasteByHook=function(){var i=this.$paste[0].firstChild;var n=i&&i.src;if(m.isImg(i)&&n.indexOf("data:")===0){var r=atob(i.src.split(",")[1]);var o=new Uint8Array(r.length);for(var s=0;s<r.length;s++){o[s]=r.charCodeAt(s)}var a=new Blob([o],{type:"image/png"});a.name="clipboard.png";t.invoke("editor.restoreRange");t.invoke("editor.focus");t.invoke("editor.insertImagesOrCallback",[a])}else{var l=e("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange");t.invoke("editor.focus");if(l){t.invoke("editor.pasteHTML",l)}}this.$paste.empty()};this.pasteByEvent=function(e){var i=e.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var n=c.head(i.items);if(n.kind==="file"&&n.type.indexOf("image/")!==-1){t.invoke("editor.insertImagesOrCallback",[n.getAsFile()])}t.invoke("editor.afterCommand")}}};var X=function(t){var i=e(document);var n=t.layoutInfo.editor;var r=t.layoutInfo.editable;var o=t.options;var s=o.langInfo;var a={};var l=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n);var d=function(){Object.keys(a).forEach(function(e){i.off(e.substr(2).toLowerCase(),a[e])});a={}};this.initialize=function(){if(o.disableDragAndDrop){a.onDrop=function(e){e.preventDefault()};i.on("drop",a.onDrop)}else{this.attachDragAndDropEvent()}};this.attachDragAndDropEvent=function(){var o=e(),d=l.find(".note-dropzone-message");a.onDragenter=function(e){var i=t.invoke("codeview.isActivated");var r=n.width()>0&&n.height()>0;if(!i&&!o.length&&r){n.addClass("dragover");l.width(n.width());l.height(n.height());d.text(s.image.dragImageHere)}o=o.add(e.target)};a.onDragleave=function(e){o=o.not(e.target);if(!o.length){n.removeClass("dragover")}};a.onDrop=function(){o=e();n.removeClass("dragover")};i.on("dragenter",a.onDragenter).on("dragleave",a.onDragleave).on("drop",a.onDrop);l.on("dragenter",function(){l.addClass("hover");d.text(s.image.dropImage)}).on("dragleave",function(){l.removeClass("hover");d.text(s.image.dragImageHere)});l.on("drop",function(i){var n=i.originalEvent.dataTransfer;if(n&&n.files&&n.files.length){i.preventDefault();r.focus();t.invoke("editor.insertImagesOrCallback",n.files)}else{e.each(n.types,function(i,r){var o=n.getData(r);if(r.toLowerCase().indexOf("text")>-1){t.invoke("editor.pasteHTML",o)}else{e(o).each(function(){t.invoke("editor.insertNode",this)})}})}}).on("dragover",false)};this.destroy=function(){d()}};var Z;if(u.hasCodeMirror){if(u.isSupportAmd){require(["codemirror"],function(e){Z=e})}else{Z=window.CodeMirror}}var K=function(e){var t=e.layoutInfo.editor;var i=e.layoutInfo.editable;var n=e.layoutInfo.codable;var r=e.options;this.sync=function(){var e=this.isActivated();if(e&&u.hasCodeMirror){n.data("cmEditor").save()}};this.isActivated=function(){return t.hasClass("codeview")};this.toggle=function(){if(this.isActivated()){this.deactivate()}else{this.activate()}e.triggerEvent("codeview.toggled")};this.activate=function(){n.val(m.html(i,r.prettifyHtml));n.height(i.height());e.invoke("toolbar.updateCodeview",true);t.addClass("codeview");n.focus();if(u.hasCodeMirror){var o=Z.fromTextArea(n[0],r.codemirror);if(r.codemirror.tern){var s=new Z.TernServer(r.codemirror.tern);o.ternServer=s;o.on("cursorActivity",function(e){s.updateArgHints(e)})}o.setSize(null,i.outerHeight());n.data("cmEditor",o)}};this.deactivate=function(){if(u.hasCodeMirror){var o=n.data("cmEditor");n.val(o.getValue());o.toTextArea()}var s=m.value(n,r.prettifyHtml)||m.emptyPara;var a=i.html()!==s;i.html(s);i.height(r.height?n.height():"auto");t.removeClass("codeview");if(a){e.triggerEvent("change",i.html(),i)}i.focus();e.invoke("toolbar.updateCodeview",false)};this.destroy=function(){if(this.isActivated()){this.deactivate()}}};var Q=24;var J=function(t){var i=e(document);var n=t.layoutInfo.statusbar;var r=t.layoutInfo.editable;var o=t.options;this.initialize=function(){if(o.airMode||o.disableResizeEditor){this.destroy();return}n.on("mousedown",function(e){e.preventDefault();e.stopPropagation();var t=r.offset().top-i.scrollTop();var n=function(e){var i=e.clientY-(t+Q);i=o.minheight>0?Math.max(i,o.minheight):i;i=o.maxHeight>0?Math.min(i,o.maxHeight):i;r.height(i)};i.on("mousemove",n).one("mouseup",function(){i.off("mousemove",n)})})};this.destroy=function(){n.off();n.remove()}};var ee=function(t){var i=this;var n=t.layoutInfo.editor;var r=t.layoutInfo.toolbar;var o=t.layoutInfo.editable;var s=t.layoutInfo.codable;var a=e(window);var l=e("html, body");this.resizeTo=function(e){o.css("height",e.h);s.css("height",e.h);if(s.data("cmeditor")){s.data("cmeditor").setsize(null,e.h)}};this.onResize=function(){i.resizeTo({h:a.height()-r.outerHeight()})};this.toggle=function(){n.toggleClass("fullscreen");if(this.isFullscreen()){o.data("orgHeight",o.css("height"));a.on("resize",this.onResize).trigger("resize");l.css("overflow","hidden")}else{a.off("resize",this.onResize);this.resizeTo({h:o.data("orgHeight")});l.css("overflow","visible")}t.invoke("toolbar.updateFullscreen",this.isFullscreen())};this.isFullscreen=function(){return n.hasClass("fullscreen")}};var te=function(t){var i=this;var n=e(document);var r=t.layoutInfo.editingArea;var o=t.options;this.events={"summernote.mousedown":function(e,t){if(i.update(t.target)){t.preventDefault()}},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}};this.initialize=function(){this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',o.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',o.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(r);this.$handle.on("mousedown",function(e){if(m.isControlSizing(e.target)){e.preventDefault();e.stopPropagation();var r=i.$handle.find(".note-control-selection").data("target"),o=r.offset(),s=n.scrollTop();var a=function(e){t.invoke("editor.resizeTo",{x:e.clientX-o.left,y:e.clientY-(o.top-s)},r,!e.shiftKey);i.update(r[0])};n.on("mousemove",a).one("mouseup",function(e){e.preventDefault();n.off("mousemove",a);t.invoke("editor.afterCommand")});if(!r.data("ratio")){r.data("ratio",r.height()/r.width())}}});this.$handle.on("wheel",function(e){e.preventDefault();i.update()})};this.destroy=function(){this.$handle.remove()};this.update=function(i){if(t.isDisabled()){return false}var n=m.isImg(i);var r=this.$handle.find(".note-control-selection");t.invoke("imagePopover.update",i);if(n){var o=e(i);var s=o.position();var a={left:s.left+parseInt(o.css("marginLeft"),10),top:s.top+parseInt(o.css("marginTop"),10)};var l={w:o.outerWidth(false),h:o.outerHeight(false)};r.css({display:"block",left:a.left,top:a.top,width:l.w,height:l.h}).data("target",o);var d=l.w+"x"+l.h;r.find(".note-control-selection-info").text(d);t.invoke("editor.saveTarget",i)}else{this.hide()}return n};this.hide=function(){t.invoke("editor.clearTarget");this.$handle.children().hide()}};var ie=function(t){var i=this;var n="http://";var r=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,t){if(!t.isDefaultPrevented()){i.handleKeyup(t)}},"summernote.keydown":function(e,t){i.handleKeydown(t)}};this.initialize=function(){this.lastWordRange=null};this.destroy=function(){this.lastWordRange=null};this.replace=function(){if(!this.lastWordRange){return}var i=this.lastWordRange.toString();var o=i.match(r);if(o&&(o[1]||o[2])){var s=o[1]?i:n+i;var a=e("<a />").html(i).attr("href",s)[0];this.lastWordRange.insertNode(a);this.lastWordRange=null;t.invoke("editor.focus")}};this.handleKeydown=function(e){if(c.contains([L.code.ENTER,L.code.SPACE],e.keyCode)){var i=t.invoke("editor.createRange").getWordRange();this.lastWordRange=i}};this.handleKeyup=function(e){if(c.contains([L.code.ENTER,L.code.SPACE],e.keyCode)){this.replace()}}};var ne=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}};this.shouldInitialize=function(){return m.isTextarea(t[0])}};var re=function(t){var i=this;var n=t.layoutInfo.editingArea;var r=t.options;this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}};this.shouldInitialize=function(){return!!r.placeholder};this.initialize=function(){this.$placeholder=e('<div class="note-placeholder">');this.$placeholder.on("click",function(){t.invoke("focus")}).text(r.placeholder).prependTo(n);this.update()};this.destroy=function(){this.$placeholder.remove()};this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}};var oe=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.toolbar;var o=t.options;var s=o.langInfo;var a=h.invertObject(o.keyMap[u.isMac?"mac":"pc"]);var l=this.representShortcut=function(e){var t=a[e];if(!o.shortcuts||!t){return""}if(u.isMac){t=t.replace("CMD","â").replace("SHIFT","â§")}t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return" ("+t+")"};this.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.addTablePopoverButtons();this.fontInstalledMap={}};this.destroy=function(){delete this.fontInstalledMap};this.isFontInstalled=function(e){if(!i.fontInstalledMap.hasOwnProperty(e)){i.fontInstalledMap[e]=u.isFontInstalled(e)||c.contains(o.fontNamesIgnoreCheck,e)}return i.fontInstalledMap[e]};this.addToolbarButtons=function(){t.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.magic),o),tooltip:s.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(e){if(typeof e==="string"){e={tag:e,title:s.style.hasOwnProperty(e)?s.style[e]:e}}var t=e.tag;var i=e.title;var n=e.style?' style="'+e.style+'" ':"";var r=e.className?' class="'+e.className+'"':"";return"<"+t+n+r+">"+i+"</"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()});t.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(o.icons.bold),tooltip:s.font.bold+l("bold"),click:t.createInvokeHandlerAndUpdateState("editor.bold")}).render()});t.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(o.icons.italic),tooltip:s.font.italic+l("italic"),click:t.createInvokeHandlerAndUpdateState("editor.italic")}).render()});t.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(o.icons.underline),tooltip:s.font.underline+l("underline"),click:t.createInvokeHandlerAndUpdateState("editor.underline")}).render()});t.memo("button.clear",function(){return n.button({contents:n.icon(o.icons.eraser),tooltip:s.font.clear+l("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()});t.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(o.icons.strikethrough),tooltip:s.font.strikethrough+l("strikethrough"),click:t.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()});t.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(o.icons.superscript),tooltip:s.font.superscript,click:t.createInvokeHandlerAndUpdateState("editor.superscript")}).render()});t.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(o.icons.subscript),tooltip:s.font.subscript,click:t.createInvokeHandlerAndUpdateState("editor.subscript")}).render()});t.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents('<span class="note-current-fontname"/>',o),tooltip:s.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:o.icons.menuCheck,items:o.fontNames.filter(i.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:t.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()});t.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents('<span class="note-current-fontsize"/>',o),tooltip:s.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:o.icons.menuCheck,items:o.fontSizes,click:t.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()});t.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(o.icons.font+" note-recent-color"),tooltip:s.color.recent,click:function(i){var n=e(i.currentTarget);t.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00");e.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents("",o),tooltip:s.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+s.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',s.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+s.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',s.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=e(this);t.append(n.palette({colors:o.colors,eventName:t.data("event"),tooltip:o.tooltip}).render())})},click:function(i){var n=e(i.target);var r=n.data("event");var o=n.data("value");if(r&&o){var s=r==="backColor"?"background-color":"color";var a=n.closest(".note-color").find(".note-recent-color");var l=n.closest(".note-color").find(".note-current-color-button");a.css(s,o);l.attr("data-"+r,o);t.invoke("editor."+r,o)}}})]}).render()});t.memo("button.ul",function(){return n.button({contents:n.icon(o.icons.unorderedlist),tooltip:s.lists.unordered+l("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()});t.memo("button.ol",function(){return n.button({contents:n.icon(o.icons.orderedlist),tooltip:s.lists.ordered+l("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var r=n.button({contents:n.icon(o.icons.alignLeft),tooltip:s.paragraph.left+l("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")});var a=n.button({contents:n.icon(o.icons.alignCenter),tooltip:s.paragraph.center+l("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")});var d=n.button({contents:n.icon(o.icons.alignRight),tooltip:s.paragraph.right+l("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")});var u=n.button({contents:n.icon(o.icons.alignJustify),tooltip:s.paragraph.justify+l("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")});var c=n.button({contents:n.icon(o.icons.outdent),tooltip:s.paragraph.outdent+l("outdent"),click:t.createInvokeHandler("editor.outdent")});var f=n.button({contents:n.icon(o.icons.indent),tooltip:s.paragraph.indent+l("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",h.invoke(r,"render"));t.memo("button.justifyCenter",h.invoke(a,"render"));t.memo("button.justifyRight",h.invoke(d,"render"));t.memo("button.justifyFull",h.invoke(u,"render"));t.memo("button.outdent",h.invoke(c,"render"));t.memo("button.indent",h.invoke(f,"render"));t.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.alignLeft),o),tooltip:s.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[r,a,d,u]}),n.buttonGroup({className:"note-list",children:[c,f]})])]).render()});t.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.textHeight),o),tooltip:s.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:o.lineHeights,checkClassName:o.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()});t.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.table),o),tooltip:s.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){var n=e.find(".note-dimension-picker-mousecatcher");n.css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler)}}).render()});t.memo("button.link",function(){return n.button({contents:n.icon(o.icons.link),tooltip:s.link.link+l("linkDialog.show"),click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.picture",function(){return n.button({contents:n.icon(o.icons.picture),tooltip:s.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()});t.memo("button.video",function(){return n.button({contents:n.icon(o.icons.video),tooltip:s.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()});t.memo("button.hr",function(){return n.button({contents:n.icon(o.icons.minus),tooltip:s.hr.insert+l("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()});t.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(o.icons.arrowsAlt),tooltip:s.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()});t.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(o.icons.code),tooltip:s.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()});t.memo("button.redo",function(){return n.button({contents:n.icon(o.icons.redo),tooltip:s.history.redo+l("redo"),click:t.createInvokeHandler("editor.redo")}).render()});t.memo("button.undo",function(){return n.button({contents:n.icon(o.icons.undo),tooltip:s.history.undo+l("undo"),click:t.createInvokeHandler("editor.undo")}).render()});t.memo("button.help",function(){return n.button({contents:n.icon(o.icons.question),tooltip:s.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})};this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:s.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()});t.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:s.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()});t.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:s.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()});t.memo("button.floatLeft",function(){return n.button({contents:n.icon(o.icons.alignLeft),tooltip:s.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()});t.memo("button.floatRight",function(){return n.button({contents:n.icon(o.icons.alignRight),tooltip:s.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()});t.memo("button.floatNone",function(){return n.button({contents:n.icon(o.icons.alignJustify),tooltip:s.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()});t.memo("button.removeMedia",function(){return n.button({contents:n.icon(o.icons.trash),tooltip:s.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})};this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(o.icons.link),tooltip:s.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.unlink",function(){return n.button({contents:n.icon(o.icons.unlink),tooltip:s.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})};this.addTablePopoverButtons=function(){t.memo("button.addRowUp",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowAbove),tooltip:s.table.addRowAbove,click:t.createInvokeHandler("editor.addRow","top")}).render()});t.memo("button.addRowDown",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowBelow),tooltip:s.table.addRowBelow,click:t.createInvokeHandler("editor.addRow","bottom")}).render()});t.memo("button.addColLeft",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colBefore),tooltip:s.table.addColLeft,click:t.createInvokeHandler("editor.addCol","left")}).render()});t.memo("button.addColRight",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colAfter),tooltip:s.table.addColRight,click:t.createInvokeHandler("editor.addCol","right")}).render()});t.memo("button.deleteRow",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowRemove),tooltip:s.table.delRow,click:t.createInvokeHandler("editor.deleteRow")}).render()});t.memo("button.deleteCol",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colRemove),tooltip:s.table.delCol,click:t.createInvokeHandler("editor.deleteCol")}).render()});t.memo("button.deleteTable",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.trash),tooltip:s.table.delTable,click:t.createInvokeHandler("editor.deleteTable")}).render()})};this.build=function(e,i){for(var r=0,o=i.length;r<o;r++){var s=i[r];var a=s[0];var l=s[1];var d=n.buttonGroup({className:"note-"+a}).render();for(var u=0,h=l.length;u<h;u++){var c=t.memo("button."+l[u]);if(c){d.append(typeof c==="function"?c(t):c)}}d.appendTo(e)}};this.updateCurrentStyle=function(n){var o=n||r;var s=t.invoke("editor.currentStyle");this.updateBtnStates(o,{".note-btn-bold":function(){return s["font-bold"]==="bold"},".note-btn-italic":function(){return s["font-italic"]==="italic"},".note-btn-underline":function(){return s["font-underline"]==="underline"},".note-btn-subscript":function(){return s["font-subscript"]==="subscript"},".note-btn-superscript":function(){return s["font-superscript"]==="superscript"},".note-btn-strikethrough":function(){return s["font-strikethrough"]==="strikethrough"}});if(s["font-family"]){var a=s["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")});var l=c.find(a,i.isFontInstalled);o.find(".dropdown-fontname a").each(function(){var t=e(this);var i=t.data("value")+""===l+"";t.toggleClass("checked",i)});o.find(".note-current-fontname").text(l)}if(s["font-size"]){var d=s["font-size"];o.find(".dropdown-fontsize a").each(function(){var t=e(this);var i=t.data("value")+""===d+"";t.toggleClass("checked",i)});o.find(".note-current-fontsize").text(d)}if(s["line-height"]){var u=s["line-height"];o.find(".dropdown-line-height li a").each(function(){var t=e(this).data("value")+""===u+"";this.className=t?"checked":""})}};this.updateBtnStates=function(t,i){e.each(i,function(e,i){n.toggleBtnActive(t.find(e),i())})};this.tableMoveHandler=function(t){var i=18;var n=e(t.target.parentNode);var r=n.next();var s=n.find(".note-dimension-picker-mousecatcher");var a=n.find(".note-dimension-picker-highlighted");var l=n.find(".note-dimension-picker-unhighlighted");var d;if(t.offsetX===undefined){var u=e(t.target).offset();d={x:t.pageX-u.left,y:t.pageY-u.top}}else{d={x:t.offsetX,y:t.offsetY}}var h={c:Math.ceil(d.x/i)||1,r:Math.ceil(d.y/i)||1};a.css({width:h.c+"em",height:h.r+"em"});s.data("value",h.c+"x"+h.r);if(3<h.c&&h.c<o.insertTableMaxSize.col){l.css({width:h.c+1+"em"})}if(3<h.r&&h.r<o.insertTableMaxSize.row){l.css({height:h.r+1+"em"})}r.html(h.c+" x "+h.r)}};var se=function(t){var i=e.summernote.ui;var n=t.layoutInfo.note;var r=t.layoutInfo.editor;var o=t.layoutInfo.toolbar;var s=t.options;this.shouldInitialize=function(){return!s.airMode};this.initialize=function(){s.toolbar=s.toolbar||[];if(!s.toolbar.length){o.hide()}else{t.invoke("buttons.build",o,s.toolbar)}if(s.toolbarContainer){o.appendTo(s.toolbarContainer)}this.changeContainer(false);n.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")});t.invoke("buttons.updateCurrentStyle")};this.destroy=function(){o.children().remove()};this.changeContainer=function(e){if(e){o.prependTo(r)}else{if(s.toolbarContainer){o.appendTo(s.toolbarContainer)}}};this.updateFullscreen=function(e){i.toggleBtnActive(o.find(".btn-fullscreen"),e);this.changeContainer(e)};this.updateCodeview=function(e){i.toggleBtnActive(o.find(".btn-codeview"),e);if(e){this.deactivate()}else{this.activate()}};this.activate=function(e){var t=o.find("button");if(!e){t=t.not(".btn-codeview")}i.toggleBtn(t,true)};this.deactivate=function(e){var t=o.find("button");if(!e){t=t.not(".btn-codeview")}i.toggleBtn(t,false)}};var ae=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var s=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i='<div class="form-group note-form-group">'+'<label class="note-form-label">'+s.link.textToDisplay+"</label>"+'<input class="note-link-text form-control '+' note-form-control  note-input" type="text" />'+"</div>"+'<div class="form-group note-form-group">'+'<label class="note-form-label">'+s.link.url+"</label>"+'<input class="note-link-url form-control note-form-control '+'note-input" type="text" value="http://" />'+"</div>"+(!o.disableLinkTarget?e("<div/>").append(n.checkbox({id:"sn-checkbox-open-in-new-window",text:s.link.openInNewWindow,checked:true}).render()).html():"");var a='<button href="#" class="btn btn-primary note-btn note-btn-primary '+'note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:s.link.insert,fade:o.dialogsFade,body:i,footer:a}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===L.code.ENTER){t.trigger("click")}})};this.toggleLinkBtn=function(e,t,i){n.toggleBtn(e,t.val()&&i.val())};this.showLinkDialog=function(r){return e.Deferred(function(e){var o=i.$dialog.find(".note-link-text"),s=i.$dialog.find(".note-link-url"),a=i.$dialog.find(".note-link-btn"),l=i.$dialog.find("input[type=checkbox]");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");if(!r.url){r.url=r.text}o.val(r.text);var d=function(){i.toggleLinkBtn(a,o,s);r.text=o.val()};o.on("input",d).on("paste",function(){setTimeout(d,0)});var u=function(){i.toggleLinkBtn(a,o,s);if(!r.text){o.val(s.val())}};s.on("input",u).on("paste",function(){setTimeout(u,0)}).val(r.url).trigger("focus");i.toggleLinkBtn(a,o,s);i.bindEnterKey(s,a);i.bindEnterKey(o,a);var h=r.isNewWindow!==undefined?r.isNewWindow:t.options.linkTargetBlank;l.prop("checked",h);a.one("click",function(t){t.preventDefault();e.resolve({range:r.range,url:s.val(),text:o.val(),isNewWindow:l.is(":checked")});n.hideDialog(i.$dialog)})});n.onDialogHidden(i.$dialog,function(){o.off("input paste keypress");s.off("input paste keypress");a.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)}).promise()};this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange");this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange");t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})};t.memo("help.linkDialog.show",o.langInfo.help["linkDialog.show"])};var le=function(t){var i=this;var n=e.summernote.ui;var r=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()}};this.shouldInitialize=function(){return!c.isEmpty(r.popover.link)};this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content,.note-popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,r.popover.link)};this.destroy=function(){this.$popover.remove()};this.update=function(){if(!t.invoke("editor.hasFocus")){this.hide();return}var i=t.invoke("editor.createRange");if(i.isCollapsed()&&i.isOnAnchor()){var n=m.ancestor(i.sc,m.isAnchor);var r=e(n).attr("href");this.$popover.find("a").attr("href",r).html(r);var o=m.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var de=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var s=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i="";if(o.maximumImageFileSize){var a=Math.floor(Math.log(o.maximumImageFileSize)/Math.log(1024));var l=(o.maximumImageFileSize/Math.pow(1024,a)).toFixed(2)*1+" "+" KMGTP"[a]+"B";i="<small>"+s.image.maximumFileSize+" : "+l+"</small>"}var d='<div class="form-group note-form-group note-group-select-from-files">'+'<label class="note-form-label">'+s.image.selectFromFiles+"</label>"+'<input class="note-image-input form-control note-form-control note-input" '+' type="file" name="files" accept="image/*" multiple="multiple" />'+i+"</div>"+'<div class="form-group note-group-image-url" style="overflow:auto;">'+'<label class="note-form-label">'+s.image.url+"</label>"+'<input class="note-image-url form-control note-form-control note-input '+' col-md-12" type="text" />'+"</div>";var u='<button href="#" class="btn btn-primary note-btn note-btn-primary '+'note-image-btn disabled" disabled>'+s.image.insert+"</button>";this.$dialog=n.dialog({title:s.image.insert,fade:o.dialogsFade,body:d,footer:u}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===L.code.ENTER){t.trigger("click")}})};this.show=function(){t.invoke("editor.saveRange");this.showImageDialog().then(function(e){n.hideDialog(i.$dialog);t.invoke("editor.restoreRange");if(typeof e==="string"){t.invoke("editor.insertImage",e)}else{t.invoke("editor.insertImagesOrCallback",e)}}).fail(function(){t.invoke("editor.restoreRange")})};this.showImageDialog=function(){return e.Deferred(function(e){var r=i.$dialog.find(".note-image-input"),o=i.$dialog.find(".note-image-url"),s=i.$dialog.find(".note-image-btn");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");r.replaceWith(r.clone().on("change",function(){e.resolve(this.files||this.value)}).val(""));s.click(function(t){t.preventDefault();e.resolve(o.val())});o.on("keyup paste",function(){var e=o.val();n.toggleBtn(s,e)}).val("").trigger("focus");i.bindEnterKey(o,s)});n.onDialogHidden(i.$dialog,function(){r.off("change");o.off("keyup paste keypress");s.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)})}};var ue=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editable;var o=r[0];var s=t.options;this.events={"summernote.disable":function(){i.hide()}};this.shouldInitialize=function(){return!c.isEmpty(s.popover.image)};this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,s.popover.image)};this.destroy=function(){this.$popover.remove()};this.update=function(e){if(m.isImg(e)){var t=m.posFromPlaceholder(e);var i=m.posFromPlaceholder(o);this.$popover.css({display:"block",left:t.left,top:Math.min(t.top,i.top)})}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var he=function(t){var i=this;var n=e.summernote.ui;var r=t.options;this.events={"summernote.mousedown":function(e,t){i.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}};this.shouldInitialize=function(){return!c.isEmpty(r.popover.table)};this.initialize=function(){this.$popover=n.popover({className:"note-table-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,r.popover.table);if(u.isFF){document.execCommand("enableInlineTableEditing",false,false)}};this.destroy=function(){this.$popover.remove()};this.update=function(e){if(t.isDisabled()){return false}var i=m.isCell(e);if(i){var n=m.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else{this.hide()}return i};this.hide=function(){this.$popover.hide()}};var ce=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var s=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i='<div class="form-group note-form-group row-fluid">'+'<label class="note-form-label">'+s.video.url+' <small class="text-muted">'+s.video.providers+"</small></label>"+'<input class="note-video-url form-control  note-form-control note-input span12" '+' type="text" />'+"</div>";var a='<button href="#" class="btn btn-primary note-btn note-btn-primary '+' note-video-btn disabled" disabled>'+s.video.insert+"</button>";this.$dialog=n.dialog({title:s.video.insert,fade:o.dialogsFade,body:i,footer:a}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===L.code.ENTER){t.trigger("click")}})};this.createVideoNode=function(t){var i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;var n=t.match(i);var r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/;var o=t.match(r);var s=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/;var a=t.match(s);var l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/;var d=t.match(l);var u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var h=t.match(u);var c=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/;var f=t.match(c);var p=/\/\/v\.qq\.com.*?vid=(.+)/;var m=t.match(p);var v=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/;var g=t.match(v);var y=/^.+.(mp4|m4v)$/;var b=t.match(y);var w=/^.+.(ogg|ogv)$/;var x=t.match(w);var _=/^.+.(webm)$/;var k=t.match(_);var C;if(n&&n[1].length===11){var S=n[1];C=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+S).attr("width","640").attr("height","360")}else if(o&&o[0].length){C=e("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true")}else if(a&&a[0].length){C=e("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed")}else if(d&&d[3].length){C=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+d[3]).attr("width","640").attr("height","360")}else if(h&&h[2].length){C=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360")}else if(f&&f[1].length){C=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1])}else if(m&&m[1].length||g&&g[2].length){var T=m&&m[1].length?m[1]:g[2];C=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+T+"&amp;auto=0")}else if(b||x||k){C=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}else{return false}C.addClass("note-video-clip");return C[0]};this.show=function(){var e=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange");this.showVideoDialog(e).then(function(e){n.hideDialog(i.$dialog);t.invoke("editor.restoreRange");var r=i.createVideoNode(e);if(r){t.invoke("editor.insertNode",r)}}).fail(function(){t.invoke("editor.restoreRange")})};this.showVideoDialog=function(r){return e.Deferred(function(e){var o=i.$dialog.find(".note-video-url"),s=i.$dialog.find(".note-video-btn");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");o.val(r).on("input",function(){n.toggleBtn(s,o.val())}).trigger("focus");s.click(function(t){t.preventDefault();e.resolve(o.val())});i.bindEnterKey(o,s)});n.onDialogHidden(i.$dialog,function(){o.off("input");s.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)})}};var fe=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var s=o.langInfo;this.createShortCutList=function(){var i=o.keyMap[u.isMac?"mac":"pc"];return Object.keys(i).map(function(n){var r=i[n];var o=e('<div><div class="help-list-item"/></div>');o.append(e("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.memo("help."+r)||r));return o.html()}).join("")};this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.8</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:s.options.help,fade:o.dialogsFade,body:this.createShortCutList(),footer:i,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.showHelpDialog=function(){return e.Deferred(function(e){n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");e.resolve()});n.showDialog(i.$dialog)}).promise()};this.show=function(){t.invoke("editor.saveRange");this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}};var pe=function(t){var i=this;var n=e.summernote.ui;var r=t.options;var o=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(e,t){if(u.isFF){return}if(!t.relatedTarget||!m.ancestor(t.relatedTarget,h.eq(i.$popover[0]))){i.hide()}}};this.shouldInitialize=function(){return r.airMode&&!c.isEmpty(r.popover.air)};this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,r.popover.air)};this.destroy=function(){this.$popover.remove()};this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var i=c.last(e.range.getClientRects());if(i){var n=h.rect2bnd(i);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-o,top:n.top+n.height});t.invoke("buttons.updateCurrentStyle",this.$popover)}}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var me=function(t){var i=this;var n=e.summernote.ui;var r=5;var o=t.options.hint||[];var s=t.options.hintDirection||"bottom";var a=e.isArray(o)?o:[o];this.events={"summernote.keyup":function(e,t){if(!t.isDefaultPrevented()){i.handleKeyup(t)}},"summernote.keydown":function(e,t){i.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){i.hide()}};this.shouldInitialize=function(){return a.length>0};this.initialize=function(){this.lastWordRange=null;this.$popover=n.popover({className:"note-hint-popover",hideArrow:true,direction:""}).render().appendTo("body");this.$popover.hide();this.$content=this.$popover.find(".popover-content,.note-popover-content");this.$content.on("click",".note-hint-item",function(){i.$content.find(".active").removeClass("active");e(this).addClass("active");i.replace()})};this.destroy=function(){this.$popover.remove()};this.selectItem=function(e){this.$content.find(".active").removeClass("active");e.addClass("active");this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2};this.moveDown=function(){var e=this.$content.find(".note-hint-item.active");var t=e.next();if(t.length){this.selectItem(t)}else{var i=e.parent().next();if(!i.length){i=this.$content.find(".note-hint-group").first()}this.selectItem(i.find(".note-hint-item").first())}};this.moveUp=function(){var e=this.$content.find(".note-hint-item.active");var t=e.prev();if(t.length){this.selectItem(t)}else{var i=e.parent().prev();if(!i.length){i=this.$content.find(".note-hint-group").last()}this.selectItem(i.find(".note-hint-item").last())}};this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var i=this.nodeFromItem(e);this.lastWordRange.insertNode(i);j.createFromNode(i).collapse().select();this.lastWordRange=null;this.hide();t.triggerEvent("change",t.layoutInfo.editable.html(),t.layoutInfo.editable);t.invoke("editor.focus")}};this.nodeFromItem=function(e){var t=a[e.data("index")];var i=e.data("item");var n=t.content?t.content(i):i;if(typeof n==="string"){n=m.createText(n)}return n};this.createItemTemplates=function(t,i){var n=a[t];return i.map(function(i,r){var o=e('<div class="note-hint-item"/>');o.append(n.template?n.template(i):i+"");o.data({index:t,item:i});if(t===0&&r===0){o.addClass("active")}return o})};this.handleKeydown=function(e){if(!this.$popover.is(":visible")){return}if(e.keyCode===L.code.ENTER){e.preventDefault();this.replace()}else if(e.keyCode===L.code.UP){e.preventDefault();this.moveUp()}else if(e.keyCode===L.code.DOWN){e.preventDefault();this.moveDown()}};this.searchKeyword=function(e,t,i){var n=a[e];if(n&&n.match.test(t)&&n.search){var r=n.match.exec(t);n.search(r[1],i)}else{i()}};this.createGroup=function(t,n){var r=e('<div class="note-hint-group note-hint-group-'+t+'"/>');this.searchKeyword(t,n,function(e){e=e||[];if(e.length){r.html(i.createItemTemplates(t,e));i.show()}});return r};this.handleKeyup=function(e){if(c.contains([L.code.ENTER,L.code.UP,L.code.DOWN],e.keyCode)){if(e.keyCode===L.code.ENTER){if(this.$popover.is(":visible")){return}}}else{var n=t.invoke("editor.createRange").getWordRange();var o=n.toString();if(a.length&&o){this.$content.empty();var l=h.rect2bnd(c.last(n.getClientRects()));if(l){this.$popover.hide();this.lastWordRange=n;a.forEach(function(e,t){if(e.match.test(o)){i.createGroup(t,o).appendTo(i.$content)}});if(s==="top"){this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-r})}else{this.$popover.css({left:l.left,top:l.top+l.height+r})}}}else{this.hide()}}};this.show=function(){this.$popover.show()};this.hide=function(){this.$popover.hide()}};e.summernote=e.extend(e.summernote,{version:"0.8.8",ui:N,dom:m,plugins:{},options:{modules:{editor:V,clipboard:G,dropzone:X,codeview:K,statusbar:J,fullscreen:ee,handle:te,hintPopover:me,autoLink:ie,autoSync:ne,placeholder:re,buttons:oe,toolbar:se,linkDialog:ae,linkPopover:le,imageDialog:de,imagePopover:ue,tablePopover:he,videoDialog:ce,helpDialog:fe,airPopover:pe},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:false,width:null,height:null,linkTargetBlank:true,focus:false,tabSize:4,styleWithSpan:true,shortcuts:true,textareaAutoSync:true,direction:null,tooltip:"auto",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:false,dialogsFade:false,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});(function(e){e.extend(e.summernote.lang,{"da-DK":{font:{bold:"Fed",italic:"Kursiv",underline:"Understreget",clear:"Fjern formatering",height:"HÃ¸jde",name:"Skrifttype",strikethrough:"Gennemstreget",subscript:"SÃ¦nket skrift",superscript:"HÃ¦vet skrift",size:"SkriftstÃ¸rrelse"},image:{image:"Billede",insert:"IndsÃ¦t billede",resizeFull:"Original stÃ¸rrelse",resizeHalf:"Halv stÃ¸rrelse",resizeQuarter:"Kvart stÃ¸rrelse",floatLeft:"Venstrestillet",floatRight:"HÃ¸jrestillet",floatNone:"Fjern formatering",shapeRounded:"Form: Runde kanter",shapeCircle:"Form: Cirkel",shapeThumbnail:"Form: Miniature",shapeNone:"Form: Ingen",dragImageHere:"TrÃ¦k billede hertil",dropImage:"Slip billede",selectFromFiles:"VÃ¦lg billed-fil",maximumFileSize:"Maks fil stÃ¸rrelse",maximumFileSizeError:"Filen er stÃ¸rre end maks tilladte fil stÃ¸rrelse!",url:"Billede URL",remove:"Fjern billede"},video:{video:"Video",videoLink:"Video Link",insert:"IndsÃ¦t Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Link",insert:"IndsÃ¦t link",unlink:"Fjern link",edit:"Rediger",textToDisplay:"Visningstekst",url:"Hvor skal linket pege hen?",openInNewWindow:"Ãbn i nyt vindue"},table:{table:"Tabel"},hr:{insert:"IndsÃ¦t horisontal linje"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Kode",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},lists:{unordered:"Punktopstillet liste",ordered:"Nummereret liste"},options:{help:"HjÃ¦lp",fullscreen:"Fuld skÃ¦rm",codeview:"HTML-Visning"},paragraph:{paragraph:"Afsnit",outdent:"Formindsk indryk",indent:"ForÃ¸g indryk",left:"Venstrestillet",center:"Centreret",right:"HÃ¸jrestillet",justify:"Blokjuster"},color:{recent:"Nyligt valgt farve",more:"Flere farver",background:"Baggrund",foreground:"Forgrund",transparent:"Transparent",setTransparent:"SÃ¦t transparent",reset:"Nulstil",resetToDefault:"Gendan standardindstillinger"},shortcut:{shortcuts:"Genveje",close:"Luk",textFormatting:"Tekstformatering",action:"Handling",paragraphFormatting:"Afsnitsformatering",documentStyle:"Dokumentstil"},history:{undo:"Fortryd",redo:"Annuller fortryd"}}})})(jQuery);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery)}})(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd){var t=e.fn.select2.amd}var t;(function(){if(!t||!t.requirejs){if(!t){t={}}else{i=t}var e,i,n;(function(t){var r,o,s,a,l={},d={},u={},h={},c=Object.prototype.hasOwnProperty,f=[].slice,p=/\.js$/;function m(e,t){return c.call(e,t)}function v(e,t){var i,n,r,o,s,a,l,d,h,c,f,m=t&&t.split("/"),v=u.map,g=v&&v["*"]||{};if(e&&e.charAt(0)==="."){if(t){e=e.split("/");s=e.length-1;if(u.nodeIdCompat&&p.test(e[s])){e[s]=e[s].replace(p,"")}e=m.slice(0,m.length-1).concat(e);for(h=0;h<e.length;h+=1){f=e[h];if(f==="."){e.splice(h,1);h-=1}else if(f===".."){if(h===1&&(e[2]===".."||e[0]==="..")){break}else if(h>0){e.splice(h-1,2);h-=2}}}e=e.join("/")}else if(e.indexOf("./")===0){e=e.substring(2)}}if((m||g)&&v){i=e.split("/");for(h=i.length;h>0;h-=1){n=i.slice(0,h).join("/");if(m){for(c=m.length;c>0;c-=1){r=v[m.slice(0,c).join("/")];if(r){r=r[n];if(r){o=r;a=h;break}}}}if(o){break}if(!l&&g&&g[n]){l=g[n];d=h}}if(!o&&l){o=l;a=d}if(o){i.splice(0,a,o);e=i.join("/")}}return e}function g(e,i){return function(){var n=f.call(arguments,0);if(typeof n[0]!=="string"&&n.length===1){n.push(null)}return o.apply(t,n.concat([e,i]))}}function y(e){return function(t){return v(t,e)}}function b(e){return function(t){l[e]=t}}function w(e){if(m(d,e)){var i=d[e];delete d[e];h[e]=true;r.apply(t,i)}if(!m(l,e)&&!m(h,e)){throw new Error("No "+e)}return l[e]}function x(e){var t,i=e?e.indexOf("!"):-1;if(i>-1){t=e.substring(0,i);e=e.substring(i+1,e.length)}return[t,e]}s=function(e,t){var i,n=x(e),r=n[0];e=n[1];if(r){r=v(r,t);i=w(r)}if(r){if(i&&i.normalize){e=i.normalize(e,y(t))}else{e=v(e,t)}}else{e=v(e,t);n=x(e);r=n[0];e=n[1];if(r){i=w(r)}}return{f:r?r+"!"+e:e,n:e,pr:r,p:i}};function _(e){return function(){return u&&u.config&&u.config[e]||{}}}a={require:function(e){return g(e)},exports:function(e){var t=l[e];if(typeof t!=="undefined"){return t}else{return l[e]={}}},module:function(e){return{id:e,uri:"",exports:l[e],config:_(e)}}};r=function(e,i,n,r){var o,u,c,f,p,v=[],y=typeof n,x;r=r||e;if(y==="undefined"||y==="function"){i=!i.length&&n.length?["require","exports","module"]:i;for(p=0;p<i.length;p+=1){f=s(i[p],r);u=f.f;if(u==="require"){v[p]=a.require(e)}else if(u==="exports"){v[p]=a.exports(e);x=true}else if(u==="module"){o=v[p]=a.module(e)}else if(m(l,u)||m(d,u)||m(h,u)){v[p]=w(u)}else if(f.p){f.p.load(f.n,g(r,true),b(u),{});v[p]=l[u]}else{throw new Error(e+" missing "+u)}}c=n?n.apply(l[e],v):undefined;if(e){if(o&&o.exports!==t&&o.exports!==l[e]){l[e]=o.exports}else if(c!==t||!x){l[e]=c}}}else if(e){l[e]=n}};e=i=o=function(e,i,n,l,d){if(typeof e==="string"){if(a[e]){return a[e](i)}return w(s(e,i).f)}else if(!e.splice){u=e;if(u.deps){o(u.deps,u.callback)}if(!i){return}if(i.splice){e=i;i=n;n=null}else{e=t}}i=i||function(){};if(typeof n==="function"){n=l;l=d}if(l){r(t,e,i,n)}else{setTimeout(function(){r(t,e,i,n)},4)}return o};o.config=function(e){return o(e)};e._defined=l;n=function(e,t,i){if(typeof e!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!t.splice){i=t;t=[]}if(!m(l,e)&&!m(d,e)){d[e]=[e,t,i]}};n.amd={jQuery:true}})();t.requirejs=e;t.require=i;t.define=n}})();t.define("almond",function(){});t.define("jquery",[],function(){var t=e||$;if(t==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return t});t.define("select2/utils",["jquery"],function(e){var t={};t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var r in t){if(i.call(t,r)){e[r]=t[r]}}n.prototype=t.prototype;e.prototype=new n;e.__super__=t.prototype;return e};function i(e){var t=e.prototype;var i=[];for(var n in t){var r=t[n];if(typeof r!=="function"){continue}if(n==="constructor"){continue}i.push(n)}return i}t.Decorate=function(e,t){var n=i(t);var r=i(e);function o(){var i=Array.prototype.unshift;var n=t.prototype.constructor.length;var r=e.prototype.constructor;if(n>0){i.call(arguments,e.prototype.constructor);r=t.prototype.constructor}r.apply(this,arguments)}t.displayName=e.displayName;function s(){this.constructor=o}o.prototype=new s;for(var a=0;a<r.length;a++){var l=r[a];o.prototype[l]=e.prototype[l]}var d=function(e){var i=function(){};if(e in o.prototype){i=o.prototype[e]}var n=t.prototype[e];return function(){var e=Array.prototype.unshift;e.call(arguments,i);return n.apply(this,arguments)}};for(var u=0;u<n.length;u++){var h=n[u];o.prototype[h]=d(h)}return o};var n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{};if(e in this.listeners){this.listeners[e].push(t)}else{this.listeners[e]=[t]}};n.prototype.trigger=function(e){var t=Array.prototype.slice;var i=t.call(arguments,1);this.listeners=this.listeners||{};if(i==null){i=[]}if(i.length===0){i.push({})}i[0]._type=e;if(e in this.listeners){this.invoke(this.listeners[e],t.call(arguments,1))}if("*"in this.listeners){this.invoke(this.listeners["*"],arguments)}};n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++){e[i].apply(this,t)}};t.Observable=n;t.generateChars=function(e){var t="";for(var i=0;i<e;i++){var n=Math.floor(Math.random()*36);t+=n.toString(36)}return t};t.bind=function(e,t){return function(){e.apply(t,arguments)}};t._convertData=function(e){for(var t in e){var i=t.split("-");var n=e;if(i.length===1){continue}for(var r=0;r<i.length;r++){var o=i[r];o=o.substring(0,1).toLowerCase()+o.substring(1);if(!(o in n)){n[o]={}}if(r==i.length-1){n[o]=e[t]}n=n[o]}delete e[t]}return e};t.hasScroll=function(t,i){var n=e(i);var r=i.style.overflowX;var o=i.style.overflowY;if(r===o&&(o==="hidden"||o==="visible")){return false}if(r==="scroll"||o==="scroll"){return true}return n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth};t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof e!=="string"){return e}return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})};t.appendMany=function(t,i){if(e.fn.jquery.substr(0,3)==="1.7"){var n=e();e.map(i,function(e){n=n.add(e)});i=n}t.append(i)};return t});t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e;this.data=n;this.options=t;i.__super__.constructor.call(this)}t.Extend(i,t.Observable);i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){t.attr("aria-multiselectable","true")}this.$results=t;return t};i.prototype.clear=function(){this.$results.empty()};i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear();this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive"'+' class="select2-results__option"></li>');var r=this.options.get("translations").get(t.message);n.append(i(r(t.args)));n[0].className+=" select2-results__message";this.$results.append(n)};i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};i.prototype.append=function(e){this.hideLoading();var t=[];if(e.results==null||e.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i];var r=this.option(n);t.push(r)}this.$results.append(t)};i.prototype.position=function(e,t){var i=t.find(".select2-results");i.append(e)};i.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)};i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]");var t=e.filter("[aria-selected=true]");if(t.length>0){t.first().trigger("mouseenter")}else{e.first().trigger("mouseenter")}this.ensureHighlightVisible()};i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()});var r=t.$results.find(".select2-results__option[aria-selected]");r.each(function(){var t=e(this);var i=e.data(this,"data");var r=""+i.id;if(i.element!=null&&i.element.selected||i.element==null&&e.inArray(r,n)>-1){t.attr("aria-selected","true")}else{t.attr("aria-selected","false")}})})};i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching");var i={disabled:true,loading:true,text:t(e)};var n=this.option(i);n.className+=" loading-results";this.$results.prepend(n)};i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};i.prototype.option=function(t){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};if(t.disabled){delete n["aria-selected"];n["aria-disabled"]="true"}if(t.id==null){delete n["aria-selected"]}if(t._resultId!=null){i.id=t._resultId}if(t.title){i.title=t.title}if(t.children){n.role="group";n["aria-label"]=t.text;delete n["aria-selected"]}for(var r in n){var o=n[r];i.setAttribute(r,o)}if(t.children){var s=e(i);var a=document.createElement("strong");a.className="select2-results__group";var l=e(a);this.template(t,a);var d=[];for(var u=0;u<t.children.length;u++){var h=t.children[u];var c=this.option(h);d.push(c)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(d);s.append(a);s.append(f)}else{this.template(t,i)}e.data(i,"data",t);return i};i.prototype.bind=function(t,i){var n=this;var r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(e){n.clear();n.append(e.data);if(t.isOpen()){n.setClasses();n.highlightFirstItem()}});t.on("results:append",function(e){n.append(e.data);if(t.isOpen()){n.setClasses()}});t.on("query",function(e){n.hideMessages();n.showLoading(e)});t.on("select",function(){if(!t.isOpen()){return}n.setClasses();n.highlightFirstItem()});t.on("unselect",function(){if(!t.isOpen()){return}n.setClasses();n.highlightFirstItem()});t.on("open",function(){n.$results.attr("aria-expanded","true");n.$results.attr("aria-hidden","false");n.setClasses();n.ensureHighlightVisible()});t.on("close",function(){n.$results.attr("aria-expanded","false");n.$results.attr("aria-hidden","true");n.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var e=n.getHighlightedResults();if(e.length===0){return}e.trigger("mouseup")});t.on("results:select",function(){var e=n.getHighlightedResults();if(e.length===0){return}var t=e.data("data");if(e.attr("aria-selected")=="true"){n.trigger("close",{})}else{n.trigger("select",{data:t})}});t.on("results:previous",function(){var e=n.getHighlightedResults();var t=n.$results.find("[aria-selected]");var i=t.index(e);if(i===0){return}var r=i-1;if(e.length===0){r=0}var o=t.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top;var a=o.offset().top;var l=n.$results.scrollTop()+(a-s);if(r===0){n.$results.scrollTop(0)}else if(a-s<0){n.$results.scrollTop(l)}});t.on("results:next",function(){var e=n.getHighlightedResults();var t=n.$results.find("[aria-selected]");var i=t.index(e);var r=i+1;if(r>=t.length){return}var o=t.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(false);var a=o.offset().top+o.outerHeight(false);var l=n.$results.scrollTop()+a-s;if(r===0){n.$results.scrollTop(0)}else if(a>s){n.$results.scrollTop(l)}});t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(e){n.displayMessage(e)});if(e.fn.mousewheel){this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop();var i=n.$results.get(0).scrollHeight-t+e.deltaY;var r=e.deltaY>0&&t-e.deltaY<=0;var o=e.deltaY<0&&i<=n.$results.height();if(r){n.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else if(o){n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height());e.preventDefault();e.stopPropagation()}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this);var r=i.data("data");if(i.attr("aria-selected")==="true"){if(n.options.get("multiple")){n.trigger("unselect",{originalEvent:t,data:r})}else{n.trigger("close",{})}return}n.trigger("select",{originalEvent:t,data:r})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted");n.trigger("results:focus",{data:i,element:e(this)})})};i.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e};i.prototype.destroy=function(){this.$results.remove()};i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(e.length===0){return}var t=this.$results.find("[aria-selected]");var i=t.index(e);var n=this.$results.offset().top;var r=e.offset().top;var o=this.$results.scrollTop()+(r-n);var s=r-n;o-=e.outerHeight(false)*2;if(i<=2){this.$results.scrollTop(0)}else if(s>this.$results.outerHeight()||s<0){this.$results.scrollTop(o)}};i.prototype.template=function(t,i){var n=this.options.get("templateResult");var r=this.options.get("escapeMarkup");var o=n(t,i);if(o==null){i.style.display="none"}else if(typeof o==="string"){i.innerHTML=r(o)}else{e(i).append(o)}};return i});t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e});t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e;this.options=t;n.__super__.constructor.call(this)}t.Extend(n,t.Observable);n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this._tabindex=0;if(this.$element.data("old-tabindex")!=null){this._tabindex=this.$element.data("old-tabindex")}else if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}t.attr("title",this.$element.attr("title"));t.attr("tabindex",this._tabindex);this.$selection=t;return t};n.prototype.bind=function(e,t){var n=this;var r=e.id+"-container";var o=e.id+"-results";this.container=e;this.$selection.on("focus",function(e){n.trigger("focus",e)});this.$selection.on("blur",function(e){n._handleBlur(e)});this.$selection.on("keydown",function(e){n.trigger("keypress",e);if(e.which===i.SPACE){e.preventDefault()}});e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)});e.on("selection:update",function(e){n.update(e.data)});e.on("open",function(){n.$selection.attr("aria-expanded","true");n.$selection.attr("aria-owns",o);n._attachCloseHandler(e)});e.on("close",function(){n.$selection.attr("aria-expanded","false");n.$selection.removeAttr("aria-activedescendant");n.$selection.removeAttr("aria-owns");n.$selection.focus();n._detachCloseHandler(e)});e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)});e.on("disable",function(){n.$selection.attr("tabindex","-1")})};n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){if(document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)){return}i.trigger("blur",t)},1)};n.prototype._attachCloseHandler=function(t){var i=this;e(document.body).on("mousedown.select2."+t.id,function(t){var i=e(t.target);var n=i.closest(".select2");var r=e(".select2.select2-container--open");r.each(function(){var t=e(this);if(this==n[0]){return}var i=t.data("element");i.select2("close")})})};n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)};n.prototype.position=function(e,t){var i=t.find(".selection");i.append(e)};n.prototype.destroy=function(){this._detachCloseHandler(this.container)};n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")};return n});t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}i.Extend(r,t);r.prototype.render=function(){var e=r.__super__.render.call(this);e.addClass("select2-selection--single");e.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return e};r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n);this.$selection.attr("aria-labelledby",n);this.$selection.on("mousedown",function(e){if(e.which!==1){return}i.trigger("toggle",{originalEvent:e})});this.$selection.on("focus",function(e){});this.$selection.on("blur",function(e){});e.on("focus",function(t){if(!e.isOpen()){i.$selection.focus()}});e.on("selection:update",function(e){i.update(e.data)})};r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};r.prototype.display=function(e,t){var i=this.options.get("templateSelection");var n=this.options.get("escapeMarkup");return n(i(e,t))};r.prototype.selectionContainer=function(){return e("<span></span>")};r.prototype.update=function(e){if(e.length===0){this.clear();return}var t=e[0];var i=this.$selection.find(".select2-selection__rendered");var n=this.display(t,i);i.empty().append(n);i.prop("title",t.title||t.text)};return r});t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}i.Extend(n,t);n.prototype.render=function(){var e=n.__super__.render.call(this);e.addClass("select2-selection--multiple");e.html('<ul class="select2-selection__rendered"></ul>');return e};n.prototype.bind=function(t,i){var r=this;n.__super__.bind.apply(this,arguments);this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})});this.$selection.on("click",".select2-selection__choice__remove",function(t){if(r.options.get("disabled")){return}var i=e(this);var n=i.parent();var o=n.data("data");r.trigger("unselect",{originalEvent:t,data:o})})};n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};n.prototype.display=function(e,t){var i=this.options.get("templateSelection");var n=this.options.get("escapeMarkup");return n(i(e,t))};n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+"&times;"+"</span>"+"</li>");return t};n.prototype.update=function(e){this.clear();if(e.length===0){return}var t=[];for(var n=0;n<e.length;n++){var r=e[n];var o=this.selectionContainer();var s=this.display(r,o);o.append(s);o.prop("title",r.title||r.text);o.data("data",r);t.push(o)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,t)};return n});t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));e.call(this,t,i)}t.prototype.normalizePlaceholder=function(e,t){if(typeof t==="string"){t={id:"",text:t}}return t};t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();i.html(this.display(t));i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return i};t.prototype.update=function(e,t){var i=t.length==1&&t[0].id!=this.placeholder.id;var n=t.length>1;if(n||i){return e.call(this,t)}this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)};return t});t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)});t.on("keypress",function(e){n._handleKeyboardClear(e,t)})};i.prototype._handleClear=function(e,t){if(this.options.get("disabled")){return}var i=this.$selection.find(".select2-selection__clear");if(i.length===0){return}t.stopPropagation();var n=i.data("data");for(var r=0;r<n.length;r++){var o={data:n[r]};this.trigger("unselect",o);if(o.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})};i.prototype._handleKeyboardClear=function(e,i,n){if(n.isOpen()){return}if(i.which==t.DELETE||i.which==t.BACKSPACE){this._handleClear(i)}};i.prototype.update=function(t,i){t.call(this,i);if(this.$selection.find(".select2-selection__placeholder").length>0||i.length===0){return}var n=e('<span class="select2-selection__clear">'+"&times;"+"</span>");n.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(n)};return i});t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=i;this.$search=i.find("input");var n=t.call(this);this._transferTabIndex();return n};n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n);t.on("open",function(){r.$search.trigger("focus")});t.on("close",function(){r.$search.val("");r.$search.removeAttr("aria-activedescendant");r.$search.trigger("focus")});t.on("enable",function(){r.$search.prop("disabled",false);r._transferTabIndex()});t.on("disable",function(){r.$search.prop("disabled",true)});t.on("focus",function(e){r.$search.trigger("focus")});t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)});this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)});this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)});this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation();r.trigger("keypress",e);r._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===i.BACKSPACE&&r.$search.val()===""){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=n.data("data");r.searchRemoveChoice(o);e.preventDefault()}}});var o=document.documentMode;var s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(s){r.$selection.off("input.search input.searchcheck");return}r.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&e.type==="input"){r.$selection.off("input.search input.searchcheck");return}var t=e.which;if(t==i.SHIFT||t==i.CTRL||t==i.ALT){return}if(t==i.TAB){return}r.handleSearch(e)})};n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)};n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");e.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(i){this.$search.focus()}};n.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=false};n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()};n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(this.$search.attr("placeholder")!==""){e=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var t=this.$search.val().length+1;e=t*.75+"em"}this.$search.css("width",e)};return n});t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}t.prototype.bind=function(t,i,n){var r=this;var o=["open","opening","close","closing","select","selecting","unselect","unselecting"];var s=["opening","closing","selecting","unselecting"];t.call(this,i,n);i.on("*",function(t,i){if(e.inArray(t,o)===-1){return}i=i||{};var n=e.Event("select2:"+t,{params:i});r.$element.trigger(n);if(e.inArray(t,s)===-1){return}i.prevented=n.isDefaultPrevented()})};return t});t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}i.prototype.all=function(){return this.dict};i.prototype.get=function(e){return this.dict[e]};i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)};i._cache={};i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])};return i});t.define("select2/diacritics",[],function(){var e={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};return e});t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}e.Extend(t,e.Observable);t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")};t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")};t.prototype.bind=function(e,t){};t.prototype.destroy=function(){};t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";n+=e.generateChars(4);if(i.id!=null){n+="-"+i.id.toString()}else{n+="-"+e.generateChars(4)}return n};return t});t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e;this.options=t;n.__super__.constructor.call(this)}t.Extend(n,e);n.prototype.current=function(e){var t=[];var n=this;this.$element.find(":selected").each(function(){var e=i(this);var r=n.item(e);t.push(r)});e(t)};n.prototype.select=function(e){var t=this;e.selected=true;if(i(e.element).is("option")){e.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(n){var r=[];e=[e];e.push.apply(e,n);for(var o=0;o<e.length;o++){var s=e[o].id;if(i.inArray(s,r)===-1){r.push(s)}}t.$element.val(r);t.$element.trigger("change")})}else{var n=e.id;this.$element.val(n);this.$element.trigger("change")}};n.prototype.unselect=function(e){var t=this;if(!this.$element.prop("multiple")){return}e.selected=false;if(i(e.element).is("option")){e.element.selected=false;this.$element.trigger("change");return}this.current(function(n){var r=[];for(var o=0;o<n.length;o++){var s=n[o].id;if(s!==e.id&&i.inArray(s,r)===-1){r.push(s)}}t.$element.val(r);t.$element.trigger("change")})};n.prototype.bind=function(e,t){var i=this;this.container=e;e.on("select",function(e){i.select(e.data)});e.on("unselect",function(e){i.unselect(e.data)})};n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})};n.prototype.query=function(e,t){var n=[];var r=this;var o=this.$element.children();o.each(function(){var t=i(this);if(!t.is("option")&&!t.is("optgroup")){return}var o=r.item(t);var s=r.matches(e,o);if(s!==null){n.push(s)}});t({results:n})};n.prototype.addOptions=function(e){t.appendMany(this.$element,e)};n.prototype.option=function(e){var t;if(e.children){t=document.createElement("optgroup");t.label=e.text}else{t=document.createElement("option");if(t.textContent!==undefined){t.textContent=e.text}else{t.innerText=e.text}}if(e.id){t.value=e.id}if(e.disabled){t.disabled=true}if(e.selected){t.selected=true}if(e.title){t.title=e.title}var n=i(t);var r=this._normalizeItem(e);r.element=t;i.data(t,"data",r);return n};n.prototype.item=function(e){var t={};t=i.data(e[0],"data");if(t!=null){return t}if(e.is("option")){t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")}}else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};var n=e.children("option");var r=[];for(var o=0;o<n.length;o++){var s=i(n[o]);var a=this.item(s);r.push(a)}t.children=r}t=this._normalizeItem(t);t.element=e[0];i.data(e[0],"data",t);return t};n.prototype._normalizeItem=function(e){if(!i.isPlainObject(e)){e={id:e,text:e}}e=i.extend({},{text:""},e);var t={selected:false,disabled:false};if(e.id!=null){e.id=e.id.toString()}if(e.text!=null){e.text=e.text.toString()}if(e._resultId==null&&e.id&&this.container!=null){e._resultId=this.generateResultId(this.container,e)}return i.extend({},t,e)};n.prototype.matches=function(e,t){var i=this.options.get("matcher");return i(e,t)};return n});t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t);this.addOptions(this.convertToOptions(i))}t.Extend(n,e);n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});if(t.length===0){t=this.option(e);this.addOptions(t)}n.__super__.select.call(this,e)};n.prototype.convertToOptions=function(e){var n=this;var r=this.$element.find("option");var o=r.map(function(){return n.item(i(this)).id}).get();var s=[];function a(e){return function(){return i(this).val()==e.id}}for(var l=0;l<e.length;l++){var d=this._normalizeItem(e[l]);if(i.inArray(d.id,o)>=0){var u=r.filter(a(d));var h=this.item(u);var c=i.extend(true,{},d,h);var f=this.option(c);u.replaceWith(f);continue}var p=this.option(d);if(d.children){var m=this.convertToOptions(d.children);t.appendMany(p,m)}s.push(p)}return s};return n});t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}n.__super__.constructor.call(this,e,t)}t.Extend(n,e);n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);r.then(t);r.fail(n);return r}};return i.extend({},t,e,true)};n.prototype.processResults=function(e){return e};n.prototype.query=function(e,t){var n=[];var r=this;if(this._request!=null){if(i.isFunction(this._request.abort)){this._request.abort()}this._request=null}var o=i.extend({type:"GET"},this.ajaxOptions);if(typeof o.url==="function"){o.url=o.url.call(this.$element,e)}if(typeof o.data==="function"){o.data=o.data.call(this.$element,e)}function s(){var n=o.transport(o,function(n){var o=r.processResults(n,e);if(r.options.get("debug")&&window.console&&console.error){if(!o||!o.results||!i.isArray(o.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}t(o)},function(){if(n.status&&n.status==="0"){return}r.trigger("results:message",{message:"errorLoading"})});r._request=n}if(this.ajaxOptions.delay&&e.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(s,this.ajaxOptions.delay)}else{s()}};return n});t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var r=n.get("tags");var o=n.get("createTag");if(o!==undefined){this.createTag=o}var s=n.get("insertTag");if(s!==undefined){this.insertTag=s}t.call(this,i,n);if(e.isArray(r)){for(var a=0;a<r.length;a++){var l=r[a];var d=this._normalizeItem(l);var u=this.option(d);this.$element.append(u)}}}t.prototype.query=function(e,t,i){var n=this;this._removeOldTags();if(t.term==null||t.page!=null){e.call(this,t,i);return}function r(e,o){var s=e.results;for(var a=0;a<s.length;a++){var l=s[a];var d=l.children!=null&&!r({results:l.children},true);var u=l.text===t.term;if(u||d){if(o){return false}e.data=s;i(e);return}}if(o){return true}var h=n.createTag(t);if(h!=null){var c=n.option(h);c.attr("data-select2-tag",true);n.addOptions([c]);n.insertTag(s,h)}e.results=s;i(e)}e.call(this,t,r)};t.prototype.createTag=function(t,i){var n=e.trim(i.term);if(n===""){return null}return{id:n,text:n}};t.prototype.insertTag=function(e,t,i){t.unshift(i)};t.prototype._removeOldTags=function(t){var i=this._lastTag;var n=this.$element.find("option[data-select2-tag]");n.each(function(){if(this.selected){return}e(this).remove()})};return t});t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");if(n!==undefined){this.tokenizer=n}e.call(this,t,i)}t.prototype.bind=function(e,t,i){e.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")};t.prototype.query=function(t,i,n){var r=this;function o(t){var i=r._normalizeItem(t);var n=r.$element.find("option").filter(function(){return e(this).val()===i.id});if(!n.length){var o=r.option(i);o.attr("data-select2-tag",true);r._removeOldTags();r.addOptions([o])}s(i)}function s(e){r.trigger("select",{data:e})}i.term=i.term||"";var a=this.tokenizer(i,this.options,o);if(a.term!==i.term){if(this.$search.length){this.$search.val(a.term);this.$search.focus()}i.term=a.term}t.call(this,i,n)};t.prototype.tokenizer=function(t,i,n,r){var o=n.get("tokenSeparators")||[];var s=i.term;var a=0;var l=this.createTag||function(e){return{id:e.term,text:e.term}};while(a<s.length){var d=s[a];if(e.inArray(d,o)===-1){a++;continue}var u=s.substr(0,a);var h=e.extend({},i,{term:u});var c=l(h);if(c==null){a++;continue}r(c);s=s.substr(a+1)||"";a=0}return{term:s}};return t});t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){t.term=t.term||"";if(t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}e.call(this,t,i)};return e});t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){t.term=t.term||"";if(this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}e.call(this,t,i)};return e});t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){var n=this;this.current(function(r){var o=r!=null?r.length:0;if(n.maximumSelectionLength>0&&o>=n.maximumSelectionLength){n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});return}e.call(n,t,i)})};return e});t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e;this.options=t;i.__super__.constructor.call(this)}t.Extend(i,t.Observable);i.prototype.render=function(){var t=e('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");t.attr("dir",this.options.get("dir"));this.$dropdown=t;return t};i.prototype.bind=function(){};i.prototype.position=function(e,t){};i.prototype.destroy=function(){this.$dropdown.remove()};return i});t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}i.prototype.render=function(t){var i=t.call(this);var n=e('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=n;this.$search=n.find("input");i.prepend(n);return i};i.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n);this.$search.on("keydown",function(e){r.trigger("keypress",e);r._keyUpPrevented=e.isDefaultPrevented()});this.$search.on("input",function(t){e(this).off("keyup")});this.$search.on("keyup input",function(e){r.handleSearch(e)});i.on("open",function(){r.$search.attr("tabindex",0);r.$search.focus();window.setTimeout(function(){r.$search.focus()},0)});i.on("close",function(){r.$search.attr("tabindex",-1);r.$search.val("")});i.on("focus",function(){if(i.isOpen()){r.$search.focus()}});i.on("results:all",function(e){if(e.query.term==null||e.query.term===""){var t=r.showSearch(e);if(t){r.$searchContainer.removeClass("select2-search--hide")}else{r.$searchContainer.addClass("select2-search--hide")}}})};i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=false};i.prototype.showSearch=function(e,t){return true};return i});t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));e.call(this,t,i,n)}e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results);e.call(this,t)};e.prototype.normalizePlaceholder=function(e,t){if(typeof t==="string"){t={id:"",text:t}}return t};e.prototype.removePlaceholder=function(e,t){var i=t.slice(0);for(var n=t.length-1;n>=0;n--){var r=t[n];if(this.placeholder.id===r.id){i.splice(n,1)}}return i};return e});t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={};e.call(this,t,i,n);this.$loadingMore=this.createLoadingMore();this.loading=false}t.prototype.append=function(e,t){this.$loadingMore.remove();this.loading=false;e.call(this,t);if(this.showLoadingMore(t)){this.$results.append(this.$loadingMore)}};t.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n);i.on("query",function(e){r.lastParams=e;r.loading=true});i.on("query:append",function(e){r.lastParams=e;r.loading=true});this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);if(r.loading||!t){return}var i=r.$results.offset().top+r.$results.outerHeight(false);var n=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(false);if(i+50>=n){r.loadMore()}})};t.prototype.loadMore=function(){this.loading=true;var t=e.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)};t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more};t.prototype.createLoadingMore=function(){var t=e("<li "+'class="select2-results__option select2-results__option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var i=this.options.get("translations").get("loadingMore");t.html(i(this.lastParams));return t};return t});t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body);t.call(this,i,n)}i.prototype.bind=function(e,t,i){var n=this;var r=false;e.call(this,t,i);t.on("open",function(){n._showDropdown();n._attachPositioningHandler(t);if(!r){r=true;t.on("results:all",function(){n._positionDropdown();n._resizeDropdown()});t.on("results:append",function(){n._positionDropdown();n._resizeDropdown()})}});t.on("close",function(){n._hideDropdown();n._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})};i.prototype.destroy=function(e){e.call(this);this.$dropdownContainer.remove()};i.prototype.position=function(e,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i};i.prototype.render=function(t){var i=e("<span></span>");var n=t.call(this);i.append(n);this.$dropdownContainer=i;return i};i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()};i.prototype._attachPositioningHandler=function(i,n){var r=this;var o="scroll.select2."+n.id;var s="resize.select2."+n.id;var a="orientationchange.select2."+n.id;var l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})});l.on(o,function(t){var i=e(this).data("select2-scroll-position");e(this).scrollTop(i.y)});e(window).on(o+" "+s+" "+a,function(e){r._positionDropdown();r._resizeDropdown()})};i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id;var o="resize.select2."+n.id;var s="orientationchange.select2."+n.id;var a=this.$container.parents().filter(t.hasScroll);a.off(r);e(window).off(r+" "+o+" "+s)};i.prototype._positionDropdown=function(){var t=e(window);var i=this.$dropdown.hasClass("select2-dropdown--above");var n=this.$dropdown.hasClass("select2-dropdown--below");var r=null;var o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(false);var s={height:this.$container.outerHeight(false)};s.top=o.top;s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(false)};var l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()};var d=l.top<o.top-a.height;var u=l.bottom>o.bottom+a.height;var h={left:o.left,top:s.bottom};var c=this.$dropdownParent;if(c.css("position")==="static"){c=c.offsetParent()}var f=c.offset();h.top-=f.top;h.left-=f.left;if(!i&&!n){r="below"}if(!u&&d&&!i){r="above"}else if(!d&&u&&i){r="below"}if(r=="above"||i&&r!=="below"){h.top=s.top-f.top-a.height}if(r!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)}this.$dropdownContainer.css(h)};i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){e.minWidth=e.width;e.position="relative";e.width="auto"}this.$dropdown.css(e)};i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return i});t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){var i=0;for(var n=0;n<t.length;n++){var r=t[n];if(r.children){i+=e(r.children)}else{i++}}return i}function t(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}e.call(this,t,i,n)}t.prototype.showSearch=function(t,i){if(e(i.data.results)<this.minimumResultsForSearch){return false}return t.call(this,i)};return t});t.define("select2/dropdown/selectOnClose",[],function(){function e(){}e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);t.on("close",function(e){n._handleSelectOnClose(e)})};e.prototype._handleSelectOnClose=function(e,t){if(t&&t.originalSelect2Event!=null){var i=t.originalSelect2Event;if(i._type==="select"||i._type==="unselect"){return}}var n=this.getHighlightedResults();if(n.length<1){return}var r=n.data("data");if(r.element!=null&&r.element.selected||r.element==null&&r.selected){return}this.trigger("select",{data:r})};return e});t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);t.on("select",function(e){n._selectTriggered(e)});t.on("unselect",function(e){n._selectTriggered(e)})};e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;if(i&&i.ctrlKey){return}this.trigger("close",{originalEvent:i,originalSelect2Event:t})};return e});t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum;var i="Please delete "+t+" character";if(t!=1){i+="s"}return i},inputTooShort:function(e){var t=e.minimum-e.input.length;var i="Please enter "+t+" or more characters";return i},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";if(e.maximum!=1){t+="s"}return t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"}}});t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,r,o,s,a,l,d,u,h,c,f,p,m,v,g,y,b,w,x,_,k,C,S,T,D,E){function O(){this.reset()}O.prototype.apply=function(h){h=e.extend(true,{},this.defaults,h);if(h.dataAdapter==null){if(h.ajax!=null){h.dataAdapter=p}else if(h.data!=null){h.dataAdapter=f}else{h.dataAdapter=c}if(h.minimumInputLength>0){h.dataAdapter=d.Decorate(h.dataAdapter,g)}if(h.maximumInputLength>0){h.dataAdapter=d.Decorate(h.dataAdapter,y)}if(h.maximumSelectionLength>0){h.dataAdapter=d.Decorate(h.dataAdapter,b)}if(h.tags){h.dataAdapter=d.Decorate(h.dataAdapter,m)}if(h.tokenSeparators!=null||h.tokenizer!=null){h.dataAdapter=d.Decorate(h.dataAdapter,v)}if(h.query!=null){var E=t(h.amdBase+"compat/query");h.dataAdapter=d.Decorate(h.dataAdapter,E)}if(h.initSelection!=null){var O=t(h.amdBase+"compat/initSelection");h.dataAdapter=d.Decorate(h.dataAdapter,O)}}if(h.resultsAdapter==null){h.resultsAdapter=i;if(h.ajax!=null){h.resultsAdapter=d.Decorate(h.resultsAdapter,k)}if(h.placeholder!=null){h.resultsAdapter=d.Decorate(h.resultsAdapter,_)}if(h.selectOnClose){h.resultsAdapter=d.Decorate(h.resultsAdapter,T)}}if(h.dropdownAdapter==null){if(h.multiple){h.dropdownAdapter=w}else{var P=d.Decorate(w,x);h.dropdownAdapter=P}if(h.minimumResultsForSearch!==0){h.dropdownAdapter=d.Decorate(h.dropdownAdapter,S)}if(h.closeOnSelect){h.dropdownAdapter=d.Decorate(h.dropdownAdapter,D)}if(h.dropdownCssClass!=null||h.dropdownCss!=null||h.adaptDropdownCssClass!=null){var M=t(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=d.Decorate(h.dropdownAdapter,M)}h.dropdownAdapter=d.Decorate(h.dropdownAdapter,C)}if(h.selectionAdapter==null){if(h.multiple){h.selectionAdapter=r}else{h.selectionAdapter=n}if(h.placeholder!=null){h.selectionAdapter=d.Decorate(h.selectionAdapter,o)}if(h.allowClear){h.selectionAdapter=d.Decorate(h.selectionAdapter,s)}if(h.multiple){h.selectionAdapter=d.Decorate(h.selectionAdapter,a)}if(h.containerCssClass!=null||h.containerCss!=null||h.adaptContainerCssClass!=null){var A=t(h.amdBase+"compat/containerCss");h.selectionAdapter=d.Decorate(h.selectionAdapter,A)}h.selectionAdapter=d.Decorate(h.selectionAdapter,l)}if(typeof h.language==="string"){if(h.language.indexOf("-")>0){var I=h.language.split("-");var F=I[0];h.language=[h.language,F]}else{h.language=[h.language]}}if(e.isArray(h.language)){var R=new u;h.language.push("en");var N=h.language;for(var L=0;L<N.length;L++){var j=N[L];var B={};try{B=u.loadPath(j)}catch(e){try{j=this.defaults.amdLanguageBase+j;B=u.loadPath(j)}catch(e){if(h.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+j+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}R.extend(B)}h.translations=R}else{var z=u.loadPath(this.defaults.amdLanguageBase+"en");var $=new u(h.language);$.extend(z);h.translations=$}return h};O.prototype.reset=function(){function t(e){function t(e){return h[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(n,r){if(e.trim(n.term)===""){return r}if(r.children&&r.children.length>0){var o=e.extend(true,{},r);for(var s=r.children.length-1;s>=0;s--){var a=r.children[s];var l=i(n,a);if(l==null){o.children.splice(s,1)}}if(o.children.length>0){return o}return i(n,o)}var d=t(r.text).toUpperCase();var u=t(n.term).toUpperCase();if(d.indexOf(u)>-1){return r}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:d.escapeMarkup,language:E,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}};O.prototype.set=function(t,i){var n=e.camelCase(t);var r={};r[n]=i;var o=d._convertData(r);e.extend(this.defaults,o)};var P=new O;return P});t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function r(t,r){this.options=t;if(r!=null){this.fromElement(r)}this.options=i.apply(this.options);if(r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}r.prototype.fromElement=function(e){var i=["select2"];if(this.options.multiple==null){this.options.multiple=e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=e.prop("disabled")}if(this.options.language==null){if(e.prop("lang")){this.options.language=e.prop("lang").toLowerCase()}else if(e.closest("[lang]").prop("lang")){this.options.language=e.closest("[lang]").prop("lang")}}if(this.options.dir==null){if(e.prop("dir")){this.options.dir=e.prop("dir")}else if(e.closest("[dir]").prop("dir")){this.options.dir=e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}e.prop("disabled",this.options.disabled);e.prop("multiple",this.options.multiple);if(e.data("select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}e.data("data",e.data("select2Tags"));e.data("tags",true)}if(e.data("ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}e.attr("ajax--url",e.data("ajaxUrl"));e.data("ajax--url",e.data("ajaxUrl"))}var r={};if(t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&e[0].dataset){r=t.extend(true,{},e[0].dataset,e.data())}else{r=e.data()}var o=t.extend(true,{},r);o=n._convertData(o);for(var s in o){if(t.inArray(s,i)>-1){continue}if(t.isPlainObject(this.options[s])){t.extend(this.options[s],o[s])}else{this.options[s]=o[s]}}return this};r.prototype.get=function(e){return this.options[e]};r.prototype.set=function(e,t){this.options[e]=t};return r});t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var r=function(e,i){if(e.data("select2")!=null){e.data("select2").destroy()}this.$element=e;this.id=this._generateId(e);i=i||{};this.options=new t(i,e);r.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n);e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,s);var d=this.options.get("resultsAdapter");this.results=new d(e,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})});e.addClass("select2-hidden-accessible");e.attr("aria-hidden","true");this._syncAttributes();e.data("select2",this)};i.Extend(r,i.Observable);r.prototype._generateId=function(e){var t="";if(e.attr("id")!=null){t=e.attr("id")}else if(e.attr("name")!=null){t=e.attr("name")+"-"+i.generateChars(2)}else{t=i.generateChars(4)}t=t.replace(/(:|\.|\[|\]|,)/g,"");t="select2-"+t;return t};r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));if(t!=null){e.css("width",t)}};r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(t=="resolve"){var n=this._resolveWidth(e,"style");if(n!=null){return n}return this._resolveWidth(e,"element")}if(t=="element"){var r=e.outerWidth(false);if(r<=0){return"auto"}return r+"px"}if(t=="style"){var o=e.attr("style");if(typeof o!=="string"){return null}var s=o.split(";");for(var a=0,l=s.length;a<l;a=a+1){var d=s[a].replace(/\s/g,"");var u=d.match(i);if(u!==null&&u.length>=1){return u[1]}}return null}return t};r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})});this.$element.on("focus.select2",function(e){t.trigger("focus",e)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(n!=null){this._observer=new n(function(i){e.each(i,t._syncA);e.each(i,t._syncS)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",t._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",t._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,false)}};r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerSelectionEvents=function(){var t=this;var i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(e){t.focus(e)});this.selection.on("*",function(n,r){if(e.inArray(n,i)!==-1){return}t.trigger(n,r)})};r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")});this.on("close",function(){e.$container.removeClass("select2-container--open")});this.on("enable",function(){e.$container.removeClass("select2-container--disabled")});this.on("disable",function(){e.$container.addClass("select2-container--disabled")});this.on("blur",function(){e.$container.removeClass("select2-container--focus")});this.on("query",function(t){if(!e.isOpen()){e.trigger("open",{})}this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;if(e.isOpen()){if(i===n.ESC||i===n.TAB||i===n.UP&&t.altKey){e.close();t.preventDefault()}else if(i===n.ENTER){e.trigger("results:select",{});t.preventDefault()}else if(i===n.SPACE&&t.ctrlKey){e.trigger("results:toggle",{});t.preventDefault()}else if(i===n.UP){e.trigger("results:previous",{});t.preventDefault()}else if(i===n.DOWN){e.trigger("results:next",{});t.preventDefault()}}else{if(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey){e.open();t.preventDefault()}}})};r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};r.prototype._syncSubtree=function(e,t){var i=false;var n=this;if(e&&e.target&&(e.target.nodeName!=="OPTION"&&e.target.nodeName!=="OPTGROUP")){return}if(!t){i=true}else if(t.addedNodes&&t.addedNodes.length>0){for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];if(o.selected){i=true}}}else if(t.removedNodes&&t.removedNodes.length>0){i=true}if(i){this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}};r.prototype.trigger=function(e,t){var i=r.__super__.trigger;var n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t===undefined){t={}}if(e in n){var o=n[e];var s={prevented:false,name:e,args:t};i.call(this,o,s);if(s.prevented){t.prevented=true;return}}i.call(this,e,t)};r.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};r.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};r.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};r.prototype.focus=function(e){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};r.prototype.enable=function(e){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(e==null||e.length===0){e=[true]}var t=!e[0];this.$element.prop("disabled",t)};r.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var e=[];this.dataAdapter.current(function(t){e=t});return e};r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(t==null||t.length===0){return this.$element.val()}var i=t[0];if(e.isArray(i)){i=e.map(i,function(e){return e.toString()})}this.$element.val(i).trigger("change")};r.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};r.prototype.render=function(){var t=e('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");t.attr("dir",this.options.get("dir"));this.$container=t;this.$container.addClass("select2-container--"+this.options.get("theme"));t.data("element",this.$element);return t};return r});t.define("jquery-mousewheel",["jquery"],function(e){return e});t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,i,n){if(e.fn.select2==null){var r=["open","close","destroy"];e.fn.select2=function(t){t=t||{};if(typeof t==="object"){this.each(function(){var n=e.extend(true,{},t);var r=new i(e(this),n)});return this}else if(typeof t==="string"){var n;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e(this).data("select2");if(i==null&&window.console&&console.error){console.error("The select2('"+t+"') method was called on an "+"element that is not using Select2.")}n=i[t].apply(i,o)});if(e.inArray(t,r)>-1){return this}return n}else{throw new Error("Invalid arguments for Select2: "+t)}}}if(e.fn.select2.defaults==null){e.fn.select2.defaults=n}return i});return{define:t.define,require:t.require}}();var i=t.require("jquery.select2");e.fn.select2.amd=t;return i});(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;return e.define("select2/i18n/da",[],function(){return{errorLoading:function(){return"Resultaterne kunne ikke indlÃ¦ses."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Angiv venligst "+t+" tegn mindre";return i},inputTooShort:function(e){var t=e.minimum-e.input.length,i="Angiv venligst "+t+" tegn mere";return i},loadingMore:function(){return"IndlÃ¦ser flere resultaterâ¦"},maximumSelected:function(e){var t="Du kan kun vÃ¦lge "+e.maximum+" emne";return e.maximum!=1&&(t+="r"),t},noResults:function(){return"Ingen resultater fundet"},searching:function(){return"SÃ¸gerâ¦"}}}),{define:e.define,require:e.require}})();var saveAs=saveAs||function(e){"use strict";if(typeof e==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,i=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},d="application/octet-stream",u=1e3*40,h=function(e){var t=function(){if(typeof e==="string"){i().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,u)},c=function(e,t,i){t=[].concat(t);var n=t.length;while(n--){var r=e["on"+t[n]];if(typeof r==="function"){try{r.call(e,i||e)}catch(e){l(e)}}}},f=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},p=function(t,l,u){if(!u){t=f(t)}var p=this,m=t.type,v=m===d,g,y=function(){c(p,"writestart progress write writeend".split(" "))},b=function(){if((a||v&&s)&&e.FileReader){var n=new FileReader;n.onloadend=function(){var t=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");var i=e.open(t,"_blank");if(!i)e.location.href=t;t=undefined;p.readyState=p.DONE;y()};n.readAsDataURL(t);p.readyState=p.INIT;return}if(!g){g=i().createObjectURL(t)}if(v){e.location.href=g}else{var r=e.open(g,"_blank");if(!r){e.location.href=g}}p.readyState=p.DONE;y();h(g)};p.readyState=p.INIT;if(r){g=i().createObjectURL(t);setTimeout(function(){n.href=g;n.download=l;o(n);y();h(g);p.readyState=p.DONE});return}b()},m=p.prototype,v=function(e,t,i){return new p(e,t||e.name||"download",i)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,i){t=t||e.name||"download";if(!i){e=f(e)}return navigator.msSaveOrOpenBlob(e,t)}}m.abort=function(){};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;return v}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jspdf=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=(function(){function e(e){this.value=e}function t(t){function i(r,o){try{var s=t[r](o),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){i("next",e)},function(e){i("throw",e)}):n(s.done?"return":"normal",s.value)}catch(e){n("throw",e)}}function n(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?i(r.key,r.arg):o=null}var r,o;this._invoke=function(e,t){return new Promise(function(n,s){var a={key:e,arg:t,resolve:n,reject:s,next:null};o?o=o.next=a:(r=o=a,i(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(t){function i(e){var i={};this.subscribe=function(e,t,n){if("function"!=typeof t)return!1;i.hasOwnProperty(e)||(i[e]={});var r=Math.random().toString(35);return i[e][r]=[t,!!n],r},this.unsubscribe=function(e){for(var t in i)if(i[t][e])return delete i[t][e],!0;return!1},this.publish=function(n){if(i.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var s in i[n]){var a=i[n][s];try{a[0].apply(e,r)}catch(e){t.console&&console.error("jsPDF PubSub Error",e.message,e)}a[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}}}function r(l,d,u,h){var c={};"object"===(void 0===l?"undefined":e(l))&&(l=(c=l).orientation,d=c.unit||d,u=c.format||u,h=c.compress||c.compressPdf||h),d=d||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();(""+u).toLowerCase();var f,p,m,v,g,y,b,w,x,_=!!h&&"function"==typeof Uint8Array,k=c.textColor||"0 g",C=c.drawColor||"0 G",S=c.fontSize||16,T=c.lineHeight||1.15,D=c.lineWidth||.200025,E=2,O=!1,P=[],M={},A={},I=0,F=[],R=[],N=[],L=[],j=[],B=0,z=0,$=0,H={title:"",subject:"",author:"",keywords:"",creator:""},U={},W=new i(U),q=c.hotfixes||[],Y=function(e){return e.toFixed(2)},V=function(e){return e.toFixed(3)},G=function(e){return("0"+parseInt(e)).slice(-2)},X=function(e){O?F[v].push(e):($+=e.length+1,L.push(e))},Z=function(){return E++,P[E]=$,X(E+" 0 obj"),E},K=function(e){X("stream"),X(e),X("endstream")},Q=function(){var e,i,n,s,a,l,d,u,h,c=[];for(d=t.adler32cs||r.adler32cs,_&&void 0===d&&(_=!1),e=1;e<=I;e++){if(c.push(Z()),u=(g=N[e].width)*p,h=(y=N[e].height)*p,X("<</Type /Page"),X("/Parent 1 0 R"),X("/Resources 2 0 R"),X("/MediaBox [0 0 "+Y(u)+" "+Y(h)+"]"),W.publish("putPage",{pageNumber:e,page:F[e]}),X("/Contents "+(E+1)+" 0 R"),X(">>"),X("endobj"),i=F[e].join("\n"),Z(),_){for(n=[],s=i.length;s--;)n[s]=i.charCodeAt(s);l=d.from(i),(a=new o(6)).append(new Uint8Array(n)),i=a.flush(),(n=new Uint8Array(i.length+6)).set(new Uint8Array([120,156])),n.set(i,2),n.set(new Uint8Array([255&l,l>>8&255,l>>16&255,l>>24&255]),i.length+2),i=String.fromCharCode.apply(null,n),X("<</Length "+i.length+" /Filter [/FlateDecode]>>")}else X("<</Length "+i.length+">>");K(i),X("endobj")}P[1]=$,X("1 0 obj"),X("<</Type /Pages");var f="/Kids [";for(s=0;s<I;s++)f+=c[s]+" 0 R ";X(f+"]"),X("/Count "+I),X(">>"),X("endobj"),W.publish("postPutPages")},J=function(e){e.objectNumber=Z(),X("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&X("/Encoding/"+e.encoding),X("/Subtype/Type1>>"),X("endobj")},ee=function(){for(var e in M)M.hasOwnProperty(e)&&J(M[e])},te=function(){W.publish("putXobjectDict")},ie=function(){X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),X("/Font <<");for(var e in M)M.hasOwnProperty(e)&&X("/"+e+" "+M[e].objectNumber+" 0 R");X(">>"),X("/XObject <<"),te(),X(">>")},ne=function(){ee(),W.publish("putResources"),P[2]=$,X("2 0 obj"),X("<<"),ie(),X(">>"),X("endobj"),W.publish("postPutResources")},re=function(){W.publish("putAdditionalObjects");for(var e=0;e<j.length;e++){var t=j[e];P[t.objId]=$,X(t.objId+" 0 obj"),X(t.content),X("endobj")}E+=j.length,W.publish("postPutAdditionalObjects")},oe=function(e,t,i){A.hasOwnProperty(t)||(A[t]={}),A[t][i]=e},se=function(e,t,i,n){var r="F"+(Object.keys(M).length+1).toString(10),o=M[r]={id:r,PostScriptName:e,fontName:t,fontStyle:i,encoding:n,metadata:{}};return oe(r,t,i),W.publish("addFont",o),r},ae=function(e,t){var i,n,r,o,s,a,l,d,u;if(t=t||{},r=t.sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&M[f].metadata&&M[f].metadata[r]&&M[f].metadata[r].encoding&&(o=M[f].metadata[r].encoding,!s&&M[f].encoding&&(s=M[f].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(l=!1,a=[],i=0,n=e.length;i<n;i++)(d=s[e.charCodeAt(i)])?a.push(String.fromCharCode(d)):a.push(e[i]),a[i].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(i=e.length;void 0===l&&0!==i;)e.charCodeAt(i-1)>>8&&(l=!0),i--;if(!l)return e;for(a=t.noBOM?[]:[254,255],i=0,n=e.length;i<n;i++){if(d=e.charCodeAt(i),(u=d>>8)>>8)throw new Error("Character at position "+i+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(d-(u<<8))}return String.fromCharCode.apply(void 0,a)},le=function(e,t){return ae(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},de=function(){X("/Producer (jsPDF "+r.version+")");for(var e in H)H.hasOwnProperty(e)&&H[e]&&X("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+le(H[e])+")");var t=new Date,i=t.getTimezoneOffset(),n=i<0?"+":"-",o=Math.floor(Math.abs(i/60)),s=Math.abs(i%60),a=[n,G(o),"'",G(s),"'"].join("");X(["/CreationDate (D:",t.getFullYear(),G(t.getMonth()+1),G(t.getDate()),G(t.getHours()),G(t.getMinutes()),G(t.getSeconds()),a,")"].join(""))},ue=function(){switch(X("/Type /Catalog"),X("/Pages 1 0 R"),w||(w="fullwidth"),w){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var e=""+w;"%"===e.substr(e.length-1)&&(w=parseInt(w)/100),"number"==typeof w&&X("/OpenAction [3 0 R /XYZ null null "+Y(w)+"]")}switch(x||(x="continuous"),x){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}b&&X("/PageMode /"+b),W.publish("putCatalog")},he=function(){X("/Size "+(E+1)),X("/Root "+E+" 0 R"),X("/Info "+(E-1)+" 0 R")},ce=function(e,t){var i="string"==typeof t&&t.toLowerCase();if("string"==typeof e){var n=e.toLowerCase();a.hasOwnProperty(n)&&(e=a[n][0]/p,t=a[n][1]/p)}if(Array.isArray(e)&&(t=e[1],e=e[0]),i){switch(i.substr(0,1)){case"l":t>e&&(i="s");break;case"p":e>t&&(i="s")}"s"===i&&(m=e,e=t,t=m)}O=!0,F[++I]=[],N[I]={width:Number(e)||g,height:Number(t)||y},R[I]={},me(I)},fe=function(){ce.apply(this,arguments),X(Y(D*p)+" w"),X(C),0!==B&&X(B+" J"),0!==z&&X(z+" j"),W.publish("addPage",{pageNumber:I})},pe=function(e){e>0&&e<=I&&(F.splice(e,1),N.splice(e,1),v>--I&&(v=I),this.setPage(v))},me=function(e){e>0&&e<=I&&(v=e,g=N[e].width,y=N[e].height)},ve=function(e,t){var i;switch(e=void 0!==e?e:M[f].fontName,t=void 0!==t?t:M[f].fontStyle,void 0!==e&&(e=e.toLowerCase()),e){case"sans-serif":case"verdana":case"arial":case"helvetica":e="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":e="courier";break;case"serif":case"cursive":case"fantasy":default:e="times"}try{i=A[e][t]}catch(e){}return i||null==(i=A.times[t])&&(i=A.times.normal),i},ge=function(){O=!1,E=2,$=0,L=[],P=[],j=[],W.publish("buildDocument"),X("%PDF-"+s),Q(),re(),ne(),Z(),X("<<"),de(),X(">>"),X("endobj"),Z(),X("<<"),ue(),X(">>"),X("endobj");var e,t=$,i="0000000000";for(X("xref"),X("0 "+(E+1)),X(i+" 65535 f "),e=1;e<=E;e++){var n=P[e];X("function"==typeof n?(i+P[e]()).slice(-10)+" 00000 n ":(i+P[e]).slice(-10)+" 00000 n ")}return X("trailer"),X("<<"),he(),X(">>"),X("startxref"),X(""+t),X("%%EOF"),O=!0,L.join("\n")},ye=function(e){var t="S";return"F"===e?t="f":"FD"===e||"DF"===e?t="B":"f"!==e&&"f*"!==e&&"B"!==e&&"B*"!==e||(t=e),t},be=function(){for(var e=ge(),t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i);t--;)n[t]=e.charCodeAt(t);return i},we=function(){return new Blob([be()],{type:"application/pdf"})},xe=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var i=e.stack||"";~i.indexOf(" at ")&&(i=i.split(" at ")[1]);var n="Error in function "+i.split("\n")[0].split("<")[0]+": "+e.message;if(!t.console)throw new Error(n);t.console.error(n,e),t.alert&&alert(n)}},e.foo.bar=e,e.foo}(function(e,i){var r="dataur"===(""+e).substr(0,6)?"data:application/pdf;base64,"+btoa(ge()):0;switch(e){case void 0:return ge();case"save":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return U.output("dataurlnewwindow");n(we(),i),"function"==typeof n.unload&&t.setTimeout&&setTimeout(n.unload,911);break;case"arraybuffer":return be();case"blob":return we();case"bloburi":case"bloburl":return t.URL&&t.URL.createObjectURL(we())||void 0;case"datauristring":case"dataurlstring":return r;case"dataurlnewwindow":var o=t.open(r);if(o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return t.document.location.href=r;default:throw new Error('Output type "'+e+'" is not supported.')}}),_e=function(e){return!0===Array.isArray(q)&&q.indexOf(e)>-1};switch(d){case"pt":p=1;break;case"mm":p=72/25.4000508;break;case"cm":p=72/2.54000508;break;case"in":p=72;break;case"px":p=1==_e("px_scaling")?.75:96/72;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+d}U.internal={pdfEscape:le,getStyle:ye,getFont:function(){return M[ve.apply(U,arguments)]},getFontSize:function(){return S},getLineHeight:function(){return S*T},write:function(e){X(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return Y(e*p)},getVerticalCoordinateString:function(e){return Y((y-e)*p)},collections:{},newObject:Z,newAdditionalObject:function(){var e=2*F.length+1,t={objId:e+=j.length,content:""};return j.push(t),t},newObjectDeferred:function(){return E++,P[E]=function(){return $},E},newObjectDeferredBegin:function(e){P[e]=$},putStream:K,events:W,scaleFactor:p,pageSize:{get width(){return g},get height(){return y}},output:function(e,t){return xe(e,t)},getNumberOfPages:function(){return F.length-1},pages:F,out:X,f2:Y,getPageInfo:function(e){return{objId:2*(e-1)+3,pageNumber:e,pageContext:R[e]}},getCurrentPageInfo:function(){return{objId:2*(v-1)+3,pageNumber:v,pageContext:R[v]}},getPDFVersion:function(){return s},hasHotfix:_e},U.addPage=function(){return fe.apply(this,arguments),this},U.setPage=function(){return me.apply(this,arguments),this},U.insertPage=function(e){return this.addPage(),this.movePage(v,e),this},U.movePage=function(e,t){if(e>t){for(var i=F[e],n=N[e],r=R[e],o=e;o>t;o--)F[o]=F[o-1],N[o]=N[o-1],R[o]=R[o-1];F[t]=i,N[t]=n,R[t]=r,this.setPage(t)}else if(e<t){for(var i=F[e],n=N[e],r=R[e],o=e;o<t;o++)F[o]=F[o+1],N[o]=N[o+1],R[o]=R[o+1];F[t]=i,N[t]=n,R[t]=r,this.setPage(t)}return this},U.deletePage=function(){return pe.apply(this,arguments),this},U.setDisplayMode=function(e,t,i){if(w=e,x=t,b=i,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(i))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+i+'" is not recognized.');return this},U.text=function(e,t,i,n,r,o){function s(e){return e=e.split("\t").join(Array(c.TabLen||9).join(" ")),le(e,n)}"number"==typeof e&&(m=i,i=t,t=e,e=m),"string"==typeof e&&(e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e]),"string"==typeof r&&(o=r,r=null),"string"==typeof n&&(o=n,n=null),"number"==typeof n&&(r=n,n=null);var a="",l="Td";if(r){r*=Math.PI/180;var d=Math.cos(r),u=Math.sin(r);a=[Y(d),Y(u),Y(-1*u),Y(d),""].join(" "),l="Tm"}"noBOM"in(n=n||{})||(n.noBOM=!0),"autoencode"in n||(n.autoencode=!0);var h="",v=this.internal.getCurrentPageInfo().pageContext;if(!0===n.stroke?!0!==v.lastTextWasStroke&&(h="1 Tr\n",v.lastTextWasStroke=!0):(v.lastTextWasStroke&&(h="0 Tr\n"),v.lastTextWasStroke=!1),void 0===this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof e)e=s(e);else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(var g=e.concat(),b=[],w=g.length;w--;)b.push(s(g.shift()));if(o){var x,_,C,D=S*T,E=e.map(function(e){return this.getStringUnitWidth(e)*S/p},this);if(C=Math.max.apply(Math,E),"center"===o)x=t-C/2,t-=E[0]/2;else{if("right"!==o)throw new Error('Unrecognized alignment option, use "center" or "right".');x=t-C,t-=E[0]}_=t,e=b[0];for(var O=1,w=b.length;O<w;O++){var P=C-E[O];"center"===o&&(P/=2),e+=") Tj\n"+(x-_+P)+" -"+D+" Td ("+b[O],_=x+P}}else e=b.join(") Tj\nT* (")}var M;return M=Y((y-i)*p),X("BT\n/"+f+" "+S+" Tf\n"+S*T+" TL\n"+h+k+"\n"+a+Y(t*p)+" "+M+" "+l+"\n("+e+") Tj\nET"),this},U.lstext=function(e,t,i,n){console.warn("jsPDF.lstext is deprecated");for(var r=0,o=e.length;r<o;r++,t+=n)this.text(e[r],t,i);return this},U.line=function(e,t,i,n){return this.lines([[i-e,n-t]],e,t)},U.clip=function(){X("W"),X("S")},U.clip_fixed=function(e){X("evenodd"===e?"W*":"W"),X("n")},U.lines=function(e,t,i,n,r,o){var s,a,l,d,u,h,c,f,v,g,b;for("number"==typeof e&&(m=i,i=t,t=e,e=m),n=n||[1,1],X(V(t*p)+" "+V((y-i)*p)+" m "),s=n[0],a=n[1],d=e.length,g=t,b=i,l=0;l<d;l++)2===(u=e[l]).length?(g=u[0]*s+g,b=u[1]*a+b,X(V(g*p)+" "+V((y-b)*p)+" l")):(h=u[0]*s+g,c=u[1]*a+b,f=u[2]*s+g,v=u[3]*a+b,g=u[4]*s+g,b=u[5]*a+b,X(V(h*p)+" "+V((y-c)*p)+" "+V(f*p)+" "+V((y-v)*p)+" "+V(g*p)+" "+V((y-b)*p)+" c"));return o&&X(" h"),null!==r&&X(ye(r)),this},U.rect=function(e,t,i,n,r){ye(r);return X([Y(e*p),Y((y-t)*p),Y(i*p),Y(-n*p),"re"].join(" ")),null!==r&&X(ye(r)),this},U.triangle=function(e,t,i,n,r,o,s){return this.lines([[i-e,n-t],[r-i,o-n],[e-r,t-o]],e,t,[1,1],s,!0),this},U.roundedRect=function(e,t,i,n,r,o,s){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,o-o*a,r,o],[0,n-2*o],[0,o*a,-r*a,o,-r,o],[2*r-i,0],[-r*a,0,-r,-o*a,-r,-o],[0,2*o-n],[0,-o*a,r*a,-o,r,-o]],e+r,t,[1,1],s),this},U.ellipse=function(e,t,i,n,r){var o=4/3*(Math.SQRT2-1)*i,s=4/3*(Math.SQRT2-1)*n;return X([Y((e+i)*p),Y((y-t)*p),"m",Y((e+i)*p),Y((y-(t-s))*p),Y((e+o)*p),Y((y-(t-n))*p),Y(e*p),Y((y-(t-n))*p),"c"].join(" ")),X([Y((e-o)*p),Y((y-(t-n))*p),Y((e-i)*p),Y((y-(t-s))*p),Y((e-i)*p),Y((y-t)*p),"c"].join(" ")),X([Y((e-i)*p),Y((y-(t+s))*p),Y((e-o)*p),Y((y-(t+n))*p),Y(e*p),Y((y-(t+n))*p),"c"].join(" ")),X([Y((e+o)*p),Y((y-(t+n))*p),Y((e+i)*p),Y((y-(t+s))*p),Y((e+i)*p),Y((y-t)*p),"c"].join(" ")),null!==r&&X(ye(r)),this},U.circle=function(e,t,i,n){return this.ellipse(e,t,i,i,n)},U.setProperties=function(e){for(var t in H)H.hasOwnProperty(t)&&e[t]&&(H[t]=e[t]);return this},U.setFontSize=function(e){return S=e,this},U.setFont=function(e,t){return f=ve(e,t),this},U.setFontStyle=U.setFontType=function(e){return f=ve(void 0,e),this},U.getFontList=function(){var e,t,i,n={};for(e in A)if(A.hasOwnProperty(e)){n[e]=i=[];for(t in A[e])A[e].hasOwnProperty(t)&&i.push(t)}return n},U.addFont=function(e,t,i){se(e,t,i,"StandardEncoding")},U.setLineWidth=function(e){return X((e*p).toFixed(2)+" w"),this},U.setDrawColor=function(e,t,i,n){var r;return r=void 0===t||void 0===n&&e===t===i?"string"==typeof e?e+" G":Y(e/255)+" G":void 0===n?"string"==typeof e?[e,t,i,"RG"].join(" "):[Y(e/255),Y(t/255),Y(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,n,"K"].join(" "):[Y(e),Y(t),Y(i),Y(n),"K"].join(" "),X(r),this},U.setFillColor=function(t,i,n,r){var o;return void 0===i||void 0===r&&t===i===n?o="string"==typeof t?t+" g":Y(t/255)+" g":void 0===r||"object"===(void 0===r?"undefined":e(r))?(o="string"==typeof t?[t,i,n,"rg"].join(" "):[Y(t/255),Y(i/255),Y(n/255),"rg"].join(" "),r&&0===r.a&&(o=["255","255","255","rg"].join(" "))):o="string"==typeof t?[t,i,n,r,"k"].join(" "):[Y(t),Y(i),Y(n),Y(r),"k"].join(" "),X(o),this},U.setTextColor=function(e,t,i){if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var n=parseInt(e.substr(1),16);e=n>>16&255,t=n>>8&255,i=255&n}return k=0===e&&0===t&&0===i||void 0===t?V(e/255)+" g":[V(e/255),V(t/255),V(i/255),"rg"].join(" "),this},U.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},U.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return B=t,X(t+" J"),this},U.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z=t,X(t+" j"),this},U.output=xe,U.save=function(e){U.output("save",e)};for(var ke in r.API)r.API.hasOwnProperty(ke)&&("events"===ke&&r.API.events.length?function(e,t){var i,n,r;for(r=t.length-1;-1!==r;r--)i=t[r][0],n=t[r][1],e.subscribe.apply(e,[i].concat("function"==typeof n?[n]:n))}(W,r.API.events):U[ke]=r.API[ke]);return function(){for(var e=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],t=0,i=e.length;t<i;t++){var n=se(e[t][0],e[t][1],e[t][2],"StandardEncoding"),r=e[t][0].split("-");oe(n,r[0],r[1]||"")}W.publish("addFonts",{fonts:M,dictionary:A})}(),f="F1",fe(u,l),W.publish("initialized"),U}var s="1.3",a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return r.API={events:[]},r.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:t.jsPDF=r,r}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0));(window.AcroForm=function(e){var i=window.AcroForm;i.scale=function(e){return e*(n.internal.scaleFactor/1)},i.antiScale=function(e){return 1/n.internal.scaleFactor*e};var n={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};t.API.acroformPlugin=n;var r=function(){for(var e in this.acroformPlugin.acroFormDictionaryRoot.Fields){var t=this.acroformPlugin.acroFormDictionaryRoot.Fields[e];t.hasAnnotation&&s.call(this,t)}},o=function(){if(this.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new i.AcroFormDictionary,this.acroformPlugin.internal=this.internal,this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",d),this.internal.events.subscribe("buildDocument",r),this.internal.events.subscribe("putCatalog",l),this.internal.events.subscribe("postPutPages",u)},s=function(e){var i={type:"reference",object:e};t.API.annotationPlugin.annotations[this.internal.getPageInfo(e.page).pageNumber].push(i)},a=function(e){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null),this.acroformPlugin.acroFormDictionaryRoot||o.call(this),this.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)},l=function(){void 0!==this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},d=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID),delete this.acroformPlugin.acroFormDictionaryRoot._eventID,this.acroformPlugin.printedOut=!0},u=function(e){var t=!e;e||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));var e=e||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var n in e){var r=e[n],o=r.Rect;r.Rect&&(r.Rect=i.internal.calculateCoordinates.call(this,r.Rect)),this.internal.newObjectDeferredBegin(r.objId);var s="";if(s+=r.objId+" 0 obj\n",s+="<<\n"+r.getContent(),r.Rect=o,r.hasAppearanceStream&&!r.appearanceStreamContent){var a=i.internal.calculateAppearanceStream.call(this,r);s+="/AP << /N "+a+" >>\n",this.acroformPlugin.xForms.push(a)}if(r.appearanceStreamContent){s+="/AP << ";for(var l in r.appearanceStreamContent){var d=r.appearanceStreamContent[l];if(s+="/"+l+" ",s+="<< ",Object.keys(d).length>=1||Array.isArray(d))for(var n in d)"function"==typeof(u=d[n])&&(u=u.call(this,r)),s+="/"+n+" "+u+" ",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u);else{var u=d;"function"==typeof u&&(u=u.call(this,r)),s+="/"+n+" "+u+" \n",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u)}s+=" >>\n"}s+=">>\n"}s+=">>\nendobj\n",this.internal.out(s)}t&&h.call(this,this.acroformPlugin.xForms)},h=function(e){for(var t in e){var i=t,n=e[t];this.internal.newObjectDeferredBegin(n&&n.objId);var r="";r+=n?n.getString():"",this.internal.out(r),delete e[i]}};e.addField=function(e){return e instanceof i.TextField?f.call(this,e):e instanceof i.ChoiceField?p.call(this,e):e instanceof i.Button?c.call(this,e):e instanceof i.ChildClass?a.call(this,e):e&&a.call(this,e),e.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber,this};var c=function(e){(e=e||new i.Field).FT="/Btn";var t=e.Ff||0;e.pushbutton&&(t=i.internal.setBitPosition(t,17),delete e.pushbutton),e.radio&&(t=i.internal.setBitPosition(t,16),delete e.radio),e.noToggleToOff&&(t=i.internal.setBitPosition(t,15)),e.Ff=t,a.call(this,e)},f=function(e){(e=e||new i.Field).FT="/Tx";var t=e.Ff||0;e.multiline&&(t|=4096),e.password&&(t|=8192),e.fileSelect&&(t|=1<<20),e.doNotSpellCheck&&(t|=1<<22),e.doNotScroll&&(t|=1<<23),e.Ff=e.Ff||t,a.call(this,e)},p=function(e){var t=e||new i.Field;t.FT="/Ch";var n=t.Ff||0;t.combo&&(n=i.internal.setBitPosition(n,18),delete t.combo),t.edit&&(n=i.internal.setBitPosition(n,19),delete t.edit),t.sort&&(n=i.internal.setBitPosition(n,20),delete t.sort),t.multiSelect&&this.internal.getPDFVersion()>=1.4&&(n=i.internal.setBitPosition(n,22),delete t.multiSelect),t.doNotSpellCheck&&this.internal.getPDFVersion()>=1.4&&(n=i.internal.setBitPosition(n,23),delete t.doNotSpellCheck),t.Ff=n,a.call(this,t)}})(t.API);var i=window.AcroForm;i.internal={},i.createFormXObject=function(e){var t=new i.FormXObject,n=i.Appearance.internal.getHeight(e)||0,r=i.Appearance.internal.getWidth(e)||0;return t.BBox=[0,0,r,n],t},i.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:i.Appearance.CheckBox.YesNormal},D:{On:i.Appearance.CheckBox.YesPushDown,Off:i.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(e){var t=i.createFormXObject(e),n="";e.Q=1;var r=i.internal.calculateX(e,"3","ZapfDingbats",50);return n+="0.749023 g\n             0 0 "+i.Appearance.internal.getWidth(e)+" "+i.Appearance.internal.getHeight(e)+" re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 "+r.fontSize+" Tf 0 g\n             BT\n",n+=r.text,n+="ET\n             Q\n             EMC\n",t.stream=n,t},YesNormal:function(e){var t=i.createFormXObject(e),n="";e.Q=1;var r=i.internal.calculateX(e,"3","ZapfDingbats",.9*i.Appearance.internal.getHeight(e));return n+="1 g\n0 0 "+i.Appearance.internal.getWidth(e)+" "+i.Appearance.internal.getHeight(e)+" re\nf\nq\n0 0 1 rg\n0 0 "+(i.Appearance.internal.getWidth(e)-1)+" "+(i.Appearance.internal.getHeight(e)-1)+" re\nW\nn\n0 g\nBT\n/F13 "+r.fontSize+" Tf 0 g\n",n+=r.text,n+="ET\n             Q\n",t.stream=n,t},OffPushDown:function(e){var t=i.createFormXObject(e),n="";return n+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(e)+" "+i.Appearance.internal.getHeight(e)+" re\n            f\n",t.stream=n,t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:i.Appearance.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=i.Appearance.RadioButton.Circle.YesNormal,t.D[e]=i.Appearance.RadioButton.Circle.YesPushDown,t},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(e){var t=i.createFormXObject(e),n="",r=i.Appearance.internal.getWidth(e)<=i.Appearance.internal.getHeight(e)?i.Appearance.internal.getWidth(e)/4:i.Appearance.internal.getHeight(e)/4;r*=.9;var o=i.Appearance.internal.Bezier_C;return n+="q\n1 0 0 1 "+i.Appearance.internal.getWidth(e)/2+" "+i.Appearance.internal.getHeight(e)/2+" cm\n"+r+" 0 m\n"+r+" "+r*o+" "+r*o+" "+r+" 0 "+r+" c\n-"+r*o+" "+r+" -"+r+" "+r*o+" -"+r+" 0 c\n-"+r+" -"+r*o+" -"+r*o+" -"+r+" 0 -"+r+" c\n"+r*o+" -"+r+" "+r+" -"+r*o+" "+r+" 0 c\nf\nQ\n",t.stream=n,t},YesPushDown:function(e){var t=i.createFormXObject(e),n="",r=i.Appearance.internal.getWidth(e)<=i.Appearance.internal.getHeight(e)?i.Appearance.internal.getWidth(e)/4:i.Appearance.internal.getHeight(e)/4,o=2*(r*=.9),s=o*i.Appearance.internal.Bezier_C,a=r*i.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n           1 0 0 1 "+i.Appearance.internal.getWidth(e)/2+" "+i.Appearance.internal.getHeight(e)/2+" cm\n"+o+" 0 m\n"+o+" "+s+" "+s+" "+o+" 0 "+o+" c\n-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c\n-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c\n"+s+" -"+o+" "+o+" -"+s+" "+o+" 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 "+i.Appearance.internal.getWidth(e)/2+" "+i.Appearance.internal.getHeight(e)/2+" cm\n"+r+" 0 m\n"+r+" "+a+" "+a+" "+r+" 0 "+r+" c\n-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c\n-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c\n"+a+" -"+r+" "+r+" -"+a+" "+r+" 0 c\n            f\n            Q\n",t.stream=n,t},OffPushDown:function(e){var t=i.createFormXObject(e),n="",r=i.Appearance.internal.getWidth(e)<=i.Appearance.internal.getHeight(e)?i.Appearance.internal.getWidth(e)/4:i.Appearance.internal.getHeight(e)/4,o=2*(r*=.9),s=o*i.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n 1 0 0 1 "+i.Appearance.internal.getWidth(e)/2+" "+i.Appearance.internal.getHeight(e)/2+" cm\n"+o+" 0 m\n"+o+" "+s+" "+s+" "+o+" 0 "+o+" c\n-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c\n-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c\n"+s+" -"+o+" "+o+" -"+s+" "+o+" 0 c\n            f\n            Q\n",t.stream=n,t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:i.Appearance.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=i.Appearance.RadioButton.Cross.YesNormal,t.D[e]=i.Appearance.RadioButton.Cross.YesPushDown,t},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(e){var t=i.createFormXObject(e),n="",r=i.Appearance.internal.calculateCross(e);return n+="q\n            1 1 "+(i.Appearance.internal.getWidth(e)-2)+" "+(i.Appearance.internal.getHeight(e)-2)+" re\n            W\n            n\n            "+r.x1.x+" "+r.x1.y+" m\n            "+r.x2.x+" "+r.x2.y+" l\n            "+r.x4.x+" "+r.x4.y+" m\n            "+r.x3.x+" "+r.x3.y+" l\n            s\n            Q\n",t.stream=n,t},YesPushDown:function(e){var t=i.createFormXObject(e),n=i.Appearance.internal.calculateCross(e),r="";return r+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(e)+" "+i.Appearance.internal.getHeight(e)+" re\n            f\n            q\n            1 1 "+(i.Appearance.internal.getWidth(e)-2)+" "+(i.Appearance.internal.getHeight(e)-2)+" re\n            W\n            n\n            "+n.x1.x+" "+n.x1.y+" m\n            "+n.x2.x+" "+n.x2.y+" l\n            "+n.x4.x+" "+n.x4.y+" m\n            "+n.x3.x+" "+n.x3.y+" l\n            s\n            Q\n",t.stream=r,t},OffPushDown:function(e){var t=i.createFormXObject(e),n="";return n+="0.749023 g\n            0 0 "+i.Appearance.internal.getWidth(e)+" "+i.Appearance.internal.getHeight(e)+" re\n            f\n",t.stream=n,t}}},createDefaultAppearanceStream:function(e){var t="";return t+="/Helv 0 Tf 0 g"}},i.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=i.Appearance.internal.getWidth(e),n=i.Appearance.internal.getHeight(e),r=function(e,t){return e>t?t:e}(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},i.Appearance.internal.getWidth=function(e){return e.Rect[2]},i.Appearance.internal.getHeight=function(e){return e.Rect[3]},i.internal.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},i.internal.arrayToPdfArray=function(e){if(Array.isArray(e)){var t=" [";for(var i in e)t+=e[i].toString(),t+=i<e.length-1?" ":"";return t+="]"}},i.internal.toPdfString=function(e){return 0!==(e=e||"").indexOf("(")&&(e="("+e),")"!=e.substring(e.length-1)&&(e+="("),e},i.PDFObject=function(){var e;Object.defineProperty(this,"objId",{get:function(){return e||(this.internal?e=this.internal.newObjectDeferred():t.API.acroformPlugin.internal&&(e=t.API.acroformPlugin.internal.newObjectDeferred())),e||console.log("Couldn't create Object ID"),e},configurable:!1})},i.PDFObject.prototype.toString=function(){return this.objId+" 0 R"},i.PDFObject.prototype.getString=function(){var e=this.objId+" 0 obj\n<<";return e+=this.getContent()+">>\n",this.stream&&(e+="stream\n",e+=this.stream,e+="endstream\n"),e+="endobj\n"},i.PDFObject.prototype.getContent=function(){var e="";return e+=function(e){var t="",n=Object.keys(e).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"_"!=e.substring(0,1)});for(var r in n){var o=n[r],s=e[o];s&&(Array.isArray(s)?t+="/"+o+" "+i.internal.arrayToPdfArray(s)+"\n":s instanceof i.PDFObject?t+="/"+o+" "+s.objId+" 0 R\n":t+="/"+o+" "+s+"\n")}return t}(this)},i.FormXObject=function(){i.PDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo;var e;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==e?e.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(t){e=t},get:function(){return e||null}})},i.internal.inherit(i.FormXObject,i.PDFObject),i.AcroFormDictionary=function(){i.PDFObject.call(this);var e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return e}}),this.DA},i.internal.inherit(i.AcroFormDictionary,i.PDFObject),i.Field=function(){i.PDFObject.call(this);var e;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(e)return e},set:function(t){e=t}});var t="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(e){t=e},get:function(){return t}});var n;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(e){n=e},get:function(){if(!n||n.length<1){if(this instanceof i.ChildClass)return;return"(FieldObject"+i.Field.FieldNum+++")"}return"("==n.substring(0,1)&&n.substring(n.length-1)?n:"("+n+")"}});var r;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(r)return"("+r+")"},set:function(e){r=e}});var o;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(o)return o},set:function(e){o=e}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})},i.Field.FieldNum=0,i.internal.inherit(i.Field,i.PDFObject),i.ChoiceField=function(){i.Field.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0,this.combo=!1,Object.defineProperty(this,"edit",{enumerable:!0,set:function(e){1==e?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0,Object.defineProperty(this,"V",{get:function(){i.internal.toPdfString()}})},i.internal.inherit(i.ChoiceField,i.Field),window.ChoiceField=i.ChoiceField,i.ListBox=function(){i.ChoiceField.call(this)},i.internal.inherit(i.ListBox,i.ChoiceField),window.ListBox=i.ListBox,i.ComboBox=function(){i.ListBox.call(this),this.combo=!0},i.internal.inherit(i.ComboBox,i.ListBox),window.ComboBox=i.ComboBox,i.EditBox=function(){i.ComboBox.call(this),this.edit=!0},i.internal.inherit(i.EditBox,i.ComboBox),window.EditBox=i.EditBox,i.Button=function(){i.Field.call(this),this.FT="/Btn"},i.internal.inherit(i.Button,i.Field),window.Button=i.Button,i.PushButton=function(){i.Button.call(this),this.pushbutton=!0},i.internal.inherit(i.PushButton,i.Button),window.PushButton=i.PushButton,i.RadioButton=function(){i.Button.call(this),this.radio=!0;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(e.length>0)return e}}),Object.defineProperty(this,"__Kids",{get:function(){return e}});var t;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return t},set:function(e){t=e}})},i.internal.inherit(i.RadioButton,i.Button),window.RadioButton=i.RadioButton,i.ChildClass=function(e,t){i.Field.call(this),this.Parent=e,this._AppearanceType=i.Appearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(t),this.F=i.internal.setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=t},i.internal.inherit(i.ChildClass,i.Field),i.RadioButton.prototype.setAppearance=function(e){if("createAppearanceStream"in e&&"createMK"in e)for(var t in this.__Kids){var i=this.__Kids[t];i.appearanceStreamContent=e.createAppearanceStream(i._Name),i.MK=e.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},i.RadioButton.prototype.createOption=function(e){var n=this,r=new i.ChildClass(n,e);return this.__Kids.push(r),t.API.addField(r),r},i.CheckBox=function(){Button.call(this),this.appearanceStreamContent=i.Appearance.CheckBox.createAppearanceStream(),this.MK=i.Appearance.CheckBox.createMK(),this.AS="/On",this.V="/On"},i.internal.inherit(i.CheckBox,i.Button),window.CheckBox=i.CheckBox,i.TextField=function(){i.Field.call(this),this.DA=i.Appearance.createDefaultAppearanceStream(),this.F=4;var e;Object.defineProperty(this,"V",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(t){e=t}});var t;Object.defineProperty(this,"DV",{get:function(){return t?"("+t+")":t},enumerable:!0,set:function(e){t=e}});var n=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return n},set:function(e){n=e}});var r=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})},i.internal.inherit(i.TextField,i.Field),window.TextField=i.TextField,i.PasswordField=function(){TextField.call(this),Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})},i.internal.inherit(i.PasswordField,i.TextField),window.PasswordField=i.PasswordField,i.internal.calculateFontSpace=function(e,t,n){var n=n||"helvetica",r=i.internal.calculateFontSpace.canvas||(i.internal.calculateFontSpace.canvas=document.createElement("canvas"));(a=r.getContext("2d")).save();var o=t+" "+n;a.font=o;var s=a.measureText(e);a.fontcolor="black";var a=r.getContext("2d");return s.height=1.5*a.measureText("3").width,a.restore(),s},i.internal.calculateX=function(e,t,n,r){var r=r||12,n=n||"helvetica",o={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),a=r,l=i.Appearance.internal.getHeight(e)||0;l=l<0?-l:l;var d=i.Appearance.internal.getWidth(e)||0;d=d<0?-d:d;a++;e:for(;;){var t="";a--;var u=i.internal.calculateFontSpace("3",a+"px",n).height,h=e.multiline?l-a:(l-u)/2,c=-2,f=h+=2,p=0,m=0,v=0;if(0==a){a=12,t="(...) Tj\n",t+="% Width of Text: "+i.internal.calculateFontSpace(t,"1px").width+", FieldWidth:"+d+"\n";break}v=i.internal.calculateFontSpace(s[0]+" ",a+"px",n).width;var g="",y=0;for(var b in s){g=" "==(g+=s[b]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(b);v=i.internal.calculateFontSpace(g+" ",a+"px",n).width;var x=function(e,t,r){if(e+1<s.length){var o=t+" "+s[e+1];return i.internal.calculateFontSpace(o,r+"px",n).width<=d-4}return!1}(w,g,a),_=b>=s.length-1;if(!x||_){if(x||_){if(_)m=w;else if(e.multiline&&(u+2)*(y+2)+2>l)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>l)continue e;m=w}for(var k="",C=p;C<=m;C++)k+=s[C]+" ";switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,v=i.internal.calculateFontSpace(k,a+"px",n).width,e.Q){case 2:c=d-v-2;break;case 1:c=(d-v)/2;break;case 0:default:c=2}t+=c+" "+f+" Td\n",t+="("+k+") Tj\n",t+=-c+" 0 Td\n",f=-(a+2),v=0,p=m+1,y++,g=""}else g+=" "}break}return o.text=t,o.fontSize=a,o},i.internal.calculateAppearanceStream=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t="",n=e.V||e.DV,r=i.internal.calculateX(e,n);t+="/Tx BMC\nq\n/F1 "+r.fontSize+" Tf\n1 0 0 1 0 0 Tm\n",t+="BT\n",t+=r.text,t+="ET\n",t+="Q\nEMC\n";var o=new i.createFormXObject(e);return o.stream=t,o}},i.internal.calculateCoordinates=function(e,t,n,r){var o={};if(this.internal){var s=function(e){return e*this.internal.scaleFactor};Array.isArray(e)?(e[0]=i.scale(e[0]),e[1]=i.scale(e[1]),e[2]=i.scale(e[2]),e[3]=i.scale(e[3]),o.lowerLeft_X=e[0]||0,o.lowerLeft_Y=s.call(this,this.internal.pageSize.height)-e[3]-e[1]||0,o.upperRight_X=e[0]+e[2]||0,o.upperRight_Y=s.call(this,this.internal.pageSize.height)-e[1]||0):(e=i.scale(e),t=i.scale(t),n=i.scale(n),r=i.scale(r),o.lowerLeft_X=e||0,o.lowerLeft_Y=this.internal.pageSize.height-t||0,o.upperRight_X=e+n||0,o.upperRight_Y=this.internal.pageSize.height-t+r||0)}else Array.isArray(e)?(o.lowerLeft_X=e[0]||0,o.lowerLeft_Y=e[1]||0,o.upperRight_X=e[0]+e[2]||0,o.upperRight_Y=e[1]+e[3]||0):(o.lowerLeft_X=e||0,o.lowerLeft_Y=t||0,o.upperRight_X=e+n||0,o.upperRight_Y=t+r||0);return[o.lowerLeft_X,o.lowerLeft_Y,o.upperRight_X,o.upperRight_Y]},i.internal.calculateColor=function(e,t,i){var n=new Array(3);return n.r=0|e,n.g=0|t,n.b=0|i,n},i.internal.getBitPosition=function(e,t){var i=1;return i<<=t-1,(e=e||0)|i},i.internal.setBitPosition=function(e,t,i){e=e||0;var n=1;if(n<<=t-1,1==(i=i||1))e=e|n;else var e=e&~n;return e},t.API.addHTML=function(e,t,i,n,r){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof t&&(n=t,r=i),"function"==typeof n&&(r=n,n=null);var o=this.internal,s=o.scaleFactor,a=o.pageSize.width,l=o.pageSize.height;if(n=n||{},n.onrendered=function(e){t=parseInt(t)||0,i=parseInt(i)||0;var o=n.dim||{},d=o.h||0,u=o.w||Math.min(a,e.width/s)-t,h="JPEG";if(n.format&&(h=n.format),e.height>l&&n.pagesplit){var c=function(){for(var n=0;;){var o=document.createElement("canvas");o.width=Math.min(a*s,e.width),o.height=Math.min(l*s,e.height-n),o.getContext("2d").drawImage(e,0,n,e.width,o.height,0,0,o.width,o.height);var d=[o,t,n?0:i,o.width/s,o.height/s,h,null,"SLOW"];if(this.addImage.apply(this,d),(n+=o.height)>=e.height)break;this.addPage()}r(u,n,null,d)}.bind(this);if("CANVAS"===e.nodeName){var f=new Image;f.onload=c,f.src=e.toDataURL("image/png"),e=f}else c()}else{var p=Math.random().toString(35),m=[e,t,i,u,d,h,p,"SLOW"];this.addImage.apply(this,m),r(u,d,p,m)}}.bind(this),"undefined"!=typeof html2canvas&&!n.rstz)return html2canvas(e,n);if("undefined"!=typeof rasterizeHTML){var d="drawDocument";return"string"==typeof e&&(d=/^http/.test(e)?"drawURL":"drawHTML"),n.width=n.width||a*s,rasterizeHTML[d](e,void 0,n).then(function(e){n.onrendered(e.image)},function(e){r(null,e)})}return null},function(t){var i=["jpeg","jpg","png"],n=function e(t){var i=this.internal.newObject(),n=this.internal.write,r=this.internal.putStream;if(t.n=i,n("<</Type /XObject"),n("/Subtype /Image"),n("/Width "+t.w),n("/Height "+t.h),t.cs===this.color_spaces.INDEXED?n("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?i+2:i+1)+" 0 R]"):(n("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&n("/Decode [1 0 1 0 1 0 1 0]")),n("/BitsPerComponent "+t.bpc),"f"in t&&n("/Filter /"+t.f),"dp"in t&&n("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var o="",s=0,a=t.trns.length;s<a;s++)o+=t.trns[s]+" "+t.trns[s]+" ";n("/Mask ["+o+"]")}if("smask"in t&&n("/SMask "+(i+1)+" 0 R"),n("/Length "+t.data.length+">>"),r(t.data),n("endobj"),"smask"in t){var l="/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,d={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:l,data:t.smask};"f"in t&&(d.f=t.f),e.call(this,d)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),n("<< /Length "+t.pal.length+">>"),r(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),n("endobj"))},r=function(){var e=this.internal.collections.addImage_images;for(var t in e)n.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,i=this.internal.write;for(var n in t)i("/I"+(e=t[n]).i,e.n,"0","R")},s=function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:t.image_compression.NONE},a=function(){var e=this.internal.collections.addImage_images;return e||(this.internal.collections.addImage_images=e={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o)),e},l=function(e){var t=0;return e&&(t=Object.keys?Object.keys(e).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(e)),t},d=function(e){return void 0===e||null===e},u=function(e){return"string"==typeof e&&t.sHashCode(e)},h=function(e){return-1===i.indexOf(e)},c=function(e){return"function"!=typeof t["process"+e.toUpperCase()]},f=function(t){return"object"===(void 0===t?"undefined":e(t))&&1===t.nodeType},p=function(t,i,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(!n&&0===r.indexOf("data:image/"))return r;!i&&/\.png(?:[?#].*)?$/i.test(r)&&(i="png")}if("CANVAS"===t.nodeName)var o=t;else{(o=document.createElement("canvas")).width=t.clientWidth||t.width,o.height=t.clientHeight||t.height;var s=o.getContext("2d");if(!s)throw"addImage requires canvas to be supported by browser.";if(n){var a,l,d,u,h,c,f,p,m=Math.PI/180;"object"===(void 0===n?"undefined":e(n))&&(a=n.x,l=n.y,d=n.bg,n=n.angle),p=n*m,u=Math.abs(Math.cos(p)),h=Math.abs(Math.sin(p)),c=o.width,f=o.height,o.width=f*h+c*u,o.height=f*u+c*h,isNaN(a)&&(a=o.width/2),isNaN(l)&&(l=o.height/2),s.clearRect(0,0,o.width,o.height),s.fillStyle=d||"white",s.fillRect(0,0,o.width,o.height),s.save(),s.translate(a,l),s.rotate(p),s.drawImage(t,-c/2,-f/2),s.rotate(-p),s.translate(-a,-l),s.restore()}else s.drawImage(t,0,0,o.width,o.height)}return o.toDataURL("png"==(""+i).toLowerCase()?"image/png":"image/jpeg")},m=function(e,t){var i;if(t)for(var n in t)if(e===t[n].alias){i=t[n];break}return i},v=function(e,t,i){return e||t||(e=-96,t=-96),e<0&&(e=-1*i.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*i.h*72/t/this.internal.scaleFactor),0===e&&(e=t*i.w/i.h),0===t&&(t=e*i.h/i.w),[e,t]},g=function(e,t,i,n,r,o,s){var a=v.call(this,i,n,r),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;i=a[0],n=a[1],s[o]=r,this.internal.write("q",l(i),"0 0",l(n),l(e),d(t+n),"cm /I"+r.i,"Do Q")};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(e){return Array.prototype.reduce&&e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)},t.isString=function(e){return"string"==typeof e},t.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(e)},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},t.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array))},t.binaryStringToUint8Array=function(e){for(var t=e.length,i=new Uint8Array(t),n=0;n<t;n++)i[n]=e.charCodeAt(n);return i},t.arrayBufferToBinaryString=function(e){if("function"==typeof window.atob)return atob(this.arrayBufferToBase64(e));for(var t=this.isArrayBuffer(e)?e:new Uint8Array(e),i="",n=Math.round(t.byteLength/20480),r=0;r<n;r++)i+=String.fromCharCode.apply(null,t.slice(20480*r,20480*r+20480));return i},t.arrayBufferToBase64=function(e){for(var t,i,n,r,o="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),l=a.byteLength,d=l%3,u=l-d,h=0;h<u;h+=3)t=(258048&(r=a[h]<<16|a[h+1]<<8|a[h+2]))>>12,i=(4032&r)>>6,n=63&r,o+=s[(16515072&r)>>18]+s[t]+s[i]+s[n];return 1==d?(t=(3&(r=a[u]))<<4,o+=s[(252&r)>>2]+s[t]+"=="):2==d&&(t=(1008&(r=a[u]<<8|a[u+1]))>>4,i=(15&r)<<2,o+=s[(64512&r)>>10]+s[t]+s[i]+"="),o},t.createImageInfo=function(e,t,i,n,r,o,s,a,l,d,u,h,c){var f={alias:a,w:t,h:i,cs:n,bpc:r,i:s,data:e};return o&&(f.f=o),l&&(f.dp=l),d&&(f.trns=d),u&&(f.pal=u),h&&(f.smask=h),c&&(f.p=c),f},t.addImage=function(t,n,r,o,v,y,b,w,x){if("string"!=typeof n){var _=y;y=v,v=o,o=r,r=n,n=_}if("object"===(void 0===t?"undefined":e(t))&&!f(t)&&"imageData"in t){var k=t;t=k.imageData,n=k.format||n,r=k.x||r||0,o=k.y||o||0,v=k.w||v,y=k.h||y,b=k.alias||b,w=k.compression||w,x=k.rotation||k.angle||x}if(isNaN(r)||isNaN(o))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var C,S=a.call(this);if(!(C=m(t,S))){var T;if(f(t)&&(t=p(t,n,x)),d(b)&&(b=u(t)),!(C=m(b,S))){if(this.isString(t)){var D=this.extractInfoFromBase64DataURI(t);D?(n=D[2],t=atob(D[3])):137===t.charCodeAt(0)&&80===t.charCodeAt(1)&&78===t.charCodeAt(2)&&71===t.charCodeAt(3)&&(n="png")}if(n=(n||"JPEG").toLowerCase(),h(n))throw new Error("addImage currently only supports formats "+i+", not '"+n+"'");if(c(n))throw new Error("please ensure that the plugin for '"+n+"' support is added");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(T=t,t=this.binaryStringToUint8Array(t))),!(C=this["process"+n.toUpperCase()](t,l(S),b,s(w),T)))throw new Error("An unkwown error occurred whilst processing the image")}}return g.call(this,r,o,v,y,C,C.i,S),this};var y=function(e){var t,i,n;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var r=256*e.charCodeAt(4)+e.charCodeAt(5),o=4,s=e.length;o<s;){if(o+=r,255!==e.charCodeAt(o))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(o+1)||193===e.charCodeAt(o+1)||194===e.charCodeAt(o+1)||195===e.charCodeAt(o+1)||196===e.charCodeAt(o+1)||197===e.charCodeAt(o+1)||198===e.charCodeAt(o+1)||199===e.charCodeAt(o+1))return i=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),t=256*e.charCodeAt(o+7)+e.charCodeAt(o+8),n=e.charCodeAt(o+9),[t,i,n];o+=2,r=256*e.charCodeAt(o)+e.charCodeAt(o+1)}},b=function(e){if(65496!==(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,i,n,r,o=e.length,s=(e[4]<<8)+e[5],a=4;a<o;){if(a+=s,t=w(e,a),s=(t[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&s>7)return t=w(e,a+5),i=(t[2]<<8)+t[3],n=(t[0]<<8)+t[1],r=t[4],{width:i,height:n,numcomponents:r};a+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},w=function(e,t){return e.subarray(t,t+5)};t.processJPEG=function(e,t,i,n,r){var o,s=this.color_spaces.DEVICE_RGB,a=this.decode.DCT_DECODE;return this.isString(e)?(o=y(e),this.createImageInfo(e,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:s,8,a,t,i)):(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)?(o=b(e),e=r||this.arrayBufferToBinaryString(e),this.createImageInfo(e,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:s,8,a,t,i)):null)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(t.API),function(e){var i={annotations:[],f2:function(e){return e.toFixed(2)},notEmpty:function(e){if(void 0!==e&&""!=e)return!0}};t.API.annotationPlugin=i,t.API.events.push(["addPage",function(e){this.annotationPlugin.annotations[e.pageNumber]=[]}]),e.events.push(["putPage",function(e){for(var t=this.annotationPlugin.annotations[e.pageNumber],n=!1,r=0;r<t.length&&!n;r++)switch((d=t[r]).type){case"link":if(i.notEmpty(d.options.url)||i.notEmpty(d.options.pageNumber)){n=!0;break}case"reference":case"text":case"freetext":n=!0}if(0!=n){this.internal.write("/Annots [");for(var o=this.annotationPlugin.f2,s=this.internal.scaleFactor,a=this.internal.pageSize.height,l=this.internal.getPageInfo(e.pageNumber),r=0;r<t.length;r++){var d=t[r];switch(d.type){case"reference":this.internal.write(" "+d.object.objId+" 0 R ");break;case"text":var u=this.internal.newAdditionalObject(),h=this.internal.newAdditionalObject(),c=d.title||"Note";g="<</Type /Annot /Subtype /Text "+(p="/Rect ["+o(d.bounds.x*s)+" "+o(a-(d.bounds.y+d.bounds.h)*s)+" "+o((d.bounds.x+d.bounds.w)*s)+" "+o((a-d.bounds.y)*s)+"] ")+"/Contents ("+d.contents+")",g+=" /Popup "+h.objId+" 0 R",g+=" /P "+l.objId+" 0 R",g+=" /T ("+c+") >>",u.content=g;var f=u.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+o((d.bounds.x+30)*s)+" "+o(a-(d.bounds.y+d.bounds.h)*s)+" "+o((d.bounds.x+d.bounds.w+30)*s)+" "+o((a-d.bounds.y)*s)+"] ")+" /Parent "+f,d.open&&(g+=" /Open true"),g+=" >>",h.content=g,this.internal.write(u.objId,"0 R",h.objId,"0 R");break;case"freetext":var p="/Rect ["+o(d.bounds.x*s)+" "+o((a-d.bounds.y)*s)+" "+o(d.bounds.x+d.bounds.w*s)+" "+o(a-(d.bounds.y+d.bounds.h)*s)+"] ",m=d.color||"#000000";g="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+d.contents+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+m+")",g+=" /Border [0 0 0]",g+=" >>",this.internal.write(g);break;case"link":if(d.options.name){var v=this.annotations._nameMap[d.options.name];d.options.pageNumber=v.page,d.options.top=v.y}else d.options.top||(d.options.top=0);var p="/Rect ["+o(d.x*s)+" "+o((a-d.y)*s)+" "+o((d.x+d.w)*s)+" "+o((a-(d.y+d.h))*s)+"] ",g="";if(d.options.url)g="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+d.options.url+") >>";else if(d.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+(e=this.internal.getPageInfo(d.options.pageNumber)).objId+" 0 R",d.options.magFactor=d.options.magFactor||"XYZ",d.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+d.options.top+"]";break;case"FitV":d.options.left=d.options.left||0,g+=" /FitV "+d.options.left+"]";break;case"XYZ":default:var y=o((a-d.options.top)*s);d.options.left=d.options.left||0,void 0===d.options.zoom&&(d.options.zoom=0),g+=" /XYZ "+d.options.left+" "+y+" "+d.options.zoom+"]"}""!=g&&(g+=" >>",this.internal.write(g))}}this.internal.write("]")}}]),e.createAnnotation=function(e){switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(e)}},e.link=function(e,t,i,n,r){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:e,y:t,w:i,h:n,options:r,type:"link"})},e.textWithLink=function(e,t,i,n){var r=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,i),i+=.2*o,this.link(t,i-o,r,o,n),r},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},e.getLineHeight=function(){return this.internal.getLineHeight()}}(t.API),t.API.autoPrint=function(){var e;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+e+" 0 R")}),this},function(e){e.events.push(["initialized",function(){this.canvas.pdf=this}]),e.canvas={getContext:function(e){return this.pdf.context2d._canvas=this,this.pdf.context2d},style:{}},Object.defineProperty(e.canvas,"width",{get:function(){return this._width},set:function(e){this._width=e,this.getContext("2d").pageWrapX=e+1}}),Object.defineProperty(e.canvas,"height",{get:function(){return this._height},set:function(e){this._height=e,this.getContext("2d").pageWrapY=e+1}})}(t.API),function(e){var t,i,n,r,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1,a=function(e,t,i,n,r){o={x:e,y:t,w:i,h:n,ln:r}},l=function(){return o},d={left:0,top:0,bottom:0};e.setHeaderFunction=function(e){r=e},e.getTextDimensions=function(e){t=this.internal.getFont().fontName,i=this.table_font_size||this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var r,o;(o=document.createElement("font")).id="jsPDFCell";try{o.style.fontStyle=n}catch(e){o.style.fontWeight=n}o.style.fontName=t,o.style.fontSize=i+"pt";try{o.textContent=e}catch(t){o.innerText=e}return document.body.appendChild(o),r={w:(o.offsetWidth+1)*(19.049976/25.4),h:(o.offsetHeight+1)*(19.049976/25.4)},document.body.removeChild(o),r},e.cellAddPage=function(){var e=this.margins||d;this.addPage(),a(e.left,e.top,void 0,void 0),s+=1},e.cellInitialize=function(){o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1},e.cell=function(e,t,i,n,r,o,s){var u=l(),h=!1;if(void 0!==u.ln)if(u.ln===o)e=u.x+u.w,t=u.y;else{var c=this.margins||d;u.y+u.h+n+13>=this.internal.pageSize.height-c.bottom&&(this.cellAddPage(),h=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),t=l().y+l().h,h&&(t=23)}if(void 0!==r[0])if(this.printingHeaderRow?this.rect(e,t,i,n,"FD"):this.rect(e,t,i,n),"right"===s){r instanceof Array||(r=[r]);for(var f=0;f<r.length;f++){var p=r[f],m=this.getStringUnitWidth(p)*this.internal.getFontSize();this.text(p,e+i-m-3,t+this.internal.getLineHeight()*(f+1))}}else this.text(r,e+3,t+this.internal.getLineHeight());return a(e,t,i,n,o),this},e.arrayMax=function(e,t){var i,n,r,o=e[0];for(i=0,n=e.length;i<n;i+=1)r=e[i],t?-1===t(o,r)&&(o=r):r>o&&(o=r);return o},e.table=function(t,i,n,r,a){if(!n)throw"No data for PDF table";var l,u,h,c,f,p,m,v,g,y,b=[],w=[],x={},_={},k=[],C=[],S=!1,T=!0,D=12,E=d;if(E.width=this.internal.pageSize.width,a&&(!0===a.autoSize&&(S=!0),!1===a.printHeaders&&(T=!1),a.fontSize&&(D=a.fontSize),a.css&&void 0!==a.css["font-size"]&&(D=16*a.css["font-size"]),a.margins&&(E=a.margins)),this.lnMod=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},s=1,this.printHeaders=T,this.margins=E,this.setFontSize(D),this.table_font_size=D,void 0===r||null===r)b=Object.keys(n[0]);else if(r[0]&&"string"!=typeof r[0]){for(u=0,h=r.length;u<h;u+=1)l=r[u],b.push(l.name),w.push(l.prompt),_[l.name]=l.width*(19.049976/25.4)}else b=r;if(S)for(y=function(e){return e[l]},u=0,h=b.length;u<h;u+=1){for(x[l=b[u]]=n.map(y),k.push(this.getTextDimensions(w[u]||l).w),m=0,c=(p=x[l]).length;m<c;m+=1)f=p[m],k.push(this.getTextDimensions(f).w);_[l]=e.arrayMax(k),k=[]}if(T){O=this.calculateLineHeight(b,_,w.length?w:b);for(u=0,h=b.length;u<h;u+=1)l=b[u],C.push([t,i,_[l],O,String(w.length?w[u]:l)]);this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}for(u=0,h=n.length;u<h;u+=1){var O;for(v=n[u],O=this.calculateLineHeight(b,_,v),m=0,g=b.length;m<g;m+=1)l=b[m],this.cell(t,i,_[l],O,v[l],u+2,l.align)}return this.lastCellPos=o,this.table_x=t,this.table_y=i,this},e.calculateLineHeight=function(e,t,i){for(var n,r=0,o=0;o<e.length;o++){i[n=e[o]]=this.splitTextToSize(String(i[n]),t[n]-3);var s=this.internal.getLineHeight()*i[n].length+3;s>r&&(r=s)}return r},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var i,n,o,l;if(this.printingHeaderRow=!0,void 0!==r){var d=r(this,s);a(d[0],d[1],d[2],d[3],-1)}this.setFontStyle("bold");var u=[];for(o=0,l=this.tableHeaderRow.length;o<l;o+=1)this.setFillColor(200,200,200),i=this.tableHeaderRow[o],t&&(this.margins.top=13,i[1]=this.margins&&this.margins.top||0,u.push(i)),n=[].concat(i),this.cell.apply(this,n.concat(e));u.length>0&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(t.API),function(e){function t(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(e){this._isStrokeTransparent=e._isStrokeTransparent,this._strokeOpacity=e._strokeOpacity,this.strokeStyle=e.strokeStyle,this._isFillTransparent=e._isFillTransparent,this._fillOpacity=e._fillOpacity,this.fillStyle=e.fillStyle,this.font=e.font,this.lineWidth=e.lineWidth,this.lineJoin=e.lineJoin,this.lineCap=e.lineCap,this.textBaseline=e.textBaseline,this.textAlign=e.textAlign,this._fontSize=e._fontSize,this._transform=e._transform.slice(0),this.globalCompositeOperation=e.globalCompositeOperation,this.globalAlpha=e.globalAlpha,this._clip_path=e._clip_path.slice(0),this.ignoreClearRect=e.ignoreClearRect}}e.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new t,this.context2d.ctxStack=[],this.context2d.path=[]}]),e.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new t,f2:function(e){return e.toFixed(2)},fillRect:function(e,t,i,n){if(!this._isFillTransparent()){e=this._wrapX(e),t=this._wrapY(t);var r=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:i,h:n});this.pdf.rect(r.x,r.y,r.w,r.h,"f")}},strokeRect:function(e,t,i,n){if(!this._isStrokeTransparent()){e=this._wrapX(e),t=this._wrapY(t);var r=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:i,h:n});this.pdf.rect(r.x,r.y,r.w,r.h,"s")}},clearRect:function(e,t,i,n){if(!this.ctx.ignoreClearRect){e=this._wrapX(e),t=this._wrapY(t);var r=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:i,h:n});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(r.x,r.y,r.w,r.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var e=new t;e.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=e},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(e){var t,i,n,o;if(!e)return{r:0,g:0,b:0,a:0,style:e};if(this.internal.rxTransparent.test(e))t=0,i=0,n=0,o=0;else{var s=this.internal.rxRgb.exec(e);null!=s?(t=parseInt(s[1]),i=parseInt(s[2]),n=parseInt(s[3]),o=1):null!=(s=this.internal.rxRgba.exec(e))?(t=parseInt(s[1]),i=parseInt(s[2]),n=parseInt(s[3]),o=parseFloat(s[4])):(o=1,"#"!=e.charAt(0)&&((e=r.colorNameToHex(e))||(e="#000000")),4===e.length?(t=e.substring(1,2),t+=t,i=e.substring(2,3),i+=i,n=e.substring(3,4),n+=n):(t=e.substring(1,3),i=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),i=parseInt(i,16),n=parseInt(n,16))}return{r:t,g:i,b:n,a:o,style:e}},setFillStyle:function(e){var t=this._getRGBA(e);this.ctx.fillStyle=e,this.ctx._isFillTransparent=0===t.a,this.ctx._fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})},setStrokeStyle:function(e){var t=this._getRGBA(e);this.ctx.strokeStyle=t.style,this.ctx._isStrokeTransparent=0===t.a,this.ctx._strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))},fillText:function(e,t,i,n){if(!this._isFillTransparent()){t=this._wrapX(t),i=this._wrapY(i);var r=this._matrix_map_point(this.ctx._transform,[t,i]);t=r[0],i=r[1];var o=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var s;(s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var a=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a}var l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(l<.01)this.pdf.text(e,t,this._getBaseline(i),null,o);else{var d=this.pdf.internal.getFontSize();this.pdf.setFontSize(d*l),this.pdf.text(e,t,this._getBaseline(i),null,o),this.pdf.setFontSize(d)}this.ctx._clip_path.length>0&&s.push("Q")}},strokeText:function(e,t,i,n){if(!this._isStrokeTransparent()){t=this._wrapX(t),i=this._wrapY(i);var r=this._matrix_map_point(this.ctx._transform,[t,i]);t=r[0],i=r[1];var o=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var s;(s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var a=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a}var l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(1===l)this.pdf.text(e,t,this._getBaseline(i),{stroke:!0},o);else{var d=this.pdf.internal.getFontSize();this.pdf.setFontSize(d*l),this.pdf.text(e,t,this._getBaseline(i),{stroke:!0},o),this.pdf.setFontSize(d)}this.ctx._clip_path.length>0&&s.push("Q")}},setFont:function(e){this.ctx.font=e;var t=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;if(null!=(u=t.exec(e))){var i=u[1],n=u[3],r=u[4],o=u[5],s=u[6];r="px"===o?Math.floor(parseFloat(r)):"em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)),this.pdf.setFontSize(r),"bold"===n||"700"===n?this.pdf.setFontStyle("bold"):"italic"===i?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");var a,l=(c=s).toLowerCase().split(/\s*,\s*/);a=-1!=l.indexOf("arial")?"Arial":-1!=l.indexOf("verdana")?"Verdana":-1!=l.indexOf("helvetica")?"Helvetica":-1!=l.indexOf("sans-serif")?"sans-serif":-1!=l.indexOf("fixed")?"Fixed":-1!=l.indexOf("monospace")?"Monospace":-1!=l.indexOf("terminal")?"Terminal":-1!=l.indexOf("courier")?"Courier":-1!=l.indexOf("times")?"Times":-1!=l.indexOf("cursive")?"Cursive":-1!=l.indexOf("fantasy")?"Fantasy":(l.indexOf("serif"),"Serif");var d;d="bold"===n?"bold":"normal",this.pdf.setFont(a,d)}else{var u=(t=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/).exec(e);if(null!=u){var h=u[1],c=u[3];(d=u[4])||(d="normal"),h="em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(h)),this.pdf.setFontSize(h),this.pdf.setFont(c,d)}}},setTextBaseline:function(e){this.ctx.textBaseline=e},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(e){this.ctx.textAlign=e},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(e){this.ctx.lineWidth=e,this.pdf.setLineWidth(e)},setLineCap:function(e){this.ctx.lineCap=e,this.pdf.setLineCap(e)},setLineJoin:function(e){this.ctx.lineJoin=e,this.pdf.setLineJoin(e)},moveTo:function(e,t){e=this._wrapX(e),t=this._wrapY(t);var i=this._matrix_map_point(this.ctx._transform,[e,t]),n={type:"mt",x:e=i[0],y:t=i[1]};this.path.push(n)},_wrapX:function(e){return this.pageWrapXEnabled?e%this.pageWrapX:e},_wrapY:function(e){return this.pageWrapYEnabled?(this._gotoPage(this._page(e)),(e-this.lastBreak)%this.pageWrapY):e},transform:function(e,t,i,n,r,o){this.ctx._transform=[e,t,i,n,r,o]},setTransform:function(e,t,i,n,r,o){this.ctx._transform=[e,t,i,n,r,o]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(e){if(this.pageWrapYEnabled){this.lastBreak=0;for(var t=0,i=0,n=0;n<this.pageBreaks.length;n++)if(e>=this.pageBreaks[n]){t++,0===this.lastBreak&&i++;var r=this.pageBreaks[n]-this.lastBreak;this.lastBreak=this.pageBreaks[n],i+=o=Math.floor(r/this.pageWrapY)}if(0===this.lastBreak){var o=Math.floor(e/this.pageWrapY)+1;i+=o}return i+t}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(e){},lineTo:function(e,t){e=this._wrapX(e),t=this._wrapY(t);var i=this._matrix_map_point(this.ctx._transform,[e,t]),n={type:"lt",x:e=i[0],y:t=i[1]};this.path.push(n)},bezierCurveTo:function(e,t,i,n,r,o){e=this._wrapX(e),t=this._wrapY(t),i=this._wrapX(i),n=this._wrapY(n),r=this._wrapX(r),o=this._wrapY(o);var s;r=(s=this._matrix_map_point(this.ctx._transform,[r,o]))[0],o=s[1];var a={type:"bct",x1:e=(s=this._matrix_map_point(this.ctx._transform,[e,t]))[0],y1:t=s[1],x2:i=(s=this._matrix_map_point(this.ctx._transform,[i,n]))[0],y2:n=s[1],x:r,y:o};this.path.push(a)},quadraticCurveTo:function(e,t,i,n){e=this._wrapX(e),t=this._wrapY(t),i=this._wrapX(i),n=this._wrapY(n);var r;i=(r=this._matrix_map_point(this.ctx._transform,[i,n]))[0],n=r[1];var o={type:"qct",x1:e=(r=this._matrix_map_point(this.ctx._transform,[e,t]))[0],y1:t=r[1],x:i,y:n};this.path.push(o)},arc:function(e,t,i,n,r,o){if(e=this._wrapX(e),t=this._wrapY(t),!this._matrix_is_identity(this.ctx._transform)){var s=this._matrix_map_point(this.ctx._transform,[e,t]);e=s[0],t=s[1];var a=this._matrix_map_point(this.ctx._transform,[0,0]),l=this._matrix_map_point(this.ctx._transform,[0,i]);i=Math.sqrt(Math.pow(l[0]-a[0],2)+Math.pow(l[1]-a[1],2))}var d={type:"arc",x:e,y:t,radius:i,startAngle:n,endAngle:r,anticlockwise:o};this.path.push(d)},drawImage:function(e,t,i,n,r,o,s,a,l){void 0!==o&&(t=o,i=s,n=a,r=l),t=this._wrapX(t),i=this._wrapY(i);var d,u=this._matrix_map_rect(this.ctx._transform,{x:t,y:i,w:n,h:r}),h=(this._matrix_map_rect(this.ctx._transform,{x:o,y:s,w:a,h:l}),/data:image\/(\w+).*/i.exec(e));d=null!=h?h[1]:"png",this.pdf.addImage(e,d,u.x,u.y,u.w,u.h)},_matrix_multiply:function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=i*e[0]+n*e[2],d=r*e[0]+o*e[2],u=s*e[0]+a*e[2]+e[4];return n=i*e[1]+n*e[3],o=r*e[1]+o*e[3],a=s*e[1]+a*e[3]+e[5],i=l,r=d,s=u,[i,n,r,o,s,a]},_matrix_rotation:function(e){return Math.atan2(e[2],e[0])},_matrix_decompose:function(e){var t=e[0],i=e[1],n=e[2],r=e[3],o=Math.sqrt(t*t+i*i),s=(t/=o)*n+(i/=o)*r;n-=t*s,r-=i*s;var a=Math.sqrt(n*n+r*r);return n/=a,r/=a,s/=a,t*r<i*n&&(t=-t,i=-i,s=-s,o=-o),{scale:[o,0,0,a,0,0],translate:[1,0,0,1,e[4],e[5]],rotate:[t,i,-i,t,0,0],skew:[1,0,s,1,0,0]}},_matrix_map_point:function(e,t){var i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t[0],d=t[1];return[l*i+d*r+s,l*n+d*o+a]},_matrix_map_point_obj:function(e,t){var i=this._matrix_map_point(e,[t.x,t.y]);return{x:i[0],y:i[1]}},_matrix_map_rect:function(e,t){var i=this._matrix_map_point(e,[t.x,t.y]),n=this._matrix_map_point(e,[t.x+t.w,t.y+t.h]);return{x:i[0],y:i[1],w:n[0]-i[0],h:n[1]-i[1]}},_matrix_is_identity:function(e){return 1==e[0]&&(0==e[1]&&(0==e[2]&&(1==e[3]&&(0==e[4]&&0==e[5]))))},rotate:function(e){var t=[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,t)},scale:function(e,t){var i=[e,0,0,t,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,i)},translate:function(e,t){var i=[1,0,0,1,e,t];this.ctx._transform=this._matrix_multiply(this.ctx._transform,i)},stroke:function(){if(this.ctx._clip_path.length>0){var e;(e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var t=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=t,this._stroke(!1),e.push("Q")}else this._stroke(!1)},_stroke:function(e){if(e||!this._isStrokeTransparent()){for(var t=[],i=this.path,n=0;n<i.length;n++){var r=i[n];switch(r.type){case"mt":t.push({start:r,deltas:[],abs:[]});break;case"lt":h=[r.x-i[n-1].x,r.y-i[n-1].y];t[t.length-1].deltas.push(h),t[t.length-1].abs.push(r);break;case"bct":h=[r.x1-i[n-1].x,r.y1-i[n-1].y,r.x2-i[n-1].x,r.y2-i[n-1].y,r.x-i[n-1].x,r.y-i[n-1].y];t[t.length-1].deltas.push(h);break;case"qct":var o=i[n-1].x+2/3*(r.x1-i[n-1].x),s=i[n-1].y+2/3*(r.y1-i[n-1].y),a=r.x+2/3*(r.x1-r.x),l=r.y+2/3*(r.y1-r.y),d=r.x,u=r.y,h=[o-i[n-1].x,s-i[n-1].y,a-i[n-1].x,l-i[n-1].y,d-i[n-1].x,u-i[n-1].y];t[t.length-1].deltas.push(h);break;case"arc":0==t.length&&t.push({start:{x:0,y:0},deltas:[],abs:[]}),t[t.length-1].arc=!0,t[t.length-1].abs.push(r)}}for(n=0;n<t.length;n++){var c;if(c=n==t.length-1?"s":null,t[n].arc)for(var f=t[n].abs,p=0;p<f.length;p++){var m=f[p],v=360*m.startAngle/(2*Math.PI),g=360*m.endAngle/(2*Math.PI),y=m.x,b=m.y;this.internal.arc2(this,y,b,m.radius,v,g,m.anticlockwise,c,e)}else{var y=t[n].start.x,b=t[n].start.y;e?(this.pdf.lines(t[n].deltas,y,b,null,null),this.pdf.clip_fixed()):this.pdf.lines(t[n].deltas,y,b,null,c)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(e){if(this.ctx._clip_path.length>0){var t;(t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var i=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(e,!0),this.ctx._clip_path=this.path,this.path=i,this._fill(e,!1),t.push("Q")}else this._fill(e,!1)},_fill:function(e,t){if(!this._isFillTransparent()){var n,r="function"==typeof this.pdf.internal.newObject2;n=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var o=[],s=window.outIntercept;if(r)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var a=this.pdf.internal.newStreamObject(),l=this.pdf.internal.newObject2();l.push("<</Type /ExtGState"),l.push("/SMask <</S /Alpha /G "+a.objId+" 0 R>>"),l.push(">>");f="MASK"+l.objId;this.pdf.internal.addGraphicsState(f,l.objId);var d="/"+f+" gs";n.splice(0,0,"q"),n.splice(1,0,d),n.push("Q"),window.outIntercept=a;break;default:var u="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];u&&this.pdf.internal.out(u+" gs")}var h=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(h=this.ctx._fillOpacity),r){var c=this.pdf.internal.newObject2();c.push("<</Type /ExtGState"),c.push("/CA "+h),c.push("/ca "+h),c.push(">>");var f="GS_O_"+c.objId;this.pdf.internal.addGraphicsState(f,c.objId),this.pdf.internal.out("/"+f+" gs")}for(var p=this.path,m=0;m<p.length;m++){var v=p[m];switch(v.type){case"mt":o.push({start:v,deltas:[],abs:[]});break;case"lt":k=[v.x-p[m-1].x,v.y-p[m-1].y];o[o.length-1].deltas.push(k),o[o.length-1].abs.push(v);break;case"bct":k=[v.x1-p[m-1].x,v.y1-p[m-1].y,v.x2-p[m-1].x,v.y2-p[m-1].y,v.x-p[m-1].x,v.y-p[m-1].y];o[o.length-1].deltas.push(k);break;case"qct":var g=p[m-1].x+2/3*(v.x1-p[m-1].x),y=p[m-1].y+2/3*(v.y1-p[m-1].y),b=v.x+2/3*(v.x1-v.x),w=v.y+2/3*(v.y1-v.y),x=v.x,_=v.y,k=[g-p[m-1].x,y-p[m-1].y,b-p[m-1].x,w-p[m-1].y,x-p[m-1].x,_-p[m-1].y];o[o.length-1].deltas.push(k);break;case"arc":0===o.length&&o.push({deltas:[],abs:[]}),o[o.length-1].arc=!0,o[o.length-1].abs.push(v);break;case"close":o.push({close:!0})}}for(m=0;m<o.length;m++){var C;if(m==o.length-1?(C="f","evenodd"===e&&(C+="*")):C=null,o[m].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(o[m].arc){o[m].start&&this.internal.move2(this,o[m].start.x,o[m].start.y);for(var S=o[m].abs,T=0;T<S.length;T++){var D=S[T];if(void 0!==D.startAngle){var E=360*D.startAngle/(2*Math.PI),O=360*D.endAngle/(2*Math.PI),P=D.x,M=D.y;if(0===T&&this.internal.move2(this,P,M),this.internal.arc2(this,P,M,D.radius,E,O,D.anticlockwise,null,t),T===S.length-1&&o[m].start){var P=o[m].start.x,M=o[m].start.y;this.internal.line2(i,P,M)}}else this.internal.line2(i,D.x,D.y)}}else{var P=o[m].start.x,M=o[m].start.y;t?(this.pdf.lines(o[m].deltas,P,M,null,null),this.pdf.clip_fixed()):this.pdf.lines(o[m].deltas,P,M,null,C)}}window.outIntercept=s}},pushMask:function(){if("function"==typeof this.pdf.internal.newObject2){var e=this.pdf.internal.newStreamObject(),t=this.pdf.internal.newObject2();t.push("<</Type /ExtGState"),t.push("/SMask <</S /Alpha /G "+e.objId+" 0 R>>"),t.push(">>");var i="MASK"+t.objId;this.pdf.internal.addGraphicsState(i,t.objId);var n="/"+i+" gs";this.pdf.internal.out(n)}else console.log("jsPDF v2 not enabled")},clip:function(){if(this.ctx._clip_path.length>0)for(var e=0;e<this.path.length;e++)this.ctx._clip_path.push(this.path[e]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(e){var t=this.pdf;return{getWidth:function(){var i=t.internal.getFontSize(),n=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return n*=1.3333},get width(){return this.getWidth(e)}}},_getBaseline:function(e){var t=parseInt(this.pdf.internal.getFontSize()),i=.25*t;switch(this.ctx.textBaseline){case"bottom":return e-i;case"top":return e+t;case"hanging":return e+t-i;case"middle":return e+t/2-i;case"ideographic":return e;case"alphabetic":default:return e}}};var i=e.context2d;Object.defineProperty(i,"fillStyle",{set:function(e){this.setFillStyle(e)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(i,"strokeStyle",{set:function(e){this.setStrokeStyle(e)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(i,"lineWidth",{set:function(e){this.setLineWidth(e)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(i,"lineCap",{set:function(e){this.setLineCap(e)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(i,"lineJoin",{set:function(e){this.setLineJoin(e)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(i,"miterLimit",{set:function(e){this.ctx.miterLimit=e},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(i,"textBaseline",{set:function(e){this.setTextBaseline(e)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(i,"textAlign",{set:function(e){this.setTextAlign(e)},get:function(){return this.getTextAlign()}}),Object.defineProperty(i,"font",{set:function(e){this.setFont(e)},get:function(){return this.ctx.font}}),Object.defineProperty(i,"globalCompositeOperation",{set:function(e){this.ctx.globalCompositeOperation=e},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(i,"globalAlpha",{set:function(e){this.ctx.globalAlpha=e},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(i,"ignoreClearRect",{set:function(e){this.ctx.ignoreClearRect=e},get:function(){return this.ctx.ignoreClearRect}}),i.internal={},i.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,i.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,i.internal.arc=function(e,t,i,n,r,o,s,a){for(var l=this.pdf.internal.scaleFactor,d=this.pdf.internal.pageSize.height,u=this.pdf.internal.f2,h=r*(Math.PI/180),c=o*(Math.PI/180),f=this.createArc(n,h,c,s),p=0;p<f.length;p++){var m=f[p];0===p?this.pdf.internal.out([u((m.x1+t)*l),u((d-(m.y1+i))*l),"m",u((m.x2+t)*l),u((d-(m.y2+i))*l),u((m.x3+t)*l),u((d-(m.y3+i))*l),u((m.x4+t)*l),u((d-(m.y4+i))*l),"c"].join(" ")):this.pdf.internal.out([u((m.x2+t)*l),u((d-(m.y2+i))*l),u((m.x3+t)*l),u((d-(m.y3+i))*l),u((m.x4+t)*l),u((d-(m.y4+i))*l),"c"].join(" ")),e._lastPoint={x:t,y:i}}null!==a&&this.pdf.internal.out(this.pdf.internal.getStyle(a))},i.internal.arc2=function(e,t,i,n,r,o,s,a,l){var d=t,u=i;l?(this.arc(e,d,u,n,r,o,s,null),this.pdf.clip_fixed()):this.arc(e,d,u,n,r,o,s,a)},i.internal.move2=function(e,t,i){var n=this.pdf.internal.scaleFactor,r=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2;this.pdf.internal.out([o(t*n),o((r-i)*n),"m"].join(" ")),e._lastPoint={x:t,y:i}},i.internal.line2=function(e,t,i){var n=this.pdf.internal.scaleFactor,r=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2,s={x:t,y:i};this.pdf.internal.out([o(s.x*n),o((r-s.y)*n),"l"].join(" ")),e._lastPoint=s},i.internal.createArc=function(e,t,i,n){var r=2*Math.PI,o=Math.PI/2,s=t;for((s<r||s>r)&&(s%=r),s<0&&(s=r+s);t>i;)t-=r;var a=Math.abs(i-t);a<r&&n&&(a=r-a);for(var l=[],d=n?-1:1,u=s;a>1e-5;){var h=u+d*Math.min(a,o);l.push(this.createSmallArc(e,u,h)),a-=Math.abs(h-u),u=h}return l},i.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},i.internal.createSmallArc=function(e,t,i){var n=(i-t)/2,r=e*Math.cos(n),o=e*Math.sin(n),s=r,a=-o,l=s*s+a*a,d=l+s*r+a*o,u=4/3*(Math.sqrt(2*l*d)-d)/(s*o-a*r),h=s-u*a,c=a+u*s,f=h,p=-c,m=n+t,v=Math.cos(m),g=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*v-c*g,y2:h*g+c*v,x3:f*v-p*g,y3:f*g+p*v,x4:e*Math.cos(i),y4:e*Math.sin(i)}}}(t.API),function(t){var i,n,o,s,a,l,d,u,h,c,f,p,m,v,g,y,b,w,x,_;i=function(){function e(){}return function(t){return e.prototype=t,new e}}(),c=function(e){var t,i,n,r,o,s,a;for(i=0,n=e.length,t=void 0,r=!1,s=!1;!r&&i!==n;)(t=e[i]=e[i].trimLeft())&&(r=!0),i++;for(i=n-1;n&&!s&&-1!==i;)(t=e[i]=e[i].trimRight())&&(s=!0),i--;for(o=/\s+$/g,a=!0,i=0;i!==n;)"\u2028"!=e[i]&&(t=e[i].replace(/\s+/g," "),a&&(t=t.trimLeft()),t&&(a=o.test(t)),e[i]=t),i++;return e},p=function(e){var t,i,n;for(t=void 0,i=(n=e.split(",")).shift();!t&&i;)t=o[i.trim().toLowerCase()],i=n.shift();return t},m=function(e){(e="auto"===e?"0px":e).indexOf("em")>-1&&!isNaN(Number(e.replace("em","")))&&(e=18.719*Number(e.replace("em",""))+"px"),e.indexOf("pt")>-1&&!isNaN(Number(e.replace("pt","")))&&(e=1.333*Number(e.replace("pt",""))+"px");var t;return void 0,16,(t=v[e])?t:void 0!==(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:e}])?v[e]=t/16:(t=parseFloat(e))?v[e]=t/16:3===(t=e.match(/([\d\.]+)(px)/)).length?v[e]=parseFloat(t[1])/16:v[e]=1},h=function(e){var t,i,n;return n=function(t){var i;return i=function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle?e.currentStyle:e.style}(e),function(e){return e=e.replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()}),i[e]}}(),t={},i=void 0,t["font-family"]=p(n("font-family"))||"times",t["font-style"]=s[n("font-style")]||"normal",t["text-align"]=a[n("text-align")]||"left","bold"===(i=l[n("font-weight")]||"normal")&&("normal"===t["font-style"]?t["font-style"]=i:t["font-style"]=i+t["font-style"]),t["font-size"]=m(n("font-size"))||1,t["line-height"]=m(n("line-height"))||1,t.display="inline"===n("display")?"inline":"block",i="block"===t.display,t["margin-top"]=i&&m(n("margin-top"))||0,t["margin-bottom"]=i&&m(n("margin-bottom"))||0,t["padding-top"]=i&&m(n("padding-top"))||0,t["padding-bottom"]=i&&m(n("padding-bottom"))||0,t["margin-left"]=i&&m(n("margin-left"))||0,t["margin-right"]=i&&m(n("margin-right"))||0,t["padding-left"]=i&&m(n("padding-left"))||0,t["padding-right"]=i&&m(n("padding-right"))||0,t["page-break-before"]=n("page-break-before")||"auto",t.float=d[n("cssFloat")]||"none",t.clear=u[n("clear")]||"none",t.color=n("color"),t},g=function(e,t,i){var n,r,o,s,a;if(o=!1,r=void 0,s=void 0,n=i["#"+e.id])if("function"==typeof n)o=n(e,t);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](e,t),r++;if(n=i[e.nodeName],!o&&n)if("function"==typeof n)o=n(e,t);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](e,t),r++;for(a=e.className?e.className.split(" "):[],r=0;r<a.length;r++)if(n=i["."+a[r]],!o&&n)if("function"==typeof n)o=n(e,t);else for(r=0,s=n.length;!o&&r!==s;)o=n[r](e,t),r++;return o},_=function(e,t){var i,n,r,o,s,a,l,d,u;for(i=[],n=[],r=0,u=e.rows[0].cells.length,l=e.clientWidth;r<u;)d=e.rows[0].cells[r],n[r]={name:d.textContent.toLowerCase().replace(/\s+/g,""),prompt:d.textContent.replace(/\r?\n/g,""),width:d.clientWidth/l*t.pdf.internal.pageSize.width},r++;for(r=1;r<e.rows.length;){for(a=e.rows[r],s={},o=0;o<a.cells.length;)s[n[o].name]=a.cells[o].textContent.replace(/\r?\n/g,""),o++;i.push(s),r++}return{rows:i,headers:n}};var k={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},C=1;n=function(t,r,o){var s,a,l,d,u,c,f,p;for(a=t.childNodes,s=void 0,(u="block"===(l=h(t)).display)&&(r.setBlockBoundary(),r.setBlockStyle(l)),d=0,c=a.length;d<c;){if("object"===(void 0===(s=a[d])?"undefined":e(s))){if(r.executeWatchFunctions(s),1===s.nodeType&&"HEADER"===s.nodeName){var m=s,v=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",function(e){r.y=v,n(m,r,o),r.pdf.margins_doc.top=r.y+10,r.y+=10},!1)}if(8===s.nodeType&&"#comment"===s.nodeName)~s.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==s.nodeType||k[s.nodeName])if(3===s.nodeType){var b=s.nodeValue;if(s.nodeValue&&"LI"===s.parentNode.nodeName)if("OL"===s.parentNode.parentNode.nodeName)b=C+++". "+b;else{var w=l["font-size"],x=(3-.75*w)*r.pdf.internal.scaleFactor,S=.75*w*r.pdf.internal.scaleFactor,T=1.74*w/r.pdf.internal.scaleFactor;p=function(e,t){this.pdf.circle(e+x,t+S,T,"FD")}}16&s.ownerDocument.body.compareDocumentPosition(s)&&r.addText(b,l)}else"string"==typeof s&&r.addText(s,l);else{var D;if("IMG"===s.nodeName){var E=s.getAttribute("src");D=y[r.pdf.sHashCode(E)||E]}if(D){r.pdf.internal.pageSize.height-r.pdf.margins_doc.bottom<r.y+s.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(s));var O=h(s),P=r.x,M=12/r.pdf.internal.scaleFactor,A=(O["margin-left"]+O["padding-left"])*M,I=(O["margin-right"]+O["padding-right"])*M,F=(O["margin-top"]+O["padding-top"])*M,R=(O["margin-bottom"]+O["padding-bottom"])*M;void 0!==O.float&&"right"===O.float?P+=r.settings.width-s.width-I:P+=A,r.pdf.addImage(D,P,r.y+F,s.width,s.height),D=void 0,"right"===O.float||"left"===O.float?(r.watchFunctions.push(function(e,t,i,n){return r.y>=t?(r.x+=e,r.settings.width+=i,!0):!!(n&&1===n.nodeType&&!k[n.nodeName]&&r.x+n.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=e,r.y=t,r.settings.width+=i,!0)}.bind(this,"left"===O.float?-s.width-A-I:0,r.y+s.height+F+R,s.width)),r.watchFunctions.push(function(e,t,i){return!(r.y<e&&t===r.pdf.internal.getNumberOfPages())||1===i.nodeType&&"both"===h(i).clear&&(r.y=e,!0)}.bind(this,r.y+s.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=s.width+A+I,"left"===O.float&&(r.x+=s.width+A+I)):r.y+=s.height+F+R}else if("TABLE"===s.nodeName)f=_(s,r),r.y+=10,r.pdf.table(r.x,r.y,f.rows,f.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:r.pdf.margins_doc,css:h(s)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===s.nodeName||"UL"===s.nodeName)C=1,g(s,r,o)||n(s,r,o),r.y+=10;else if("LI"===s.nodeName){var N=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,g(s,r,o)||n(s,r,o),r.x=N}else"BR"===s.nodeName?(r.y+=l["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",i(l))):g(s,r,o)||n(s,r,o)}}d++}if(o.outY=r.y,u)return r.setBlockBoundary(p)},y={},b=function(e,t,i,n){function r(){t.pdf.internal.events.publish("imagesLoaded"),n(o)}for(var o,s=e.getElementsByTagName("img"),a=s.length,l=0;a--;)!function(e,i,n){if(e){var s=new Image;o=++l,s.crossOrigin="",s.onerror=s.onload=function(){if(s.complete&&(0===s.src.indexOf("data:image/")&&(s.width=i||s.width||0,s.height=n||s.height||0),s.width+s.height)){var o=t.pdf.sHashCode(e)||e;y[o]=y[o]||s}--l||r()},s.src=e}}(s[a].getAttribute("src"),s[a].width,s[a].height);return l||r()},w=function(e,t,i){var r=e.getElementsByTagName("footer");if(r.length>0){r=r[0];var o=t.pdf.internal.write,s=t.y;t.pdf.internal.write=function(){},n(r,t,i);var a=Math.ceil(t.y-s)+5;t.y=s,t.pdf.internal.write=o,t.pdf.margins_doc.bottom+=a;for(var l=function(e){var o=void 0!==e?e.pageNumber:1,s=t.y;t.y=t.pdf.internal.pageSize.height-t.pdf.margins_doc.bottom,t.pdf.margins_doc.bottom-=a;for(var l=r.getElementsByTagName("span"),d=0;d<l.length;++d)(" "+l[d].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[d].innerHTML=o),(" "+l[d].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[d].innerHTML="###jsPDFVarTotalPages###");n(r,t,i),t.pdf.margins_doc.bottom+=a,t.y=s},d=r.getElementsByTagName("span"),u=0;u<d.length;++u)(" "+d[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&t.pdf.internal.events.subscribe("htmlRenderingFinished",t.pdf.putTotalPages.bind(t.pdf,"###jsPDFVarTotalPages###"),!0);t.pdf.internal.events.subscribe("addPage",l,!1),l(),k.FOOTER=1}},x=function(e,t,i,r,o,s){if(!t)return!1;"string"==typeof t||t.parentNode||(t=""+t.innerHTML),"string"==typeof t&&(t=function(e){var t,i,n,r;return n="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),r="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",i=document.createElement("div"),i.style.cssText=r,i.innerHTML='<iframe style="height:1px;width:1px" name="'+n+'" />',document.body.appendChild(i),(t=window.frames[n]).document.open(),t.document.writeln(e),t.document.close(),t.document.body}(t.replace(/<\/?script[^>]*?>/gi,"")));var a,l=new f(e,i,r,o);return b.call(this,t,l,o.elementHandlers,function(e){w(t,l,o.elementHandlers),n(t,l,o.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),a=l.dispose(),"function"==typeof s?s(a):e&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),a||{x:l.x,y:l.y}},(f=function(e,t,i,n){return this.pdf=e,this.x=t,this.y=i,this.settings=n,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},f.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},f.prototype.executeWatchFunctions=function(e){var t=!1,i=[];if(this.watchFunctions.length>0){for(var n=0;n<this.watchFunctions.length;++n)!0===this.watchFunctions[n](e)?t=!0:i.push(this.watchFunctions[n]);this.watchFunctions=i}return t},f.prototype.splitFragmentsIntoLines=function(e,t){var n,r,o,s,a,l,d,u,h,c,f,p,m,v;for(12,c=this.pdf.internal.scaleFactor,s={},r=void 0,h=void 0,o=void 0,a=void 0,v=void 0,u=void 0,d=void 0,l=void 0,p=[f=[]],n=0,m=this.settings.width;e.length;)if(a=e.shift(),v=t.shift(),a)if(r=v["font-family"],h=v["font-style"],(o=s[r+h])||(o=this.pdf.internal.getFont(r,h).metadata.Unicode,s[r+h]=o),u={widths:o.widths,kerning:o.kerning,fontSize:12*v["font-size"],textIndent:n},d=this.pdf.getStringUnitWidth(a,u)*u.fontSize/c,"\u2028"==a)f=[],p.push(f);else if(n+d>m){for(l=this.pdf.splitTextToSize(a,m,u),f.push([l.shift(),v]);l.length;)f=[[l.shift(),v]],p.push(f);n=this.pdf.getStringUnitWidth(f[0][0],u)*u.fontSize/c}else f.push([a,v]),n+=d;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(var g=0;g<p.length;++g){var y=this.pdf.getStringUnitWidth(p[g][0][0],u)*u.fontSize/c;g>0&&(p[g][0][1]=i(p[g][0][1]));var b=m-y;if("right"===v["text-align"])p[g][0][1]["margin-left"]=b;else if("center"===v["text-align"])p[g][0][1]["margin-left"]=b/2;else if("justify"===v["text-align"]){var w=p[g][0][0].split(" ").length-1;p[g][0][1]["word-spacing"]=b/w,g===p.length-1&&(p[g][0][1]["word-spacing"]=0)}}return p},f.prototype.RenderTextFragment=function(e,t){var i,n;n=0,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),t.color,"Td"),n=Math.max(n,t["line-height"],t["font-size"]),this.pdf.internal.write(0,(-12*n).toFixed(2),"Td")),i=this.pdf.internal.getFont(t["font-family"],t["font-style"]);var r=this.getPdfColor(t.color);r!==this.lastTextColor&&(this.pdf.internal.write(r),this.lastTextColor=r),void 0!==t["word-spacing"]&&t["word-spacing"]>0&&this.pdf.internal.write(t["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+i.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj"),void 0!==t["word-spacing"]&&this.pdf.internal.write(0,"Tw")},f.prototype.getPdfColor=function(e){var t,i,n,o=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(e);if(null!=o?(t=parseInt(o[1]),i=parseInt(o[2]),n=parseInt(o[3])):("#"!=e.charAt(0)&&((e=r.colorNameToHex(e))||(e="#000000")),t=e.substring(1,3),t=parseInt(t,16),i=e.substring(3,5),i=parseInt(i,16),n=e.substring(5,7),n=parseInt(n,16)),"string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var s=parseInt(t.substr(1),16);t=s>>16&255,i=s>>8&255,n=255&s}var a=this.f3;return 0===t&&0===i&&0===n||void 0===i?a(t/255)+" g":[a(t/255),a(i/255),a(n/255),"rg"].join(" ")},f.prototype.f3=function(e){return e.toFixed(3)},f.prototype.renderParagraph=function(e){var t,i,n,r,o,s,a,l,d,u,h,f,p;if(n=c(this.paragraph.text),f=this.paragraph.style,t=this.paragraph.blockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:t},n.join("").trim()){a=this.splitFragmentsIntoLines(n,f),s=void 0,l=void 0,12,i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((t["margin-top"]||0)-this.priorMarginBottom,0)+(t["padding-top"]||0))*i,u=((t["margin-bottom"]||0)+(t["padding-bottom"]||0))*i,this.priorMarginBottom=t["margin-bottom"]||0,"always"===t["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((t["margin-top"]||0)+(t["padding-top"]||0))*i),d=this.pdf.internal.write,r=void 0,o=void 0,this.y+=h,d("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var m=0;a.length;){for(l=0,r=0,o=(s=a.shift()).length;r!==o;)s[r][0].trim()&&(l=Math.max(l,s[r][1]["line-height"],s[r][1]["font-size"]),p=7*s[r][1]["font-size"]),r++;var v=0,g=0;for(void 0!==s[0][1]["margin-left"]&&s[0][1]["margin-left"]>0&&(v=(g=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]))-m,m=g),d(v+Math.max(t["margin-left"]||0,0)*i,(-12*l).toFixed(2),"Td"),r=0,o=s.length;r!==o;)s[r][0]&&this.RenderTextFragment(s[r][0],s[r][1]),r++;if(this.y+=l*i,this.executeWatchFunctions(s[0][1])&&a.length>0){var y=[],b=[];a.forEach(function(e){for(var t=0,i=e.length;t!==i;)e[t][0]&&(y.push(e[t][0]+" "),b.push(e[t][1])),++t}),a=this.splitFragmentsIntoLines(c(y),b),d("ET","Q"),d("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return e&&"function"==typeof e&&e.call(this,this.x-9,this.y-p/2),d("ET","Q"),this.y+=u}},f.prototype.setBlockBoundary=function(e){return this.renderParagraph(e)},f.prototype.setBlockStyle=function(e){return this.paragraph.blockstyle=e},f.prototype.addText=function(e,t){return this.paragraph.text.push(e),this.paragraph.style.push(t)},o={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},s={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},d={none:"none",right:"right",left:"left"},u={none:"none",both:"both"},v={normal:1},t.fromHTML=function(e,t,i,n,r,o){return this.margins_doc=o||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),x(this,e,isNaN(t)?4:t,isNaN(i)?4:i,n,r)}}(t.API),function(e){var i,n,r;t.API.addJS=function(e){return r=e,this.internal.events.subscribe("postPutResources",function(e){i=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(i+1)+" 0 R] >>","endobj"),n=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",r,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==i&&void 0!==n&&this.internal.write("/Names <</JavaScript "+i+" 0 R>>")}),this}}(),function(e){e.events.push(["postPutResources",function(){var e=this,t=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),n=0;n<i.length;n++){var r=i[n],o=t.exec(r);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s)}e.internal.write(r)}if(this.outline.createNamedDestinations){for(var a=this.internal.pages.length,l=[],n=0;n<a;n++){var d=e.internal.newObject();l.push(d);var u=e.internal.getPageInfo(n+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();e.internal.write("<< /Names [ ");for(n=0;n<l.length;n++)e.internal.write("(page_"+(n+1)+")"+l[n]+" 0 R");e.internal.write(" ] >>","endobj");e.internal.newObject();e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+namesOid+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,i){var n={title:t,options:i,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var i=0;i<t.children.length;i++)this.genIds_r(t.children[i])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(r=0;r<t.children.length;r++){o=t.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var i=this.count=this.count_r({count:0},o);if(i>0&&this.line("/Count "+i),o.options&&o.options.pageNumber){var n=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+n.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}this.objEnd()}for(var r=0;r<t.children.length;r++){var o=t.children[r];this.renderItems(o)}},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var i=0;i<t.children.length;i++)e.count++,this.count_r(e,t.children[i]);return e.count}}])}(t.API),function(e){var t=function(){return"function"!=typeof PNG||"function"!=typeof a},i=function(t){return t!==e.image_compression.NONE&&n()},n=function(){var e="function"==typeof o;if(!e)throw new Error("requires deflate.js for compression");return e},r=function(t,i,n,r){var a=5,u=c;switch(r){case e.image_compression.FAST:a=3,u=h;break;case e.image_compression.MEDIUM:a=6,u=f;break;case e.image_compression.SLOW:a=9,u=p}t=d(t,i,n,u);var m=new Uint8Array(s(a)),v=l(t),g=new o(a),y=g.append(t),b=g.flush(),w=m.length+y.length+b.length,x=new Uint8Array(w+4);return x.set(m),x.set(y,m.length),x.set(b,m.length+y.length),x[w++]=v>>>24&255,x[w++]=v>>>16&255,x[w++]=v>>>8&255,x[w++]=255&v,e.arrayBufferToBinaryString(x)},s=function(e,t){var i=Math.LOG2E*Math.log(32768)-8<<4|8,n=i<<8;return n|=Math.min(3,(t-1&255)>>1)<<6,n|=0,n+=31-n%31,[i,255&n]},l=function(e,t){for(var i,n=1,r=0,o=e.length,s=0;o>0;){o-=i=o>t?t:o;do{r+=n+=e[s++]}while(--i);n%=65521,r%=65521}return(r<<16|n)>>>0},d=function(e,t,i,n){for(var r,o,s,a=e.length/t,l=new Uint8Array(e.length+a),d=v(),u=0;u<a;u++){if(s=u*t,r=e.subarray(s,s+t),n)l.set(n(r,i,o),s+u);else{for(var h=0,c=d.length,f=[];h<c;h++)f[h]=d[h](r,i,o);var p=g(f.concat());l.set(f[p],s+u)}o=r}return l},u=function(e,t,i){var n=Array.apply([],e);return n.unshift(0),n},h=function(e,t,i){var n,r=[],o=0,s=e.length;for(r[0]=1;o<s;o++)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},c=function(e,t,i){var n,r=[],o=0,s=e.length;for(r[0]=2;o<s;o++)n=i&&i[o]||0,r[o+1]=e[o]-n+256&255;return r},f=function(e,t,i){var n,r,o=[],s=0,a=e.length;for(o[0]=3;s<a;s++)n=e[s-t]||0,r=i&&i[s]||0,o[s+1]=e[s]+256-(n+r>>>1)&255;return o},p=function(e,t,i){var n,r,o,s,a=[],l=0,d=e.length;for(a[0]=4;l<d;l++)n=e[l-t]||0,r=i&&i[l]||0,o=i&&i[l-t]||0,s=m(n,r,o),a[l+1]=e[l]-s+256&255;return a},m=function(e,t,i){var n=e+t-i,r=Math.abs(n-e),o=Math.abs(n-t),s=Math.abs(n-i);return r<=o&&r<=s?e:o<=s?t:i},v=function(){return[u,h,c,f,p]},g=function(e){for(var t,i,n,r=0,o=e.length;r<o;)((t=y(e[r].slice(1)))<i||!i)&&(i=t,n=r),r++;return n},y=function(e){for(var t=0,i=e.length,n=0;t<i;)n+=Math.abs(e[t++]);return n},b=function(t){var i;switch(t){case e.image_compression.FAST:i=11;break;case e.image_compression.MEDIUM:i=13;break;case e.image_compression.SLOW:i=14;break;default:i=12}return i};e.processPNG=function(e,n,o,s,a){var l,d,u,h,c,f,p=this.color_spaces.DEVICE_RGB,m=this.decode.FLATE_DECODE,v=8;if(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)){if(t())throw new Error("PNG support requires png.js and zlib.js");if(l=new PNG(e),e=l.imgData,v=l.bits,p=l.colorSpace,h=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var g,y=(P=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,w=new Uint8Array(y*l.colors),x=new Uint8Array(y),_=l.pixelBitlength-l.bits,k=0,C=0;k<y;k++){for(S=P[k],g=0;g<_;)w[C++]=S>>>g&255,g+=l.bits;x[k]=S>>>g&255}if(16===l.bits){for(var S,y=(P=new Uint32Array(l.decodePixels().buffer)).length,w=new Uint8Array(y*(32/l.pixelBitlength)*l.colors),x=new Uint8Array(y*(32/l.pixelBitlength)),T=l.colors>1,k=0,C=0,D=0;k<y;)S=P[k++],w[C++]=S>>>0&255,T&&(w[C++]=S>>>16&255,S=P[k++],w[C++]=S>>>0&255),x[D++]=S>>>16&255;v=8}i(s)?(e=r(w,l.width*l.colors,l.colors,s),f=r(x,l.width,1,s)):(e=w,f=x,m=null)}if(3===l.colorType&&(p=this.color_spaces.INDEXED,c=l.palette,l.transparency.indexed)){for(var E=l.transparency.indexed,O=0,k=0,y=E.length;k<y;++k)O+=E[k];if((O/=255)===y-1&&-1!==E.indexOf(0))u=[E.indexOf(0)];else if(O!==y){for(var P=l.decodePixels(),x=new Uint8Array(P.length),k=0,y=P.length;k<y;k++)x[k]=E[P[k]];f=r(x,l.width,1)}}var M=b(s);return d=m===this.decode.FLATE_DECODE?"/Predictor "+M+" /Colors "+h+" /BitsPerComponent "+v+" /Columns "+l.width:"/Colors "+h+" /BitsPerComponent "+v+" /Columns "+l.width,(this.isArrayBuffer(e)||this.isArrayBufferView(e))&&(e=this.arrayBufferToBinaryString(e)),(f&&this.isArrayBuffer(f)||this.isArrayBufferView(f))&&(f=this.arrayBufferToBinaryString(f)),this.createImageInfo(e,l.width,l.height,p,v,m,n,o,d,u,c,f,M)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(t.API),t.API.autoPrint=function(){var e;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+e+" 0 R")}),this},function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var i,n,r,o=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,s=o.fof?o.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,d=0,u=o[0]||s,h=[];for(i=0,n=e.length;i<n;i++)r=e.charCodeAt(i),h.push((o[r]||u)/s+(a[r]&&a[r][d]||0)/l),d=r;return h},i=function(e){for(var t=e.length,i=0;t;)i+=e[--t];return i},n=e.getStringUnitWidth=function(e,n){return i(t.call(this,e,n))},r=function(e,t,i,n){for(var r=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<i;)a+=t[o],o++;r.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>n&&(r.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&r.push(e.slice(l,o)),r},o=function(e,o,s){s||(s={});var a,l,d,u,h,c,f=[],p=[f],m=s.textIndent||0,v=0,g=0,y=e.split(" "),b=t(" ",s)[0];if(c=-1===s.lineIndent?y[0].length+2:s.lineIndent||0){var w=Array(c).join(" "),x=[];y.map(function(e){(e=e.split(/\s*\n/)).length>1?x=x.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):x.push(e[0])}),y=x,c=n(w,s)}for(d=0,u=y.length;d<u;d++){var _=0;if(a=y[d],c&&"\n"==a[0]&&(a=a.substr(1),_=1),l=t(a,s),g=i(l),m+v+g>o||_){if(g>o){for(h=r(a,l,o-(m+v),o),f.push(h.shift()),f=[h.pop()];h.length;)p.push([h.shift()]);g=i(l.slice(a.length-f[0].length))}else f=[a];p.push(f),m=g+c,v=b}else f.push(a),m+=v+g,v=b}if(c)k=function(e,t){return(t?w:"")+e.join(" ")};else var k=function(e){return e.join(" ")};return p.map(k)};e.splitTextToSize=function(e,t,i){i||(i={});var n,r=i.fontSize||this.internal.getFontSize(),s=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var n=this.internal.getFont(e.fontName,e.fontStyle);return n.metadata.Unicode?{widths:n.metadata.Unicode.widths||t,kerning:n.metadata.Unicode.kerning||i}:{widths:t,kerning:i}}.call(this,i);n=Array.isArray(e)?e:e.split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;s.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=i.lineIndent;var l,d,u=[];for(l=0,d=n.length;l<d;l++)u=u.concat(o(n[l],a,s));return u}}(t.API),function(e){var t=function(e){for(var t={},i=0;i<"klmnopqrstuvwxyz".length;i++)t["klmnopqrstuvwxyz"[i]]="0123456789abcdef"[i];var n,r,o,s,a={},l=1,d=a,u=[],h="",c="",f=e.length-1;for(i=1;i!=f;)s=e[i],i+=1,"'"==s?n?(o=n.join(""),n=void 0):n=[]:n?n.push(s):"{"==s?(u.push([d,o]),d={},o=void 0):"}"==s?((r=u.pop())[0][r[1]]=d,o=void 0,d=r[0]):"-"==s?l=-1:void 0===o?t.hasOwnProperty(s)?(h+=t[s],o=parseInt(h,16)*l,l=1,h=""):h+=s:t.hasOwnProperty(s)?(c+=t[s],d[o]=parseInt(c,16)*l,l=1,o=void 0,c=""):c+=s;return a},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},n={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},r={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t,i,o;(t=r.Unicode[e.PostScriptName])&&((i=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).widths=t.widths,i.kerning=t.kerning),(o=n.Unicode[e.PostScriptName])&&((i=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).encoding=o,o.codePages&&o.codePages.length&&(e.encoding=o.codePages[0]))}])}(t.API),t.API.addSVG=function(e,t,i,n,r){function o(e,t){var i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(i)}if(void 0===t||void 0===i)throw new Error("addSVG needs values for 'x' and 'y'");var s=function(e,t){var i=(t.contentWindow||t.contentDocument).document;return i.write(e),i.close(),i.getElementsByTagName("svg")[0]}(e,function(e){var t=e.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",e),t.name="childframe",t.setAttribute("width",0),t.setAttribute("height",0),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("seamless","seamless"),t.setAttribute("class","jsPDF_sillysvg_iframe"),e.body.appendChild(t),t}(document)),a=[1,1],l=parseFloat(s.getAttribute("width")),d=parseFloat(s.getAttribute("height"));l&&d&&(n&&r?a=[n/l,r/d]:n?a=[n/l,n/l]:r&&(a=[r/d,r/d]));var u,h,c,f,p=s.childNodes;for(u=0,h=p.length;u<h;u++)(c=p[u]).tagName&&"PATH"===c.tagName.toUpperCase()&&((f=function(e){for(var t=parseFloat(e[1]),i=parseFloat(e[2]),n=[],r=3,o=e.length;r<o;)"c"===e[r]?(n.push([parseFloat(e[r+1]),parseFloat(e[r+2]),parseFloat(e[r+3]),parseFloat(e[r+4]),parseFloat(e[r+5]),parseFloat(e[r+6])]),r+=7):"l"===e[r]?(n.push([parseFloat(e[r+1]),parseFloat(e[r+2])]),r+=3):r+=1;return[t,i,n]}(c.getAttribute("d").split(" ")))[0]=f[0]*a[0]+t,f[1]=f[1]*a[1]+i,this.lines.call(this,f[2],f[0],f[1],a));return this},t.API.putTotalPages=function(e){for(var t=new RegExp(e,"g"),i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,this.internal.getNumberOfPages());return this},function(e){var i="",n="",r="";t.API.addMetadata=function(e,t){return n=t||"http://jspdf.default.namespaceuri/",i=e,this.internal.events.subscribe("postPutResources",function(){if(i){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+n+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(e)),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+s.length+a.length+t.length+l.length;r=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(t+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")}else r=""}),this.internal.events.subscribe("putCatalog",function(){r&&this.internal.write("/Metadata "+r+" 0 R")}),this}}(),function(e){if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(e,t,i){this.data=e,this.size=e.length,this.type=t,this.encoding=i},r=i.prototype,o=n.prototype,s=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),d=l.length,u=e.URL||e.webkitURL||e,h=u.createObjectURL,c=u.revokeObjectURL,f=u,p=e.btoa,m=e.atob,v=e.ArrayBuffer,g=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=o.fake=!0;d--;)a.prototype[l[d]]=d+1;return u.createObjectURL||(f=e.URL=function(e){var t,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=e,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(t=e.match(y),i.origin=t&&t[1])),i}),f.createObjectURL=function(e){var t,i=e.type;return null===i&&(i="application/octet-stream"),e instanceof n?(t="data:"+i,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):h?h.call(u,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&c&&c.call(u,e)},r.append=function(e){var i=this.data;if(g&&(e instanceof v||e instanceof g)){for(var r="",o=new g(e),l=0,d=o.length;l<d;l++)r+=String.fromCharCode(o[l]);i.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;i.push(u.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&m?i.push(m(e.data)):"URI"===e.encoding?i.push(decodeURIComponent(e.data)):"raw"===e.encoding&&i.push(e.data):("string"!=typeof e&&(e+=""),i.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,i){var r=arguments.length;return r<3&&(i=null),new n(this.data.slice(e,r>1?t:this.data.length),i,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},i}(e);e.Blob=function(e,i){var n=i?i.type||"":"",r=new t;if(e)for(var o=0,s=e.length;o<s;o++)Uint8Array&&e[o]instanceof Uint8Array?r.append(e[o].buffer):r.append(e[o]);var a=r.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=i(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content||void 0);var n=n||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},i=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in i,r=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},d=function(e,t,i){for(var n=(t=[].concat(t)).length;n--;){var r=e["on"+t[n]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){a(e)}}},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(a,h,c){c||(a=u(a));var f,p=this,m="application/octet-stream"===a.type,v=function(){d(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return f=t().createObjectURL(a),void setTimeout(function(){i.href=f,i.download=h,r(i),v(),l(f),p.readyState=p.DONE});!function(){if((s||m&&o)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,v()},i.readAsDataURL(a),void(p.readyState=p.INIT)}f||(f=t().createObjectURL(a)),m?e.location.href=f:e.open(f,"_blank")||(e.location.href=f),p.readyState=p.DONE,v(),l(f)}()},c=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,i){return t=t||e.name||"download",i||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,i){return new h(e,t||e.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return n}),function(e,t){"object"==typeof module?module.exports=t():"function"==typeof define?define(t):e.adler32cs=t()}(t,function(){var e="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,t=null,i=function(){if(!e)return function(){return!1};try{var i={};"function"==typeof i.Buffer&&(t=i.Buffer)}catch(e){}return function(e){return e instanceof ArrayBuffer||null!==t&&e instanceof t}}(),n=null!==t?function(e){return new t(e,"utf8").toString("binary")}:function(e){return unescape(encodeURIComponent(e))},r=function(e,t){for(var i=65535&e,n=e>>>16,r=0,o=t.length;r<o;r++)n=(n+(i=(i+(255&t.charCodeAt(r)))%65521))%65521;return(n<<16|i)>>>0},o=function(e,t){for(var i=65535&e,n=e>>>16,r=0,o=t.length;r<o;r++)n=(n+(i=(i+t[r])%65521))%65521;return(n<<16|i)>>>0},s={},a=s.Adler32=function(){var t=function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw new Error("First arguments needs to be a finite number.");this.checksum=e>>>0},s=t.prototype={};return s.constructor=t,t.from=function(e){return e.prototype=s,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");this.checksum=r(1,e.toString())}),t.fromUtf8=function(e){return e.prototype=s,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");var i=n(e.toString());this.checksum=r(1,i)}),e&&(t.fromBuffer=function(e){return e.prototype=s,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(!i(e))throw new Error("First argument needs to be ArrayBuffer.");var n=new Uint8Array(e);return this.checksum=o(1,n)})),s.update=function(e){if(null==e)throw new Error("First argument needs to be a string.");return e=e.toString(),this.checksum=r(this.checksum,e)},s.updateUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=n(e.toString());return this.checksum=r(this.checksum,t)},e&&(s.updateBuffer=function(e){if(!i(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=o(this.checksum,t)}),s.clone=function(){return new a(this.checksum)},t}();return s.from=function(e){if(null==e)throw new Error("First argument needs to be a string.");return r(1,e.toString())},s.fromUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=n(e.toString());return r(1,t)},e&&(s.fromBuffer=function(e){if(!i(e))throw new Error("First argument need to be ArrayBuffer.");var t=new Uint8Array(e);return o(1,t)}),s});var r={};r._colorsTable={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r.colorNameToHex=function(e){return e=e.toLowerCase(),void 0!==this._colorsTable[e]&&this._colorsTable[e]};var o=function(e){function t(){function e(e){var t,i,r,o,s,l,d=n.dyn_tree,u=n.stat_desc.static_tree,h=n.stat_desc.extra_bits,f=n.stat_desc.extra_base,p=n.stat_desc.max_length,m=0;for(o=0;o<=a;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;t<c;t++)(o=d[2*d[2*(i=e.heap[t])+1]+1]+1)>p&&(o=p,m++),d[2*i+1]=o,i>n.max_code||(e.bl_count[o]++,s=0,i>=f&&(s=h[i-f]),l=d[2*i],e.opt_len+=l*(o+s),u&&(e.static_len+=l*(u[2*i+1]+s)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--t])>n.max_code||(d[2*r+1]!=o&&(e.opt_len+=(o-d[2*r+1])*d[2*r],d[2*r+1]=o),i--)}}function t(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function i(e,i,n){var r,o,s,l=[],d=0;for(r=1;r<=a;r++)l[r]=d=d+n[r-1]<<1;for(o=0;o<=i;o++)0!==(s=e[2*o+1])&&(e[2*o]=t(l[s]++,s))}var n=this;n.build_tree=function(t){var r,o,s,a=n.dyn_tree,l=n.stat_desc.static_tree,d=n.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=c,r=0;r<d;r++)0!==a[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(s=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[s]=0,t.opt_len--,l&&(t.static_len-=l[2*s+1]);for(n.max_code=u,r=Math.floor(t.heap_len/2);r>=1;r--)t.pqdownheap(a,r);s=d;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*s]=a[2*r]+a[2*o],t.depth[s]=Math.max(t.depth[r],t.depth[o])+1,a[2*r+1]=a[2*o+1]=s,t.heap[1]=s++,t.pqdownheap(a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],e(t),i(a,n.max_code,t.bl_count)}}function i(e,t,i,n,r){var o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=i,o.elems=n,o.max_length=r}function n(e,t,i,n,r){var o=this;o.good_length=e,o.max_lazy=t,o.nice_length=i,o.max_chain=n,o.func=r}function r(e,t,i,n){var r=e[2*t],o=e[2*i];return r<o||r==o&&n[t]<=n[i]}function o(){function e(){var e;for(Oe=2*Se,Me[Ie-1]=0,e=0;e<Ie-1;e++)Me[e]=0;Ye=j[Ve].max_lazy,Xe=j[Ve].good_length,Ze=j[Ve].nice_length,qe=j[Ve].max_chain,$e=0,Le=0,Ue=0,je=We=Q-1,ze=0,Ae=0}function n(){var e;for(e=0;e<h;e++)Ke[2*e]=0;for(e=0;e<l;e++)Qe[2*e]=0;for(e=0;e<d;e++)Je[2*e]=0;Ke[2*f]=1,et.opt_len=et.static_len=0,st=lt=0}function o(){tt.dyn_tree=Ke,tt.stat_desc=i.static_l_desc,it.dyn_tree=Qe,it.stat_desc=i.static_d_desc,nt.dyn_tree=Je,nt.stat_desc=i.static_bl_desc,ut=0,ht=0,dt=8,n()}function s(e,t){var i,n,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),e[2*(t+1)+1]=65535,i=0;i<=t;i++)n=o,o=e[2*(i+1)+1],++s<a&&n==o||(s<l?Je[2*n]+=s:0!==n?(n!=r&&Je[2*n]++,Je[2*p]++):s<=10?Je[2*m]++:Je[2*v]++,s=0,r=n,0===o?(a=138,l=3):n==o?(a=6,l=3):(a=7,l=4))}function a(){var e;for(s(Ke,tt.max_code),s(Qe,it.max_code),nt.build_tree(et),e=d-1;e>=3&&0===Je[2*t.bl_order[e]+1];e--);return et.opt_len+=3*(e+1)+5+5+4,e}function c(e){et.pending_buf[et.pending++]=e}function A(e){c(255&e),c(e>>>8&255)}function te(e){c(e>>8&255),c(255&e)}function ie(e,t){var i,n=t;ht>g-n?(A(ut|=(i=e)<<ht&65535),ut=i>>>g-ht,ht+=n-g):(ut|=e<<ht&65535,ht+=n)}function ne(e,t){var i=2*e;ie(65535&t[i],65535&t[i+1])}function re(e,t){var i,n,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),i=0;i<=t;i++)if(n=o,o=e[2*(i+1)+1],!(++s<a&&n==o)){if(s<l)do{ne(n,Je)}while(0!=--s);else 0!==n?(n!=r&&(ne(n,Je),s--),ne(p,Je),ie(s-3,2)):s<=10?(ne(m,Je),ie(s-3,3)):(ne(v,Je),ie(s-11,7));s=0,r=n,0===o?(a=138,l=3):n==o?(a=6,l=3):(a=7,l=4)}}function oe(e,i,n){var r;for(ie(e-257,5),ie(i-1,5),ie(n-4,4),r=0;r<n;r++)ie(Je[2*t.bl_order[r]+1],3);re(Ke,e-1),re(Qe,i-1)}function se(){16==ht?(A(ut),ut=0,ht=0):ht>=8&&(c(255&ut),ut>>>=8,ht-=8)}function ae(){ie(Z<<1,3),ne(f,i.static_ltree),se(),1+dt+10-ht<9&&(ie(Z<<1,3),ne(f,i.static_ltree),se()),dt=7}function le(e,i){var n,r,o;if(et.pending_buf[at+2*st]=e>>>8&255,et.pending_buf[at+2*st+1]=255&e,et.pending_buf[rt+st]=255&i,st++,0===e?Ke[2*i]++:(lt++,e--,Ke[2*(t._length_code[i]+u+1)]++,Qe[2*t.d_code(e)]++),0==(8191&st)&&Ve>2){for(n=8*st,r=$e-Le,o=0;o<l;o++)n+=Qe[2*o]*(5+t.extra_dbits[o]);if(n>>>=3,lt<Math.floor(st/2)&&n<Math.floor(r/2))return!0}return st==ot-1}function de(e,i){var n,r,o,s,a=0;if(0!==st)do{n=et.pending_buf[at+2*a]<<8&65280|255&et.pending_buf[at+2*a+1],r=255&et.pending_buf[rt+a],a++,0===n?ne(r,e):(ne((o=t._length_code[r])+u+1,e),0!==(s=t.extra_lbits[o])&&ie(r-=t.base_length[o],s),n--,ne(o=t.d_code(n),i),0!==(s=t.extra_dbits[o])&&ie(n-=t.base_dist[o],s))}while(a<st);ne(f,e),dt=e[2*f+1]}function ue(){ht>8?A(ut):ht>0&&c(255&ut),ut=0,ht=0}function he(e,t,i){ue(),dt=8,i&&(A(t),A(~t)),et.pending_buf.set(Ee.subarray(e,e+t),et.pending),et.pending+=t}function ce(e,t,i){ie((X<<1)+(i?1:0),3),he(e,t,!0)}function fe(e,t,r){var o,s,l=0;Ve>0?(tt.build_tree(et),it.build_tree(et),l=a(),o=et.opt_len+3+7>>>3,(s=et.static_len+3+7>>>3)<=o&&(o=s)):o=s=t+5,t+4<=o&&-1!=e?ce(e,t,r):s==o?(ie((Z<<1)+(r?1:0),3),de(i.static_ltree,i.static_dtree)):(ie((K<<1)+(r?1:0),3),oe(tt.max_code+1,it.max_code+1,l+1),de(Ke,Qe)),n(),r&&ue()}function pe(e){fe(Le>=0?Le:-1,$e-Le,e),Le=$e,xe.flush_pending()}function me(){var e,t,i,n;do{if(0===(n=Oe-Ue-$e)&&0===$e&&0===Ue)n=Se;else if(-1==n)n--;else if($e>=Se+Se-ee){Ee.set(Ee.subarray(Se,Se+Se),0),He-=Se,$e-=Se,Le-=Se,i=e=Ie;do{t=65535&Me[--i],Me[i]=t>=Se?t-Se:0}while(0!=--e);i=e=Se;do{t=65535&Pe[--i],Pe[i]=t>=Se?t-Se:0}while(0!=--e);n+=Se}if(0===xe.avail_in)return;e=xe.read_buf(Ee,$e+Ue,n),(Ue+=e)>=Q&&(Ae=255&Ee[$e],Ae=(Ae<<Ne^255&Ee[$e+1])&Re)}while(Ue<ee&&0!==xe.avail_in)}function ve(e){var t,i=65535;for(i>ke-5&&(i=ke-5);;){if(Ue<=1){if(me(),0===Ue&&e==_)return z;if(0===Ue)break}if($e+=Ue,Ue=0,t=Le+i,(0===$e||$e>=t)&&(Ue=$e-t,$e=t,pe(!1),0===xe.avail_out))return z;if($e-Le>=Se-ee&&(pe(!1),0===xe.avail_out))return z}return pe(e==S),0===xe.avail_out?e==S?H:z:e==S?U:$}function ge(e){var t,i,n=qe,r=$e,o=We,s=$e>Se-ee?$e-(Se-ee):0,a=Ze,l=De,d=$e+J,u=Ee[r+o-1],h=Ee[r+o];We>=Xe&&(n>>=2),a>Ue&&(a=Ue);do{if(t=e,Ee[t+o]==h&&Ee[t+o-1]==u&&Ee[t]==Ee[r]&&Ee[++t]==Ee[r+1]){r+=2,t++;do{}while(Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&Ee[++r]==Ee[++t]&&r<d);if(i=J-(d-r),r=d-J,i>o){if(He=e,o=i,i>=a)break;u=Ee[r+o-1],h=Ee[r+o]}}}while((e=65535&Pe[e&l])>s&&0!=--n);return o<=Ue?o:Ue}function ye(e){for(var t,i=0;;){if(Ue<ee){if(me(),Ue<ee&&e==_)return z;if(0===Ue)break}if(Ue>=Q&&(Ae=(Ae<<Ne^255&Ee[$e+(Q-1)])&Re,i=65535&Me[Ae],Pe[$e&De]=Me[Ae],Me[Ae]=$e),0!==i&&($e-i&65535)<=Se-ee&&Ge!=w&&(je=ge(i)),je>=Q)if(t=le($e-He,je-Q),Ue-=je,je<=Ye&&Ue>=Q){je--;do{Ae=(Ae<<Ne^255&Ee[++$e+(Q-1)])&Re,i=65535&Me[Ae],Pe[$e&De]=Me[Ae],Me[Ae]=$e}while(0!=--je);$e++}else $e+=je,je=0,Ae=255&Ee[$e],Ae=(Ae<<Ne^255&Ee[$e+1])&Re;else t=le(0,255&Ee[$e]),Ue--,$e++;if(t&&(pe(!1),0===xe.avail_out))return z}return pe(e==S),0===xe.avail_out?e==S?H:z:e==S?U:$}function be(e){for(var t,i,n=0;;){if(Ue<ee){if(me(),Ue<ee&&e==_)return z;if(0===Ue)break}if(Ue>=Q&&(Ae=(Ae<<Ne^255&Ee[$e+(Q-1)])&Re,n=65535&Me[Ae],Pe[$e&De]=Me[Ae],Me[Ae]=$e),We=je,Be=He,je=Q-1,0!==n&&We<Ye&&($e-n&65535)<=Se-ee&&(Ge!=w&&(je=ge(n)),je<=5&&(Ge==b||je==Q&&$e-He>4096)&&(je=Q-1)),We>=Q&&je<=We){i=$e+Ue-Q,t=le($e-1-Be,We-Q),Ue-=We-1,We-=2;do{++$e<=i&&(Ae=(Ae<<Ne^255&Ee[$e+(Q-1)])&Re,n=65535&Me[Ae],Pe[$e&De]=Me[Ae],Me[Ae]=$e)}while(0!=--We);if(ze=0,je=Q-1,$e++,t&&(pe(!1),0===xe.avail_out))return z}else if(0!==ze){if((t=le(0,255&Ee[$e-1]))&&pe(!1),$e++,Ue--,0===xe.avail_out)return z}else ze=1,$e++,Ue--}return 0!==ze&&(t=le(0,255&Ee[$e-1]),ze=0),pe(e==S),0===xe.avail_out?e==S?H:z:e==S?U:$}function we(t){return t.total_in=t.total_out=0,t.msg=null,et.pending=0,et.pending_out=0,_e=Y,Ce=_,o(),e(),T}var xe,_e,ke,Ce,Se,Te,De,Ee,Oe,Pe,Me,Ae,Ie,Fe,Re,Ne,Le,je,Be,ze,$e,He,Ue,We,qe,Ye,Ve,Ge,Xe,Ze,Ke,Qe,Je,et=this,tt=new t,it=new t,nt=new t;et.depth=[];var rt,ot,st,at,lt,dt,ut,ht;et.bl_count=[],et.heap=[],Ke=[],Qe=[],Je=[],et.pqdownheap=function(e,t){for(var i=et.heap,n=i[t],o=t<<1;o<=et.heap_len&&(o<et.heap_len&&r(e,i[o+1],i[o],et.depth)&&o++,!r(e,n,i[o],et.depth));)i[t]=i[o],t=o,o<<=1;i[t]=n},et.deflateInit=function(e,t,i,n,r,o){return n||(n=G),r||(r=F),o||(o=x),e.msg=null,t==y&&(t=6),r<1||r>I||n!=G||i<9||i>15||t<0||t>9||o<0||o>w?O:(e.dstate=et,Te=i,Se=1<<Te,De=Se-1,Fe=r+7,Ie=1<<Fe,Re=Ie-1,Ne=Math.floor((Fe+Q-1)/Q),Ee=new Uint8Array(2*Se),Pe=[],Me=[],ot=1<<r+6,et.pending_buf=new Uint8Array(4*ot),ke=4*ot,at=Math.floor(ot/2),rt=3*ot,Ve=t,Ge=o,we(e))},et.deflateEnd=function(){return _e!=q&&_e!=Y&&_e!=V?O:(et.pending_buf=null,Me=null,Pe=null,Ee=null,et.dstate=null,_e==Y?P:T)},et.deflateParams=function(e,t,i){var n=T;return t==y&&(t=6),t<0||t>9||i<0||i>w?O:(j[Ve].func!=j[t].func&&0!==e.total_in&&(n=e.deflate(k)),Ve!=t&&(Ye=j[Ve=t].max_lazy,Xe=j[Ve].good_length,Ze=j[Ve].nice_length,qe=j[Ve].max_chain),Ge=i,n)},et.deflateSetDictionary=function(e,t,i){var n,r=i,o=0;if(!t||_e!=q)return O;if(r<Q)return T;for(r>Se-ee&&(o=i-(r=Se-ee)),Ee.set(t.subarray(o,o+r),0),$e=r,Le=r,Ae=255&Ee[0],Ae=(Ae<<Ne^255&Ee[1])&Re,n=0;n<=r-Q;n++)Ae=(Ae<<Ne^255&Ee[n+(Q-1)])&Re,Pe[n&De]=Me[Ae],Me[Ae]=n;return T},et.deflate=function(e,t){var i,n,r,o,s;if(t>S||t<0)return O;if(!e.next_out||!e.next_in&&0!==e.avail_in||_e==V&&t!=S)return e.msg=B[E-O],O;if(0===e.avail_out)return e.msg=B[E-M],M;if(xe=e,o=Ce,Ce=t,_e==q&&(n=G+(Te-8<<4)<<8,(r=(Ve-1&255)>>1)>3&&(r=3),n|=r<<6,0!==$e&&(n|=W),_e=Y,te(n+=31-n%31)),0!==et.pending){if(xe.flush_pending(),0===xe.avail_out)return Ce=-1,T}else if(0===xe.avail_in&&t<=o&&t!=S)return xe.msg=B[E-M],M;if(_e==V&&0!==xe.avail_in)return e.msg=B[E-M],M;if(0!==xe.avail_in||0!==Ue||t!=_&&_e!=V){switch(s=-1,j[Ve].func){case R:s=ve(t);break;case N:s=ye(t);break;case L:s=be(t)}if(s!=H&&s!=U||(_e=V),s==z||s==H)return 0===xe.avail_out&&(Ce=-1),T;if(s==$){if(t==k)ae();else if(ce(0,0,!1),t==C)for(i=0;i<Ie;i++)Me[i]=0;if(xe.flush_pending(),0===xe.avail_out)return Ce=-1,T}}return t!=S?T:D}}function s(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}var a=15,l=30,d=19,u=256,h=u+1+29,c=2*h+1,f=256,p=16,m=17,v=18,g=16,y=-1,b=1,w=2,x=0,_=0,k=1,C=3,S=4,T=0,D=1,E=2,O=-2,P=-3,M=-5,A=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];t._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],t.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],t.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],t.d_code=function(e){return e<256?A[e]:A[256+(e>>>7)]},t.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],t.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],t.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],i.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],i.static_l_desc=new i(i.static_ltree,t.extra_lbits,u+1,h,a),i.static_d_desc=new i(i.static_dtree,t.extra_dbits,0,l,a),i.static_bl_desc=new i(null,t.extra_blbits,0,d,7);var I=9,F=8,R=0,N=1,L=2,j=[new n(0,0,0,0,R),new n(4,4,8,4,N),new n(4,5,16,8,N),new n(4,6,32,32,N),new n(4,4,16,16,L),new n(8,16,32,32,L),new n(8,16,128,128,L),new n(8,32,128,256,L),new n(32,128,258,1024,L),new n(32,258,258,4096,L)],B=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],z=0,$=1,H=2,U=3,W=32,q=42,Y=113,V=666,G=8,X=0,Z=1,K=2,Q=3,J=258,ee=J+Q+1;return s.prototype={deflateInit:function(e,t){var i=this;return i.dstate=new o,t||(t=a),i.dstate.deflateInit(i,e,t)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):O},deflateEnd:function(){var e=this;if(!e.dstate)return O;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var i=this;return i.dstate?i.dstate.deflateParams(i,e,t):O},deflateSetDictionary:function(e,t){var i=this;return i.dstate?i.dstate.deflateSetDictionary(i,e,t):O},read_buf:function(e,t,i){var n=this,r=n.avail_in;return r>i&&(r=i),0===r?0:(n.avail_in-=r,e.set(n.next_in.subarray(n.next_in_index,n.next_in_index+r),t),n.next_in_index+=r,n.total_in+=r,r)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}},function(e){var t=this,i=new s,n=_,r=new Uint8Array(512);void 0===e&&(e=y),i.deflateInit(e),i.next_out=r,t.append=function(e,t){var o,s=[],a=0,l=0,d=0;if(e.length){i.next_in_index=0,i.next_in=e,i.avail_in=e.length;do{if(i.next_out_index=0,i.avail_out=512,i.deflate(n)!=T)throw"deflating: "+i.msg;i.next_out_index&&(512==i.next_out_index?s.push(new Uint8Array(r)):s.push(new Uint8Array(r.subarray(0,i.next_out_index)))),d+=i.next_out_index,t&&i.next_in_index>0&&i.next_in_index!=a&&(t(i.next_in_index),a=i.next_in_index)}while(i.avail_in>0||0===i.avail_out);return o=new Uint8Array(d),s.forEach(function(e){o.set(e,l),l+=e.length}),o}},t.flush=function(){var e,t,n=[],o=0,s=0;do{if(i.next_out_index=0,i.avail_out=512,(e=i.deflate(S))!=D&&e!=T)throw"deflating: "+i.msg;512-i.avail_out>0&&n.push(new Uint8Array(r.subarray(0,i.next_out_index))),s+=i.next_out_index}while(i.avail_in>0||0===i.avail_out);return i.deflateEnd(),t=new Uint8Array(s),n.forEach(function(e){t.set(e,o),o+=e.length}),t}}}();!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.html2canvas=e()}}(function(){return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){(function(e){!function(n){function r(e){throw RangeError(M[e])}function o(e,t){for(var i=e.length;i--;)e[i]=t(e[i]);return e}function s(e,t){return o(e.split(P),t).join(".")}function a(e){for(var t,i,n=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function l(e){return o(e,function(e){var t="";return e>65535&&(t+=F((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=F(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,i){var n=0;for(e=i?I(e/C):e>>1,e+=I(e/t);e>A*_>>1;n+=w)e=I(e/A);return I(n+(A+1)*e/(e+k))}function c(e){var t,i,n,o,s,a,u,c,f,p,m=[],v=e.length,g=0,y=T,k=S;for((i=e.lastIndexOf(D))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&r("not-basic"),m.push(e.charCodeAt(n));for(o=i>0?i+1:0;o<v;){for(s=g,a=1,u=w;o>=v&&r("invalid-input"),((c=d(e.charCodeAt(o++)))>=w||c>I((b-g)/a))&&r("overflow"),g+=c*a,f=u<=k?x:u>=k+_?_:u-k,!(c<f);u+=w)a>I(b/(p=w-f))&&r("overflow"),a*=p;k=h(g-s,t=m.length+1,0==s),I(g/t)>b-y&&r("overflow"),y+=I(g/t),g%=t,m.splice(g++,0,y)}return l(m)}function f(e){var t,i,n,o,s,l,d,c,f,p,m,v,g,y,k,C=[];for(v=(e=a(e)).length,t=T,i=0,s=S,l=0;l<v;++l)(m=e[l])<128&&C.push(F(m));for(n=o=C.length,o&&C.push(D);n<v;){for(d=b,l=0;l<v;++l)(m=e[l])>=t&&m<d&&(d=m);for(d-t>I((b-i)/(g=n+1))&&r("overflow"),i+=(d-t)*g,t=d,l=0;l<v;++l)if((m=e[l])<t&&++i>b&&r("overflow"),m==t){for(c=i,f=w;p=f<=s?x:f>=s+_?_:f-s,!(c<p);f+=w)k=c-p,y=w-p,C.push(F(u(p+k%y,0))),c=I(k/y);C.push(F(u(c,0))),s=h(i,g,n==o),i=0,++n}++i,++t}return C.join("")}var p="object"==typeof i&&i,m="object"==typeof t&&t&&t.exports==p&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v||(n=v);var g,y,b=2147483647,w=36,x=1,_=26,k=38,C=700,S=72,T=128,D="-",E=/^xn--/,O=/[^ -~]/,P=/\x2E|\u3002|\uFF0E|\uFF61/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=w-x,I=Math.floor,F=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:a,encode:l},decode:c,encode:f,toASCII:function(e){return s(e,function(e){return O.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return s(e,function(e){return E.test(e)?c(e.slice(4).toLowerCase()):e})}},p&&!p.nodeType)if(m)m.exports=g;else for(y in g)g.hasOwnProperty(y)&&(p[y]=g[y]);else n.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){function n(e,t,i){!e.defaultView||t===e.defaultView.pageXOffset&&i===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,i)}function r(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(t){a("Unable to copy canvas content from",e,t)}}function o(e,t){for(var i=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),n=e.firstChild;n;)!0!==t&&1===n.nodeType&&"SCRIPT"===n.nodeName||i.appendChild(o(n,t)),n=n.nextSibling;return 1===e.nodeType&&(i._scrollTop=e.scrollTop,i._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?r(e,i):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(i.value=e.value)),i}function s(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)s(t),t=t.nextSibling}}var a=e("./log");t.exports=function(e,t,i,r,a,l,d){var u=o(e.documentElement,a.javascriptEnabled),h=t.createElement("iframe");return h.className="html2canvas-container",h.style.visibility="hidden",h.style.position="fixed",h.style.left="-10000px",h.style.top="0px",h.style.border="0",h.width=i,h.height=r,h.scrolling="no",t.body.appendChild(h),new Promise(function(t){var i=h.contentWindow.document;h.contentWindow.onload=h.onload=function(){var e=setInterval(function(){i.body.childNodes.length>0&&(s(i.documentElement),clearInterval(e),"view"===a.type&&(h.contentWindow.scrollTo(l,d),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||h.contentWindow.scrollY===d&&h.contentWindow.scrollX===l||(i.documentElement.style.top=-d+"px",i.documentElement.style.left=-l+"px",i.documentElement.style.position="absolute")),t(h))},50)},i.open(),i.write("<!DOCTYPE html><html></html>"),n(e,l,d),i.replaceChild(i.adoptNode(u),i.documentElement),i.close()})}},{"./log":13}],3:[function(e,t,i){function n(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){var t=1-e;return new n([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var o=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t=null;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var a=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(e){e=e.toLowerCase();var t=l[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},n.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},{}],4:[function(e,t,i){function n(e,t){var i=_++;if((t=t||{}).logging&&(v.options.logging=!0,v.options.start=Date.now()),t.async=void 0===t.async||t.async,t.allowTaint=void 0!==t.allowTaint&&t.allowTaint,t.removeContainer=void 0===t.removeContainer||t.removeContainer,t.javascriptEnabled=void 0!==t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout=void 0===t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:c,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var n=null!=t.width?t.width:window.innerWidth,s=null!=t.height?t.height:window.innerHeight;return b(u(e),t.proxy,document,n,s,t).then(function(e){return o(e.contentWindow.document.documentElement,e,t,n,s)})}var a=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return a.setAttribute(x+i,i),r(a.ownerDocument,t,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,i).then(function(e){return"function"==typeof t.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function r(e,t,i,n,r){return y(e,e,i,n,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(s){v("Document cloned");var a=x+r,l="["+a+"='"+r+"']";e.querySelector(l).removeAttribute(a);var d=s.contentWindow,u=d.document.querySelector(l);return("function"==typeof t.onclone?Promise.resolve(t.onclone(d.document)):Promise.resolve(!0)).then(function(){return o(u,s,t,i,n)})})}function o(e,t,i,n,r){var o=t.contentWindow,u=new h(o.document),c=new f(i,u),m=w(e),g="view"===i.type?n:l(o.document),y="view"===i.type?r:d(o.document),b=new i.renderer(g,y,c,i,document);return new p(e,b,u,c,i).ready.then(function(){v("Finished rendering");var n;return n="view"===i.type?a(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):e===o.document.body||e===o.document.documentElement||null!=i.canvas?b.canvas:a(b.canvas,{width:null!=i.width?i.width:m.width,height:null!=i.height?i.height:m.height,top:m.top,left:m.left,x:0,y:0}),s(t,i),n})}function s(e,t){t.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function a(e,t){var i=document.createElement("canvas"),n=Math.min(e.width-1,Math.max(0,t.left)),r=Math.min(e.width,Math.max(1,t.left+t.width)),o=Math.min(e.height-1,Math.max(0,t.top)),s=Math.min(e.height,Math.max(1,t.top+t.height));i.width=t.width,i.height=t.height;var a=r-n,l=s-o;return v("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",a,"height:",l),v("Resulting crop with width",t.width,"and height",t.height,"with x",n,"and y",o),i.getContext("2d").drawImage(e,n,o,a,l,t.x,t.y,a,l),i}function l(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function d(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function u(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var h=e("./support"),c=e("./renderers/canvas"),f=e("./imageloader"),p=e("./nodeparser"),m=e("./nodecontainer"),v=e("./log"),g=e("./utils"),y=e("./clone"),b=e("./proxy").loadUrlDocument,w=g.getBounds,x="data-html2canvas-node",_=0;n.CanvasRenderer=c,n.NodeContainer=m,n.log=v,n.utils=g;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:n;t.exports=k},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,i){function n(e){if(this.src=e,r("DummyImageContainer for",e),!this.promise||!this.image){r("Initiating DummyImageContainer"),n.prototype.image=new Image;var t=this.image;n.prototype.promise=new Promise(function(e,i){t.onload=e,t.onerror=i,t.src=o(),!0===t.complete&&e(t)})}}var r=e("./log"),o=e("./utils").smallImage;t.exports=n},{"./log":13,"./utils":26}],6:[function(e,t,i){var n=e("./utils").smallImage;t.exports=function(e,t){var i,r,o=document.createElement("div"),s=document.createElement("img"),a=document.createElement("span");o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),s.src=n(),s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode("Hidden Text")),o.appendChild(a),o.appendChild(s),i=s.offsetTop-a.offsetTop+1,o.removeChild(a),o.appendChild(document.createTextNode("Hidden Text")),o.style.lineHeight="normal",s.style.verticalAlign="super",r=s.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=i,this.lineWidth=1,this.middle=r}},{"./utils":26}],7:[function(e,t,i){function n(){this.data={}}var r=e("./font");n.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new r(e,t)),this.data[e+"-"+t]},t.exports=n},{"./font":6}],8:[function(e,t,i){function n(t,i,n){this.image=null,this.src=t;var o=this,s=r(t);this.promise=(i?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(n.proxy,s,n)).then(function(t){return e("./core")(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(e){return o.image=e})}var r=e("./utils").getBounds,o=e("./proxy").loadUrlDocument;n.prototype.proxyLoad=function(e,t,i){var n=this.src;return o(n.src,e,n.ownerDocument,t.width,t.height,i)},t.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,i){function n(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=n},{}],10:[function(e,t,i){t.exports=function(e,t){this.src=e,this.image=new Image;var i=this;this.tainted=null,this.promise=new Promise(function(n,r){i.image.onload=n,i.image.onerror=r,t&&(i.image.crossOrigin="anonymous"),i.image.src=e,!0===i.image.complete&&n(i.image)})}},{}],11:[function(e,t,i){function n(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var r=e("./log"),o=e("./imagecontainer"),s=e("./dummyimagecontainer"),a=e("./proxyimagecontainer"),l=e("./framecontainer"),d=e("./svgcontainer"),u=e("./svgnodecontainer"),h=e("./lineargradientcontainer"),c=e("./webkitgradientcontainer"),f=e("./utils").bind;n.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.addImage=function(e,t){return function(i){i.args.forEach(function(n){this.imageExists(e,n)||(e.splice(0,0,t.call(this,i)),r("Added image #"+e.length,"string"==typeof n?n.substring(0,100):n))},this)}},n.prototype.hasImageBackground=function(e){return"none"!==e.method},n.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new o(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||!0===this.options.allowTaint||this.isSVG(t)?new o(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(t,!0):this.options.proxy?new a(t,this.options.proxy):new s(t):new d(t)}return"linear-gradient"===e.method?new h(e):"gradient"===e.method?new c(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new s(e)},n.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||d.prototype.isInline(e)},n.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},n.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},n.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},n.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){return new s(e.src).promise.then(function(t){e.image=t})})},n.prototype.get=function(e){var t=null;return this.images.some(function(i){return(t=i).src===e})?t:null},n.prototype.fetch=function(e){return this.images=e.reduce(f(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){r("Succesfully loaded image #"+(t+1),e)},function(i){r("Failed loading image #"+(t+1),e,i)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),r("Finished searching images"),this},n.prototype.timeout=function(e,t){var i,n=Promise.race([e.promise,new Promise(function(n,o){i=setTimeout(function(){r("Timed out loading image",e),o(e)},t)})]).then(function(e){return clearTimeout(i),e});return n.catch(function(){clearTimeout(i)}),n},t.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,i){function n(e){r.apply(this,arguments),this.type=r.TYPES.LINEAR;var t=n.REGEXP_DIRECTION.test(e.args[0])||!r.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var i=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=i;break;case"center":break;default:var r=.01*parseFloat(e,10);if(isNaN(r))break;0===t?(this.y0=r,this.y1=1-this.y0):(this.x0=r,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(r.REGEXP_COLORSTOP),i=+t[2],n=0===i?"%":t[3];return{color:new o(t[1]),stop:"%"===n?i/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(i,n){return null!==i.stop&&(e.stop=(i.stop-this.colorStops[t-1].stop)/(n+1)+this.colorStops[t-1].stop,!0)},this)},this)}var r=e("./gradientcontainer"),o=e("./color");n.prototype=Object.create(r.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,i){var n=function(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},t.exports=n},{}],14:[function(e,t,i){function n(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function o(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function s(e){return-1!==e.toString().indexOf("%")}function a(e){return e.replace("px","")}function l(e){return parseFloat(e)}var d=e("./color"),u=e("./utils"),h=u.getBounds,c=u.parseBackgrounds,f=u.offsetBounds;n.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},n.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],i=this.css(e);return void 0===i&&t.some(function(t){return void 0!==(i=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)))},this),void 0===i?null:i},n.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},n.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},n.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new d(this.css(e)))},n.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},n.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},n.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=c(this.css("backgroundImage")))},n.prototype.cssList=function(e,t){var i=(this.css(e)||"").split(",");return i=i[t||0]||i[0]||"auto",1===(i=i.trim().split(" ")).length&&(i=[i[0],s(i[0])?"auto":i[0]]),i},n.prototype.parseBackgroundSize=function(e,t,i){var n,r,o=this.cssList("backgroundSize",i);if(s(o[0]))n=e.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var a=e.width/e.height,l=t.width/t.height;return a<l^"contain"===o[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}n=parseInt(o[0],10)}return r="auto"===o[0]&&"auto"===o[1]?t.height:"auto"===o[1]?n/t.width*t.height:s(o[1])?e.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(n=r/t.height*t.width),{width:n,height:r}},n.prototype.parseBackgroundPosition=function(e,t,i,n){var r,o,a=this.cssList("backgroundPosition",i);return r=s(a[0])?(e.width-(n||t).width)*(parseFloat(a[0])/100):parseInt(a[0],10),o="auto"===a[1]?r/t.width*t.height:s(a[1])?(e.height-(n||t).height)*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(r=o/t.height*t.width),{left:r,top:o}},n.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},n.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var i=e.match(this.TEXT_SHADOW_PROPERTY),n=0;i&&n<i.length;n++){var r=i[n].match(this.TEXT_SHADOW_VALUES);t.push({color:new d(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return t},n.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(a).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},n.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?o(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t||[1,0,0,1,0,0]}return this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?f(this.node):h(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=r(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("â¢")),0===e.length?this.node.placeholder||"":e},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=n},{"./color":3,"./utils":26}],15:[function(e,t,i){function n(e,t,i,n,r){z("Starting NodeParser"),this.renderer=t,this.options=r,this.range=null,this.support=i,this.renderQueue=[],this.stack=new V(!0,1,e.ownerDocument,null);var o=new H(e,null);if(r.background&&t.rectangle(0,0,t.width,t.height,new Y(r.background)),e===e.ownerDocument.documentElement){var s=new H(o.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,s.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=R([o].concat(this.getChildren(o)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new q,z("Fetched nodes, total:",this.nodes.length),z("Calculate overflow clips"),this.calculateOverflowClips(),z("Start fetching images"),this.images=n.fetch(this.nodes.filter(D)),this.ready=this.images.ready.then(X(function(){return z("Images loaded, starting parsing"),z("Creating stacking contexts"),this.createStackingContexts(),z("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),z("Render queue created with "+this.renderQueue.length+" items"),new Promise(X(function(e){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function r(e){return e.parent&&e.parent.clip.length}function o(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function s(){}function a(e,t,i,n){return e.map(function(r,o){if(r.width>0){var s=t.left,a=t.top,l=t.width,d=t.height-e[2].width;switch(o){case 0:d=e[0].width,r.args=h({c1:[s,a],c2:[s+l,a],c3:[s+l-e[1].width,a+d],c4:[s+e[3].width,a+d]},n[0],n[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:s=t.left+t.width-e[1].width,l=e[1].width,r.args=h({c1:[s+l,a],c2:[s+l,a+d+e[2].width],c3:[s,a+d],c4:[s,a+e[0].width]},n[1],n[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:a=a+t.height-e[2].width,d=e[2].width,r.args=h({c1:[s+l,a+d],c2:[s,a+d],c3:[s+e[3].width,a],c4:[s+l-e[3].width,a]},n[2],n[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:l=e[3].width,r.args=h({c1:[s,a+d+e[2].width],c2:[s,a],c3:[s+l,a+e[0].width],c4:[s+l,a+d]},n[3],n[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return r})}function l(e,t,i,n){var r=(Math.sqrt(2)-1)/3*4,o=i*r,s=n*r,a=e+i,l=t+n;return{topLeft:u({x:e,y:l},{x:e,y:l-s},{x:a-o,y:t},{x:a,y:t}),topRight:u({x:e,y:t},{x:e+o,y:t},{x:a,y:l-s},{x:a,y:l}),bottomRight:u({x:a,y:t},{x:a,y:t+s},{x:e+o,y:l},{x:e,y:l}),bottomLeft:u({x:a,y:l},{x:a-o,y:l},{x:e,y:t+s},{x:e,y:t})}}function d(e,t,i){var n=e.left,r=e.top,o=e.width,s=e.height,a=t[0][0]<o/2?t[0][0]:o/2,d=t[0][1]<s/2?t[0][1]:s/2,u=t[1][0]<o/2?t[1][0]:o/2,h=t[1][1]<s/2?t[1][1]:s/2,c=t[2][0]<o/2?t[2][0]:o/2,f=t[2][1]<s/2?t[2][1]:s/2,p=t[3][0]<o/2?t[3][0]:o/2,m=t[3][1]<s/2?t[3][1]:s/2,v=o-u,g=s-f,y=o-c,b=s-m;return{topLeftOuter:l(n,r,a,d).topLeft.subdivide(.5),topLeftInner:l(n+i[3].width,r+i[0].width,Math.max(0,a-i[3].width),Math.max(0,d-i[0].width)).topLeft.subdivide(.5),topRightOuter:l(n+v,r,u,h).topRight.subdivide(.5),topRightInner:l(n+Math.min(v,o+i[3].width),r+i[0].width,v>o+i[3].width?0:u-i[3].width,h-i[0].width).topRight.subdivide(.5),bottomRightOuter:l(n+y,r+g,c,f).bottomRight.subdivide(.5),bottomRightInner:l(n+Math.min(y,o-i[3].width),r+Math.min(g,s+i[0].width),Math.max(0,c-i[1].width),f-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(n,r+b,p,m).bottomLeft.subdivide(.5),bottomLeftInner:l(n+i[3].width,r+b,Math.max(0,p-i[3].width),m-i[2].width).bottomLeft.subdivide(.5)}}function u(e,t,i,n){var r=function(e,t,i){return{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}};return{start:e,startControl:t,endControl:i,end:n,subdivide:function(o){var s=r(e,t,o),a=r(t,i,o),l=r(i,n,o),d=r(s,a,o),h=r(a,l,o),c=r(d,h,o);return[u(e,s,d,c),u(c,h,l,n)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,i.x,i.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",i.x,i.y,t.x,t.y,e.x,e.y])}}}function h(e,t,i,n,r,o,s){var a=[];return t[0]>0||t[1]>0?(a.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(a)):a.push(["line",e.c1[0],e.c1[1]]),i[0]>0||i[1]>0?(a.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(a),a.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(a)):(a.push(["line",e.c2[0],e.c2[1]]),a.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(a.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(a)):a.push(["line",e.c4[0],e.c4[1]]),a}function c(e,t,i,n,r,o,s){t[0]>0||t[1]>0?(e.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(e),n[1].curveTo(e)):e.push(["line",o,s]),(i[0]>0||i[1]>0)&&e.push(["line",r[0].start.x,r[0].start.y])}function f(e){return e.cssInt("zIndex")<0}function p(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function v(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function g(e){return e instanceof V}function y(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function w(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var i=e.css("border"+t+"Radius").split(" ");return i.length<=1&&(i[1]=i[0]),i.map(A)})}function x(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function _(e){var t=e.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(t)?e.css("zIndex"):"auto")}function k(e){return"static"!==e.css("position")}function C(e){return"none"!==e.css("float")}function S(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function T(e){var t=this;return function(){return!e.apply(t,arguments)}}function D(e){return e.node.nodeType===Node.ELEMENT_NODE}function E(e){return!0===e.isPseudoElement}function O(e){return e.node.nodeType===Node.TEXT_NODE}function P(e){return function(t,i){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(i.cssInt("zIndex")+e.indexOf(i)/e.length)}}function M(e){return e.getOpacity()<1}function A(e){return parseInt(e,10)}function I(e){return e.width}function F(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function R(e){return[].concat.apply([],e)}function N(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function L(e){for(var t,i=[],n=0,r=!1;e.length;)j(e[n])===r?((t=e.splice(0,n)).length&&i.push($.ucs2.encode(t)),r=!r,n=0):n++,n>=e.length&&(t=e.splice(0,n)).length&&i.push($.ucs2.encode(t));return i}function j(e){return-1!==[32,13,10,9,45].indexOf(e)}function B(e){return/[^\u0000-\u00ff]/.test(e)}var z=e("./log"),$=e("punycode"),H=e("./nodecontainer"),U=e("./textcontainer"),W=e("./pseudoelementcontainer"),q=e("./fontmetrics"),Y=e("./color"),V=e("./stackingcontext"),G=e("./utils"),X=G.bind,Z=G.getBounds,K=G.parseBackgrounds,Q=G.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(D(e)){E(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],i=e.parseClip();i&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+i.left,e.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),e.clip=r(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,E(e)&&e.cleanDOM()}else O(e)&&(e.clip=r(e)?e.parent.clip:[]);E(e)||(e.bounds=null)},this)},n.prototype.asyncRenderer=function(e,t,i){i=i||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():i+20>Date.now()?this.asyncRenderer(e,t,i):setTimeout(X(function(){this.asyncRenderer(e,t)},this),0)},n.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(e,t){var i=e.createElement("style");i.innerHTML=t,e.body.appendChild(i)},n.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(e,":before"),n=this.getPseudoElement(e,":after");i&&t.push(i),n&&t.push(n)}return R(t)},n.prototype.getPseudoElement=function(e,t){var i=e.computedStyle(t);if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null;for(var n=N(i.content),r="url"===n.substr(0,3),s=document.createElement(r?"img":"html2canvaspseudoelement"),a=new W(s,e,t),l=i.length-1;l>=0;l--){var d=o(i.item(l));s.style[d]=i[d]}if(s.className=W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return s.src=K(n)[0].args[0],[a];var u=document.createTextNode(n);return s.appendChild(u),[a,new U(u,a)]},n.prototype.getChildren=function(e){return R([].filter.call(e.node.childNodes,x).map(function(t){var i=[t.nodeType===Node.TEXT_NODE?new U(t,e):new H(t,e)].filter(F);return t.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==t.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},n.prototype.newStackingContext=function(e,t){var i=new V(t,e.getOpacity(),e.node,e.parent);e.cloneTo(i),(t?i.getParentStack(this):i.parent.stack).contexts.push(i),e.stack=i},n.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){D(e)&&(this.isRootElement(e)||M(e)||_(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):D(e)&&(k(e)&&m(e)||S(e)||C(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},n.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(e){return null===e.parent},n.prototype.sortStackingContexts=function(e){e.contexts.sort(P(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(e){return function(t,i,n){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var r=n.slice(0,i).join("").length;return this.getRangeBounds(e.node,r,t.length)}if(e.node&&"string"==typeof e.node.data){var o=e.node.splitText(t.length),s=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=o,s}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},n.prototype.getWrapperBounds=function(e,t){var i=e.ownerDocument.createElement("html2canvaswrapper"),n=e.parentNode,r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);var o=t?Q(i):Z(i);return n.replaceChild(r,i),o},n.prototype.getRangeBounds=function(e,t,i){var n=this.range||(this.range=e.ownerDocument.createRange());return n.setStart(e,t),n.setEnd(e,t+i),n.getBoundingClientRect()},n.prototype.parse=function(e){var t=e.contexts.filter(f),i=e.children.filter(D),n=i.filter(T(C)),r=n.filter(T(k)).filter(T(v)),o=i.filter(T(k)).filter(C),a=n.filter(T(k)).filter(v),l=e.contexts.concat(n.filter(k)).filter(m),d=e.children.filter(O).filter(y),u=e.contexts.filter(p);t.concat(r).concat(o).concat(a).concat(l).concat(d).concat(u).forEach(function(e){this.renderQueue.push(e),g(e)&&(this.parse(e),this.renderQueue.push(new s))},this)},n.prototype.paint=function(e){try{e instanceof s?this.renderer.ctx.restore():O(e)?(E(e.parent)&&e.parent.appendToDOM(),this.paintText(e),E(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(z(e),this.options.strict)throw e}},n.prototype.paintNode=function(e){g(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},n.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(I))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(e.node);i?this.renderer.renderImage(e,t,e.borders,i):z("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var n=this.images.get(e.node.src);n?this.renderer.renderImage(e,t,e.borders,n):z("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},n.prototype.paintCheckbox=function(e){var t=e.parseBounds(),i=Math.min(t.width,t.height),n={width:i-1,height:i-1,top:t.top,left:t.left},r=[3,3],o=[r,r,r,r],s=[1,1,1,1].map(function(e){return{color:new Y("#A5A5A5"),width:e}}),l=d(n,o,s);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new Y("#DEDEDE")),this.renderer.renderBorders(a(s,n,l,o)),e.node.checked&&(this.renderer.font(new Y("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("â",n.left+i/6,n.top+i-1))},this)},n.prototype.paintRadio=function(e){var t=e.parseBounds(),i=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,i,new Y("#DEDEDE"),1,new Y("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+i/4)+1,Math.ceil(t.top+i/4)+1,Math.floor(i/2),new Y("#424242"))},this)},n.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var i=e.node.ownerDocument,n=i.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(t){try{n.style[t]=e.css(t)}catch(e){z("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var r=e.parseBounds();n.style.position="fixed",n.style.left=r.left+"px",n.style.top=r.top+"px",n.textContent=t,i.body.appendChild(n),this.paintText(new U(n.firstChild,e)),i.body.removeChild(n)}},n.prototype.paintText=function(e){e.applyTextTransform();var t=$.ucs2.decode(e.node.data),i=this.options.letterRendering&&!b(e)||B(e.node.data)?t.map(function(e){return $.ucs2.encode([e])}):L(t),n=e.parent.fontWeight(),r=e.parent.css("fontSize"),o=e.parent.css("fontFamily"),s=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),n,r,o),s.length?this.renderer.fontShadow(s[0].color,s[0].offsetX,s[0].offsetY,s[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){i.map(this.parseTextBounds(e),this).forEach(function(t,n){t&&(this.renderer.text(i[n],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(o,r)))},this)},this)},n.prototype.renderTextDecoration=function(e,t,i){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+i.baseline+i.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+i.middle+i.lineWidth),t.width,1,e.color("color"))}};var J={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(e){var t=e.parseBounds(),i=w(e),n=["Top","Right","Bottom","Left"].map(function(t,i){var n=e.css("border"+t+"Style"),r=e.color("border"+t+"Color");"inset"===n&&r.isBlack()&&(r=new Y([255,255,255,r.a]));var o=J[n]?J[n][i]:null;return{width:e.cssInt("border"+t+"Width"),color:o?r[o[0]](o[1]):r,args:null}}),r=d(t,i,n);return{clip:this.parseBackgroundClip(e,r,n,i,t),borders:a(n,t,r,i)}},n.prototype.parseBackgroundClip=function(e,t,i,n,r){var o=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":c(o,n[0],n[1],t.topLeftInner,t.topRightInner,r.left+i[3].width,r.top+i[0].width),c(o,n[1],n[2],t.topRightInner,t.bottomRightInner,r.left+r.width-i[1].width,r.top+i[0].width),c(o,n[2],n[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-i[1].width,r.top+r.height-i[2].width),c(o,n[3],n[0],t.bottomLeftInner,t.topLeftInner,r.left+i[3].width,r.top+r.height-i[2].width);break;default:c(o,n[0],n[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),c(o,n[1],n[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),c(o,n[2],n[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),c(o,n[3],n[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return o},t.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,i){function n(e,t,i){var n="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var a=o(n),d=s(t,e,a);return n?l(d):r(i,d,a).then(function(e){return c(e.content)})}function r(e,t,i){return new Promise(function(n,r){var o=e.createElement("script"),s=function(){delete window.html2canvas.proxy[i],e.body.removeChild(o)};window.html2canvas.proxy[i]=function(e){s(),n(e)},o.src=t,o.onerror=function(e){s(),r(e)},e.body.appendChild(o)})}function o(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++f+"_"+Math.round(1e5*Math.random())}function s(e,t,i){return e+"?url="+encodeURIComponent(t)+(i.length?"&callback=html2canvas.proxy."+i:"")}function a(e){return function(t){var i,n=new DOMParser;try{i=n.parseFromString(t,"text/html")}catch(e){u("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("");try{i.open(),i.write(t),i.close()}catch(e){u("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=t}}var r=i.querySelector("base");if(!r||!r.href.host){var o=i.createElement("base");o.href=e,i.head.insertBefore(o,i.head.firstChild)}return i}}var l=e("./xhr"),d=e("./utils"),u=e("./log"),h=e("./clone"),c=d.decode64,f=0;i.Proxy=n,i.ProxyURL=function(e,t,i){var n="crossOrigin"in new Image,a=o(n),l=s(t,e,a);return n?Promise.resolve(l):r(i,l,a).then(function(e){return"data:"+e.type+";base64,"+e.content})},i.loadUrlDocument=function(e,t,i,r,o,s){return new n(e,t,window.document).then(a(e)).then(function(e){return h(e,i,r,o,s,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,i){var n=e("./proxy").ProxyURL;t.exports=function(e,t){var i=document.createElement("a");i.href=e,e=i.href,this.src=e,this.image=new Image;var r=this;this.promise=new Promise(function(i,o){r.image.crossOrigin="Anonymous",r.image.onload=i,r.image.onerror=o,new n(e,t,document).then(function(e){r.image.src=e}).catch(o)})}},{"./proxy":16}],18:[function(e,t,i){function n(e,t,i){r.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===i}var r=e("./nodecontainer");n.prototype.cloneTo=function(e){n.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},(n.prototype=Object.create(r.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=n},{"./nodecontainer":14}],19:[function(e,t,i){function n(e,t,i,n,r){this.width=e,this.height=t,this.images=i,this.options=n,this.document=r}var r=e("./log");n.prototype.renderImage=function(e,t,i,n){var r=e.cssInt("paddingLeft"),o=e.cssInt("paddingTop"),s=e.cssInt("paddingRight"),a=e.cssInt("paddingBottom"),l=i.borders,d=t.width-(l[1].width+l[3].width+r+s),u=t.height-(l[0].width+l[2].width+o+a);this.drawImage(n,0,0,n.image.width||d,n.image.height||u,t.left+r+l[3].width,t.top+o+l[0].width,d,u)},n.prototype.renderBackground=function(e,t,i){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,i))},n.prototype.renderBackgroundColor=function(e,t){var i=e.color("backgroundColor");i.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,i)},n.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},n.prototype.renderBackgroundImage=function(e,t,i){e.parseBackgroundImages().reverse().forEach(function(n,o,s){switch(n.method){case"url":var a=this.images.get(n.args[0]);a?this.renderBackgroundRepeating(e,t,a,s.length-(o+1),i):r("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(n.value);l?this.renderBackgroundGradient(l,t,i):r("Error loading background-image",n.args[0]);break;case"none":break;default:r("Unknown background-image type",n.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(e,t,i,n,r){var o=e.parseBackgroundSize(t,i.image,n),s=e.parseBackgroundPosition(t,i.image,n,o);switch(e.parseBackgroundRepeat(n)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,s,o,t,t.left+r[3],t.top+s.top+r[0],99999,o.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,s,o,t,t.left+s.left+r[3],t.top+r[0],o.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(i,s,o,t,t.left+s.left+r[3],t.top+s.top+r[0],o.width,o.height,r);break;default:this.renderBackgroundRepeat(i,s,o,{top:t.top,left:t.left},r[3],r[0])}},t.exports=n},{"./log":13}],20:[function(e,t,i){function n(e,t){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},a("Initialized CanvasRenderer with size",e,"x",t)}function r(e){return e.length>0}var o=e("../renderer"),s=e("../lineargradientcontainer"),a=e("../log");(n.prototype=Object.create(o.prototype)).setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},n.prototype.rectangle=function(e,t,i,n,r){this.setFillStyle(r).fillRect(e,t,i,n)},n.prototype.circle=function(e,t,i,n){this.setFillStyle(n),this.ctx.beginPath(),this.ctx.arc(e+i/2,t+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(e,t,i,n,r,o){this.circle(e,t,i,n),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},n.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},n.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},n.prototype.drawImage=function(e,t,i,n,r,o,s,a,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,i,n,r,o,s,a,l)},n.prototype.clip=function(e,t,i){this.ctx.save(),e.filter(r).forEach(function(e){this.shape(e).clip()},this),t.call(i),this.ctx.restore()},n.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},n.prototype.font=function(e,t,i,n,r,o){this.setFillStyle(e).font=[t,i,n,r,o].join(" ").split(",")[0]},n.prototype.fontShadow=function(e,t,i,n){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",i).setVariable("shadowBlur",n)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},n.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},n.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},n.prototype.text=function(e,t,i){this.ctx.fillText(e,t,i)},n.prototype.backgroundRepeatShape=function(e,t,i,n,r,o,s,a,l){var d=[["line",Math.round(r),Math.round(o)],["line",Math.round(r+s),Math.round(o)],["line",Math.round(r+s),Math.round(a+o)],["line",Math.round(r),Math.round(a+o)]];this.clip([d],function(){this.renderBackgroundRepeat(e,t,i,n,l[3],l[0])},this)},n.prototype.renderBackgroundRepeat=function(e,t,i,n,r,o){var s=Math.round(n.left+t.left+r),a=Math.round(n.top+t.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,i),"repeat")),this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},n.prototype.renderBackgroundGradient=function(e,t){if(e instanceof s){var i=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){i.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,i)}},n.prototype.resizeImage=function(e,t){var i=e.image;if(i.width===t.width&&i.height===t.height)return i;var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height),n},t.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,i){function n(e,t,i,n){r.call(this,i,n),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var r=e("./nodecontainer");(n.prototype=Object.create(r.prototype)).getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=n},{"./nodecontainer":14}],22:[function(e,t,i){function n(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,i,n=!1;return e.createRange&&(t=e.createRange()).getBoundingClientRect&&((i=e.createElement("boundtest")).style.height="123px",i.style.display="block",e.body.appendChild(i),t.selectNode(i),123===t.getBoundingClientRect().height&&(n=!0),e.body.removeChild(i)),n},n.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},n.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),i=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=n},{}],23:[function(e,t,i){function n(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):r(e)}).then(function(e){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,i))})})}var r=e("./xhr"),o=e("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},n.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},n.prototype.createCanvas=function(e){var t=this;return function(i,n){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=r.lowerCanvasEl,r.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,n)).renderAll(),e(r.lowerCanvasEl)}},n.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):o(e)},t.exports=n},{"./utils":26,"./xhr":28}],24:[function(e,t,i){function n(e,t){this.src=e,this.image=null;var i=this;this.promise=t?new Promise(function(t,n){i.image=new Image,i.image.onload=t,i.image.onerror=n,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),!0===i.image.complete&&t(i.image)}):this.hasFabric().then(function(){return new Promise(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,i.createCanvas.call(i,t))})})}var r=e("./svgcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./svgcontainer":23}],25:[function(e,t,i){function n(e,t){o.call(this,e,t)}function r(e,t,i){if(e.length>0)return t+i.toUpperCase()}var o=e("./nodecontainer");(n.prototype=Object.create(o.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return t.toUpperCase();default:return t}},t.exports=n},{"./nodecontainer":14}],26:[function(e,t,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(e,t){return function(){return e.apply(t,arguments)}},i.decode64=function(e){var t,i,n,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=e.length,u="";for(t=0;t<d;t+=4)o=l.indexOf(e[t])<<2|(i=l.indexOf(e[t+1]))>>4,s=(15&i)<<4|(n=l.indexOf(e[t+2]))>>2,a=(3&n)<<6|(r=l.indexOf(e[t+3])),u+=64===n?String.fromCharCode(o):64===r||-1===r?String.fromCharCode(o,s):String.fromCharCode(o,s,a);return u},i.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+i,left:t.left,width:i,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},i.offsetBounds=function(e){var t=e.offsetParent?i.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},i.parseBackgrounds=function(e){var t,i,n,r,o,s,a,l=[],d=0,u=0,h=function(){t&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&a.push(i),"-"===t.substr(0,1)&&(r=t.indexOf("-",1)+1)>0&&(n=t.substr(0,r),t=t.substr(r)),l.push({prefix:n,method:t.toLowerCase(),value:o,args:a,image:null})),a=[],t=n=i=o=""};return a=[],t=n=i=o="",e.split("").forEach(function(e){if(!(0===d&&" \r\n\t".indexOf(e)>-1)){switch(e){case'"':s?s===e&&(s=null):s=e;break;case"(":if(s)break;if(0===d)return d=1,void(o+=e);u++;break;case")":if(s)break;if(1===d){if(0===u)return d=0,o+=e,void h();u--}break;case",":if(s)break;if(0===d)return void h();if(1===d&&0===u&&!t.match(/^url$/i))return a.push(i),i="",void(o+=e)}o+=e,0===d?t+=e:i+=e}}),h(),l}},{}],27:[function(e,t,i){function n(e){r.apply(this,arguments),this.type="linear"===e.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}var r=e("./gradientcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./gradientcontainer":9}],28:[function(e,t,i){t.exports=function(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){200===n.status?t(n.responseText):i(new Error(n.statusText))},n.onerror=function(){i(new Error("Network Error"))},n.send()})}},{}]},{},[4])(4)}),function(e){var t;t=function(){function t(e){var t,i,n,r,o,s,a,l,d,u,h,c,f,p,m;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],a=e=0;e<4;a=++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),r=this.readUInt16()||100,s.delay=1e3*o/r,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,a=f=0;0<=t?f<t:f>t;a=0<=t?++f:--f)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((h=n-this.transparency.indexed.length)>0)for(a=p=0;0<=h?p<h:p>h;a=0<=h?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":l=(c=this.read(t)).indexOf(0),d=String.fromCharCode.apply(String,c.slice(0,l)),this.text[d]=String.fromCharCode.apply(String,c.slice(l+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,i=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*i,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var i,n,r;t.load=function(e,i,n){var r;return"function"==typeof i&&(n=i),(r=new XMLHttpRequest).open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e,o;return e=new Uint8Array(r.response||r.mozResponseArrayBuffer),o=new t(e),"function"==typeof(null!=i?i.getContext:void 0)&&o.render(i),"function"==typeof n?n(o):void 0},r.send(null)},t.prototype.read=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)i.push(this.data[this.pos++]);return i},t.prototype.readUInt32=function(){var e,t,i,n;return e=this.data[this.pos++]<<24,t=this.data[this.pos++]<<16,i=this.data[this.pos++]<<8,n=this.data[this.pos++],e|t|i|n},t.prototype.readUInt16=function(){var e,t;return e=this.data[this.pos++]<<8,t=this.data[this.pos++],e|t},t.prototype.decodePixels=function(e){var t,i,n,r,o,s,l,d,u,h,c,f,p,m,v,g,y,b,w,x,_,k,C;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);for(e=(e=new a(e)).getBytes(),g=(f=this.pixelBitlength/8)*this.width,p=new Uint8Array(g*this.height),s=e.length,v=0,m=0,i=0;m<s;){switch(e[m++]){case 0:for(r=w=0;w<g;r=w+=1)p[i++]=e[m++];break;case 1:for(r=x=0;x<g;r=x+=1)t=e[m++],o=r<f?0:p[i-f],p[i++]=(t+o)%256;break;case 2:for(r=_=0;_<g;r=_+=1)t=e[m++],n=(r-r%f)/f,y=v&&p[(v-1)*g+n*f+r%f],p[i++]=(y+t)%256;break;case 3:for(r=k=0;k<g;r=k+=1)t=e[m++],n=(r-r%f)/f,o=r<f?0:p[i-f],y=v&&p[(v-1)*g+n*f+r%f],p[i++]=(t+Math.floor((o+y)/2))%256;break;case 4:for(r=C=0;C<g;r=C+=1)t=e[m++],n=(r-r%f)/f,o=r<f?0:p[i-f],0===v?y=b=0:(y=p[(v-1)*g+n*f+r%f],b=n&&p[(v-1)*g+(n-1)*f+r%f]),l=o+y-b,d=Math.abs(l-o),h=Math.abs(l-y),c=Math.abs(l-b),u=d<=h&&d<=c?o:h<=c?y:b,p[i++]=(t+u)%256;break;default:throw new Error("Invalid filter algorithm: "+e[m-1])}v++}return p},t.prototype.decodePalette=function(){var e,t,i,n,r,o,s,a,l;for(i=this.palette,o=this.transparency.indexed||[],r=new Uint8Array((o.length||0)+i.length),n=0,e=0,t=s=0,a=i.length;s<a;t=s+=3)r[n++]=i[t],r[n++]=i[t+1],r[n++]=i[t+2],r[n++]=null!=(l=o[e++])?l:255;return r},t.prototype.copyToImageData=function(e,t){var i,n,r,o,s,a,l,d,u,h,c;if(n=this.colors,u=null,i=this.hasAlphaChannel,this.palette.length&&(u=null!=(c=this._decodedPalette)?c:this._decodedPalette=this.decodePalette(),n=4,i=!0),r=e.data||e,d=r.length,s=u||t,o=a=0,1===n)for(;o<d;)l=u?4*t[o/4]:a,h=s[l++],r[o++]=h,r[o++]=h,r[o++]=h,r[o++]=i?s[l++]:255,a=l;else for(;o<d;)l=u?4*t[o/4]:a,r[o++]=s[l++],r[o++]=s[l++],r[o++]=s[l++],r[o++]=i?s[l++]:255,a=l},t.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};try{n=e.document.createElement("canvas"),r=n.getContext("2d")}catch(e){return-1}return i=function(e){var t;return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),t=new Image,t.src=n.toDataURL(),t},t.prototype.decodeFrames=function(e){var t,n,r,o,s,a,l,d;if(this.animation){for(d=[],n=s=0,a=(l=this.animation.frames).length;s<a;n=++s)t=l[n],r=e.createImageData(t.width,t.height),o=this.decodePixels(new Uint8Array(t.data)),this.copyToImageData(r,o),t.imageData=r,d.push(t.image=i(r));return d}},t.prototype.renderFrame=function(e,t){var i,n,r;return n=this.animation.frames,i=n[t],r=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=r?r.disposeOp:void 0)?e.clearRect(r.xOffset,r.yOffset,r.width,r.height):2===(null!=r?r.disposeOp:void 0)&&e.putImageData(r.imageData,r.xOffset,r.yOffset),0===i.blendOp&&e.clearRect(i.xOffset,i.yOffset,i.width,i.height),e.drawImage(i.image,i.xOffset,i.yOffset)},t.prototype.animate=function(e){var t,i,n,r,o,s,a=this;return i=0,s=this.animation,r=s.numFrames,n=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=i++%r,l=n[s],a.renderFrame(e,s),r>1&&i/r<o)return a.animation._timeout=setTimeout(t,l.delay)})()},t.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},t.prototype.render=function(e){var t,i;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(i=t.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),t.putImageData(i,0,0))},t}(),e.PNG=t}("undefined"!=typeof window&&window||void 0);var s=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,i=t?t.byteLength:0;if(e<i)return t;for(var n=512;n<e;)n<<=1;for(var r=new Uint8Array(n),o=0;o<i;++o)r[o]=t[o];return this.buffer=r},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();var n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,i){for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,i)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),a=function(){function e(e){throw new Error(e)}function t(t){var i=0,n=t[i++],r=t[i++];-1!=n&&-1!=r||e("Invalid header in flate stream"),8!=(15&n)&&e("Unknown compression method in flate stream"),((n<<8)+r)%31!=0&&e("Bad FCHECK in flate stream"),32&r&&e("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=i,this.codeSize=0,this.codeBuf=0,s.call(this)}if("undefined"!=typeof Uint32Array){var i=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return t.prototype=Object.create(s.prototype),t.prototype.getBits=function(t){for(var i,n=this.codeSize,r=this.codeBuf,o=this.bytes,s=this.bytesPos;n<t;)void 0===(i=o[s++])&&e("Bad encoding in flate stream"),r|=i<<n,n+=8;return i=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=n-=t,this.bytesPos=s,i},t.prototype.getCode=function(t){for(var i=t[0],n=t[1],r=this.codeSize,o=this.codeBuf,s=this.bytes,a=this.bytesPos;r<n;){var l;void 0===(l=s[a++])&&e("Bad encoding in flate stream"),o|=l<<r,r+=8}var d=i[o&(1<<n)-1],u=d>>16,h=65535&d;return(0==r||r<u||0==u)&&e("Bad encoding in flate stream"),this.codeBuf=o>>u,this.codeSize=r-u,this.bytesPos=a,h},t.prototype.generateHuffmanTable=function(e){for(var t=e.length,i=0,n=0;n<t;++n)e[n]>i&&(i=e[n]);for(var r=1<<i,o=new Uint32Array(r),s=1,a=0,l=2;s<=i;++s,a<<=1,l<<=1)for(var d=0;d<t;++d)if(e[d]==s){for(var u=0,h=a,n=0;n<s;++n)u=u<<1|1&h,h>>=1;for(n=u;n<r;n+=l)o[n]=s<<16|d;++a}return[o,i]},t.prototype.readBlock=function(){function t(e,t,i,n,r){for(var o=e.getBits(i)+n;o-- >0;)t[p++]=r}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var l,d;if(1==s)l=o,d=a;else if(2==s){for(var u=this.getBits(5)+257,h=this.getBits(5)+1,c=this.getBits(4)+4,f=Array(i.length),p=0;p<c;)f[i[p++]]=this.getBits(3);for(var m=this.generateHuffmanTable(f),v=0,p=0,g=u+h,y=new Array(g);p<g;){var b=this.getCode(m);16==b?t(this,y,2,3,v):17==b?t(this,y,3,3,v=0):18==b?t(this,y,7,11,v=0):y[p++]=v=b}l=this.generateHuffmanTable(y.slice(0,u)),d=this.generateHuffmanTable(y.slice(u,g))}else e("Unknown block type in flate stream");for(var w=(A=this.buffer)?A.length:0,x=this.bufferLength;;){var _=this.getCode(l);if(_<256)x+1>=w&&(w=(A=this.ensureBuffer(x+1)).length),A[x++]=_;else{if(256==_)return void(this.bufferLength=x);var k=(_=n[_-=257])>>16;k>0&&(k=this.getBits(k));v=(65535&_)+k;_=this.getCode(d),(k=(_=r[_])>>16)>0&&(k=this.getBits(k));var C=(65535&_)+k;x+v>=w&&(w=(A=this.ensureBuffer(x+v)).length);for(var S=0;S<v;++S,++x)A[x]=A[x-C]}}}else{var T,D=this.bytes,E=this.bytesPos;void 0===(T=D[E++])&&e("Bad block header in flate stream");var O=T;void 0===(T=D[E++])&&e("Bad block header in flate stream"),O|=T<<8,void 0===(T=D[E++])&&e("Bad block header in flate stream");var P=T;void 0===(T=D[E++])&&e("Bad block header in flate stream"),(P|=T<<8)!=(65535&~O)&&e("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var M=this.bufferLength,A=this.ensureBuffer(M+O),I=M+O;this.bufferLength=I;for(var F=M;F<I;++F){if(void 0===(T=D[E++])){this.eof=!0;break}A[F]=T}this.bytesPos=E}},t}}();return function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(e){var i,n,r,o,s,a=0,l=0,d="",u=[];if(!e)return e;do{i=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=s>>12&63,r=s>>6&63,o=63&s,u[l++]=t.charAt(i)+t.charAt(n)+t.charAt(r)+t.charAt(o)}while(a<e.length);d=u.join("");var h=e.length%3;return(h?d.slice(0,h-3):d)+"===".slice(h||3)}),void 0===e.atob&&(e.atob=function(e){var i,n,r,o,s,a,l=0,d=0,u=[];if(!e)return e;e+="";do{i=(a=t.indexOf(e.charAt(l++))<<18|t.indexOf(e.charAt(l++))<<12|(o=t.indexOf(e.charAt(l++)))<<6|(s=t.indexOf(e.charAt(l++))))>>16&255,n=a>>8&255,r=255&a,u[d++]=64==o?String.fromCharCode(i):64==s?String.fromCharCode(i,n):String.fromCharCode(i,n,r)}while(l<e.length);return u.join("")}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),i=t.length>>>0,n=new Array(i),r=arguments.length>1?arguments[1]:void 0,o=0;o<i;o++)o in t&&(n[o]=e.call(r,t[o],o,t));return n}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var i=Object(this),n=i.length>>>0,r=0;r<n;r++)r in i&&e.call(t,i[r],r,i)}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError;var o,s,a=[];for(o in r)e.call(r,o)&&a.push(o);if(t)for(s=0;s<n;s++)e.call(r,i[s])&&a.push(i[s]);return a}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0),t});if(typeof window==="object")window.jspdfAutoTableVersion="2.3.2";(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i(require("jspdf"));else if(typeof define==="function"&&define.amd)define(["jspdf"],i);else{var n=typeof exports==="object"?i(require("jspdf")):i(t["jsPDF"]);for(var r in n)(typeof exports==="object"?exports:t)[r]=n[r]}})(this,function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:false,exports:{}};e[n].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=e;i.c=t;i.i=function(e){return e};i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=35)}([function(e,t,i){"use strict";t.__esModule=true;t.FONT_ROW_RATIO=1.15;var n=i(16);var r=null;var o=i(13);var s=i(33);t.getTheme=function(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},header:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},header:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}};return t[e]};function a(){var e=d.scaleFactor();return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:false,margin:40/e,pageBreak:"auto",tableWidth:"auto",showHeader:"everyPage",tableLineWidth:0,tableLineColor:200,createdHeaderCell:function(e,t){},createdCell:function(e,t){},drawHeaderRow:function(e,t){},drawRow:function(e,t){},drawHeaderCell:function(e,t){},drawCell:function(e,t){},addPageContent:function(e){}}}t.getDefaults=a;function l(){var e=d.scaleFactor();return{font:"helvetica",fontStyle:"normal",overflow:"ellipsize",fillColor:false,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0/e,columnWidth:"auto"}}var d=function(){function e(){}e.pageSize=function(){return r.doc.internal.pageSize};e.applyUserStyles=function(){e.applyStyles(r.userStyles)};e.createTable=function(e){r=new n.Table(e);return r};e.tableInstance=function(){return r};e.scaleFactor=function(){return r.doc.internal.scaleFactor};e.hooksData=function(e){if(e===void 0){e={}}return o({pageCount:r.pageCount,settings:r.settings,table:r,doc:r.doc,cursor:r.cursor},e||{})};e.initSettings=function(e,t){var i=function(i){var n=t.map(function(e){return e[i]||{}});e.styles[i]=o.apply(void 0,[{}].concat(n))};for(var n=0,r=Object.keys(e.styles);n<r.length;n++){var l=r[n];i(l)}for(var d=0,u=s(e.hooks);d<u.length;d++){var h=u[d],c=h[0],f=h[1];for(var p=0,m=t;p<m.length;p++){var v=m[p];if(v&&v[c]){f.push(v[c])}}}e.settings=o.apply(void 0,[a()].concat(t))};e.marginOrPadding=function(e,t){var i={};if(Array.isArray(e)){if(e.length>=4){i={top:e[0],right:e[1],bottom:e[2],left:e[3]}}else if(e.length===3){i={top:e[0],right:e[1],bottom:e[2],left:e[1]}}else if(e.length===2){i={top:e[0],right:e[1],bottom:e[0],left:e[1]}}else if(e.length===1){e=e[0]}else{e=t}}else if(typeof e==="object"){if(e["vertical"]){e["top"]=e["vertical"];e["bottom"]=e["vertical"]}else if(e["horizontal"]){e["right"]=e["horizontal"];e["left"]=e["horizontal"]}for(var n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n];i[o]=e[o]||e[o]===0?e[o]:t}}if(typeof e==="number"){i={top:e,right:e,bottom:e,left:e}}return i};e.styles=function(e){e=Array.isArray(e)?e:[e];return o.apply(void 0,[l()].concat(e))};e.applyStyles=function(e){var t=r.doc;var i={fillColor:t.setFillColor,textColor:t.setTextColor,fontStyle:t.setFontStyle,lineColor:t.setDrawColor,lineWidth:t.setLineWidth,font:t.setFont,fontSize:t.setFontSize};Object.keys(i).forEach(function(t){var n=e[t];var r=i[t];if(typeof n!=="undefined"){if(Array.isArray(n)){r.apply(this,n)}else{r(n)}}})};return e}();t.Config=d},function(e,t,i){"use strict";t.__esModule=true;var n=i(0);var r=i(4);function o(e,t){var i=n.Config.scaleFactor();var r=t.fontSize/i;n.Config.applyStyles(t);e=Array.isArray(e)?e:[e];var o=0;e.forEach(function(e){var t=n.Config.tableInstance().doc.getStringUnitWidth(e);if(t>o){o=t}});var s=1e4*i;o=Math.floor(o*s)/s;return o*r}t.getStringWidth=o;function s(e,t,i,r){if(r===void 0){r="..."}if(Array.isArray(e)){var a=[];e.forEach(function(e,n){a[n]=s(e,t,i,r)});return a}var l=1e4*n.Config.scaleFactor();t=Math.ceil(t*l)/l;if(t>=o(e,i)){return e}while(t<o(e+r,i)){if(e.length<=1){break}e=e.substring(0,e.length-1)}return e.trim()+r}t.ellipsize=s;function a(){var e=n.Config.tableInstance();var t={lineWidth:e.settings.tableLineWidth,lineColor:e.settings.tableLineColor};n.Config.applyStyles(t);var i=u(t);if(i){e.doc.rect(e.pageStartX,e.pageStartY,e.width,e.cursor.y-e.pageStartY,i)}}t.addTableBorder=a;function l(){var e=n.Config.tableInstance();e.finalY=e.cursor.y;d();a();h(e.doc);e.pageCount++;e.cursor={x:e.margin("left"),y:e.margin("top")};e.pageStartX=e.cursor.x;e.pageStartY=e.cursor.y;if(e.settings.showHeader===true||e.settings.showHeader==="everyPage"){r.printRow(e.headerRow,e.hooks.drawHeaderRow,e.hooks.drawHeaderCell)}}t.addPage=l;function d(){for(var e=0,t=n.Config.tableInstance().hooks.addPageContent;e<t.length;e++){var i=t[e];n.Config.applyUserStyles();i(n.Config.hooksData())}n.Config.applyUserStyles()}t.addContentHooks=d;function u(e){var t=e.lineWidth>0;var i=e.fillColor||e.fillColor===0;if(t&&i){return"DF"}else if(t){return"S"}else if(i){return"F"}else{return false}}t.getFillStyle=u;function h(e){var t=e.internal.getCurrentPageInfo().pageNumber;e.setPage(t+1);var i=e.internal.getCurrentPageInfo().pageNumber;if(i===t){e.addPage()}}t.nextPage=h},function(e,t,i){var n=i(27);e.exports=Function.prototype.bind||n},function(e,t,i){"use strict";var n=Function.prototype.toString;var r=/^\s*class /;var o=function e(t){try{var i=n.call(t);var o=i.replace(/\/\/.*\n/g,"");var s=o.replace(/\/\*[.\s\S]*\*\//g,"");var a=s.replace(/\n/gm," ").replace(/ {2}/g," ");return r.test(a)}catch(e){return false}};var s=function e(t){try{if(o(t)){return false}n.call(t);return true}catch(e){return false}};var a=Object.prototype.toString;var l="[object Function]";var d="[object GeneratorFunction]";var u=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";e.exports=function e(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(u){return s(t)}if(o(t)){return false}var i=a.call(t);return i===l||i===d}},function(e,t,i){"use strict";t.__esModule=true;var n=i(0);var r=i(1);function o(e,t,i){var l=0;var d={};var u=n.Config.tableInstance();if(!a(e.height)){if(e.maxLineCount<=1){r.addPage()}else{e.spansMultiplePages=true;var h=u.doc.internal.pageSize.height;var c=0;for(var f=0;f<u.columns.length;f++){var p=u.columns[f];var m=e.cells[p.dataKey];var v=m.styles.fontSize/n.Config.scaleFactor()*n.FONT_ROW_RATIO;var g=m.padding("vertical");var y=h-u.cursor.y-u.margin("bottom");var b=Math.floor((y-g)/v);if(Array.isArray(m.text)&&m.text.length>b){var w=m.text.splice(b,m.text.length);d[p.dataKey]=w;var x=m.text.length*v+g;if(x>c){c=x}var _=w.length*v+g;if(_>l){l=_}}}e.height=c}}s(e,t,i);if(Object.keys(d).length>0){for(var f=0;f<u.columns.length;f++){var p=u.columns[f];var m=e.cells[p.dataKey];m.text=d[p.dataKey]||""}r.addPage();e.pageCount++;e.height=l;o(e,t,i)}}t.printFullRow=o;function s(e,t,i){var o=n.Config.tableInstance();e.y=o.cursor.y;for(var s=0,a=t;s<a.length;s++){var l=a[s];if(l(e,n.Config.hooksData({row:e,addPage:r.addPage}))===false){return}}o.cursor.x=o.margin("left");for(var d=0;d<o.columns.length;d++){var u=o.columns[d];var h=e.cells[u.dataKey];if(!h){continue}n.Config.applyStyles(h.styles);h.x=o.cursor.x;h.y=o.cursor.y;h.height=e.height;h.width=u.width;if(h.styles.valign==="top"){h.textPos.y=o.cursor.y+h.padding("top")}else if(h.styles.valign==="bottom"){h.textPos.y=o.cursor.y+e.height-h.padding("bottom")}else{h.textPos.y=o.cursor.y+e.height/2}if(h.styles.halign==="right"){h.textPos.x=h.x+h.width-h.padding("right")}else if(h.styles.halign==="center"){h.textPos.x=h.x+h.width/2}else{h.textPos.x=h.x+h.padding("left")}var c=true;var f=n.Config.hooksData({column:u,row:e,addPage:r.addPage});for(var p=0,m=i;p<m.length;p++){var l=m[p];if(l(h,f)===false){c=false}}if(c){var v=r.getFillStyle(h.styles);if(v){o.doc.rect(h.x,h.y,h.width,h.height,v)}o.doc.autoTableText(h.text,h.textPos.x,h.textPos.y,{halign:h.styles.halign,valign:h.styles.valign})}o.cursor.x+=h.width}o.cursor.y+=e.height}t.printRow=s;function a(e){var t=n.Config.tableInstance();var i=e+t.cursor.y+t.margin("bottom");return i<n.Config.pageSize().height}},function(e,t,i){"use strict";var n=i(31);var r=i(26);var o=typeof Symbol==="function"&&typeof Symbol()==="symbol";var s=Object.prototype.toString;var a=function(e){return typeof e==="function"&&s.call(e)==="[object Function]"};var l=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:false,value:e});for(var t in e){return false}return e.x===e}catch(e){return false}};var d=Object.defineProperty&&l();var u=function(e,t,i,n){if(t in e&&(!a(n)||!n())){return}if(d){Object.defineProperty(e,t,{configurable:true,enumerable:false,value:i,writable:true})}else{e[t]=i}};var h=function(e,t){var i=arguments.length>2?arguments[2]:{};var s=n(t);if(o){s=s.concat(Object.getOwnPropertySymbols(t))}r(s,function(n){u(e,n,t[n],i[n])})};h.supportsDescriptors=!!d;e.exports=h},function(e,t){var i=Object.prototype.hasOwnProperty;e.exports=Object.assign||function e(t,n){for(var r in n){if(i.call(n,r)){t[r]=n[r]}}return t}},function(e,t){var i=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return typeof e==="number"&&!i(e)&&e!==Infinity&&e!==-Infinity}},function(e,t){e.exports=Number.isNaN||function e(t){return t!==t}},function(e,t){e.exports=function e(t,i){var n=t%i;return Math.floor(n>=0?n:n+i)}},function(e,t){e.exports=function e(t){return t>=0?1:-1}},function(e,t){e.exports=function e(t){return t===null||typeof t!=="function"&&typeof t!=="object"}},function(e,t,i){var n=i(2);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,i){"use strict";var n=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function s(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function a(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var i=0;i<10;i++){t["_"+String.fromCharCode(i)]=i}var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(n.join("")!=="0123456789"){return false}var r={};"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e});if(Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=a()?Object.assign:function(e,t){var i;var a=s(e);var l;for(var d=1;d<arguments.length;d++){i=Object(arguments[d]);for(var u in i){if(r.call(i,u)){a[u]=i[u]}}if(n){l=n(i);for(var h=0;h<l.length;h++){if(o.call(i,l[h])){a[l[h]]=i[l[h]]}}}}return a}},function(e,t,i){"use strict";var n=i(22);var r=i(12);var o=i(2);var s=o.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function e(t){var i=n.RequireObjectCoercible(t);var o=[];for(var a in i){if(r(i,a)&&s(i,a)){o.push([a,i[a]])}}return o}},function(e,t,i){"use strict";var n=i(14);e.exports=function e(){return typeof Object.entries==="function"?Object.entries:n}},function(e,t,i){"use strict";t.__esModule=true;var n=i(0);t.table={};var r=function(){function e(e){this.height=0;this.width=0;this.contentWidth=0;this.preferredWidth=0;this.rows=[];this.columns=[];this.headerRow=null;this.pageCount=1;this.hooks={createdHeaderCell:[],createdCell:[],drawHeaderRow:[],drawRow:[],drawHeaderCell:[],drawCell:[],addPageContent:[]};this.styles={styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{}};this.doc=e;this.userStyles={textColor:30,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle}}e.prototype.margin=function(e){return n.Config.marginOrPadding(this.settings.margin,n.getDefaults().margin)[e]};return e}();t.Table=r;var o=function(){function e(e,t){this.cells={};this.spansMultiplePages=false;this.pageCount=1;this.height=0;this.y=0;this.maxLineCount=1;this.raw=e;this.index=t}return e}();t.Row=o;var s=function(){function e(e){this.styles={};this.text="";this.contentWidth=0;this.textPos={};this.height=0;this.width=0;this.x=0;this.y=0;this.raw=e}e.prototype.padding=function(e){var t=n.Config.marginOrPadding(this.styles.cellPadding,n.Config.styles([]).cellPadding);if(e==="vertical"){return t.top+t.bottom}else if(e==="horizontal"){return t.left+t.right}else{return t[e]}};return e}();t.Cell=s;var a=function(){function e(e,t){this.options={};this.contentWidth=0;this.preferredWidth=0;this.widthStyle="auto";this.width=0;this.x=0;this.dataKey=e;this.index=t}return e}();t.Column=a},function(e,t,i){"use strict";t.__esModule=true;var n=i(0);var r=i(1);function o(e,t){var i=n.Config.tableInstance();var o=0;var a=0;var l=[];i.columns.forEach(function(e){e.contentWidth=0;i.rows.concat(i.headerRow).forEach(function(t){var i=t.cells[e.dataKey];i.contentWidth=i.padding("horizontal")+r.getStringWidth(i.text,i.styles);if(i.contentWidth>e.contentWidth){e.contentWidth=i.contentWidth}});i.contentWidth+=e.contentWidth;if(typeof e.widthStyle==="number"){e.preferredWidth=e.widthStyle;o+=e.preferredWidth;e.width=e.preferredWidth}else if(e.widthStyle==="wrap"){e.preferredWidth=e.contentWidth;o+=e.preferredWidth;e.width=e.preferredWidth}else{e.preferredWidth=e.contentWidth;a+=e.contentWidth;l.push(e)}i.preferredWidth+=e.preferredWidth});if(typeof i.settings.tableWidth==="number"){i.width=i.settings.tableWidth}else if(i.settings.tableWidth==="wrap"){i.width=i.preferredWidth}else{i.width=t-i.margin("left")-i.margin("right")}s(l,o,a,0);var d=i.rows.concat(i.headerRow);d.forEach(function(t){i.columns.forEach(function(i){var o=t.cells[i.dataKey];n.Config.applyStyles(o.styles);var s=i.width-o.padding("horizontal");if(o.styles.overflow==="linebreak"){try{o.text=e.splitTextToSize(o.text,s+1,{fontSize:o.styles.fontSize})}catch(t){if(t instanceof TypeError&&Array.isArray(o.text)){o.text=e.splitTextToSize(o.text.join(" "),s+1,{fontSize:o.styles.fontSize})}else{throw t}}}else if(o.styles.overflow==="ellipsize"){o.text=r.ellipsize(o.text,s,o.styles)}else if(o.styles.overflow==="visible"){}else if(o.styles.overflow==="hidden"){o.text=r.ellipsize(o.text,s,o.styles,"")}else if(typeof o.styles.overflow==="function"){o.text=o.styles.overflow(o.text,s)}else{console.error("Unrecognized overflow type: "+o.styles.overflow)}var a=n.Config.scaleFactor();var l=Array.isArray(o.text)?o.text.length:1;var d=o.styles.fontSize/a*n.FONT_ROW_RATIO;o.contentHeight=l*d+o.padding("vertical");if(o.contentHeight>t.height){t.height=o.contentHeight;t.maxLineCount=l}});i.height+=t.height})}t.calculateWidths=o;function s(e,t,i,r){var o=n.Config.tableInstance();var a=o.width-t-i;for(var l=0;l<e.length;l++){var d=e[l];var u=d.contentWidth/i;var h=d.contentWidth+a*u<r;if(a<0&&h){e.splice(l,1);i-=d.contentWidth;d.width=r;t+=d.width;s(e,t,i,r);break}else{d.width=d.contentWidth+a*u}}}},function(e,t,i){"use strict";t.__esModule=true;var n=i(16);var r=i(0);var o=i(13);function s(e,t,i){if(!e||typeof e!=="object"){console.error("The headers should be an object or array, is: "+typeof e)}if(!t||typeof t!=="object"){console.error("The data should be an object or array, is: "+typeof t)}var n=function(e){if(e&&typeof e!=="object"){console.error("The options parameter should be of type object, is: "+typeof e)}if(typeof e.extendWidth!=="undefined"){e.tableWidth=e.extendWidth?"auto":"wrap";console.error("Use of deprecated option: extendWidth, use tableWidth instead.")}if(typeof e.margins!=="undefined"){if(typeof e.margin==="undefined")e.margin=e.margins;console.error("Use of deprecated option: margins, use margin instead.")}if(typeof e.afterPageContent!=="undefined"||typeof e.beforePageContent!=="undefined"||typeof e.afterPageAdd!=="undefined"){console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use addPageContent instead");if(typeof e.addPageContent==="undefined"){e.addPageContent=function(t){r.Config.applyUserStyles();if(e.beforePageContent)e.beforePageContent(t);r.Config.applyUserStyles();if(e.afterPageContent)e.afterPageContent(t);r.Config.applyUserStyles();if(e.afterPageAdd&&t.pageCount>1){t.afterPageAdd(t)}r.Config.applyUserStyles()}}}[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var i=typeof t==="string"?t:t[0];var n=typeof t==="string"?t:t[1];if(typeof e[i]!=="undefined"){if(typeof e.styles[n]==="undefined"){e.styles[n]=e[i]}console.error("Use of deprecated option: "+i+", use the style "+n+" instead.")}});for(var t=0,i=["styles","bodyStyles","headerStyles","columnStyles"];t<i.length;t++){var n=i[t];if(e[n]&&typeof e[n]!=="object"){console.error("The "+n+" style should be of type object, is: "+typeof e[n])}else if(e[n]&&e[n].rowHeight){console.error("Use of deprecated style: rowHeight, use vertical cell padding instead")}}};for(var o=0,s=i;o<s.length;o++){var a=s[o];n(a)}}t.validateInput=s;function a(e,t){var i=/\r\n|\r|\n/g;var s=r.Config.tableInstance();var a=s.settings;var l=r.getTheme(a.theme);var d=new n.Row(e,-1);d.index=-1;e.forEach(function(e,t){var o=t;if(typeof e.dataKey!=="undefined"){o=e.dataKey}else if(typeof e.key!=="undefined"){console.error("Deprecation warning: Use dataKey instead of key");o=e.key}var u=new n.Column(o,t);u.raw=e;u.widthStyle=r.Config.styles([l.table,l.header,s.styles.styles,s.styles.columnStyles[u.dataKey]||{}]).columnWidth;s.columns.push(u);var h=new n.Cell(e);h.styles=r.Config.styles([l.table,l.header,s.styles.styles,s.styles.headerStyles]);if(h.raw instanceof HTMLElement){h.text=(h.raw.innerText||"").trim()}else{var c=typeof h.raw==="object"?h.raw.title:h.raw;h.text=typeof h.raw!=="undefined"?""+c:""}h.text=h.text.split(i);d.cells[o]=h;for(var f=0,p=s.hooks.createdHeaderCell;f<p.length;f++){var m=p[f];m(h,{cell:h,column:u,row:d,settings:a})}});s.headerRow=d;t.forEach(function(e,t){var a=new n.Row(e,t);var d=t%2===0?o({},l.alternateRow,s.styles.alternateRowStyles):{};s.columns.forEach(function(t){var o=new n.Cell(e[t.dataKey]);var u=s.styles.columnStyles[t.dataKey]||{};o.styles=r.Config.styles([l.table,l.body,s.styles.styles,s.styles.bodyStyles,d,u]);if(o.raw&&o.raw instanceof HTMLElement){o.text=(o.raw.innerText||"").trim()}else{o.text=typeof o.raw!=="undefined"?""+o.raw:""}o.text=o.text.split(i);a.cells[t.dataKey]=o;for(var h=0,c=s.hooks.createdCell;h<c.length;h++){var f=c[h];f(o,r.Config.hooksData({cell:o,column:t,row:a}))}});s.rows.push(a)})}t.createModels=a},function(t,i){t.exports=e},function(e,t,i){"use strict";var n=i(8);var r=i(7);var o=i(10);var s=i(9);var a=i(3);var l=i(24);var d={ToPrimitive:l,ToBoolean:function e(t){return Boolean(t)},ToNumber:function e(t){return Number(t)},ToInteger:function e(t){var i=this.ToNumber(t);if(n(i)){return 0}if(i===0||!r(i)){return i}return o(i)*Math.floor(Math.abs(i))},ToInt32:function e(t){return this.ToNumber(t)>>0},ToUint32:function e(t){return this.ToNumber(t)>>>0},ToUint16:function e(t){var i=this.ToNumber(t);if(n(i)||i===0||!r(i)){return 0}var a=o(i)*Math.floor(Math.abs(i));return s(a,65536)},ToString:function e(t){return String(t)},ToObject:function e(t){this.CheckObjectCoercible(t);return Object(t)},CheckObjectCoercible:function e(t,i){if(t==null){throw new TypeError(i||"Cannot call method on "+t)}return t},IsCallable:a,SameValue:function e(t,i){if(t===i){if(t===0){return 1/t===1/i}return true}return n(t)&&n(i)},Type:function e(t){if(t===null){return"Null"}if(typeof t==="undefined"){return"Undefined"}if(typeof t==="function"||typeof t==="object"){return"Object"}if(typeof t==="number"){return"Number"}if(typeof t==="boolean"){return"Boolean"}if(typeof t==="string"){return"String"}}};e.exports=d},function(e,t,i){"use strict";var n=Object.prototype.toString;var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol";var o=r?Symbol.prototype.toString:n;var s=i(8);var a=i(7);var l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;var d=i(6);var u=i(10);var h=i(9);var c=i(23);var f=i(25);var p=parseInt;var m=i(2);var v=m.call(Function.call,String.prototype.slice);var g=m.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i);var y=m.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i);var b=["Â","â","ï¿¾"].join("");var w=new RegExp("["+b+"]","g");var x=m.call(Function.call,RegExp.prototype.test,w);var _=/^[-+]0x[0-9a-f]+$/i;var k=m.call(Function.call,RegExp.prototype.test,_);var C=["\t\n\v\f\r Â áá ââââ","ââââââââ¯âã\u2028","\u2029\ufeff"].join("");var S=new RegExp("(^["+C+"]+)|(["+C+"]+$)","g");var T=m.call(Function.call,String.prototype.replace);var D=function(e){return T(e,S,"")};var E=i(20);var O=i(29);var P=d(d({},E),{Call:function e(t,i){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(t)){throw new TypeError(t+" is not a function")}return t.apply(i,n)},ToPrimitive:f,ToNumber:function e(t){var i=c(t)?t:f(t,"number");if(typeof i==="symbol"){throw new TypeError("Cannot convert a Symbol value to a number")}if(typeof i==="string"){if(g(i)){return this.ToNumber(p(v(i,2),2))}else if(y(i)){return this.ToNumber(p(v(i,2),8))}else if(x(i)||k(i)){return NaN}else{var n=D(i);if(n!==i){return this.ToNumber(n)}}}return Number(i)},ToInt16:function e(t){var i=this.ToUint16(t);return i>=32768?i-65536:i},ToInt8:function e(t){var i=this.ToUint8(t);return i>=128?i-256:i},ToUint8:function e(t){var i=this.ToNumber(t);if(s(i)||i===0||!a(i)){return 0}var n=u(i)*Math.floor(Math.abs(i));return h(n,256)},ToUint8Clamp:function e(t){var i=this.ToNumber(t);if(s(i)||i<=0){return 0}if(i>=255){return 255}var n=Math.floor(t);if(n+.5<i){return n+1}if(i<n+.5){return n}if(n%2!==0){return n+1}return n},ToString:function e(t){if(typeof t==="symbol"){throw new TypeError("Cannot convert a Symbol value to a string")}return String(t)},ToObject:function e(t){this.RequireObjectCoercible(t);return Object(t)},ToPropertyKey:function e(t){var i=this.ToPrimitive(t,String);return typeof i==="symbol"?o.call(i):this.ToString(i)},ToLength:function e(t){var i=this.ToInteger(t);if(i<=0){return 0}if(i>l){return l}return i},CanonicalNumericIndexString:function e(t){if(n.call(t)!=="[object String]"){throw new TypeError("must be a string")}if(t==="-0"){return-0}var i=this.ToNumber(t);if(this.SameValue(this.ToString(i),t)){return i}return void 0},RequireObjectCoercible:E.CheckObjectCoercible,IsArray:Array.isArray||function e(t){return n.call(t)==="[object Array]"},IsConstructor:function e(t){return typeof t==="function"&&!!t.prototype},IsExtensible:function e(t){if(!Object.preventExtensions){return true}if(c(t)){return false}return Object.isExtensible(t)},IsInteger:function e(t){if(typeof t!=="number"||s(t)||!a(t)){return false}var i=Math.abs(t);return Math.floor(i)===i},IsPropertyKey:function e(t){return typeof t==="string"||typeof t==="symbol"},IsRegExp:function e(t){if(!t||typeof t!=="object"){return false}if(r){var i=t[Symbol.match];if(typeof i!=="undefined"){return E.ToBoolean(i)}}return O(t)},SameValueZero:function e(t,i){return t===i||s(t)&&s(i)},GetV:function e(t,i){if(!this.IsPropertyKey(i)){throw new TypeError("Assertion failed: IsPropertyKey(P) is not true")}var n=this.ToObject(t);return n[i]},GetMethod:function e(t,i){if(!this.IsPropertyKey(i)){throw new TypeError("Assertion failed: IsPropertyKey(P) is not true")}var n=this.GetV(t,i);if(n==null){return undefined}if(!this.IsCallable(n)){throw new TypeError(i+"is not a function")}return n},Get:function e(t,i){if(this.Type(t)!=="Object"){throw new TypeError("Assertion failed: Type(O) is not Object")}if(!this.IsPropertyKey(i)){throw new TypeError("Assertion failed: IsPropertyKey(P) is not true")}return t[i]},Type:function e(t){if(typeof t==="symbol"){return"Symbol"}return E.Type(t)},SpeciesConstructor:function e(t,i){if(this.Type(t)!=="Object"){throw new TypeError("Assertion failed: Type(O) is not Object")}var n=t.constructor;if(typeof n==="undefined"){return i}if(this.Type(n)!=="Object"){throw new TypeError("O.constructor is not an Object")}var o=r&&Symbol.species?n[Symbol.species]:undefined;if(o==null){return i}if(this.IsConstructor(o)){return o}throw new TypeError("no constructor found")}});delete P.CheckObjectCoercible;e.exports=P},function(e,t,i){"use strict";var n=i(21);var r=i(6);var o=r(n,{SameValueNonNumber:function e(t,i){if(typeof t==="number"||typeof t!==typeof i){throw new TypeError("SameValueNonNumber requires two non-number values of the same type.")}return this.SameValue(t,i)}});e.exports=o},function(e,t){e.exports=function e(t){return t===null||typeof t!=="function"&&typeof t!=="object"}},function(e,t,i){"use strict";var n=Object.prototype.toString;var r=i(11);var o=i(3);var s={"[[DefaultValue]]":function(e,t){var i=t||(n.call(e)==="[object Date]"?String:Number);if(i===String||i===Number){var s=i===String?["toString","valueOf"]:["valueOf","toString"];var a,l;for(l=0;l<s.length;++l){if(o(e[s[l]])){a=e[s[l]]();if(r(a)){return a}}}throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function e(t,i){if(r(t)){return t}return s["[[DefaultValue]]"](t,i)}},function(e,t,i){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol";var r=i(11);var o=i(3);var s=i(28);var a=i(30);var l=function e(t,i){if(typeof t==="undefined"||t===null){throw new TypeError("Cannot call method on "+t)}if(typeof i!=="string"||i!=="number"&&i!=="string"){throw new TypeError('hint must be "string" or "number"')}var n=i==="string"?["toString","valueOf"]:["valueOf","toString"];var s,a,l;for(l=0;l<n.length;++l){s=t[n[l]];if(o(s)){a=s.call(t);if(r(a)){return a}}}throw new TypeError("No default value")};var d=function e(t,i){var n=t[i];if(n!==null&&typeof n!=="undefined"){if(!o(n)){throw new TypeError(n+" returned for property "+i+" of object "+t+" is not a function")}return n}};e.exports=function e(t,i){if(r(t)){return t}var o="default";if(arguments.length>1){if(i===String){o="string"}else if(i===Number){o="number"}}var u;if(n){if(Symbol.toPrimitive){u=d(t,Symbol.toPrimitive)}else if(a(t)){u=Symbol.prototype.valueOf}}if(typeof u!=="undefined"){var h=u.call(t,o);if(r(h)){return h}throw new TypeError("unable to convert exotic object to primitive")}if(o==="default"&&(s(t)||a(t))){o="string"}return l(t,o==="default"?"number":o)}},function(e,t){var i=Object.prototype.hasOwnProperty;var n=Object.prototype.toString;e.exports=function e(t,r,o){if(n.call(r)!=="[object Function]"){throw new TypeError("iterator must be a function")}var s=t.length;if(s===+s){for(var a=0;a<s;a++){r.call(o,t[a],a,t)}}else{for(var l in t){if(i.call(t,l)){r.call(o,t[l],l,t)}}}}},function(e,t){var i="Function.prototype.bind called on incompatible ";var n=Array.prototype.slice;var r=Object.prototype.toString;var o="[object Function]";e.exports=function e(t){var s=this;if(typeof s!=="function"||r.call(s)!==o){throw new TypeError(i+s)}var a=n.call(arguments,1);var l;var d=function(){if(this instanceof l){var e=s.apply(this,a.concat(n.call(arguments)));if(Object(e)===e){return e}return this}else{return s.apply(t,a.concat(n.call(arguments)))}};var u=Math.max(0,s.length-a.length);var h=[];for(var c=0;c<u;c++){h.push("$"+c)}l=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(d);if(s.prototype){var f=function e(){};f.prototype=s.prototype;l.prototype=new f;f.prototype=null}return l}},function(e,t,i){"use strict";var n=Date.prototype.getDay;var r=function e(t){try{n.call(t);return true}catch(e){return false}};var o=Object.prototype.toString;var s="[object Date]";var a=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";e.exports=function e(t){if(typeof t!=="object"||t===null){return false}return a?r(t):o.call(t)===s}},function(e,t,i){"use strict";var n=i(12);var r=RegExp.prototype.exec;var o=Object.getOwnPropertyDescriptor;var s=function e(t){try{var i=t.lastIndex;t.lastIndex=0;r.call(t);return true}catch(e){return false}finally{t.lastIndex=i}};var a=Object.prototype.toString;var l="[object RegExp]";var d=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";e.exports=function e(t){if(!t||typeof t!=="object"){return false}if(!d){return a.call(t)===l}var i=o(t,"lastIndex");var r=i&&n(i,"value");if(!r){return false}return s(t)}},function(e,t,i){"use strict";var n=Object.prototype.toString;var r=typeof Symbol==="function"&&typeof Symbol()==="symbol";if(r){var o=Symbol.prototype.toString;var s=/^Symbol\(.*\)$/;var a=function e(t){if(typeof t.valueOf()!=="symbol"){return false}return s.test(o.call(t))};e.exports=function e(t){if(typeof t==="symbol"){return true}if(n.call(t)!=="[object Symbol]"){return false}try{return a(t)}catch(e){return false}}}else{e.exports=function e(t){return false}}},function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;var r=Object.prototype.toString;var o=Array.prototype.slice;var s=i(32);var a=Object.prototype.propertyIsEnumerable;var l=!a.call({toString:null},"toString");var d=a.call(function(){},"prototype");var u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var h=function(e){var t=e.constructor;return t&&t.prototype===e};var c={$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true};var f=function(){if(typeof window==="undefined"){return false}for(var e in window){try{if(!c["$"+e]&&n.call(window,e)&&window[e]!==null&&typeof window[e]==="object"){try{h(window[e])}catch(e){return true}}}catch(e){return true}}return false}();var p=function(e){if(typeof window==="undefined"||!f){return h(e)}try{return h(e)}catch(e){return false}};var m=function e(t){var i=t!==null&&typeof t==="object";var o=r.call(t)==="[object Function]";var a=s(t);var h=i&&r.call(t)==="[object String]";var c=[];if(!i&&!o&&!a){throw new TypeError("Object.keys called on a non-object")}var f=d&&o;if(h&&t.length>0&&!n.call(t,0)){for(var m=0;m<t.length;++m){c.push(String(m))}}if(a&&t.length>0){for(var v=0;v<t.length;++v){c.push(String(v))}}else{for(var g in t){if(!(f&&g==="prototype")&&n.call(t,g)){c.push(String(g))}}}if(l){var y=p(t);for(var b=0;b<u.length;++b){if(!(y&&u[b]==="constructor")&&n.call(t,u[b])){c.push(u[b])}}}return c};m.shim=function e(){if(Object.keys){var t=function(){return(Object.keys(arguments)||"").length===2}(1,2);if(!t){var i=Object.keys;Object.keys=function e(t){if(s(t)){return i(o.call(t))}else{return i(t)}}}}else{Object.keys=m}return Object.keys||m};e.exports=m},function(e,t,i){"use strict";var n=Object.prototype.toString;e.exports=function e(t){var i=n.call(t);var r=i==="[object Arguments]";if(!r){r=i!=="[object Array]"&&t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&n.call(t.callee)==="[object Function]"}return r}},function(e,t,i){"use strict";var n=i(5);var r=i(14);var o=i(15);var s=i(34);var a=o();n(a,{getPolyfill:o,implementation:r,shim:s});e.exports=a},function(e,t,i){"use strict";var n=i(15);var r=i(5);e.exports=function e(){var t=n();r(Object,{entries:t},{entries:function e(){return Object.entries!==t}});return t}},function(e,t,i){"use strict";t.__esModule=true;var n=i(19);var r=i(0);var o=i(1);var s=i(4);var a=i(17);var l=i(18);n.API.autoTable=function(e,t,i){if(i===void 0){i={}}this.autoTableState=this.autoTableState||{};n.autoTableState=n.autoTableState||{};var d=[n.autoTableState.defaults||{},this.autoTableState.defaults||{},i||{}];l.validateInput(e,t,d);var u=r.Config.createTable(this);r.Config.initSettings(u,d);var h=u.settings;l.createModels(e,t);h.margin=r.Config.marginOrPadding(h.margin,r.getDefaults().margin);a.calculateWidths(this,r.Config.pageSize().width);u.cursor={x:u.margin("left"),y:h.startY===false?u.margin("top"):h.startY};var c=h.startY+u.margin("bottom")+u.headerRow.height;if(h.pageBreak==="avoid"){c+=u.height}var f=r.Config.pageSize().height;if(h.pageBreak==="always"&&h.startY!==false||h.startY!==false&&c>f){o.nextPage(u.doc);u.cursor.y=u.margin("top")}u.pageStartX=u.cursor.x;u.pageStartY=u.cursor.y;r.Config.applyUserStyles();if(h.showHeader===true||h.showHeader==="firstPage"||h.showHeader==="everyPage"){s.printRow(u.headerRow,u.hooks.drawHeaderRow,u.hooks.drawHeaderCell)}r.Config.applyUserStyles();u.rows.forEach(function(e){s.printFullRow(e,u.hooks.drawRow,u.hooks.drawCell)});o.addTableBorder();var p=this.internal.getCurrentPageInfo().pageNumber;if(this.autoTableState.addPageHookPages&&this.autoTableState.addPageHookPages[p]){if(typeof i["addPageContent"]==="function"){i["addPageContent"](r.Config.hooksData())}}else{if(!this.autoTableState.addPageHookPages)this.autoTableState.addPageHookPages={};this.autoTableState.addPageHookPages[p]=true;o.addContentHooks()}u.finalY=u.cursor.y;this.autoTable.previous=u;r.Config.applyUserStyles();return this};n.API.autoTable.previous=false;n.API.autoTableSetDefaults=function(e){if(!this.autoTableState)this.autoTableState={};if(e&&typeof e==="object"){this.autoTableState.defaults=e}else{delete this.autoTableState.defaults}return this};n.autoTableSetDefaults=function(e){if(!n.autoTableState)n.autoTableState={};if(e&&typeof e==="object"){this.autoTableState.defaults=e}else{delete this.autoTableState.defaults}n.autoTableState.defaults=e};n.API.autoTableHtmlToJson=function(e,t){t=t||false;if(!e||!(e instanceof HTMLTableElement)){console.error("A HTMLTableElement has to be sent to autoTableHtmlToJson");return null}var i={},n=[];var r=e.rows[0];for(var o=0;o<r.cells.length;o++){var s=r.cells[o];var a=window.getComputedStyle(s);if(t||a.display!=="none"){i[o]=s}}var l=function(r){var o=e.rows[r];var s=window.getComputedStyle(o);if(t||s.display!=="none"){var a=[];Object.keys(i).forEach(function(e){var t=o.cells[e];a.push(t)});n.push(a)}};for(var o=1;o<e.rows.length;o++){l(o)}var d=Object.keys(i).map(function(e){return i[e]});return{columns:d,rows:n,data:n}};n.API.autoTableText=function(e,t,i,n){if(typeof t!=="number"||typeof i!=="number"){console.error("The x and y parameters are required. Missing for the text: ",e)}var o=this.internal.scaleFactor;var s=this.internal.getFontSize()/o;var a=/\r\n|\r|\n/g;var l=null;var d=1;if(n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right"){l=typeof e==="string"?e.split(a):e;d=l.length||1}i+=s*(2-r.FONT_ROW_RATIO);if(n.valign==="middle")i-=d/2*s*r.FONT_ROW_RATIO;else if(n.valign==="bottom")i-=d*s*r.FONT_ROW_RATIO;if(n.halign==="center"||n.halign==="right"){var u=s;if(n.halign==="center")u*=.5;if(d>=1){for(var h=0;h<l.length;h++){this.text(l[h],t-this.getStringUnitWidth(l[h])*u,i);i+=s}return this}t-=this.getStringUnitWidth(e)*u}this.text(e,t,i);return this};n.API.autoTableEndPosY=function(){var e=this.autoTable.previous;if(e.cursor&&typeof e.cursor.y==="number"){return e.cursor.y}else{return 0}};n.API.autoTableAddPageContent=function(e){if(!n.API.autoTable.globalDefaults){n.API.autoTable.globalDefaults={}}n.API.autoTable.globalDefaults.addPageContent=e;return this};n.API.autoTableAddPage=function(){o.addPage();return this}}])});(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.html2canvas=e()}})(function(){var e,t,i;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l=typeof require=="function"&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,i,n){(function(t){(function(r){var o=typeof n=="object"&&n&&!n.nodeType&&n;var s=typeof i=="object"&&i&&!i.nodeType&&i;var a=typeof t=="object"&&t;if(a.global===a||a.window===a||a.self===a){r=a}var l,d=2147483647,u=36,h=1,c=26,f=38,p=700,m=72,v=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-h,k=Math.floor,C=String.fromCharCode,S;function T(e){throw new RangeError(x[e])}function D(e,t){var i=e.length;var n=[];while(i--){n[i]=t(e[i])}return n}function E(e,t){var i=e.split("@");var n="";if(i.length>1){n=i[0]+"@";e=i[1]}e=e.replace(w,".");var r=e.split(".");var o=D(r,t).join(".");return n+o}function O(e){var t=[],i=0,n=e.length,r,o;while(i<n){r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){o=e.charCodeAt(i++);if((o&64512)==56320){t.push(((r&1023)<<10)+(o&1023)+65536)}else{t.push(r);i--}}else{t.push(r)}}return t}function P(e){return D(e,function(e){var t="";if(e>65535){e-=65536;t+=C(e>>>10&1023|55296);e=56320|e&1023}t+=C(e);return t}).join("")}function M(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return u}function A(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function I(e,t,i){var n=0;e=i?k(e/p):e>>1;e+=k(e/t);for(;e>_*c>>1;n+=u){e=k(e/_)}return k(n+(_+1)*e/(e+f))}function F(e){var t=[],i=e.length,n,r=0,o=v,s=m,a,l,f,p,y,b,w,x,_;a=e.lastIndexOf(g);if(a<0){a=0}for(l=0;l<a;++l){if(e.charCodeAt(l)>=128){T("not-basic")}t.push(e.charCodeAt(l))}for(f=a>0?a+1:0;f<i;){for(p=r,y=1,b=u;;b+=u){if(f>=i){T("invalid-input")}w=M(e.charCodeAt(f++));if(w>=u||w>k((d-r)/y)){T("overflow")}r+=w*y;x=b<=s?h:b>=s+c?c:b-s;if(w<x){break}_=u-x;if(y>k(d/_)){T("overflow")}y*=_}n=t.length+1;s=I(r-p,n,p==0);if(k(r/n)>d-o){T("overflow")}o+=k(r/n);r%=n;t.splice(r++,0,o)}return P(t)}function R(e){var t,i,n,r,o,s,a,l,f,p,y,b=[],w,x,_,S;e=O(e);w=e.length;t=v;i=0;o=m;for(s=0;s<w;++s){y=e[s];if(y<128){b.push(C(y))}}n=r=b.length;if(r){b.push(g)}while(n<w){for(a=d,s=0;s<w;++s){y=e[s];if(y>=t&&y<a){a=y}}x=n+1;if(a-t>k((d-i)/x)){T("overflow")}i+=(a-t)*x;t=a;for(s=0;s<w;++s){y=e[s];if(y<t&&++i>d){T("overflow")}if(y==t){for(l=i,f=u;;f+=u){p=f<=o?h:f>=o+c?c:f-o;if(l<p){break}S=l-p;_=u-p;b.push(C(A(p+S%_,0)));l=k(S/_)}b.push(C(A(l,0)));o=I(i,x,n==r);i=0;++n}}++i;++t}return b.join("")}function N(e){return E(e,function(e){return y.test(e)?F(e.slice(4).toLowerCase()):e})}function L(e){return E(e,function(e){return b.test(e)?"xn--"+R(e):e})}l={version:"1.3.2",ucs2:{decode:O,encode:P},decode:F,encode:R,toASCII:L,toUnicode:N};if(typeof e=="function"&&typeof e.amd=="object"&&e.amd){e("punycode",function(){return l})}else if(o&&s){if(i.exports==o){s.exports=l}else{for(S in l){l.hasOwnProperty(S)&&(o[S]=l[S])}}}else{r.punycode=l}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,i){var n=e("./log");function r(e,t,i){if(e.defaultView&&(t!==e.defaultView.pageXOffset||i!==e.defaultView.pageYOffset)){e.defaultView.scrollTo(t,i)}}function o(e,t){try{if(t){t.width=e.width;t.height=e.height;t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0)}}catch(t){n("Unable to copy canvas content from",e,t)}}function s(e,t){var i=e.nodeType===3?document.createTextNode(e.nodeValue):e.cloneNode(false);var n=e.firstChild;while(n){if(t===true||n.nodeType!==1||n.nodeName!=="SCRIPT"){i.appendChild(s(n,t))}n=n.nextSibling}if(e.nodeType===1){i._scrollTop=e.scrollTop;i._scrollLeft=e.scrollLeft;if(e.nodeName==="CANVAS"){o(e,i)}else if(e.nodeName==="TEXTAREA"||e.nodeName==="SELECT"){i.value=e.value}}return i}function a(e){if(e.nodeType===1){e.scrollTop=e._scrollTop;e.scrollLeft=e._scrollLeft;var t=e.firstChild;while(t){a(t);t=t.nextSibling}}}t.exports=function(e,t,i,n,o,l,d){var u=s(e.documentElement,o.javascriptEnabled);var h=t.createElement("iframe");h.className="html2canvas-container";h.style.visibility="hidden";h.style.position="fixed";h.style.left="-10000px";h.style.top="0px";h.style.border="0";h.width=i;h.height=n;h.scrolling="no";t.body.appendChild(h);return new Promise(function(t){var i=h.contentWindow.document;h.contentWindow.onload=h.onload=function(){var e=setInterval(function(){if(i.body.childNodes.length>0){a(i.documentElement);clearInterval(e);if(o.type==="view"){h.contentWindow.scrollTo(l,d);if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(h.contentWindow.scrollY!==d||h.contentWindow.scrollX!==l)){i.documentElement.style.top=-d+"px";i.documentElement.style.left=-l+"px";i.documentElement.style.position="absolute"}}t(h)}},50)};i.open();i.write("<!DOCTYPE html><html></html>");r(e,l,d);i.replaceChild(i.adoptNode(u),i.documentElement);i.close()})}},{"./log":13}],3:[function(e,t,i){function n(e){this.r=0;this.g=0;this.b=0;this.a=null;var t=this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){var t=1-e;return new n([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])};n.prototype.isTransparent=function(){return this.a===0};n.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0};n.prototype.fromArray=function(e){if(Array.isArray(e)){this.r=Math.min(e[0],255);this.g=Math.min(e[1],255);this.b=Math.min(e[2],255);if(e.length>3){this.a=e[3]}}return Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t=null;if((t=e.match(r))!==null){this.r=parseInt(t[1][0]+t[1][0],16);this.g=parseInt(t[1][1]+t[1][1],16);this.b=parseInt(t[1][2]+t[1][2],16)}return t!==null};var o=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;if((t=e.match(o))!==null){this.r=parseInt(t[1].substring(0,2),16);this.g=parseInt(t[1].substring(2,4),16);this.b=parseInt(t[1].substring(4,6),16)}return t!==null};var s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t=null;if((t=e.match(s))!==null){this.r=Number(t[1]);this.g=Number(t[2]);this.b=Number(t[3])}return t!==null};var a=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t=null;if((t=e.match(a))!==null){this.r=Number(t[1]);this.g=Number(t[2]);this.b=Number(t[3]);this.a=Number(t[4])}return t!==null};n.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"};n.prototype.namedColor=function(e){e=e.toLowerCase();var t=l[e];if(t){this.r=t[0];this.g=t[1];this.b=t[2]}else if(e==="transparent"){this.r=this.g=this.b=this.a=0;return true}return!!t};n.prototype.isColor=true;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},{}],4:[function(t,i,n){var r=t("./support");var o=t("./renderers/canvas");var s=t("./imageloader");var a=t("./nodeparser");var l=t("./nodecontainer");var d=t("./log");var u=t("./utils");var h=t("./clone");var c=t("./proxy").loadUrlDocument;var f=u.getBounds;var p="data-html2canvas-node";var m=0;function v(e,t){var i=m++;t=t||{};if(t.logging){d.options.logging=true;d.options.start=Date.now()}t.async=typeof t.async==="undefined"?true:t.async;t.allowTaint=typeof t.allowTaint==="undefined"?false:t.allowTaint;t.removeContainer=typeof t.removeContainer==="undefined"?true:t.removeContainer;t.javascriptEnabled=typeof t.javascriptEnabled==="undefined"?false:t.javascriptEnabled;t.imageTimeout=typeof t.imageTimeout==="undefined"?1e4:t.imageTimeout;t.renderer=typeof t.renderer==="function"?t.renderer:o;t.strict=!!t.strict;if(typeof e==="string"){if(typeof t.proxy!=="string"){return Promise.reject("Proxy must be used when rendering url")}var n=t.width!=null?t.width:window.innerWidth;var r=t.height!=null?t.height:window.innerHeight;return c(C(e),t.proxy,document,n,r,t).then(function(e){return b(e.contentWindow.document.documentElement,e,t,n,r)})}var s=(e===undefined?[document.documentElement]:e.length?e:[e])[0];s.setAttribute(p+i,i);return y(s.ownerDocument,t,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,i).then(function(e){if(typeof t.onrendered==="function"){d("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas");t.onrendered(e)}return e})}v.CanvasRenderer=o;v.NodeContainer=l;v.log=d;v.utils=u;var g=typeof document==="undefined"||typeof Object.create!=="function"||typeof document.createElement("canvas").getContext!=="function"?function(){return Promise.reject("No canvas support")}:v;i.exports=g;if(typeof e==="function"&&e.amd){e("html2canvas",[],function(){return g})}function y(e,t,i,n,r){return h(e,e,i,n,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(o){d("Document cloned");var s=p+r;var a="["+s+"='"+r+"']";e.querySelector(a).removeAttribute(s);var l=o.contentWindow;var u=l.document.querySelector(a);var h=typeof t.onclone==="function"?Promise.resolve(t.onclone(l.document)):Promise.resolve(true);return h.then(function(){return b(u,o,t,i,n)})})}function b(e,t,i,n,o){var l=t.contentWindow;var u=new r(l.document);var h=new s(i,u);var c=f(e);var p=i.type==="view"?n:_(l.document);var m=i.type==="view"?o:k(l.document);var v=new i.renderer(p,m,h,i,document);var g=new a(e,v,u,h,i);return g.ready.then(function(){d("Finished rendering");var n;if(i.type==="view"){n=x(v.canvas,{width:v.canvas.width,height:v.canvas.height,top:0,left:0,x:0,y:0})}else if(e===l.document.body||e===l.document.documentElement||i.canvas!=null){n=v.canvas}else{n=x(v.canvas,{width:i.width!=null?i.width:c.width,height:i.height!=null?i.height:c.height,top:c.top,left:c.left,x:0,y:0})}w(t,i);return n})}function w(e,t){if(t.removeContainer){e.parentNode.removeChild(e);d("Cleaned up container")}}function x(e,t){var i=document.createElement("canvas");var n=Math.min(e.width-1,Math.max(0,t.left));var r=Math.min(e.width,Math.max(1,t.left+t.width));var o=Math.min(e.height-1,Math.max(0,t.top));var s=Math.min(e.height,Math.max(1,t.top+t.height));i.width=t.width;i.height=t.height;var a=r-n;var l=s-o;d("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",a,"height:",l);d("Resulting crop with width",t.width,"and height",t.height,"with x",n,"and y",o);i.getContext("2d").drawImage(e,n,o,a,l,t.x,t.y,a,l);return i}function _(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function k(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function C(e){var t=document.createElement("a");t.href=e;t.href=t.href;return t}},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,i){var n=e("./log");var r=e("./utils").smallImage;function o(e){this.src=e;n("DummyImageContainer for",e);if(!this.promise||!this.image){n("Initiating DummyImageContainer");o.prototype.image=new Image;var t=this.image;o.prototype.promise=new Promise(function(e,i){t.onload=e;t.onerror=i;t.src=r();if(t.complete===true){e(t)}})}}t.exports=o},{"./log":13,"./utils":26}],6:[function(e,t,i){var n=e("./utils").smallImage;function r(e,t){var i=document.createElement("div"),r=document.createElement("img"),o=document.createElement("span"),s="Hidden Text",a,l;i.style.visibility="hidden";i.style.fontFamily=e;i.style.fontSize=t;i.style.margin=0;i.style.padding=0;document.body.appendChild(i);r.src=n();r.width=1;r.height=1;r.style.margin=0;r.style.padding=0;r.style.verticalAlign="baseline";o.style.fontFamily=e;o.style.fontSize=t;o.style.margin=0;o.style.padding=0;o.appendChild(document.createTextNode(s));i.appendChild(o);i.appendChild(r);a=r.offsetTop-o.offsetTop+1;i.removeChild(o);i.appendChild(document.createTextNode(s));i.style.lineHeight="normal";r.style.verticalAlign="super";l=r.offsetTop-i.offsetTop+1;document.body.removeChild(i);this.baseline=a;this.lineWidth=1;this.middle=l}t.exports=r},{"./utils":26}],7:[function(e,t,i){var n=e("./font");function r(){this.data={}}r.prototype.getMetrics=function(e,t){if(this.data[e+"-"+t]===undefined){this.data[e+"-"+t]=new n(e,t)}return this.data[e+"-"+t]};t.exports=r},{"./font":6}],8:[function(e,t,i){var n=e("./utils");var r=n.getBounds;var o=e("./proxy").loadUrlDocument;function s(t,i,n){this.image=null;this.src=t;var o=this;var s=r(t);this.promise=(!i?this.proxyLoad(n.proxy,s,n):new Promise(function(e){if(t.contentWindow.document.URL==="about:blank"||t.contentWindow.document.documentElement==null){t.contentWindow.onload=t.onload=function(){e(t)}}else{e(t)}})).then(function(t){var i=e("./core");return i(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(e){return o.image=e})}s.prototype.proxyLoad=function(e,t,i){var n=this.src;return o(n.src,e,n.ownerDocument,t.width,t.height,i)};t.exports=s},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,i){function n(e){this.src=e.value;this.colorStops=[];this.type=null;this.x0=.5;this.y0=.5;this.x1=.5;this.y1=.5;this.promise=Promise.resolve(true)}n.TYPES={LINEAR:1,RADIAL:2};n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;t.exports=n},{}],10:[function(e,t,i){function n(e,t){this.src=e;this.image=new Image;var i=this;this.tainted=null;this.promise=new Promise(function(n,r){i.image.onload=n;i.image.onerror=r;if(t){i.image.crossOrigin="anonymous"}i.image.src=e;if(i.image.complete===true){n(i.image)}})}t.exports=n},{}],11:[function(e,t,i){var n=e("./log");var r=e("./imagecontainer");var o=e("./dummyimagecontainer");var s=e("./proxyimagecontainer");var a=e("./framecontainer");var l=e("./svgcontainer");var d=e("./svgnodecontainer");var u=e("./lineargradientcontainer");var h=e("./webkitgradientcontainer");var c=e("./utils").bind;function f(e,t){this.link=null;this.options=e;this.support=t;this.origin=this.getOrigin(window.location.href)}f.prototype.findImages=function(e){var t=[];e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this);return t};f.prototype.findBackgroundImage=function(e,t){t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this);return e};f.prototype.addImage=function(e,t){return function(i){i.args.forEach(function(r){if(!this.imageExists(e,r)){e.splice(0,0,t.call(this,i));n("Added image #"+e.length,typeof r==="string"?r.substring(0,100):r)}},this)}};f.prototype.hasImageBackground=function(e){return e.method!=="none"};f.prototype.loadImage=function(e){if(e.method==="url"){var t=e.args[0];if(this.isSVG(t)&&!this.support.svg&&!this.options.allowTaint){return new l(t)}else if(t.match(/data:image\/.*;base64,/i)){return new r(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),false)}else if(this.isSameOrigin(t)||this.options.allowTaint===true||this.isSVG(t)){return new r(t,false)}else if(this.support.cors&&!this.options.allowTaint&&this.options.useCORS){return new r(t,true)}else if(this.options.proxy){return new s(t,this.options.proxy)}else{return new o(t)}}else if(e.method==="linear-gradient"){return new u(e)}else if(e.method==="gradient"){return new h(e)}else if(e.method==="svg"){return new d(e.args[0],this.support.svg)}else if(e.method==="IFRAME"){return new a(e.args[0],this.isSameOrigin(e.args[0].src),this.options)}else{return new o(e)}};f.prototype.isSVG=function(e){return e.substring(e.length-3).toLowerCase()==="svg"||l.prototype.isInline(e)};f.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})};f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin};f.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));t.href=e;t.href=t.href;return t.protocol+t.hostname+t.port};f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var t=new o(e.src);return t.promise.then(function(t){e.image=t})})};f.prototype.get=function(e){var t=null;return this.images.some(function(i){return(t=i).src===e})?t:null};f.prototype.fetch=function(e){this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e));this.images.forEach(function(e,t){e.promise.then(function(){n("Succesfully loaded image #"+(t+1),e)},function(i){n("Failed loading image #"+(t+1),e,i)})});this.ready=Promise.all(this.images.map(this.getPromise,this));n("Finished searching images");return this};f.prototype.timeout=function(e,t){var i;var r=Promise.race([e.promise,new Promise(function(r,o){i=setTimeout(function(){n("Timed out loading image",e);o(e)},t)})]).then(function(e){clearTimeout(i);return e});r["catch"](function(){clearTimeout(i)});return r};t.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,i){var n=e("./gradientcontainer");var r=e("./color");function o(e){n.apply(this,arguments);this.type=n.TYPES.LINEAR;var t=o.REGEXP_DIRECTION.test(e.args[0])||!n.REGEXP_COLORSTOP.test(e.args[0]);if(t){e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0;this.x1=1;break;case"top":this.y0=0;this.y1=1;break;case"right":this.x0=1;this.x1=0;break;case"bottom":this.y0=1;this.y1=0;break;case"to":var i=this.y0;var n=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=n;this.y1=i;break;case"center":break;default:var r=parseFloat(e,10)*.01;if(isNaN(r)){break}if(t===0){this.y0=r;this.y1=1-this.y0}else{this.x0=r;this.x1=1-this.x0}break}},this)}else{this.y0=0;this.y1=1}this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(n.REGEXP_COLORSTOP);var i=+t[2];var o=i===0?"%":t[3];return{color:new r(t[1]),stop:o==="%"?i/100:null}});if(this.colorStops[0].stop===null){this.colorStops[0].stop=0}if(this.colorStops[this.colorStops.length-1].stop===null){this.colorStops[this.colorStops.length-1].stop=1}this.colorStops.forEach(function(e,t){if(e.stop===null){this.colorStops.slice(t).some(function(i,n){if(i.stop!==null){e.stop=(i.stop-this.colorStops[t-1].stop)/(n+1)+this.colorStops[t-1].stop;return true}else{return false}},this)}},this)}o.prototype=Object.create(n.prototype);o.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;t.exports=o},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,i){var n=function(){if(n.options.logging&&window.console&&window.console.log){Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}};n.options={logging:false};t.exports=n},{}],14:[function(e,t,i){var n=e("./color");var r=e("./utils");var o=r.getBounds;var s=r.parseBackgrounds;var a=r.offsetBounds;function l(e,t){this.node=e;this.parent=t;this.stack=null;this.bounds=null;this.borders=null;this.clip=[];this.backgroundClip=[];this.offsetBounds=null;this.visible=null;this.computedStyles=null;this.colors={};this.styles={};this.backgroundImages=null;this.transformData=null;this.transformMatrix=null;this.isPseudoElement=false;this.opacity=null}l.prototype.cloneTo=function(e){e.visible=this.visible;e.borders=this.borders;e.bounds=this.bounds;e.clip=this.clip;e.backgroundClip=this.backgroundClip;e.computedStyles=this.computedStyles;e.styles=this.styles;e.backgroundImages=this.backgroundImages;e.opacity=this.opacity};l.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity};l.prototype.assignStack=function(e){this.stack=e;e.children.push(this)};l.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")};l.prototype.css=function(e){if(!this.computedStyles){this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)}return this.styles[e]||(this.styles[e]=this.computedStyles[e])};l.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"];var i=this.css(e);if(i===undefined){t.some(function(t){i=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1));return i!==undefined},this)}return i===undefined?null:i};l.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)};l.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t};l.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new n(this.css(e)))};l.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t};l.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal";break}return e};l.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);if(e){return{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}}return null};l.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=s(this.css("backgroundImage")))};l.prototype.cssList=function(e,t){var i=(this.css(e)||"").split(",");i=i[t||0]||i[0]||"auto";i=i.trim().split(" ");if(i.length===1){i=[i[0],h(i[0])?"auto":i[0]]}return i};l.prototype.parseBackgroundSize=function(e,t,i){var n=this.cssList("backgroundSize",i);var r,o;if(h(n[0])){r=e.width*parseFloat(n[0])/100}else if(/contain|cover/.test(n[0])){var s=e.width/e.height,a=t.width/t.height;return s<a^n[0]==="contain"?{width:e.height*a,height:e.height}:{width:e.width,height:e.width/a}}else{r=parseInt(n[0],10)}if(n[0]==="auto"&&n[1]==="auto"){o=t.height}else if(n[1]==="auto"){o=r/t.width*t.height}else if(h(n[1])){o=e.height*parseFloat(n[1])/100}else{o=parseInt(n[1],10)}if(n[0]==="auto"){r=o/t.height*t.width}return{width:r,height:o}};l.prototype.parseBackgroundPosition=function(e,t,i,n){var r=this.cssList("backgroundPosition",i);var o,s;if(h(r[0])){o=(e.width-(n||t).width)*(parseFloat(r[0])/100)}else{o=parseInt(r[0],10)}if(r[1]==="auto"){s=o/t.width*t.height}else if(h(r[1])){s=(e.height-(n||t).height)*parseFloat(r[1])/100}else{s=parseInt(r[1],10)}if(r[0]==="auto"){o=s/t.height*t.width}return{left:o,top:s}};l.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]};l.prototype.parseTextShadows=function(){var e=this.css("textShadow");var t=[];if(e&&e!=="none"){var i=e.match(this.TEXT_SHADOW_PROPERTY);for(var r=0;i&&r<i.length;r++){var o=i[r].match(this.TEXT_SHADOW_VALUES);t.push({color:new n(o[0]),offsetX:o[1]?parseFloat(o[1].replace("px","")):0,offsetY:o[2]?parseFloat(o[2].replace("px","")):0,blur:o[3]?o[3].replace("px",""):0})}}return t};l.prototype.parseTransform=function(){if(!this.transformData){if(this.hasTransform()){var e=this.parseBounds();var t=this.prefixedCss("transformOrigin").split(" ").map(c).map(f);t[0]+=e.left;t[1]+=e.top;this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else{this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}}}return this.transformData};l.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform");var t=e?u(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t?t:[1,0,0,1,0,0]}return this.transformMatrix};l.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?a(this.node):o(this.node))};l.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()};l.prototype.getValue=function(){var e=this.node.value||"";if(this.node.tagName==="SELECT"){e=d(this.node)}else if(this.node.type==="password"){e=Array(e.length+1).join("â¢")}return e.length===0?this.node.placeholder||"":e};l.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;l.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;l.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;l.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function d(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function u(e){if(e&&e[1]==="matrix"){return e[2].split(",").map(function(e){return parseFloat(e.trim())})}else if(e&&e[1]==="matrix3d"){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function h(e){return e.toString().indexOf("%")!==-1}function c(e){return e.replace("px","")}function f(e){return parseFloat(e)}t.exports=l},{"./color":3,"./utils":26}],15:[function(e,t,i){var n=e("./log");var r=e("punycode");var o=e("./nodecontainer");var s=e("./textcontainer");var a=e("./pseudoelementcontainer");var l=e("./fontmetrics");var d=e("./color");var u=e("./stackingcontext");var h=e("./utils");var c=h.bind;var f=h.getBounds;var p=h.parseBackgrounds;var m=h.offsetBounds;function v(e,t,i,r,s){n("Starting NodeParser");this.renderer=t;this.options=s;this.range=null;this.support=i;this.renderQueue=[];this.stack=new u(true,1,e.ownerDocument,null);var a=new o(e,null);if(s.background){t.rectangle(0,0,t.width,t.height,new d(s.background))}if(e===e.ownerDocument.documentElement){var h=new o(a.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,h.color("backgroundColor"))}a.visibile=a.isElementVisible();this.createPseudoHideStyles(e.ownerDocument);this.disableAnimations(e.ownerDocument);this.nodes=X([a].concat(this.getChildren(a)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new l;n("Fetched nodes, total:",this.nodes.length);n("Calculate overflow clips");this.calculateOverflowClips();n("Start fetching images");this.images=r.fetch(this.nodes.filter($));this.ready=this.images.ready.then(c(function(){n("Images loaded, starting parsing");n("Creating stacking contexts");this.createStackingContexts();n("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);n("Render queue created with "+this.renderQueue.length+" items");return new Promise(c(function(e){if(!s.async){this.renderQueue.forEach(this.paint,this);e()}else if(typeof s.async==="function"){s.async.call(this,this.renderQueue,e)}else if(this.renderQueue.length>0){this.renderIndex=0;this.asyncRenderer(this.renderQueue,e)}else{e()}},this))},this))}v.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if($(e)){if(H(e)){e.appendToDOM()}e.borders=this.parseBorders(e);var t=e.css("overflow")==="hidden"?[e.borders.clip]:[];var i=e.parseClip();if(i&&["absolute","fixed"].indexOf(e.css("position"))!==-1){t.push([["rect",e.bounds.left+i.left,e.bounds.top+i.top,i.right-i.left,i.bottom-i.top]])}e.clip=g(e)?e.parent.clip.concat(t):t;e.backgroundClip=e.css("overflow")!=="hidden"?e.clip.concat([e.borders.clip]):e.clip;if(H(e)){e.cleanDOM()}}else if(U(e)){e.clip=g(e)?e.parent.clip:[]}if(!H(e)){e.bounds=null}},this)};function g(e){return e.parent&&e.parent.clip.length}v.prototype.asyncRenderer=function(e,t,i){i=i||Date.now();this.paint(e[this.renderIndex++]);if(e.length===this.renderIndex){t()}else if(i+20>Date.now()){this.asyncRenderer(e,t,i)}else{setTimeout(c(function(){this.asyncRenderer(e,t)},this),0)}};v.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }'+"."+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};v.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; "+"-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};v.prototype.createStyles=function(e,t){var i=e.createElement("style");i.innerHTML=t;e.body.appendChild(i)};v.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(e,":before");var n=this.getPseudoElement(e,":after");if(i){t.push(i)}if(n){t.push(n)}}return X(t)};function y(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}v.prototype.getPseudoElement=function(e,t){var i=e.computedStyle(t);if(!i||!i.content||i.content==="none"||i.content==="-moz-alt-content"||i.display==="none"){return null}var n=Z(i.content);var r=n.substr(0,3)==="url";var o=document.createElement(r?"img":"html2canvaspseudoelement");var l=new a(o,e,t);for(var d=i.length-1;d>=0;d--){var u=y(i.item(d));o.style[u]=i[u]}o.className=a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(r){o.src=p(n)[0].args[0];return[l]}else{var h=document.createTextNode(n);o.appendChild(h);return[l,new s(h,l)]}};v.prototype.getChildren=function(e){return X([].filter.call(e.node.childNodes,R).map(function(t){var i=[t.nodeType===Node.TEXT_NODE?new s(t,e):new o(t,e)].filter(G);return t.nodeType===Node.ELEMENT_NODE&&i.length&&t.tagName!=="TEXTAREA"?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))};v.prototype.newStackingContext=function(e,t){var i=new u(t,e.getOpacity(),e.node,e.parent);e.cloneTo(i);var n=t?i.getParentStack(this):i.parent.stack;n.contexts.push(i);e.stack=i};v.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){if($(e)&&(this.isRootElement(e)||q(e)||N(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())){this.newStackingContext(e,true)}else if($(e)&&(L(e)&&O(e)||B(e)||j(e))){this.newStackingContext(e,false)}else{e.assignStack(e.parent.stack)}},this)};v.prototype.isBodyWithTransparentRoot=function(e){return e.node.nodeName==="BODY"&&e.parent.color("backgroundColor").isTransparent()};v.prototype.isRootElement=function(e){return e.parent===null};v.prototype.sortStackingContexts=function(e){e.contexts.sort(W(e.contexts.slice(0)));e.contexts.forEach(this.sortStackingContexts,this)};v.prototype.parseTextBounds=function(e){return function(t,i,n){if(e.parent.css("textDecoration").substr(0,4)!=="none"||t.trim().length!==0){if(this.support.rangeBounds&&!e.parent.hasTransform()){var r=n.slice(0,i).join("").length;return this.getRangeBounds(e.node,r,t.length)}else if(e.node&&typeof e.node.data==="string"){var o=e.node.splitText(t.length);var s=this.getWrapperBounds(e.node,e.parent.hasTransform());e.node=o;return s}}else if(!this.support.rangeBounds||e.parent.hasTransform()){e.node=e.node.splitText(t.length)}return{}}};v.prototype.getWrapperBounds=function(e,t){var i=e.ownerDocument.createElement("html2canvaswrapper");var n=e.parentNode,r=e.cloneNode(true);i.appendChild(e.cloneNode(true));n.replaceChild(i,e);var o=t?m(i):f(i);n.replaceChild(r,i);return o};v.prototype.getRangeBounds=function(e,t,i){var n=this.range||(this.range=e.ownerDocument.createRange());n.setStart(e,t);n.setEnd(e,t+i);return n.getBoundingClientRect()};function b(){}v.prototype.parse=function(e){var t=e.contexts.filter(D);var i=e.children.filter($);var n=i.filter(z(j));var r=n.filter(z(L)).filter(z(P));var o=i.filter(z(L)).filter(j);var s=n.filter(z(L)).filter(P);var a=e.contexts.concat(n.filter(L)).filter(O);var l=e.children.filter(U).filter(A);var d=e.contexts.filter(E);t.concat(r).concat(o).concat(s).concat(a).concat(l).concat(d).forEach(function(e){this.renderQueue.push(e);if(M(e)){this.parse(e);this.renderQueue.push(new b)}},this)};v.prototype.paint=function(e){try{if(e instanceof b){this.renderer.ctx.restore()}else if(U(e)){if(H(e.parent)){e.parent.appendToDOM()}this.paintText(e);if(H(e.parent)){e.parent.cleanDOM()}}else{this.paintNode(e)}}catch(e){n(e);if(this.options.strict){throw e}}};v.prototype.paintNode=function(e){if(M(e)){this.renderer.setOpacity(e.opacity);this.renderer.ctx.save();if(e.hasTransform()){this.renderer.setTransform(e.parseTransform())}}if(e.node.nodeName==="INPUT"&&e.node.type==="checkbox"){this.paintCheckbox(e)}else if(e.node.nodeName==="INPUT"&&e.node.type==="radio"){this.paintRadio(e)}else{this.paintElement(e)}};v.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(V))},this);this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this);this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(e.node);if(i){this.renderer.renderImage(e,t,e.borders,i)}else{n("Error loading <"+e.node.nodeName+">",e.node)}break;case"IMG":var r=this.images.get(e.node.src);if(r){this.renderer.renderImage(e,t,e.borders,r)}else{n("Error loading <img>",e.node.src)}break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e);break}},this)};v.prototype.paintCheckbox=function(e){var t=e.parseBounds();var i=Math.min(t.width,t.height);var n={width:i-1,height:i-1,top:t.top,left:t.left};var r=[3,3];var o=[r,r,r,r];var s=[1,1,1,1].map(function(e){return{color:new d("#A5A5A5"),width:e}});var a=k(n,o,s);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new d("#DEDEDE"));this.renderer.renderBorders(x(s,n,a,o));if(e.node.checked){this.renderer.font(new d("#424242"),"normal","normal","bold",i-3+"px","arial");this.renderer.text("â",n.left+i/6,n.top+i-1)}},this)};v.prototype.paintRadio=function(e){var t=e.parseBounds();var i=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,i,new d("#DEDEDE"),1,new d("#A5A5A5"));if(e.node.checked){this.renderer.circle(Math.ceil(t.left+i/4)+1,Math.ceil(t.top+i/4)+1,Math.floor(i/2),new d("#424242"))}},this)};v.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var i=e.node.ownerDocument;var r=i.createElement("html2canvaswrapper");var o=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];o.forEach(function(t){try{r.style[t]=e.css(t)}catch(e){n("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var a=e.parseBounds();r.style.position="fixed";r.style.left=a.left+"px";r.style.top=a.top+"px";r.textContent=t;i.body.appendChild(r);this.paintText(new s(r.firstChild,e));i.body.removeChild(r)}};v.prototype.paintText=function(e){e.applyTextTransform();var t=r.ucs2.decode(e.node.data);var i=(!this.options.letterRendering||I(e))&&!J(e.node.data)?K(t):t.map(function(e){return r.ucs2.encode([e])});var n=e.parent.fontWeight();var o=e.parent.css("fontSize");var s=e.parent.css("fontFamily");var a=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),n,o,s);if(a.length){this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur)}else{this.renderer.clearShadow()}this.renderer.clip(e.parent.clip,function(){i.map(this.parseTextBounds(e),this).forEach(function(t,n){if(t){this.renderer.text(i[n],t.left,t.bottom);this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(s,o))}},this)},this)};v.prototype.renderTextDecoration=function(e,t,i){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+i.baseline+i.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+i.middle+i.lineWidth),t.width,1,e.color("color"));break}};var w={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};v.prototype.parseBorders=function(e){var t=e.parseBounds();var i=F(e);var n=["Top","Right","Bottom","Left"].map(function(t,i){var n=e.css("border"+t+"Style");var r=e.color("border"+t+"Color");if(n==="inset"&&r.isBlack()){r=new d([255,255,255,r.a])}var o=w[n]?w[n][i]:null;return{width:e.cssInt("border"+t+"Width"),color:o?r[o[0]](o[1]):r,args:null}});var r=k(t,i,n);return{clip:this.parseBackgroundClip(e,r,n,i,t),borders:x(n,t,r,i)}};function x(e,t,i,n){return e.map(function(r,o){if(r.width>0){var s=t.left;var a=t.top;var l=t.width;var d=t.height-e[2].width;switch(o){case 0:d=e[0].width;r.args=S({c1:[s,a],c2:[s+l,a],c3:[s+l-e[1].width,a+d],c4:[s+e[3].width,a+d]},n[0],n[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:s=t.left+t.width-e[1].width;l=e[1].width;r.args=S({c1:[s+l,a],c2:[s+l,a+d+e[2].width],c3:[s,a+d],c4:[s,a+e[0].width]},n[1],n[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:a=a+t.height-e[2].width;d=e[2].width;r.args=S({c1:[s+l,a+d],c2:[s,a+d],c3:[s+e[3].width,a],c4:[s+l-e[3].width,a]},n[2],n[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:l=e[3].width;r.args=S({c1:[s,a+d+e[2].width],c2:[s,a],c3:[s+l,a+e[0].width],c4:[s+l,a+d]},n[3],n[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner);break}}return r})}v.prototype.parseBackgroundClip=function(e,t,i,n,r){var o=e.css("backgroundClip"),s=[];switch(o){case"content-box":case"padding-box":T(s,n[0],n[1],t.topLeftInner,t.topRightInner,r.left+i[3].width,r.top+i[0].width);T(s,n[1],n[2],t.topRightInner,t.bottomRightInner,r.left+r.width-i[1].width,r.top+i[0].width);T(s,n[2],n[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-i[1].width,r.top+r.height-i[2].width);T(s,n[3],n[0],t.bottomLeftInner,t.topLeftInner,r.left+i[3].width,r.top+r.height-i[2].width);break;default:T(s,n[0],n[1],t.topLeftOuter,t.topRightOuter,r.left,r.top);T(s,n[1],n[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top);T(s,n[2],n[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height);T(s,n[3],n[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height);break}return s};function _(e,t,i,n){var r=4*((Math.sqrt(2)-1)/3);var o=i*r,s=n*r,a=e+i,l=t+n;return{topLeft:C({x:e,y:l},{x:e,y:l-s},{x:a-o,y:t},{x:a,y:t}),topRight:C({x:e,y:t},{x:e+o,y:t},{x:a,y:l-s},{x:a,y:l}),bottomRight:C({x:a,y:t},{x:a,y:t+s},{x:e+o,y:l},{x:e,y:l}),bottomLeft:C({x:a,y:l},{x:a-o,y:l},{x:e,y:t+s},{x:e,y:t})}}function k(e,t,i){var n=e.left,r=e.top,o=e.width,s=e.height,a=t[0][0]<o/2?t[0][0]:o/2,l=t[0][1]<s/2?t[0][1]:s/2,d=t[1][0]<o/2?t[1][0]:o/2,u=t[1][1]<s/2?t[1][1]:s/2,h=t[2][0]<o/2?t[2][0]:o/2,c=t[2][1]<s/2?t[2][1]:s/2,f=t[3][0]<o/2?t[3][0]:o/2,p=t[3][1]<s/2?t[3][1]:s/2;var m=o-d,v=s-c,g=o-h,y=s-p;return{topLeftOuter:_(n,r,a,l).topLeft.subdivide(.5),topLeftInner:_(n+i[3].width,r+i[0].width,Math.max(0,a-i[3].width),Math.max(0,l-i[0].width)).topLeft.subdivide(.5),topRightOuter:_(n+m,r,d,u).topRight.subdivide(.5),topRightInner:_(n+Math.min(m,o+i[3].width),r+i[0].width,m>o+i[3].width?0:d-i[3].width,u-i[0].width).topRight.subdivide(.5),bottomRightOuter:_(n+g,r+v,h,c).bottomRight.subdivide(.5),bottomRightInner:_(n+Math.min(g,o-i[3].width),r+Math.min(v,s+i[0].width),Math.max(0,h-i[1].width),c-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:_(n,r+y,f,p).bottomLeft.subdivide(.5),bottomLeftInner:_(n+i[3].width,r+y,Math.max(0,f-i[3].width),p-i[2].width).bottomLeft.subdivide(.5)}}function C(e,t,i,n){var r=function(e,t,i){return{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}};return{start:e,startControl:t,endControl:i,end:n,subdivide:function(o){var s=r(e,t,o),a=r(t,i,o),l=r(i,n,o),d=r(s,a,o),u=r(a,l,o),h=r(d,u,o);return[C(e,s,d,h),C(h,u,l,n)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,i.x,i.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",i.x,i.y,t.x,t.y,e.x,e.y])}}}function S(e,t,i,n,r,o,s){var a=[];if(t[0]>0||t[1]>0){a.push(["line",n[1].start.x,n[1].start.y]);n[1].curveTo(a)}else{a.push(["line",e.c1[0],e.c1[1]])}if(i[0]>0||i[1]>0){a.push(["line",o[0].start.x,o[0].start.y]);o[0].curveTo(a);a.push(["line",s[0].end.x,s[0].end.y]);s[0].curveToReversed(a)}else{a.push(["line",e.c2[0],e.c2[1]]);a.push(["line",e.c3[0],e.c3[1]])}if(t[0]>0||t[1]>0){a.push(["line",r[1].end.x,r[1].end.y]);r[1].curveToReversed(a)}else{a.push(["line",e.c4[0],e.c4[1]])}return a}function T(e,t,i,n,r,o,s){if(t[0]>0||t[1]>0){e.push(["line",n[0].start.x,n[0].start.y]);n[0].curveTo(e);n[1].curveTo(e)}else{e.push(["line",o,s])}if(i[0]>0||i[1]>0){e.push(["line",r[0].start.x,r[0].start.y])}}function D(e){return e.cssInt("zIndex")<0}function E(e){return e.cssInt("zIndex")>0}function O(e){return e.cssInt("zIndex")===0}function P(e){return["inline","inline-block","inline-table"].indexOf(e.css("display"))!==-1}function M(e){return e instanceof u}function A(e){return e.node.data.trim().length>0}function I(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function F(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var i=e.css("border"+t+"Radius");var n=i.split(" ");if(n.length<=1){n[1]=n[0]}return n.map(Y)})}function R(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function N(e){var t=e.css("position");var i=["absolute","relative","fixed"].indexOf(t)!==-1?e.css("zIndex"):"auto";return i!=="auto"}function L(e){return e.css("position")!=="static"}function j(e){return e.css("float")!=="none"}function B(e){return["inline-block","inline-table"].indexOf(e.css("display"))!==-1}function z(e){var t=this;return function(){return!e.apply(t,arguments)}}function $(e){return e.node.nodeType===Node.ELEMENT_NODE}function H(e){return e.isPseudoElement===true}function U(e){return e.node.nodeType===Node.TEXT_NODE}function W(e){return function(t,i){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(i.cssInt("zIndex")+e.indexOf(i)/e.length)}}function q(e){return e.getOpacity()<1}function Y(e){return parseInt(e,10)}function V(e){return e.width}function G(e){return e.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)===-1}function X(e){return[].concat.apply([],e)}function Z(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){var t=[],i=0,n=false,o;while(e.length){if(Q(e[i])===n){o=e.splice(0,i);if(o.length){t.push(r.ucs2.encode(o))}n=!n;i=0}else{i++}if(i>=e.length){o=e.splice(0,i);if(o.length){t.push(r.ucs2.encode(o))}}}return t}function Q(e){return[32,13,10,9,45].indexOf(e)!==-1}function J(e){return/[^\u0000-\u00ff]/.test(e)}t.exports=v},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,i){var n=e("./xhr");var r=e("./utils");var o=e("./log");var s=e("./clone");var a=r.decode64;function l(e,t,i){var r="withCredentials"in new XMLHttpRequest;if(!t){return Promise.reject("No proxy configured")}var o=c(r);var s=f(t,e,o);return r?n(s):h(i,s,o).then(function(e){return a(e.content)})}var d=0;function u(e,t,i){var n="crossOrigin"in new Image;var r=c(n);var o=f(t,e,r);return n?Promise.resolve(o):h(i,o,r).then(function(e){return"data:"+e.type+";base64,"+e.content})}function h(e,t,i){return new Promise(function(n,r){var o=e.createElement("script");var s=function(){delete window.html2canvas.proxy[i];e.body.removeChild(o)};window.html2canvas.proxy[i]=function(e){s();n(e)};o.src=t;o.onerror=function(e){s();r(e)};e.body.appendChild(o)})}function c(e){return!e?"html2canvas_"+Date.now()+"_"+ ++d+"_"+Math.round(Math.random()*1e5):""}function f(e,t,i){return e+"?url="+encodeURIComponent(t)+(i.length?"&callback=html2canvas.proxy."+i:"")}function p(e){return function(t){var i=new DOMParser,n;try{n=i.parseFromString(t,"text/html")}catch(e){o("DOMParser not supported, falling back to createHTMLDocument");n=document.implementation.createHTMLDocument("");try{n.open();n.write(t);n.close()}catch(e){o("createHTMLDocument write not supported, falling back to document.body.innerHTML");n.body.innerHTML=t}}var r=n.querySelector("base");if(!r||!r.href.host){var s=n.createElement("base");s.href=e;n.head.insertBefore(s,n.head.firstChild)}return n}}function m(e,t,i,n,r,o){return new l(e,t,window.document).then(p(e)).then(function(e){return s(e,i,n,r,o,0,0)})}i.Proxy=l;i.ProxyURL=u;i.loadUrlDocument=m},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,i){var n=e("./proxy").ProxyURL;function r(e,t){var i=document.createElement("a");i.href=e;e=i.href;this.src=e;this.image=new Image;var r=this;this.promise=new Promise(function(i,o){r.image.crossOrigin="Anonymous";r.image.onload=i;r.image.onerror=o;new n(e,t,document).then(function(e){r.image.src=e})["catch"](o)})}t.exports=r},{"./proxy":16}],18:[function(e,t,i){var n=e("./nodecontainer");function r(e,t,i){n.call(this,e,t);this.isPseudoElement=true;this.before=i===":before"}r.prototype.cloneTo=function(e){r.prototype.cloneTo.call(this,e);e.isPseudoElement=true;e.before=this.before};r.prototype=Object.create(n.prototype);r.prototype.appendToDOM=function(){if(this.before){this.parent.node.insertBefore(this.node,this.parent.node.firstChild)}else{this.parent.node.appendChild(this.node)}this.parent.node.className+=" "+this.getHideClass()};r.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};r.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";t.exports=r},{"./nodecontainer":14}],19:[function(e,t,i){var n=e("./log");function r(e,t,i,n,r){this.width=e;this.height=t;this.images=i;this.options=n;this.document=r}r.prototype.renderImage=function(e,t,i,n){var r=e.cssInt("paddingLeft"),o=e.cssInt("paddingTop"),s=e.cssInt("paddingRight"),a=e.cssInt("paddingBottom"),l=i.borders;var d=t.width-(l[1].width+l[3].width+r+s);var u=t.height-(l[0].width+l[2].width+o+a);this.drawImage(n,0,0,n.image.width||d,n.image.height||u,t.left+r+l[3].width,t.top+o+l[0].width,d,u)};r.prototype.renderBackground=function(e,t,i){if(t.height>0&&t.width>0){this.renderBackgroundColor(e,t);this.renderBackgroundImage(e,t,i)}};r.prototype.renderBackgroundColor=function(e,t){var i=e.color("backgroundColor");if(!i.isTransparent()){this.rectangle(t.left,t.top,t.width,t.height,i)}};r.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)};r.prototype.renderBorder=function(e){if(!e.color.isTransparent()&&e.args!==null){this.drawShape(e.args,e.color)}};r.prototype.renderBackgroundImage=function(e,t,i){var r=e.parseBackgroundImages();r.reverse().forEach(function(r,o,s){switch(r.method){case"url":var a=this.images.get(r.args[0]);if(a){this.renderBackgroundRepeating(e,t,a,s.length-(o+1),i)}else{n("Error loading background-image",r.args[0])}break;case"linear-gradient":case"gradient":var l=this.images.get(r.value);if(l){this.renderBackgroundGradient(l,t,i)}else{n("Error loading background-image",r.args[0])}break;case"none":break;default:n("Unknown background-image type",r.args[0])}},this)};r.prototype.renderBackgroundRepeating=function(e,t,i,n,r){var o=e.parseBackgroundSize(t,i.image,n);var s=e.parseBackgroundPosition(t,i.image,n,o);var a=e.parseBackgroundRepeat(n);switch(a){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,s,o,t,t.left+r[3],t.top+s.top+r[0],99999,o.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,s,o,t,t.left+s.left+r[3],t.top+r[0],o.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(i,s,o,t,t.left+s.left+r[3],t.top+s.top+r[0],o.width,o.height,r);break;default:this.renderBackgroundRepeat(i,s,o,{top:t.top,left:t.left},r[3],r[0]);break}};t.exports=r},{"./log":13}],20:[function(e,t,i){var n=e("../renderer");var r=e("../lineargradientcontainer");var o=e("../log");function s(e,t){n.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");if(!this.options.canvas){this.canvas.width=e;this.canvas.height=t}this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};o("Initialized CanvasRenderer with size",e,"x",t)}s.prototype=Object.create(n.prototype);s.prototype.setFillStyle=function(e){this.ctx.fillStyle=typeof e==="object"&&!!e.isColor?e.toString():e;return this.ctx};s.prototype.rectangle=function(e,t,i,n,r){this.setFillStyle(r).fillRect(e,t,i,n)};s.prototype.circle=function(e,t,i,n){this.setFillStyle(n);this.ctx.beginPath();this.ctx.arc(e+i/2,t+i/2,i/2,0,Math.PI*2,true);this.ctx.closePath();this.ctx.fill()};s.prototype.circleStroke=function(e,t,i,n,r,o){this.circle(e,t,i,n);this.ctx.strokeStyle=o.toString();this.ctx.stroke()};s.prototype.drawShape=function(e,t){this.shape(e);this.setFillStyle(t).fill()};s.prototype.taints=function(e){if(e.tainted===null){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1);e.tainted=false}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d");e.tainted=true}}return e.tainted};s.prototype.drawImage=function(e,t,i,n,r,o,s,a,l){if(!this.taints(e)||this.options.allowTaint){this.ctx.drawImage(e.image,t,i,n,r,o,s,a,l)}};s.prototype.clip=function(e,t,i){this.ctx.save();e.filter(a).forEach(function(e){this.shape(e).clip()},this);t.call(i);this.ctx.restore()};s.prototype.shape=function(e){this.ctx.beginPath();e.forEach(function(e,t){if(e[0]==="rect"){this.ctx.rect.apply(this.ctx,e.slice(1))}else{this.ctx[t===0?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))}},this);this.ctx.closePath();return this.ctx};s.prototype.font=function(e,t,i,n,r,o){this.setFillStyle(e).font=[t,i,n,r,o].join(" ").split(",")[0]};s.prototype.fontShadow=function(e,t,i,n){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",i).setVariable("shadowBlur",n)};s.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};s.prototype.setOpacity=function(e){this.ctx.globalAlpha=e};s.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]);this.ctx.transform.apply(this.ctx,e.matrix);this.ctx.translate(-e.origin[0],-e.origin[1])};s.prototype.setVariable=function(e,t){if(this.variables[e]!==t){this.variables[e]=this.ctx[e]=t}return this};s.prototype.text=function(e,t,i){this.ctx.fillText(e,t,i)};s.prototype.backgroundRepeatShape=function(e,t,i,n,r,o,s,a,l){var d=[["line",Math.round(r),Math.round(o)],["line",Math.round(r+s),Math.round(o)],["line",Math.round(r+s),Math.round(a+o)],["line",Math.round(r),Math.round(a+o)]];this.clip([d],function(){this.renderBackgroundRepeat(e,t,i,n,l[3],l[0])},this)};s.prototype.renderBackgroundRepeat=function(e,t,i,n,r,o){var s=Math.round(n.left+t.left+r),a=Math.round(n.top+t.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,i),"repeat"));this.ctx.translate(s,a);this.ctx.fill();this.ctx.translate(-s,-a)};s.prototype.renderBackgroundGradient=function(e,t){if(e instanceof r){var i=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){i.addColorStop(e.stop,e.color.toString())});this.rectangle(t.left,t.top,t.width,t.height,i)}};s.prototype.resizeImage=function(e,t){var i=e.image;if(i.width===t.width&&i.height===t.height){return i}var n,r=document.createElement("canvas");r.width=t.width;r.height=t.height;n=r.getContext("2d");n.drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height);return r};function a(e){return e.length>0}t.exports=s},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,i){var n=e("./nodecontainer");function r(e,t,i,r){n.call(this,i,r);this.ownStacking=e;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*t}r.prototype=Object.create(n.prototype);r.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack};t.exports=r},{"./nodecontainer":14}],22:[function(e,t,i){function n(e){this.rangeBounds=this.testRangeBounds(e);this.cors=this.testCORS();this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,i,n,r,o=false;if(e.createRange){t=e.createRange();if(t.getBoundingClientRect){i=e.createElement("boundtest");i.style.height="123px";i.style.display="block";e.body.appendChild(i);t.selectNode(i);n=t.getBoundingClientRect();r=n.height;if(r===123){o=true}e.body.removeChild(i)}}return o};n.prototype.testCORS=function(){return typeof(new Image).crossOrigin!=="undefined"};n.prototype.testSVG=function(){var e=new Image;var t=document.createElement("canvas");var i=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0);t.toDataURL()}catch(e){return false}return true};t.exports=n},{}],23:[function(e,t,i){var n=e("./xhr");var r=e("./utils").decode64;function o(e){this.src=e;this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):n(e)}).then(function(e){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,i))})})}o.prototype.hasFabric=function(){return!window.html2canvas.svg||!window.html2canvas.svg.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()};o.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)};o.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")};o.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)};o.prototype.createCanvas=function(e){var t=this;return function(i,n){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=r.lowerCanvasEl;r.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,n)).renderAll();e(r.lowerCanvasEl)}};o.prototype.decode64=function(e){return typeof window.atob==="function"?window.atob(e):r(e)};t.exports=o},{"./utils":26,"./xhr":28}],24:[function(e,t,i){var n=e("./svgcontainer");function r(e,t){this.src=e;this.image=null;var i=this;this.promise=t?new Promise(function(t,n){i.image=new Image;i.image.onload=t;i.image.onerror=n;i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e);if(i.image.complete===true){t(i.image)}}):this.hasFabric().then(function(){return new Promise(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,i.createCanvas.call(i,t))})})}r.prototype=Object.create(n.prototype);t.exports=r},{"./svgcontainer":23}],25:[function(e,t,i){var n=e("./nodecontainer");function r(e,t){n.call(this,e,t)}r.prototype=Object.create(n.prototype);r.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};r.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return t.toUpperCase();default:return t}};function o(e,t,i){if(e.length>0){return t+i.toUpperCase()}}t.exports=r},{"./nodecontainer":14}],26:[function(e,t,i){i.smallImage=function e(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};i.bind=function(e,t){return function(){return e.apply(t,arguments)}};i.decode64=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i=e.length,n,r,o,s,a,l,d,u;var h="";for(n=0;n<i;n+=4){r=t.indexOf(e[n]);o=t.indexOf(e[n+1]);s=t.indexOf(e[n+2]);a=t.indexOf(e[n+3]);l=r<<2|o>>4;d=(o&15)<<4|s>>2;u=(s&3)<<6|a;if(s===64){h+=String.fromCharCode(l)}else if(a===64||a===-1){h+=String.fromCharCode(l,d)}else{h+=String.fromCharCode(l,d,u)}}return h};i.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect();var i=e.offsetWidth==null?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+i,left:t.left,width:i,height:e.offsetHeight==null?t.height:e.offsetHeight}}return{}};i.offsetBounds=function(e){var t=e.offsetParent?i.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}};i.parseBackgrounds=function(e){var t=" \r\n\t",i,n,r,o,s,a=[],l=0,d=0,u,h;var c=function(){if(i){if(n.substr(0,1)==='"'){n=n.substr(1,n.length-2)}if(n){h.push(n)}if(i.substr(0,1)==="-"&&(o=i.indexOf("-",1)+1)>0){r=i.substr(0,o);i=i.substr(o)}a.push({prefix:r,method:i.toLowerCase(),value:s,args:h,image:null})}h=[];i=r=n=s=""};h=[];i=r=n=s="";e.split("").forEach(function(e){if(l===0&&t.indexOf(e)>-1){return}switch(e){case'"':if(!u){u=e}else if(u===e){u=null}break;case"(":if(u){break}else if(l===0){l=1;s+=e;return}else{d++}break;case")":if(u){break}else if(l===1){if(d===0){l=0;s+=e;c();return}else{d--}}break;case",":if(u){break}else if(l===0){c();return}else if(l===1){if(d===0&&!i.match(/^url$/i)){h.push(n);n="";s+=e;return}}break}s+=e;if(l===0){i+=e}else{n+=e}});c();return a}},{}],27:[function(e,t,i){var n=e("./gradientcontainer");function r(e){n.apply(this,arguments);this.type=e.args[0]==="linear"?n.TYPES.LINEAR:n.TYPES.RADIAL}r.prototype=Object.create(n.prototype);t.exports=r},{"./gradientcontainer":9}],28:[function(e,t,i){function n(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.open("GET",e);n.onload=function(){if(n.status===200){t(n.responseText)}else{i(new Error(n.statusText))}};n.onerror=function(){i(new Error("Network Error"))};n.send()})}t.exports=n},{}]},{},[4])(4)});(function(e){e.fn.extend({tableExport:function(t){var i={consoleLog:false,csvEnclosure:'"',csvSeparator:",",csvUseBOM:true,displayTableName:false,escape:false,excelFileFormat:"xlshtml",excelstyles:[],fileName:"tableExport",htmlContent:false,ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"left",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:true}}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onCellData:null,onCellHtmlData:null,onMsoNumberFormat:null,outputMode:"file",pdfmake:{enabled:false,docDefinition:{pageOrientation:"portrait",defaultStyle:{font:"Roboto"}},fonts:{}},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"myTableName",type:"csv",worksheetName:"Worksheet"};var n=1.15;var r=this;var o=null;var s=[];var a=[];var l=0;var d=[];var u="";var h=[];var c;e.extend(true,i,t);h=K(r);if(i.type=="csv"||i.type=="tsv"||i.type=="txt"){var f="";var p=0;l=0;function m(e,t,n){var r="";if(e!==null){var o=ue(e,t,n);var s=o===null||o===""?"":o.toString();if(i.type=="tsv"){if(o instanceof Date)o.toLocaleString();r=ae(s,"\t"," ")}else{if(o instanceof Date)r=i.csvEnclosure+o.toLocaleString()+i.csvEnclosure;else{r=ae(s,i.csvEnclosure,i.csvEnclosure+i.csvEnclosure);if(r.indexOf(i.csvSeparator)>=0||/[\r\n ]/g.test(r))r=i.csvEnclosure+r+i.csvEnclosure}}}return r}var v=function(t,n,r){t.each(function(){u="";J(this,n,l,r+t.length,function(e,t,n){u+=m(e,t,n)+(i.type=="tsv"?"\t":i.csvSeparator)});u=e.trim(u).substring(0,u.length-1);if(u.length>0){if(f.length>0)f+="\n";f+=u}l++});return t.length};p+=v(e(r).find("thead").first().find(i.theadSelector),"th,td",p);e(r).find("tbody").each(function(){p+=v(e(this).find(i.tbodySelector),"td,th",p)});if(i.tfootSelector.length)v(e(r).find("tfoot").first().find(i.tfootSelector),"td,th",p);f+="\n";if(i.consoleLog===true)console.log(f);if(i.outputMode==="string")return f;if(i.outputMode==="base64")return Ce(f);if(i.outputMode==="window"){_e(false,"data:text/"+(i.type=="csv"?"csv":"plain")+";charset=utf-8,",f);return}try{c=new Blob([f],{type:"text/"+(i.type=="csv"?"csv":"plain")+";charset=utf-8"});saveAs(c,i.fileName+"."+i.type,i.type!="csv"||i.csvUseBOM===false)}catch(e){_e(i.fileName+"."+i.type,"data:text/"+(i.type=="csv"?"csv":"plain")+";charset=utf-8,"+(i.type=="csv"&&i.csvUseBOM?"\ufeff":""),f)}}else if(i.type=="sql"){l=0;var g="INSERT INTO `"+i.tableName+"` (";s=e(r).find("thead").first().find(i.theadSelector);s.each(function(){J(this,"th,td",l,s.length,function(e,t,i){g+="'"+ue(e,t,i)+"',"});l++;g=e.trim(g);g=e.trim(g).substring(0,g.length-1)});g+=") VALUES ";e(r).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(r).find("tfoot").find(i.tfootSelector));e(a).each(function(){u="";J(this,"td,th",l,s.length+a.length,function(e,t,i){u+="'"+ue(e,t,i)+"',"});if(u.length>3){g+="("+u;g=e.trim(g).substring(0,g.length-1);g+="),"}l++});g=e.trim(g).substring(0,g.length-1);g+=";";if(i.consoleLog===true)console.log(g);if(i.outputMode==="string")return g;if(i.outputMode==="base64")return Ce(g);try{c=new Blob([g],{type:"text/plain;charset=utf-8"});saveAs(c,i.fileName+".sql")}catch(e){_e(i.fileName+".sql","data:application/sql;charset=utf-8,",g)}}else if(i.type=="json"){var y=[];s=e(r).find("thead").first().find(i.theadSelector);s.each(function(){var e=[];J(this,"th,td",l,s.length,function(t,i,n){e.push(ue(t,i,n))});y.push(e)});var b=[];e(r).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(r).find("tfoot").find(i.tfootSelector));e(a).each(function(){var t={};var i=0;J(this,"td,th",l,s.length+a.length,function(e,n,r){if(y.length){t[y[y.length-1][i]]=ue(e,n,r)}else{t[i]=ue(e,n,r)}i++});if(e.isEmptyObject(t)===false)b.push(t);l++});var w="";if(i.jsonScope=="head")w=JSON.stringify(y);else if(i.jsonScope=="data")w=JSON.stringify(b);else w=JSON.stringify({header:y,data:b});if(i.consoleLog===true)console.log(w);if(i.outputMode==="string")return w;if(i.outputMode==="base64")return Ce(w);try{c=new Blob([w],{type:"application/json;charset=utf-8"});saveAs(c,i.fileName+".json")}catch(e){_e(i.fileName+".json","data:application/json;charset=utf-8;base64,",w)}}else if(i.type==="xml"){l=0;var x='<?xml version="1.0" encoding="utf-8"?>';x+="<tabledata><fields>";s=e(r).find("thead").first().find(i.theadSelector);s.each(function(){J(this,"th,td",l,s.length,function(e,t,i){x+="<field>"+ue(e,t,i)+"</field>"});l++});x+="</fields><data>";var _=1;e(r).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(r).find("tfoot").find(i.tfootSelector));e(a).each(function(){var e=1;u="";J(this,"td,th",l,s.length+a.length,function(t,i,n){u+="<column-"+e+">"+ue(t,i,n)+"</column-"+e+">";e++});if(u.length>0&&u!="<column-1></column-1>"){x+='<row id="'+_+'">'+u+"</row>";_++}l++});x+="</data></tabledata>";if(i.consoleLog===true)console.log(x);if(i.outputMode==="string")return x;if(i.outputMode==="base64")return Ce(x);try{c=new Blob([x],{type:"application/xml;charset=utf-8"});saveAs(c,i.fileName+".xml")}catch(e){_e(i.fileName+".xml","data:application/xml;charset=utf-8;base64,",x)}}else if(i.type==="excel"&&i.excelFileFormat==="xmlss"){var k=[];e(r).filter(function(){return e(this).data("tableexport-display")!="none"&&(e(this).is(":visible")||e(this).data("tableexport-display")=="always")}).each(function(){var t=e(this);var n="";l=0;h=K(this);s=t.find("thead").first().find(i.theadSelector);n+="<Table>";var r=0;s.each(function(){u="";J(this,"th,td",l,s.length,function(e,t,i){if(e!==null){u+='<Cell><Data ss:Type="String">'+ue(e,t,i)+"</Data></Cell>";r++}});if(u.length>0)n+="<Row>"+u+"</Row>";l++});a=[];t.find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});e(a).each(function(){u="";J(this,"td,th",l,s.length+a.length,function(e,t,i){if(e!==null){var n="String";var r="";var o=ue(e,t,i);if(jQuery.isNumeric(o)!==false){n="Number"}else{var s=de(o);if(s!==false){o=s;n="Number";r=' ss:StyleID="pct1"'}}if(n!=="Number")o=o.replace(/\n/g,"<br>");u+="<Cell"+r+'><Data ss:Type="'+n+'">'+o+"</Data></Cell>"}});if(u.length>0)n+="<Row>"+u+"</Row>";l++});n+="</Table>";k.push(n);if(i.consoleLog===true)console.log(n)});var C=(new Date).toISOString();var S='<?xml version="1.0" encoding="UTF-8"?><?mso-application progid="Excel.Sheet"?> '+'<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" '+'xmlns:o="urn:schemas-microsoft-com:office:office" '+'xmlns:x="urn:schemas-microsoft-com:office:excel" '+'xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" '+'xmlns:html="http://www.w3.org/TR/REC-html40"> '+'<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> '+"<Created>"+C+"</Created> "+"</DocumentProperties> "+'<OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> '+"<AllowPNG/> "+"</OfficeDocumentSettings> "+'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> '+"<WindowHeight>9000</WindowHeight> "+"<WindowWidth>13860</WindowWidth> "+"<WindowTopX>0</WindowTopX> "+"<WindowTopY>0</WindowTopY> "+"<ProtectStructure>False</ProtectStructure> "+"<ProtectWindows>False</ProtectWindows> "+"</ExcelWorkbook> "+"<Styles> "+'<Style ss:ID="Default" ss:Name="Default"> '+'<Alignment ss:Vertical="Center"/> '+"<Borders/> "+"<Font/> "+"<Interior/> "+"<NumberFormat/> "+"<Protection/> "+"</Style> "+'<Style ss:ID="Normal" ss:Name="Normal"/> '+'<Style ss:ID="pct1"> '+'  <NumberFormat ss:Format="Percent"/> '+"</Style> "+"</Styles>";for(var T=0;T<k.length;T++){var D=typeof i.worksheetName==="string"?i.worksheetName+" "+(T+1):typeof i.worksheetName[T]!=="undefined"?i.worksheetName[T]:"Table "+(T+1);S+='<Worksheet ss:Name="'+D+'">'+k[T]+"<WorksheetOptions/> "+"</Worksheet>"}S+="</Workbook>";if(i.consoleLog===true)console.log(S);if(i.outputMode==="string")return S;if(i.outputMode==="base64")return Ce(S);try{c=new Blob([S],{type:"application/xml;charset=utf-8"});saveAs(c,i.fileName+".xml")}catch(e){_e(i.fileName+".xml","data:application/xml;charset=utf-8;base64,",S)}}else if(i.type=="excel"||i.type=="xls"||i.type=="word"||i.type=="doc"){var E=i.type=="excel"||i.type=="xls"?"excel":"word";var O=E=="excel"?"xls":"doc";var P='xmlns:x="urn:schemas-microsoft-com:office:'+E+'"';var M="";e(r).filter(function(){return e(this).data("tableexport-display")!="none"&&(e(this).is(":visible")||e(this).data("tableexport-display")=="always")}).each(function(){var t=e(this);l=0;h=K(this);M+="<table><thead>";s=t.find("thead").first().find(i.theadSelector);s.each(function(){u="";J(this,"th,td",l,s.length,function(t,n,r){if(t!==null){var o="";u+="<th";for(var s in i.excelstyles){if(i.excelstyles.hasOwnProperty(s)){var a=e(t).css(i.excelstyles[s]);if(a!==""&&a!="0px none rgb(0, 0, 0)"&&a!="rgba(0, 0, 0, 0)"){o+=o===""?'style="':";";o+=i.excelstyles[s]+":"+a}}}if(o!=="")u+=" "+o+'"';if(e(t).is("[colspan]"))u+=' colspan="'+e(t).attr("colspan")+'"';if(e(t).is("[rowspan]"))u+=' rowspan="'+e(t).attr("rowspan")+'"';u+=">"+ue(t,n,r)+"</th>"}});if(u.length>0)M+="<tr>"+u+"</tr>";l++});M+="</thead><tbody>";t.find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,t.find("tfoot").find(i.tfootSelector));e(a).each(function(){var t=e(this);u="";J(this,"td,th",l,s.length+a.length,function(n,r,o){if(n!==null){var s="";var a=e(n).data("tableexport-msonumberformat");if(typeof a=="undefined"&&typeof i.onMsoNumberFormat==="function")a=i.onMsoNumberFormat(n,r,o);if(typeof a!="undefined"&&a!=="")s="style=\"mso-number-format:'"+a+"'";for(var l in i.excelstyles){if(i.excelstyles.hasOwnProperty(l)){a=e(n).css(i.excelstyles[l]);if(a==="")a=t.css(i.excelstyles[l]);if(a!==""&&a!="0px none rgb(0, 0, 0)"&&a!="rgba(0, 0, 0, 0)"){s+=s===""?'style="':";";s+=i.excelstyles[l]+":"+a}}}u+="<td";if(s!=="")u+=" "+s+'"';if(e(n).is("[colspan]"))u+=' colspan="'+e(n).attr("colspan")+'"';if(e(n).is("[rowspan]"))u+=' rowspan="'+e(n).attr("rowspan")+'"';u+=">"+ue(n,r,o).replace(/\n/g,"<br>")+"</td>"}});if(u.length>0)M+="<tr>"+u+"</tr>";l++});if(i.displayTableName)M+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+ue(e("<p>"+i.tableName+"</p>"))+"</td></tr>";M+="</tbody></table>";if(i.consoleLog===true)console.log(M)});var A='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+P+' xmlns="http://www.w3.org/TR/REC-html40">';A+='<meta http-equiv="content-type" content="application/vnd.ms-'+E+'; charset=UTF-8">';A+="<head>";if(E==="excel"){A+="\x3c!--[if gte mso 9]>";A+="<xml>";A+="<x:ExcelWorkbook>";A+="<x:ExcelWorksheets>";A+="<x:ExcelWorksheet>";A+="<x:Name>";A+=i.worksheetName;A+="</x:Name>";A+="<x:WorksheetOptions>";A+="<x:DisplayGridlines/>";A+="</x:WorksheetOptions>";A+="</x:ExcelWorksheet>";A+="</x:ExcelWorksheets>";A+="</x:ExcelWorkbook>";A+="</xml>";A+="<![endif]--\x3e"}A+="<style>br {mso-data-placement:same-cell;}</style>";A+="</head>";A+="<body>";A+=M;A+="</body>";A+="</html>";if(i.consoleLog===true)console.log(A);if(i.outputMode==="string")return A;if(i.outputMode==="base64")return Ce(A);try{c=new Blob([A],{type:"application/vnd.ms-"+i.type});saveAs(c,i.fileName+"."+O)}catch(e){_e(i.fileName+"."+O,"data:application/vnd.ms-"+E+";base64,",A)}}else if(i.type=="xlsx"){var I=[];var F=[];l=0;a=e(r).find("thead").first().find(i.theadSelector);e(r).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(r).find("tfoot").find(i.tfootSelector));e(a).each(function(){var e=[];J(this,"th,td",l,a.length,function(t,n,r){if(typeof t!=="undefined"&&t!==null){var o=ue(t,n,r);var s=parseInt(t.getAttribute("colspan"));var a=parseInt(t.getAttribute("rowspan"));F.forEach(function(t){if(l>=t.s.r&&l<=t.e.r&&e.length>=t.s.c&&e.length<=t.e.c){for(var i=0;i<=t.e.c-t.s.c;++i)e.push(null)}});if(a||s){a=a||1;s=s||1;F.push({s:{r:l,c:e.length},e:{r:l+a-1,c:e.length+s-1}})}if(typeof i.onCellData!=="function"){if(o!==""&&o==+o)o=+o}e.push(o!==""?o:null);if(s)for(var d=0;d<s-1;++d)e.push(null)}});I.push(e);l++});var R=new ge,N=we(I);N["!merges"]=F;R.SheetNames.push(i.worksheetName);R.Sheets[i.worksheetName]=N;var L=XLSX.write(R,{bookType:i.type,bookSST:false,type:"binary"});try{c=new Blob([ye(L)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});saveAs(c,i.fileName+"."+i.type)}catch(e){_e(i.fileName+"."+i.type,"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8,",ye(L))}}else if(i.type=="png"){html2canvas(e(r)[0]).then(function(e){var t=e.toDataURL();var n=atob(t.substring(22));var r=new ArrayBuffer(n.length);var o=new Uint8Array(r);for(var s=0;s<n.length;s++)o[s]=n.charCodeAt(s);if(i.consoleLog===true)console.log(n);if(i.outputMode==="string")return n;if(i.outputMode==="base64")return Ce(t);if(i.outputMode==="window"){window.open(t);return}try{c=new Blob([r],{type:"image/png"});saveAs(c,i.fileName+".png")}catch(e){_e(i.fileName+".png","data:image/png,",c)}})}else if(i.type=="pdf"){if(i.pdfmake.enabled===true){var j=[];var B=[];l=0;var z=function(t,i,n){var r=0;e(t).each(function(){var e=[];J(this,i,l,n,function(t,i,n){if(typeof t!=="undefined"&&t!==null){var r=parseInt(t.getAttribute("colspan"));var o=parseInt(t.getAttribute("rowspan"));var s=ue(t,i,n)||" ";if(r>1||o>1){r=r||1;o=o||1;e.push({colSpan:r,rowSpan:o,text:s})}else e.push(s)}else e.push(" ")});if(e.length)B.push(e);if(r<e.length)r=e.length;l++});return r};s=e(this).find("thead").first().find(i.theadSelector);var $=z(s,"th,td",s.length);for(var H=j.length;H<$;H++)j.push("*");e(this).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(this).find("tfoot").find(i.tfootSelector));z(a,"th,td",s.length+a.length);var U={content:[{table:{headerRows:s.length,widths:j,body:B}}]};e.extend(true,U,i.pdfmake.docDefinition);pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};e.extend(true,pdfMake.fonts,i.pdfmake.fonts);pdfMake.createPdf(U).getBuffer(function(e){try{var t=new Blob([e],{type:"application/pdf"});saveAs(t,i.fileName+".pdf")}catch(t){_e(i.fileName+".pdf","data:application/pdf;base64,",e)}})}else if(i.jspdf.autotable===false){var W={dim:{w:ve(e(r).first().get(0),"width","mm"),h:ve(e(r).first().get(0),"height","mm")},pagesplit:false};var q=new jsPDF(i.jspdf.orientation,i.jspdf.unit,i.jspdf.format);q.addHTML(e(r).first(),i.jspdf.margins.left,i.jspdf.margins.top,W,function(){ee(q,false)})}else{var Y=i.jspdf.autotable.tableExport;if(typeof i.jspdf.format==="string"&&i.jspdf.format.toLowerCase()==="bestfit"){var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89]};var G="",X="";var Z=0;e(r).filter(":visible").each(function(){if(e(this).css("display")!="none"){var t=ve(e(this).get(0),"width","pt");if(t>Z){if(t>V.a0[0]){G="a0";X="l"}for(var i in V){if(V.hasOwnProperty(i)){if(V[i][1]>t){G=i;X="l";if(V[i][0]>t)X="p"}}}Z=t}}});i.jspdf.format=G===""?"a4":G;i.jspdf.orientation=X===""?"w":X}if(Y.doc==null){Y.doc=new jsPDF(i.jspdf.orientation,i.jspdf.unit,i.jspdf.format);if(typeof i.jspdf.onDocCreated==="function")i.jspdf.onDocCreated(Y.doc)}if(Y.outputImages===true)Y.images={};if(typeof Y.images!="undefined"){e(r).filter(function(){return e(this).data("tableexport-display")!="none"&&(e(this).is(":visible")||e(this).data("tableexport-display")=="always")}).each(function(){var t=0;s=e(this).find("thead").find(i.theadSelector);e(this).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(this).find("tfoot").find(i.tfootSelector));e(a).each(function(){J(this,"td,th",s.length+t,s.length+a.length,function(t){if(typeof t!=="undefined"&&t!==null){var i=e(t).children();if(typeof i!="undefined"&&i.length>0)ie(t,i,Y)}});t++})});s=[];a=[]}ne(Y,function(){e(r).filter(function(){return e(this).data("tableexport-display")!="none"&&(e(this).is(":visible")||e(this).data("tableexport-display")=="always")}).each(function(){var t;var r=0;h=K(this);Y.columns=[];Y.rows=[];Y.rowoptions={};if(typeof Y.onTable==="function")if(Y.onTable(e(this),i)===false)return true;i.jspdf.autotable.tableExport=null;var o=e.extend(true,{},i.jspdf.autotable);i.jspdf.autotable.tableExport=Y;o.margin={};e.extend(true,o.margin,i.jspdf.margins);o.tableExport=Y;if(typeof o.beforePageContent!=="function"){o.beforePageContent=function(e){if(e.pageCount==1){var t=e.table.rows.concat(e.table.headerRow);t.forEach(function(t){if(t.height>0){t.height+=(2-n)/2*t.styles.fontSize;e.table.height+=(2-n)/2*t.styles.fontSize}})}}}if(typeof o.createdHeaderCell!=="function"){o.createdHeaderCell=function(t,i){t.styles=e.extend({},i.row.styles);if(typeof Y.columns[i.column.dataKey]!="undefined"){var n=Y.columns[i.column.dataKey];if(typeof n.rect!="undefined"){var r;t.contentWidth=n.rect.width;if(typeof Y.heightRatio=="undefined"||Y.heightRatio===0){if(i.row.raw[i.column.dataKey].rowspan)r=i.row.raw[i.column.dataKey].rect.height/i.row.raw[i.column.dataKey].rowspan;else r=i.row.raw[i.column.dataKey].rect.height;Y.heightRatio=t.styles.rowHeight/r}r=i.row.raw[i.column.dataKey].rect.height*Y.heightRatio;if(r>t.styles.rowHeight)t.styles.rowHeight=r}if(typeof n.style!="undefined"&&n.style.hidden!==true){t.styles.halign=n.style.align;if(o.styles.fillColor==="inherit")t.styles.fillColor=n.style.bcolor;if(o.styles.textColor==="inherit")t.styles.textColor=n.style.color;if(o.styles.fontStyle==="inherit")t.styles.fontStyle=n.style.fstyle}}}}if(typeof o.createdCell!=="function"){o.createdCell=function(e,t){var i=Y.rowoptions[t.row.index+":"+t.column.dataKey];if(typeof i!="undefined"&&typeof i.style!="undefined"&&i.style.hidden!==true){e.styles.halign=i.style.align;if(o.styles.fillColor==="inherit")e.styles.fillColor=i.style.bcolor;if(o.styles.textColor==="inherit")e.styles.textColor=i.style.color;if(o.styles.fontStyle==="inherit")e.styles.fontStyle=i.style.fstyle}}}if(typeof o.drawHeaderCell!=="function"){o.drawHeaderCell=function(e,t){var i=Y.columns[t.column.dataKey];if((i.style.hasOwnProperty("hidden")!==true||i.style.hidden!==true)&&i.rowIndex>=0)return te(e,t,i);else return false}}if(typeof o.drawCell!=="function"){o.drawCell=function(e,t){var i=Y.rowoptions[t.row.index+":"+t.column.dataKey];if(te(e,t,i)){Y.doc.rect(e.x,e.y,e.width,e.height,e.styles.fillStyle);if(typeof i!="undefined"&&typeof i.kids!="undefined"&&i.kids.length>0){var n=e.height/i.rect.height;if(n>Y.dh||typeof Y.dh=="undefined")Y.dh=n;Y.dw=e.width/i.rect.width;var r=e.textPos.y;re(e,i.kids,Y);e.textPos.y=r;oe(e,i.kids,Y)}else oe(e,{},Y)}return false}}Y.headerrows=[];s=e(this).find("thead").find(i.theadSelector);s.each(function(){t=0;Y.headerrows[r]=[];J(this,"th,td",r,s.length,function(e,i,n){var o=fe(e);o.title=ue(e,i,n);o.key=t++;o.rowIndex=r;Y.headerrows[r].push(o)});r++});if(r>0){var l=r-1;while(l>=0){e.each(Y.headerrows[l],function(){var e=this;if(l>0&&this.rect===null)e=Y.headerrows[l-1][this.key];if(e!==null&&e.rowIndex>=0&&(e.style.hasOwnProperty("hidden")!==true||e.style.hidden!==true))Y.columns.push(e)});l=Y.columns.length>0?-1:l-1}}var d=0;a=[];e(this).find("tbody").each(function(){a.push.apply(a,e(this).find(i.tbodySelector))});if(i.tfootSelector.length)a.push.apply(a,e(this).find("tfoot").find(i.tfootSelector));e(a).each(function(){var i=[];t=0;J(this,"td,th",r,s.length+a.length,function(n,r,o){var s;if(typeof Y.columns[t]==="undefined"){s={title:"",key:t,style:{hidden:true}};Y.columns.push(s)}if(typeof n!=="undefined"&&n!==null){s=fe(n);s.kids=e(n).children();Y.rowoptions[d+":"+t++]=s}else{s=e.extend(true,{},Y.rowoptions[d+":"+(t-1)]);s.colspan=-1;Y.rowoptions[d+":"+t++]=s}i.push(ue(n,r,o))});if(i.length){Y.rows.push(i);d++}r++});if(typeof Y.onBeforeAutotable==="function")Y.onBeforeAutotable(e(this),Y.columns,Y.rows,o);Y.doc.autoTable(Y.columns,Y.rows,o);if(typeof Y.onAfterAutotable==="function")Y.onAfterAutotable(e(this),o);i.jspdf.autotable.startY=Y.doc.autoTableEndPosY()+o.margin.top});ee(Y.doc,typeof Y.images!="undefined"&&jQuery.isEmptyObject(Y.images)===false);if(typeof Y.headerrows!="undefined")Y.headerrows.length=0;if(typeof Y.columns!="undefined")Y.columns.length=0;if(typeof Y.rows!="undefined")Y.rows.length=0;delete Y.doc;Y.doc=null})}}function K(t){var i=[];e(t).find("thead").first().find("th").each(function(t,n){if(e(n).attr("data-field")!==undefined)i[t]=e(n).attr("data-field");else i[t]=t.toString()});return i}function Q(t,n){var r=false;if(i.ignoreColumn.length>0){if(e.inArray(n,i.ignoreColumn)!=-1||e.inArray(n-t,i.ignoreColumn)!=-1||h.length>n&&typeof h[n]!="undefined"&&e.inArray(h[n],i.ignoreColumn)!=-1)r=true}return r}function J(t,n,r,o,s){if(e.inArray(r,i.ignoreRow)==-1&&e.inArray(r-o,i.ignoreRow)==-1){var a=e(t).filter(function(){return e(this).data("tableexport-display")!="none"&&(e(this).is(":visible")||e(this).data("tableexport-display")=="always"||e(this).closest("table").data("tableexport-display")=="always")}).find(n);var l=0;a.each(function(t){if(e(this).data("tableexport-display")=="always"||e(this).css("display")!="none"&&e(this).css("visibility")!="hidden"&&e(this).data("tableexport-display")!="none"){if(typeof s==="function"){var i,n=1;var o,u=1;var h=a.length;if(typeof d[r]!="undefined"&&d[r].length>0){var c=t;for(i=0;i<=c;i++){if(typeof d[r][i]!="undefined"){s(null,r,i);delete d[r][i];c++}}t+=d[r].length;h+=d[r].length}if(e(this).is("[colspan]")){n=parseInt(e(this).attr("colspan"))||1;l+=n>0?n-1:0}if(e(this).is("[rowspan]"))u=parseInt(e(this).attr("rowspan"))||1;if(Q(h,t+l)===false){s(this,r,t);for(i=1;i<n;i++)s(null,r,t+i)}if(u>1){for(o=1;o<u;o++){if(typeof d[r+o]=="undefined")d[r+o]=[];d[r+o][t+l]="";for(i=1;i<n;i++)d[r+o][t+l-i]=""}}}}});if(typeof d[r]!="undefined"&&d[r].length>0){for(var u=0;u<=d[r].length;u++){if(typeof d[r][u]!="undefined"){s(null,r,u);delete d[r][u]}}}}}function ee(e,t){if(i.consoleLog===true)console.log(e.output());if(i.outputMode==="string")return e.output();if(i.outputMode==="base64")return Ce(e.output());if(i.outputMode==="window"){window.open(URL.createObjectURL(e.output("blob")));return}try{var n=e.output("blob");saveAs(n,i.fileName+".pdf")}catch(n){_e(i.fileName+".pdf","data:application/pdf"+(t?"":";base64")+",",t?e.output("blob"):e.output())}}function te(e,t,i){var r=0;if(typeof i!="undefined")r=i.colspan;if(r>=0){var o=e.width;var s=e.textPos.x;var a=t.table.columns.indexOf(t.column);for(var l=1;l<r;l++){var d=t.table.columns[a+l];o+=d.width}if(r>1){if(e.styles.halign==="right")s=e.textPos.x+o-e.width;else if(e.styles.halign==="center")s=e.textPos.x+(o-e.width)/2}e.width=o;e.textPos.x=s;if(typeof i!="undefined"&&i.rowspan>1)e.height=e.height*i.rowspan;if(e.styles.valign==="middle"||e.styles.valign==="bottom"){var u=typeof e.text==="string"?e.text.split(/\r\n|\r|\n/g):e.text;var h=u.length||1;if(h>2)e.textPos.y-=(2-n)/2*t.row.styles.fontSize*(h-2)/3}return true}else return false}function ie(t,i,n){if(typeof n.images!="undefined"){i.each(function(){var i=e(this).children();if(e(this).is("img")){var r=xe(this.src);n.images[r]={url:this.src,src:this.src}}if(typeof i!="undefined"&&i.length>0)ie(t,i,n)})}}function ne(e,t){var i;var n=0;var r=0;function o(){t(n)}function s(e){if(!e.url)return;var t=new Image;n=++r;t.crossOrigin="Anonymous";t.onerror=t.onload=function(){if(t.complete){if(t.src.indexOf("data:image/")===0){t.width=e.width||t.width||0;t.height=e.height||t.height||0}if(t.width+t.height){var i=document.createElement("canvas");var n=i.getContext("2d");i.width=t.width;i.height=t.height;n.drawImage(t,0,0);e.src=i.toDataURL("image/jpeg")}}if(!--r)o()};t.src=e.url}if(typeof e.images!="undefined"){for(i in e.images)if(e.images.hasOwnProperty(i))s(e.images[i])}return r||o()}function re(t,n,r){n.each(function(){var n=e(this).children();var o=0;if(e(this).is("div")){var s=ce(pe(this,"background-color"),[255,255,255]);var a=ce(pe(this,"border-top-color"),[0,0,0]);var l=ve(this,"border-top-width",i.jspdf.unit);var d=this.getBoundingClientRect();var u=this.offsetLeft*r.dw;o=this.offsetTop*r.dh;var h=d.width*r.dw;var c=d.height*r.dh;r.doc.setDrawColor.apply(undefined,a);r.doc.setFillColor.apply(undefined,s);r.doc.setLineWidth(l);r.doc.rect(t.x+u,t.y+o,h,c,l?"FD":"F")}else if(e(this).is("img")){if(typeof r.images!="undefined"){var f=xe(this.src);var p=r.images[f];if(typeof p!="undefined"){var m=t.width/t.height;var v=this.width/this.height;var g=t.width;var y=t.height;var b=.264583*72/25.4;if(v<=m){y=Math.min(t.height,this.height);g=this.width*y/this.height}else if(v>m){g=Math.min(t.width,this.width);y=this.height*g/this.width}g*=b;y*=b;if(y<t.height)o=(t.height-y)/2;try{r.doc.addImage(p.src,t.textPos.x,t.y+o,g,y)}catch(e){}t.textPos.x+=g}}}if(typeof n!="undefined"&&n.length>0)re(t,n,r)})}function oe(t,i,n){if(typeof n.onAutotableText==="function"){n.onAutotableText(n.doc,t,i)}else{var r=t.textPos.x;var o=t.textPos.y;var s={halign:t.styles.halign,valign:t.styles.valign};if(i.length){var a=i[0];while(a.previousSibling)a=a.previousSibling;var l=false,d=false;while(a){var u=a.innerText||a.textContent||"";u=(u.length&&u[0]==" "?" ":"")+e.trim(u)+(u.length>1&&u[u.length-1]==" "?" ":"");if(e(a).is("br")){r=t.textPos.x;o+=n.doc.internal.getFontSize()}if(e(a).is("b"))l=true;else if(e(a).is("i"))d=true;if(l||d)n.doc.setFontType(l&&d?"bolditalic":l?"bold":"italic");var h=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize();if(h){if(t.styles.overflow==="linebreak"&&r>t.textPos.x&&r+h>t.textPos.x+t.width){var c=".,!%*;:=-";if(c.indexOf(u.charAt(0))>=0){var f=u.charAt(0);h=n.doc.getStringUnitWidth(f)*n.doc.internal.getFontSize();if(r+h<=t.textPos.x+t.width){n.doc.autoTableText(f,r,o,s);u=u.substring(1,u.length)}h=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize()}r=t.textPos.x;o+=n.doc.internal.getFontSize()}while(u.length&&r+h>t.textPos.x+t.width){u=u.substring(0,u.length-1);h=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize()}n.doc.autoTableText(u,r,o,s);r+=h}if(l||d){if(e(a).is("b"))l=false;else if(e(a).is("i"))d=false;n.doc.setFontType(!l&&!d?"normal":l?"bold":"italic")}a=a.nextSibling}t.textPos.x=r;t.textPos.y=o}else{n.doc.autoTableText(t.text,t.textPos.x,t.textPos.y,s)}}}function se(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function ae(e,t,i){return e.replace(new RegExp(se(t),"g"),i)}function le(e){e=e||"0";e=ae(e,i.numbers.html.thousandsSeparator,"");e=ae(e,i.numbers.html.decimalMark,".");return typeof e==="number"||jQuery.isNumeric(e)!==false?e:false}function de(e){if(e.indexOf("%")>-1){e=le(e.replace(/%/g,""));if(e!==false)e=e/100}else e=false;return e}function ue(t,n,r){var o="";if(t!==null){var s=e(t);var a;if(s[0].hasAttribute("data-tableexport-value")){a=s.data("tableexport-value");a=a?a+"":""}else{a=s.html();if(typeof i.onCellHtmlData==="function")a=i.onCellHtmlData(s,n,r,a);else if(a!=""){var l=e.parseHTML(a);var d=0;var u=0;a="";e.each(l,function(){if(e(this).is("input"))a+=s.find("input").eq(d++).val();else if(e(this).is("select"))a+=s.find("select option:selected").eq(u++).text();else{if(typeof e(this).html()==="undefined")a+=e(this).text();else if(jQuery().bootstrapTable===undefined||e(this).hasClass("filterControl")!==true)a+=e(this).html()}})}}if(i.htmlContent===true){o=e.trim(a)}else if(a&&a!=""){var h=a.replace(/\n/g,"\u2028").replace(/<br\s*[\/]?>/gi,"â ");var c=e("<div/>").html(h).contents();var f=false;h="";e.each(c.text().split("\u2028"),function(t,i){if(t>0)h+=" ";h+=e.trim(i)});e.each(h.split("â "),function(t,i){if(t>0)o+="\n";o+=e.trim(i).replace(/\u00AD/g,"")});if(i.type=="json"||i.type==="excel"&&i.excelFileFormat==="xmlss"||i.numbers.output===false){f=le(o);if(f!==false)o=Number(f)}else if(i.numbers.html.decimalMark!=i.numbers.output.decimalMark||i.numbers.html.thousandsSeparator!=i.numbers.output.thousandsSeparator){f=le(o);if(f!==false){var p=(""+f.substr(f<0?1:0)).split(".");if(p.length==1)p[1]="";var m=p[0].length>3?p[0].length%3:0;o=(f<0?"-":"")+(i.numbers.output.thousandsSeparator?(m?p[0].substr(0,m)+i.numbers.output.thousandsSeparator:"")+p[0].substr(m).replace(/(\d{3})(?=\d)/g,"$1"+i.numbers.output.thousandsSeparator):p[0])+(p[1].length?i.numbers.output.decimalMark+p[1]:"")}}}if(i.escape===true){o=escape(o)}if(typeof i.onCellData==="function"){o=i.onCellData(s,n,r,o)}}return o}function he(e,t,i){return t+"-"+i.toLowerCase()}function ce(e,t){var i=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/;var n=i.exec(e);var r=t;if(n)r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return r}function fe(t){var i=pe(t,"text-align");var n=pe(t,"font-weight");var r=pe(t,"font-style");var o="";if(i=="start")i=pe(t,"direction")=="rtl"?"right":"left";if(n>=700)o="bold";if(r=="italic")o+=r;if(o==="")o="normal";var s={style:{align:i,bcolor:ce(pe(t,"background-color"),[255,255,255]),color:ce(pe(t,"color"),[0,0,0]),fstyle:o},colspan:parseInt(e(t).attr("colspan"))||0,rowspan:parseInt(e(t).attr("rowspan"))||0};if(t!==null){var a=t.getBoundingClientRect();s.rect={width:a.width,height:a.height}}return s}function pe(e,t){try{if(window.getComputedStyle){t=t.replace(/([a-z])([A-Z])/,he);return window.getComputedStyle(e,null).getPropertyValue(t)}if(e.currentStyle){return e.currentStyle[t]}return e.style[t]}catch(e){}return""}function me(e,t,i){var n=100;var r=document.createElement("div");r.style.overflow="hidden";r.style.visibility="hidden";e.appendChild(r);r.style.width=n+i;var o=n/r.offsetWidth;e.removeChild(r);return t*o}function ve(e,t,i){var n=pe(e,t);var r=n.match(/\d+/);if(r!==null){r=r[0];return me(e.parentElement,r,i)}return 0}function ge(){if(!(this instanceof ge)){return new ge}this.SheetNames=[];this.Sheets={}}function ye(e){var t=new ArrayBuffer(e.length);var i=new Uint8Array(t);for(var n=0;n!=e.length;++n)i[n]=e.charCodeAt(n)&255;return t}function be(e,t){if(t)e+=1462;var i=Date.parse(e);return(i-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3)}function we(e){var t={};var i={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(var n=0;n!=e.length;++n){for(var r=0;r!=e[n].length;++r){if(i.s.r>n)i.s.r=n;if(i.s.c>r)i.s.c=r;if(i.e.r<n)i.e.r=n;if(i.e.c<r)i.e.c=r;var o={v:e[n][r]};if(o.v===null)continue;var s=XLSX.utils.encode_cell({c:r,r:n});if(typeof o.v==="number")o.t="n";else if(typeof o.v==="boolean")o.t="b";else if(o.v instanceof Date){o.t="n";o.z=XLSX.SSF._table[14];o.v=be(o.v)}else o.t="s";t[s]=o}}if(i.s.c<1e7)t["!ref"]=XLSX.utils.encode_range(i);return t}function xe(e){var t=0,i,n,r;if(e.length===0)return t;for(i=0,r=e.length;i<r;i++){n=e.charCodeAt(i);t=(t<<5)-t+n;t|=0}return t}function _e(e,t,i){var n=window.navigator.userAgent;if(e!==false&&(n.indexOf("MSIE ")>0||!!n.match(/Trident.*rv\:11\./))){if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(new Blob([i]),e)}else{var r=document.createElement("iframe");if(r){document.body.appendChild(r);r.setAttribute("style","display:none");r.contentDocument.open("txt/html","replace");r.contentDocument.write(i);r.contentDocument.close();r.focus();r.contentDocument.execCommand("SaveAs",true,e);document.body.removeChild(r)}}}else{var s=document.createElement("a");if(s){var a=null;s.style.display="none";if(e!==false)s.download=e;else s.target="_blank";if(typeof i=="object"){a=window.URL.createObjectURL(i);s.href=a}else if(t.toLowerCase().indexOf("base64,")>=0)s.href=t+Ce(i);else s.href=t+encodeURIComponent(i);document.body.appendChild(s);if(document.createEvent){if(o===null)o=document.createEvent("MouseEvents");o.initEvent("click",true,false);s.dispatchEvent(o)}else if(document.createEventObject)s.fireEvent("onclick");else if(typeof s.onclick=="function")s.onclick();if(a)window.URL.revokeObjectURL(a);document.body.removeChild(s)}}}function ke(e){e=e.replace(/\x0d\x0a/g,"\n");var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<128){t+=String.fromCharCode(n)}else if(n>127&&n<2048){t+=String.fromCharCode(n>>6|192);t+=String.fromCharCode(n&63|128)}else{t+=String.fromCharCode(n>>12|224);t+=String.fromCharCode(n>>6&63|128);t+=String.fromCharCode(n&63|128)}}return t}function Ce(e){var t,i,n,r,o,s,a;var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d="";var u=0;e=ke(e);while(u<e.length){t=e.charCodeAt(u++);i=e.charCodeAt(u++);n=e.charCodeAt(u++);r=t>>2;o=(t&3)<<4|i>>4;s=(i&15)<<2|n>>6;a=n&63;if(isNaN(i)){s=a=64}else if(isNaN(n)){a=64}d=d+l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a)}return d}return this}})})(jQuery);if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1||t[0]>3){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}}(jQuery);+function(e){"use strict";function t(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t){if(e.style[i]!==undefined){return{end:t[i]}}}return false}e.fn.emulateTransitionEnd=function(t){var i=false;var n=this;e(this).one("bsTransitionEnd",function(){i=true});var r=function(){if(!i)e(n).trigger(e.support.transition.end)};setTimeout(r,t);return this};e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function(e){"use strict";var t='[data-dismiss="alert"]';var i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.3.7";i.TRANSITION_DURATION=150;i.prototype.close=function(t){var n=e(this);var r=n.attr("data-target");if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}var o=e(r==="#"?[]:r);if(t)t.preventDefault();if(!o.length){o=n.closest(".alert")}o.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;o.removeClass("in");function s(){o.detach().trigger("closed.bs.alert").remove()}e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s()};function n(t){return this.each(function(){var n=e(this);var r=n.data("bs.alert");if(!r)n.data("bs.alert",r=new i(this));if(typeof t=="string")r[t].call(n)})}var r=e.fn.alert;e.fn.alert=n;e.fn.alert.Constructor=i;e.fn.alert.noConflict=function(){e.fn.alert=r;return this};e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery);+function(e){"use strict";var t=function(i,n){this.$element=e(i);this.options=e.extend({},t.DEFAULTS,n);this.isLoading=false};t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled";var n=this.$element;var r=n.is("input")?"val":"html";var o=n.data();t+="Text";if(o.resetText==null)n.data("resetText",n[r]());setTimeout(e.proxy(function(){n[r](o[t]==null?this.options[t]:o[t]);if(t=="loadingText"){this.isLoading=true;n.addClass(i).attr(i,i).prop(i,true)}else if(this.isLoading){this.isLoading=false;n.removeClass(i).removeAttr(i).prop(i,false)}},this),0)};t.prototype.toggle=function(){var e=true;var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");if(i.prop("type")=="radio"){if(i.prop("checked"))e=false;t.find(".active").removeClass("active");this.$element.addClass("active")}else if(i.prop("type")=="checkbox"){if(i.prop("checked")!==this.$element.hasClass("active"))e=false;this.$element.toggleClass("active")}i.prop("checked",this.$element.hasClass("active"));if(e)i.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.button");var o=typeof i=="object"&&i;if(!r)n.data("bs.button",r=new t(this,o));if(i=="toggle")r.toggle();else if(i)r.setState(i)})}var n=e.fn.button;e.fn.button=i;e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=n;return this};e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var n=e(t.target).closest(".btn");i.call(n,"toggle");if(!e(t.target).is('input[type="radio"], input[type="checkbox"]')){t.preventDefault();if(n.is("input,button"))n.trigger("focus");else n.find("input:visible,button:visible").first().trigger("focus")}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(e){"use strict";var t=function(t,i){this.$element=e(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:true,keyboard:true};t.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};t.prototype.cycle=function(t){t||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval));return this};t.prototype.getItemIndex=function(e){this.$items=e.parent().children(".item");return this.$items.index(e||this.$active)};t.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);var n=e=="prev"&&i===0||e=="next"&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r=e=="prev"?-1:1;var o=(i+r)%this.$items.length;return this.$items.eq(o)};t.prototype.to=function(e){var t=this;var i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(e>this.$items.length-1||e<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){t.to(e)});if(i==e)return this.pause().cycle();return this.slide(e>i?"next":"prev",this.$items.eq(e))};t.prototype.pause=function(t){t||(this.paused=true);if(this.$element.find(".next, .prev").length&&e.support.transition){this.$element.trigger(e.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};t.prototype.next=function(){if(this.sliding)return;return this.slide("next")};t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};t.prototype.slide=function(i,n){var r=this.$element.find(".item.active");var o=n||this.getItemForDirection(i,r);var s=this.interval;var a=i=="next"?"left":"right";var l=this;if(o.hasClass("active"))return this.sliding=false;var d=o[0];var u=e.Event("slide.bs.carousel",{relatedTarget:d,direction:a});this.$element.trigger(u);if(u.isDefaultPrevented())return;this.sliding=true;s&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var c=e.Event("slid.bs.carousel",{relatedTarget:d,direction:a});if(e.support.transition&&this.$element.hasClass("slide")){o.addClass(i);o[0].offsetWidth;r.addClass(a);o.addClass(a);r.one("bsTransitionEnd",function(){o.removeClass([i,a].join(" ")).addClass("active");r.removeClass(["active",a].join(" "));l.sliding=false;setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)}else{r.removeClass("active");o.addClass("active");this.sliding=false;this.$element.trigger(c)}s&&this.cycle();return this};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.carousel");var o=e.extend({},t.DEFAULTS,n.data(),typeof i=="object"&&i);var s=typeof i=="string"?i:o.slide;if(!r)n.data("bs.carousel",r=new t(this,o));if(typeof i=="number")r.to(i);else if(s)r[s]();else if(o.interval)r.pause().cycle()})}var n=e.fn.carousel;e.fn.carousel=i;e.fn.carousel.Constructor=t;e.fn.carousel.noConflict=function(){e.fn.carousel=n;return this};var r=function(t){var n;var r=e(this);var o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(!o.hasClass("carousel"))return;var s=e.extend({},o.data(),r.data());var a=r.attr("data-slide-to");if(a)s.interval=false;i.call(o,s);if(a){o.data("bs.carousel").to(a)}t.preventDefault()};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery);+function(e){"use strict";var t=function(i,n){this.$element=e(i);this.options=e.extend({},t.DEFAULTS,n);this.$trigger=e('[data-toggle="collapse"][href="#'+i.id+'"],'+'[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:true};t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"};t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var i;var r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(r&&r.length){i=r.data("bs.collapse");if(i&&i.transitioning)return}var o=e.Event("show.bs.collapse");this.$element.trigger(o);if(o.isDefaultPrevented())return;if(r&&r.length){n.call(r,"hide");i||r.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[s](this.$element[0][l])};t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var i=e.Event("hide.bs.collapse");this.$element.trigger(i);if(i.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var r=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,n){var r=e(n);this.addAriaAndCollapsedClass(i(r),r)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};function i(t){var i;var n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function n(i){return this.each(function(){var n=e(this);var r=n.data("bs.collapse");var o=e.extend({},t.DEFAULTS,n.data(),typeof i=="object"&&i);if(!r&&o.toggle&&/show|hide/.test(i))o.toggle=false;if(!r)n.data("bs.collapse",r=new t(this,o));if(typeof i=="string")r[i]()})}var r=e.fn.collapse;e.fn.collapse=n;e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=r;return this};e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r=e(this);if(!r.attr("data-target"))t.preventDefault();var o=i(r);var s=o.data("bs.collapse");var a=s?"toggle":r.data();n.call(o,a)})}(jQuery);+function(e){"use strict";var t=".dropdown-backdrop";var i='[data-toggle="dropdown"]';var n=function(t){e(t).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.7";function r(t){var i=t.attr("data-target");if(!i){i=t.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var n=i&&e(i);return n&&n.length?n:t.parent()}function o(n){if(n&&n.which===3)return;e(t).remove();e(i).each(function(){var t=e(this);var i=r(t);var o={relatedTarget:this};if(!i.hasClass("open"))return;if(n&&n.type=="click"&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target))return;i.trigger(n=e.Event("hide.bs.dropdown",o));if(n.isDefaultPrevented())return;t.attr("aria-expanded","false");i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o))})}n.prototype.toggle=function(t){var i=e(this);if(i.is(".disabled, :disabled"))return;var n=r(i);var s=n.hasClass("open");o();if(!s){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length){e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o)}var a={relatedTarget:this};n.trigger(t=e.Event("show.bs.dropdown",a));if(t.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true");n.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return false};n.prototype.keydown=function(t){if(!/(38|40|27|32)/.test(t.which)||/input|textarea/i.test(t.target.tagName))return;var n=e(this);t.preventDefault();t.stopPropagation();if(n.is(".disabled, :disabled"))return;var o=r(n);var s=o.hasClass("open");if(!s&&t.which!=27||s&&t.which==27){if(t.which==27)o.find(i).trigger("focus");return n.trigger("click")}var a=" li:not(.disabled):visible a";var l=o.find(".dropdown-menu"+a);if(!l.length)return;var d=l.index(t.target);if(t.which==38&&d>0)d--;if(t.which==40&&d<l.length-1)d++;if(!~d)d=0;l.eq(d).trigger("focus")};function s(t){return this.each(function(){var i=e(this);var r=i.data("bs.dropdown");if(!r)i.data("bs.dropdown",r=new n(this));if(typeof t=="string")r[t].call(i)})}var a=e.fn.dropdown;e.fn.dropdown=s;e.fn.dropdown.Constructor=n;e.fn.dropdown.noConflict=function(){e.fn.dropdown=a;return this};e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,n.prototype.toggle).on("keydown.bs.dropdown.data-api",i,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery);+function(e){"use strict";var t=function(t,i){this.options=i;this.$body=e(document.body);this.$element=e(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};t.prototype.show=function(i){var n=this;var r=e.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){if(e(t.target).is(n.$element))n.ignoreBackdropClick=true})});this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");if(!n.$element.parent().length){n.$element.appendTo(n.$body)}n.$element.show().scrollTop(0);n.adjustDialog();if(r){n.$element[0].offsetWidth}n.$element.addClass("in");n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:i});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)})};t.prototype.hide=function(i){if(i)i.preventDefault();i=e.Event("hide.bs.modal");this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();e(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};t.prototype.resize=function(){if(this.isShown){e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this))}else{e(window).off("resize.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var n=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(o)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!i)return;o?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop();i&&i()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):s()}else if(i){i()}};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",e+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var t=e.offsetWidth-e.clientWidth;this.$body[0].removeChild(e);return t};function i(i,n){return this.each(function(){var r=e(this);var o=r.data("bs.modal");var s=e.extend({},t.DEFAULTS,r.data(),typeof i=="object"&&i);if(!o)r.data("bs.modal",o=new t(this,s));if(typeof i=="string")o[i](n);else if(s.show)o.show(n)})}var n=e.fn.modal;e.fn.modal=i;e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=n;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this);var r=n.attr("href");var o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());if(n.is("a"))t.preventDefault();o.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})});i.call(o,s,this)})}(jQuery);+function(e){"use strict";var t=function(e,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",e,t)};t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,n){this.enabled=true;this.type=t;this.$element=e(i);this.options=this.getOptions(n);this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:false,hover:false,focus:false};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var r=this.options.trigger.split(" ");for(var o=r.length;o--;){var s=r[o];if(s=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(s!="manual"){var a=s=="hover"?"mouseenter":"focusin";var l=s=="hover"?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){t=e.extend({},this.getDefaults(),this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t};t.prototype.getDelegateOptions=function(){var t={};var i=this.getDefaults();this._options&&e.each(this._options,function(e,n){if(i[e]!=n)t[e]=n});return t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}if(t instanceof e.Event){i.inState[t.type=="focusin"?"focus":"hover"]=true}if(i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}clearTimeout(i.timeout);i.hoverState="in";if(!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){if(i.hoverState=="in")i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var e in this.inState){if(this.inState[e])return true}return false};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}if(t instanceof e.Event){i.inState[t.type=="focusout"?"focus":"hover"]=false}if(i.isInStateTrue())return;clearTimeout(i.timeout);i.hoverState="out";if(!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)};t.prototype.show=function(){var i=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var r=this;var o=this.tip();var s=this.getUID(this.type);this.setContent();o.attr("id",s);this.$element.attr("aria-describedby",s);if(this.options.animation)o.addClass("fade");var a=typeof this.options.placement=="function"?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement;var l=/\s?auto?\s?/i;var d=l.test(a);if(d)a=a.replace(l,"")||"top";o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this);this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition();var h=o[0].offsetWidth;var c=o[0].offsetHeight;if(d){var f=a;var p=this.getPosition(this.$viewport);a=a=="bottom"&&u.bottom+c>p.bottom?"top":a=="top"&&u.top-c<p.top?"bottom":a=="right"&&u.right+h>p.width?"left":a=="left"&&u.left-h<p.left?"right":a;o.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,h,c);this.applyPlacement(m,a);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type);r.hoverState=null;if(e=="out")r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}};t.prototype.applyPlacement=function(t,i){var n=this.tip();var r=n[0].offsetWidth;var o=n[0].offsetHeight;var s=parseInt(n.css("margin-top"),10);var a=parseInt(n.css("margin-left"),10);if(isNaN(s))s=0;if(isNaN(a))a=0;t.top+=s;t.left+=a;e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0);n.addClass("in");var l=n[0].offsetWidth;var d=n[0].offsetHeight;if(i=="top"&&d!=o){t.top=t.top+o-d}var u=this.getViewportAdjustedDelta(i,t,l,d);if(u.left)t.left+=u.left;else t.top+=u.top;var h=/top|bottom/.test(i);var c=h?u.left*2-r+l:u.top*2-o+d;var f=h?"offsetWidth":"offsetHeight";n.offset(t);this.replaceArrow(c,n[0][f],h)};t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){var n=this;var r=e(this.$tip);var o=e.Event("hide.bs."+this.type);function s(){if(n.hoverState!="in")r.detach();if(n.$element){n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type)}i&&i()}this.$element.trigger(o);if(o.isDefaultPrevented())return;r.removeClass("in");e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s();this.hoverState=null;return this};t.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var i=t[0];var n=i.tagName=="BODY";var r=i.getBoundingClientRect();if(r.width==null){r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top})}var o=window.SVGElement&&i instanceof window.SVGElement;var s=n?{top:0,left:0}:o?null:t.offset();var a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()};var l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,l,s)};t.prototype.getCalculatedOffset=function(e,t,i,n){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:e=="top"?{top:t.top-n,left:t.left+t.width/2-i/2}:e=="left"?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0;var s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll;var l=t.top+o-s.scroll+n;if(a<s.top){r.top=s.top-a}else if(l>s.top+s.height){r.top=s.top+s.height-l}}else{var d=t.left-o;var u=t.left+o+i;if(d<s.left){r.left=s.left-d}else if(u>s.right){r.left=s.left+s.width-u}}return r};t.prototype.getTitle=function(){var e;var t=this.$element;var i=this.options;e=t.attr("data-original-title")||(typeof i.title=="function"?i.title.call(t[0]):i.title);return e};t.prototype.getUID=function(e){do{e+=~~(Math.random()*1e6)}while(document.getElementById(e));return e};t.prototype.tip=function(){if(!this.$tip){this.$tip=e(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=true};t.prototype.disable=function(){this.enabled=false};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;if(t){i=e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}}if(t){i.inState.click=!i.inState.click;if(i.isInStateTrue())i.enter(i);else i.leave(i)}else{i.tip().hasClass("in")?i.leave(i):i.enter(i)}};t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout);this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type);if(e.$tip){e.$tip.detach()}e.$tip=null;e.$arrow=null;e.$viewport=null;e.$element=null})};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.tooltip");var o=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.tooltip",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.tooltip;e.fn.tooltip=i;e.fn.tooltip.Constructor=t;e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(jQuery);+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();var i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content").children().detach().end()[this.options.html?typeof i=="string"?"html":"append":"text"](i);e.removeClass("fade top bottom left right in");if(!e.find(".popover-title").html())e.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var e=this.$element;var t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.popover");var o=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.popover",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.popover;e.fn.popover=i;e.fn.popover.Constructor=t;e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(jQuery);+function(e){"use strict";function t(i,n){this.$body=e(document.body);this.$scrollElement=e(i).is(document.body)?e(window):e(i);this.options=e.extend({},t.DEFAULTS,n);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this));this.refresh();this.process()}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this;var i="offset";var n=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!e.isWindow(this.$scrollElement[0])){i="position";n=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var t=e(this);var r=t.data("target")||t.attr("href");var o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset;var t=this.getScrollHeight();var i=this.options.offset+t-this.$scrollElement.height();var n=this.offsets;var r=this.targets;var o=this.activeTarget;var s;if(this.scrollHeight!=t){this.refresh()}if(e>=i){return o!=(s=r[r.length-1])&&this.activate(s)}if(o&&e<n[0]){this.activeTarget=null;return this.clear()}for(s=n.length;s--;){o!=r[s]&&e>=n[s]&&(n[s+1]===undefined||e<n[s+1])&&this.activate(r[s])}};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';var n=e(i).parents("li").addClass("active");if(n.parent(".dropdown-menu").length){n=n.closest("li.dropdown").addClass("active")}n.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.scrollspy");var o=typeof i=="object"&&i;if(!r)n.data("bs.scrollspy",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.scrollspy;e.fn.scrollspy=i;e.fn.scrollspy.Constructor=t;e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=n;return this};e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery);+function(e){"use strict";var t=function(t){this.element=e(t)};t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element;var i=t.closest("ul:not(.dropdown-menu)");var n=t.data("target");if(!n){n=t.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;var r=i.find(".active:last a");var o=e.Event("hide.bs.tab",{relatedTarget:t[0]});var s=e.Event("show.bs.tab",{relatedTarget:r[0]});r.trigger(o);t.trigger(s);if(s.isDefaultPrevented()||o.isDefaultPrevented())return;var a=e(n);this.activate(t.closest("li"),i);this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})};t.prototype.activate=function(i,n,r){var o=n.find("> .active");var s=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(s){i[0].offsetWidth;i.addClass("in")}else{i.removeClass("fade")}if(i.parent(".dropdown-menu").length){i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}r&&r()}o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a();o.removeClass("in")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.tab");if(!r)n.data("bs.tab",r=new t(this));if(typeof i=="string")r[i]()})}var n=e.fn.tab;e.fn.tab=i;e.fn.tab.Constructor=t;e.fn.tab.noConflict=function(){e.fn.tab=n;return this};var r=function(t){t.preventDefault();i.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery);+function(e){"use strict";var t=function(i,n){this.options=e.extend({},t.DEFAULTS,n);this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this));this.$element=e(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop();var o=this.$element.offset();var s=this.$target.height();if(i!=null&&this.affixed=="top")return r<i?"top":false;if(this.affixed=="bottom"){if(i!=null)return r+this.unpin<=o.top?false:"bottom";return r+s<=e-n?false:"bottom"}var a=this.affixed==null;var l=a?r:o.top;var d=a?s:t;if(i!=null&&r<=i)return"top";if(n!=null&&l+d>=e-n)return"bottom";return false};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop();var i=this.$element.offset();return this.pinnedOffset=i.top-e};t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var i=this.$element.height();var n=this.options.offset;var r=n.top;var o=n.bottom;var s=Math.max(e(document).height(),e(document.body).height());if(typeof n!="object")o=r=n;if(typeof r=="function")r=n.top(this.$element);if(typeof o=="function")o=n.bottom(this.$element);var a=this.getState(s,i,r,o);if(this.affixed!=a){if(this.unpin!=null)this.$element.css("top","");var l="affix"+(a?"-"+a:"");var d=e.Event(l+".bs.affix");this.$element.trigger(d);if(d.isDefaultPrevented())return;this.affixed=a;this.unpin=a=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}if(a=="bottom"){this.$element.offset({top:s-i-o})}};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.affix");var o=typeof i=="object"&&i;if(!r)n.data("bs.affix",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.affix;e.fn.affix=i;e.fn.affix.Constructor=t;e.fn.affix.noConflict=function(){e.fn.affix=n;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this);var n=t.data();n.offset=n.offset||{};if(n.offsetBottom!=null)n.offset.bottom=n.offsetBottom;if(n.offsetTop!=null)n.offset.top=n.offsetTop;i.call(t,n)})})}(jQuery);!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,n){var r,o,s,a,l,d,u,h={},c=!0,f=!1,p=!1,m=0,v=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],g=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},k=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},C=function(e){var i;return i=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):k()?t.tz(e,d,n.useStrict,n.timeZone):t(e,d,n.useStrict),k()&&i.tz(n.timeZone),i},S=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return l.indexOf("Y")!==-1;case"M":return l.indexOf("M")!==-1;case"d":return l.toLowerCase().indexOf("d")!==-1;case"h":case"H":return l.toLowerCase().indexOf("h")!==-1;case"m":return l.indexOf("m")!==-1;case"s":return l.indexOf("s")!==-1;default:return!1}},T=function(){return S("h")||S("m")||S("s")},D=function(){return S("y")||S("M")||S("d")},E=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),i=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},O=function(){var t=e("<tr>"),i=e("<tr>"),r=e("<tr>");return S("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),S("m")&&(S("h")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),S("s")&&(S("m")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),a||(t.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,i,r]))},P=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[O()];return S("h")&&r.push(t),S("m")&&r.push(i),S("s")&&r.push(n),r},M=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&D()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},A=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=e("<div>").addClass("datepicker").append(E()),r=e("<div>").addClass("timepicker").append(P()),o=e("<ul>").addClass("list-unstyled"),s=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(M());return n.inline&&t.removeClass("dropdown-menu"),a&&t.addClass("usetwentyfour"),S("s")&&!a&&t.addClass("wider"),n.sideBySide&&D()&&T()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(s),t.append(e("<div>").addClass("row").append(i.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(s),t):("top"===n.toolbarPlacement&&o.append(s),D()&&o.append(e("<li>").addClass(n.collapse&&T()?"collapse in":"").append(i)),"default"===n.toolbarPlacement&&o.append(s),T()&&o.append(e("<li>").addClass(n.collapse&&D()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&o.append(s),t.append(o))},I=function(){var t,r={};return t=i.is("input")||n.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var i="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[i]&&(r[e]=t[i])}),r},F=function(){var t,r=(f||i).position(),o=(f||i).offset(),s=n.widgetPositioning.vertical,a=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(p);else if(i.is("input"))t=i.after(p).parent();else{if(n.inline)return void(t=i.append(p));t=i,i.children().first().after(p)}if("auto"===s&&(s=o.top+1.5*p.height()>=e(window).height()+e(window).scrollTop()&&p.height()+i.outerHeight()<o.top?"top":"bottom"),"auto"===a&&(a=t.width()<o.left+p.outerWidth()/2&&o.left+p.outerWidth()>e(window).width()?"right":"left"),"top"===s?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===a?p.addClass("pull-right"):p.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");p.css({top:"top"===s?"auto":r.top+i.outerHeight(),bottom:"top"===s?t.outerHeight()-(t===i?0:r.top):"auto",left:"left"===a?t===i?0:r.left:"auto",right:"left"===a?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:r.left)})},R=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||i.trigger(e)},N=function(e){"y"===e&&(e="YYYY"),R({type:"dp.update",change:e,viewDate:o.clone()})},L=function(e){p&&(e&&(u=Math.max(m,Math.min(3,u+e))),p.find(".datepicker > div").hide().filter(".datepicker-"+v[u].clsName).show())},j=function(){var t=e("<tr>"),i=o.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));i.isBefore(o.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");p.find(".datepicker-days thead").append(t)},B=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},z=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},$=function(e){return n.disabledHours[e.format("H")]===!0},H=function(e){return n.enabledHours[e.format("H")]===!0},U=function(t,i){if(!t.isValid())return!1;if(n.disabledDates&&"d"===i&&B(t))return!1;if(n.enabledDates&&"d"===i&&!z(t))return!1;if(n.minDate&&t.isBefore(n.minDate,i))return!1;if(n.maxDate&&t.isAfter(n.maxDate,i))return!1;if(n.daysOfWeekDisabled&&"d"===i&&n.daysOfWeekDisabled.indexOf(t.day())!==-1)return!1;if(n.disabledHours&&("h"===i||"m"===i||"s"===i)&&$(t))return!1;if(n.enabledHours&&("h"===i||"m"===i||"s"===i)&&!H(t))return!1;if(n.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},W=function(){for(var t=[],i=o.clone().startOf("y").startOf("d");i.isSame(o,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");p.find(".datepicker-months td").empty().append(t)},q=function(){var t=p.find(".datepicker-months"),i=t.find("th"),s=t.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear),i.eq(1).attr("title",n.tooltips.selectYear),i.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),U(o.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(o.year()),U(o.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),s.removeClass("active"),r.isSame(o,"y")&&!c&&s.eq(r.month()).addClass("active"),s.each(function(t){U(o.clone().month(t),"M")||e(this).addClass("disabled")})},Y=function(){var e=p.find(".datepicker-years"),t=e.find("th"),i=o.clone().subtract(5,"y"),s=o.clone().add(6,"y"),a="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+s.year()),n.maxDate&&n.maxDate.isBefore(s,"y")&&t.eq(2).addClass("disabled");!i.isAfter(s,"y");)a+='<span data-action="selectYear" class="year'+(i.isSame(r,"y")&&!c?" active":"")+(U(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");e.find("td").html(a)},V=function(){var e,i=p.find(".datepicker-decades"),s=i.find("th"),a=t({y:o.year()-o.year()%100-1}),l=a.clone().add(100,"y"),d=a.clone(),u=!1,h=!1,c="";for(s.eq(0).find("span").attr("title",n.tooltips.prevCentury),s.eq(2).find("span").attr("title",n.tooltips.nextCentury),i.find(".disabled").removeClass("disabled"),(a.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(a,"y"))&&s.eq(0).addClass("disabled"),s.eq(1).text(a.year()+"-"+l.year()),(a.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(l,"y"))&&s.eq(2).addClass("disabled");!a.isAfter(l,"y");)e=a.year()+12,u=n.minDate&&n.minDate.isAfter(a,"y")&&n.minDate.year()<=e,h=n.maxDate&&n.maxDate.isAfter(a,"y")&&n.maxDate.year()<=e,c+='<span data-action="selectDecade" class="decade'+(r.isAfter(a)&&r.year()<=e?" active":"")+(U(a,"y")||u||h?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");c+="<span></span><span></span><span></span>",i.find("td").html(c),s.eq(1).text(d.year()+1+"-"+a.year())},G=function(){var t,i,s,a=p.find(".datepicker-days"),l=a.find("th"),d=[],u=[];if(D()){for(l.eq(0).find("span").attr("title",n.tooltips.prevMonth),l.eq(1).attr("title",n.tooltips.selectMonth),l.eq(2).find("span").attr("title",n.tooltips.nextMonth),a.find(".disabled").removeClass("disabled"),l.eq(1).text(o.format(n.dayViewHeaderFormat)),U(o.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),U(o.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),s=0;s<42;s++)0===t.weekday()&&(i=e("<tr>"),n.calendarWeeks&&i.append('<td class="cw">'+t.week()+"</td>"),d.push(i)),u=["day"],t.isBefore(o,"M")&&u.push("old"),t.isAfter(o,"M")&&u.push("new"),t.isSame(r,"d")&&!c&&u.push("active"),U(t,"d")||u.push("disabled"),t.isSame(C(),"d")&&u.push("today"),0!==t.day()&&6!==t.day()||u.push("weekend"),R({type:"dp.classify",date:t,classNames:u}),i.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+u.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");a.find("tbody").empty().append(d),q(),Y(),V()}},X=function(){var t=p.find(".timepicker-hours table"),i=o.clone().startOf("d"),n=[],r=e("<tr>");for(o.hour()>11&&!a&&i.hour(12);i.isSame(o,"d")&&(a||o.hour()<12&&i.hour()<12||o.hour()>11);)i.hour()%4===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(U(i,"h")?"":" disabled")+'">'+i.format(a?"HH":"hh")+"</td>"),i.add(1,"h");t.empty().append(n)},Z=function(){for(var t=p.find(".timepicker-minutes table"),i=o.clone().startOf("h"),r=[],s=e("<tr>"),a=1===n.stepping?5:n.stepping;o.isSame(i,"h");)i.minute()%(4*a)===0&&(s=e("<tr>"),r.push(s)),s.append('<td data-action="selectMinute" class="minute'+(U(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(a,"m");t.empty().append(r)},K=function(){for(var t=p.find(".timepicker-seconds table"),i=o.clone().startOf("m"),n=[],r=e("<tr>");o.isSame(i,"m");)i.second()%20===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(U(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");t.empty().append(n)},Q=function(){var e,t,i=p.find(".timepicker span[data-time-component]");a||(e=p.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),U(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i.filter("[data-time-component=hours]").text(r.format(a?"HH":"hh")),i.filter("[data-time-component=minutes]").text(r.format("mm")),i.filter("[data-time-component=seconds]").text(r.format("ss")),X(),Z(),K()},J=function(){p&&(G(),Q())},ee=function(e){var t=c?null:r;if(!e)return c=!0,s.val(""),i.data("date",""),R({type:"dp.change",date:!1,oldDate:t}),void J();if(e=e.clone().locale(n.locale),k()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");U(e)?(r=e,o=r.clone(),s.val(r.format(l)),i.data("date",r.format(l)),c=!1,J(),R({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?R({type:"dp.change",date:e,oldDate:t}):s.val(c?"":r.format(l)),R({type:"dp.error",date:e,oldDate:t}))},te=function(){var t=!1;return p?(p.find(".collapse").each(function(){var i=e(this).data("collapse");return!i||!i.transitioning||(t=!0,!1)}),t?h:(f&&f.hasClass("btn")&&f.toggleClass("active"),p.hide(),e(window).off("resize",F),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,R({type:"dp.hide",date:r.clone()}),s.blur(),o=r.clone(),h)):h},ie=function(){ee(null)},ne=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=C(e)):e=n.parseInputDate(e),e},re={next:function(){var e=v[u].navFnc;o.add(v[u].navStep,e),G(),N(e)},previous:function(){var e=v[u].navFnc;o.subtract(v[u].navStep,e),G(),N(e)},pickerSwitch:function(){L(1)},selectMonth:function(t){var i=e(t.target).closest("tbody").find("span").index(e(t.target));o.month(i),u===m?(ee(r.clone().year(o.year()).month(o.month())),n.inline||te()):(L(-1),G()),N("M")},selectYear:function(t){var i=parseInt(e(t.target).text(),10)||0;o.year(i),u===m?(ee(r.clone().year(o.year())),n.inline||te()):(L(-1),G()),N("YYYY")},selectDecade:function(t){var i=parseInt(e(t.target).data("selection"),10)||0;o.year(i),u===m?(ee(r.clone().year(o.year())),n.inline||te()):(L(-1),G()),N("YYYY")},selectDay:function(t){var i=o.clone();e(t.target).is(".old")&&i.subtract(1,"M"),e(t.target).is(".new")&&i.add(1,"M"),ee(i.date(parseInt(e(t.target).text(),10))),T()||n.keepOpen||n.inline||te()},incrementHours:function(){var e=r.clone().add(1,"h");U(e,"h")&&ee(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");U(e,"m")&&ee(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");U(e,"s")&&ee(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");U(e,"h")&&ee(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");U(e,"m")&&ee(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");U(e,"s")&&ee(e)},togglePeriod:function(){ee(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var i,r=e(t.target),o=r.closest("ul"),s=o.find(".in"),a=o.find(".collapse:not(.in)");if(s&&s.length){if(i=s.data("collapse"),i&&i.transitioning)return;s.collapse?(s.collapse("hide"),a.collapse("show")):(s.removeClass("in"),a.addClass("in")),r.is("span")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(e(t.target).text(),10);a||(r.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),ee(r.clone().hours(i)),re.showPicker.call(h)},selectMinute:function(t){ee(r.clone().minutes(parseInt(e(t.target).text(),10))),re.showPicker.call(h)},selectSecond:function(t){ee(r.clone().seconds(parseInt(e(t.target).text(),10))),re.showPicker.call(h)},clear:ie,today:function(){var e=C();U(e,"d")&&ee(e)},close:te},oe=function(t){return!e(t.currentTarget).is(".disabled")&&(re[e(t.currentTarget).data("action")].apply(h,arguments),!1)},se=function(){var t,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return s.prop("disabled")||!n.ignoreReadonly&&s.prop("readonly")||p?h:(void 0!==s.val()&&0!==s.val().trim().length?ee(ne(s.val().trim())):c&&n.useCurrent&&(n.inline||s.is("input")&&0===s.val().trim().length)&&(t=C(),"string"==typeof n.useCurrent&&(t=i[n.useCurrent](t)),ee(t)),p=A(),j(),W(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),J(),L(),e(window).on("resize",F),p.on("click","[data-action]",oe),p.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),F(),p.show(),n.focusOnShow&&!s.is(":focus")&&s.focus(),R({type:"dp.show"}),h)},ae=function(){return p?te():se()},le=function(e){var t,i,r,o,s=null,a=[],l={},d=e.which,u="p";_[d]=u;for(t in _)_.hasOwnProperty(t)&&_[t]===u&&(a.push(t),parseInt(t,10)!==d&&(l[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" "),r.length===a.length&&x[d]===r[r.length-1])){for(o=!0,i=r.length-2;i>=0;i--)if(!(x[r[i]]in l)){o=!1;break}if(o){s=n.keyBinds[t];break}}s&&(s.call(h,p),e.stopPropagation(),e.preventDefault())},de=function(e){_[e.which]="r",e.stopPropagation(),e.preventDefault()},ue=function(t){var i=e(t.target).val().trim(),n=i?ne(i):null;return ee(n),t.stopImmediatePropagation(),!1},he=function(){s.on({change:ue,blur:n.debug?"":te,keydown:le,keyup:de,focus:n.allowInputToggle?se:""}),i.is("input")?s.on({focus:se}):f&&(f.on("click",ae),f.on("mousedown",!1))},ce=function(){s.off({change:ue,blur:blur,keydown:le,keyup:de,focus:n.allowInputToggle?te:""}),i.is("input")?s.off({focus:se}):f&&(f.off("click",ae),f.off("mousedown",!1))},fe=function(t){var i={};return e.each(t,function(){var e=ne(this);e.isValid()&&(i[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},pe=function(t){var i={};return e.each(t,function(){i[this]=!0}),!!Object.keys(i).length&&i},me=function(){var e=n.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),d=n.extraFormats?n.extraFormats.slice():[],d.indexOf(e)<0&&d.indexOf(l)<0&&d.push(l),a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,S("y")&&(m=2),S("M")&&(m=1),S("d")&&(m=0),u=Math.max(m,u),c||ee(r)};if(h.destroy=function(){te(),ce(),i.removeData("DateTimePicker"),i.removeData("date")},h.toggle=ae,h.show=se,h.hide=te,h.disable=function(){return te(),f&&f.hasClass("btn")&&f.addClass("disabled"),s.prop("disabled",!0),h},h.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),s.prop("disabled",!1),h},h.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,h},h.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===h[e])throw new TypeError("option "+e+" is not recognized!");h[e](t)}),h},h.date=function(e){if(0===arguments.length)return c?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ee(null===e?null:ne(e)),h},h.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,l&&me(),h},h.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,h},h.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,h},h.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,d&&me(),h},h.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=fe(t),n.enabledDates=!1,J(),h},h.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,J(),h;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=fe(t),n.disabledDates=!1,J(),h},h.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,J(),h;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!U(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}ee(r)}return J(),h},h.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,J(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ne(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&ee(n.maxDate),o.isAfter(t)&&(o=t.clone().subtract(n.stepping,"m")),J(),h},h.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,J(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ne(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&ee(n.minDate),o.isBefore(t)&&(o=t.clone().add(n.stepping,"m")),J(),h},h.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,h;"string"==typeof e&&(e="now"===e||"moment"===e?C():C(e));var t=ne(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!U(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===s.val().trim())&&ee(n.defaultDate),h},h.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),o.locale(n.locale),l&&me(),p&&(te(),se()),h},h.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,h)},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,h},h.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?h:(n.collapse=e,p&&(te(),se()),h)},h.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),p&&(te(),se()),h},h.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),p&&(te(),se()),h},h.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,h},h.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,p&&(te(),se()),h},h.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(g.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+g.join(", ")+") value");return n.viewMode=e,u=Math.max(g.indexOf(e),m),L(),h},h.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(w.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return n.toolbarPlacement=e,p&&(te(),se()),h},h.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),b.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),y.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return J(),h},h.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,J(),h},h.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,p&&(te(),se()),h},h.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,p&&(te(),se()),h},h.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,p&&(te(),se()),h},h.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,h},h.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,h},h.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,h},h.clear=function(){return ie(),h},h.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,h)},h.getMoment=function(e){return C(e)},h.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,h},h.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,h},h.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,h},h.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,h},h.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,h},h.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,h},h.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,J(),h},h.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=pe(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!U(r,"h");){if(r.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}ee(r)}return J(),h},h.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,J(),h;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=pe(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!U(r,"h");){if(r.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}ee(r)}return J(),h},h.viewDate=function(e){if(0===arguments.length)return o.clone();if(!e)return o=r.clone(),h;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=ne(e),N(),h},i.is("input"))s=i;else if(s=i.find(n.datepickerInput),0===s.length)s=i.find("input");else if(!s.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(f=0===i.find(".datepickerbutton").length?i.find(".input-group-addon"):i.find(".datepickerbutton")),!n.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=C(),o=r.clone(),e.extend(!0,n,I()),h.options(n),me(),he(),s.prop("disabled")&&h.disable(),s.is("input")&&0!==s.val().trim().length?ee(ne(s.val().trim())):n.defaultDate&&void 0===s.attr("placeholder")&&ee(n.defaultDate),n.inline&&se(),h};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),o=!0,s=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",i(r,n)))});if("string"==typeof t)return this.each(function(){var i=e(this),s=i.data("DateTimePicker");if(!s)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=s[t].apply(s,r),o=n===s}),o||e.inArray(t,s)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker});(function(){"use strict";var e={};e.version="1.03";e.remove=function(e){var t=false;if(e.slice(0,2)=="Ã¿Ã"){}else if(e.slice(0,23)=="data:image/jpeg;base64,"||e.slice(0,22)=="data:image/jpg;base64,"){e=u(e.split(",")[1]);t=true}else{throw"Given data is not jpeg."}var i=m(e);if(i[1].slice(0,2)=="Ã¿Ã¡"&&i[1].slice(4,10)=="Exif\0\0"){i=[i[0]].concat(i.slice(2))}else if(i[2].slice(0,2)=="Ã¿Ã¡"&&i[2].slice(4,10)=="Exif\0\0"){i=i.slice(0,2).concat(i.slice(3))}else{throw"Exif not found."}var n=i.join("");if(t){n="data:image/jpeg;base64,"+d(n)}return n};e.insert=function(e,t){var i=false;if(e.slice(0,6)!="Exif\0\0"){throw"Given data is not exif."}if(t.slice(0,2)=="Ã¿Ã"){}else if(t.slice(0,23)=="data:image/jpeg;base64,"||t.slice(0,22)=="data:image/jpg;base64,"){t=u(t.split(",")[1]);i=true}else{throw"Given data is not jpeg."}var n="Ã¿Ã¡"+c(">H",[e.length+2])+e;var r=m(t);var o=g(r,n);if(i){o="data:image/jpeg;base64,"+d(o)}return o};e.load=function(e){var t;if(typeof e=="string"){if(e.slice(0,2)=="Ã¿Ã"){t=e}else if(e.slice(0,23)=="data:image/jpeg;base64,"||e.slice(0,22)=="data:image/jpg;base64,"){t=u(e.split(",")[1])}else if(e.slice(0,4)=="Exif"){t=e.slice(6)}else{throw"'load' gots invalid file data."}}else{throw"'load' gots invalid type argument."}var i={};var n={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null};var r=new l(t);if(r.tiftag===null){return n}if(r.tiftag.slice(0,2)=="II"){r.endian_mark="<"}else{r.endian_mark=">"}var o=f(r.endian_mark+"L",r.tiftag.slice(4,8))[0];n["0th"]=r.get_ifd(o,"0th");var s=n["0th"]["first_ifd_pointer"];delete n["0th"]["first_ifd_pointer"];if(34665 in n["0th"]){o=n["0th"][34665];n["Exif"]=r.get_ifd(o,"Exif")}if(34853 in n["0th"]){o=n["0th"][34853];n["GPS"]=r.get_ifd(o,"GPS")}if(40965 in n["Exif"]){o=n["Exif"][40965];n["Interop"]=r.get_ifd(o,"Interop")}if(s!="\0\0\0\0"){o=f(r.endian_mark+"L",s)[0];n["1st"]=r.get_ifd(o,"1st");if(513 in n["1st"]&&514 in n["1st"]){var a=n["1st"][513]+n["1st"][514];var d=r.tiftag.slice(n["1st"][513],a);n["thumbnail"]=d}}return n};e.dump=function(n){var r=8;var o=t(n);var s="Exif\0\0MM\0*\0\0\0\b";var l=false;var d=false;var u=false;var h=false;var f,p,m,v,g;if("0th"in o){f=o["0th"]}else{f={}}if("Exif"in o&&Object.keys(o["Exif"]).length||"Interop"in o&&Object.keys(o["Interop"]).length){f[34665]=1;l=true;p=o["Exif"];if("Interop"in o&&Object.keys(o["Interop"]).length){p[40965]=1;u=true;m=o["Interop"]}else if(Object.keys(p).indexOf(e.ExifIFD.InteroperabilityTag.toString())>-1){delete p[40965]}}else if(Object.keys(f).indexOf(e.ImageIFD.ExifTag.toString())>-1){delete f[34665]}if("GPS"in o&&Object.keys(o["GPS"]).length){f[e.ImageIFD.GPSTag]=1;d=true;v=o["GPS"]}else if(Object.keys(f).indexOf(e.ImageIFD.GPSTag.toString())>-1){delete f[e.ImageIFD.GPSTag]}if("1st"in o&&"thumbnail"in o&&o["thumbnail"]!=null){h=true;o["1st"][513]=1;o["1st"][514]=1;g=o["1st"]}var y=a(f,"0th",0);var w=y[0].length+l*12+d*12+4+y[1].length;var x,_="",k=0,C,S="",T=0,D,E="",O=0,P,M="",A;if(l){x=a(p,"Exif",w);k=x[0].length+u*12+x[1].length}if(d){C=a(v,"GPS",w+k);S=C.join("");T=S.length}if(u){var I=w+k+T;D=a(m,"Interop",I);E=D.join("");O=E.length}if(h){var I=w+k+T+O;P=a(g,"1st",I);A=i(o["thumbnail"]);if(A.length>64e3){throw"Given thumbnail is too large. max 64kB"}}var F="",R="",N="",L="\0\0\0\0";if(l){var j=r+w;var B=c(">L",[j]);var z=34665;var $=c(">H",[z]);var H=c(">H",[b["Long"]]);var U=c(">L",[1]);F=$+H+U+B}if(d){var j=r+w+k;var B=c(">L",[j]);var z=34853;var $=c(">H",[z]);var H=c(">H",[b["Long"]]);var U=c(">L",[1]);R=$+H+U+B}if(u){var j=r+w+k+T;var B=c(">L",[j]);var z=40965;var $=c(">H",[z]);var H=c(">H",[b["Long"]]);var U=c(">L",[1]);N=$+H+U+B}if(h){var j=r+w+k+T+O;L=c(">L",[j]);var W=j+P[0].length+24+4+P[1].length;var q="\0\0\0\0"+c(">L",[W]);var Y="\0\0\0\0"+c(">L",[A.length]);M=P[0]+q+Y+"\0\0\0\0"+P[1]+A}var V=y[0]+F+R+L+y[1];if(l){_=x[0]+N+x[1]}return s+V+_+S+E+M};function t(e){return JSON.parse(JSON.stringify(e))}function i(e){var t=m(e);while("Ã¿Ã "<=t[1].slice(0,2)&&t[1].slice(0,2)<="Ã¿Ã¯"){t=[t[0]].concat(t.slice(2))}return t.join("")}function n(e){return c(">"+p("B",e.length),e)}function r(e){return c(">"+p("H",e.length),e)}function o(e){return c(">"+p("L",e.length),e)}function s(e,t,i){var s="";var a="";var l,d,u,h;if(t=="Byte"){l=e.length;if(l<=4){a=n(e)+p("\0",4-l)}else{a=c(">L",[i]);s=n(e)}}else if(t=="Short"){l=e.length;if(l<=2){a=r(e)+p("\0\0",2-l)}else{a=c(">L",[i]);s=r(e)}}else if(t=="Long"){l=e.length;if(l<=1){a=o(e)}else{a=c(">L",[i]);s=o(e)}}else if(t=="Ascii"){d=e+"\0";l=d.length;if(l>4){a=c(">L",[i]);s=d}else{a=d+p("\0",4-l)}}else if(t=="Rational"){if(typeof e[0]=="number"){l=1;u=e[0];h=e[1];d=c(">L",[u])+c(">L",[h])}else{l=e.length;d="";for(var f=0;f<l;f++){u=e[f][0];h=e[f][1];d+=c(">L",[u])+c(">L",[h])}}a=c(">L",[i]);s=d}else if(t=="SRational"){if(typeof e[0]=="number"){l=1;u=e[0];h=e[1];d=c(">l",[u])+c(">l",[h])}else{l=e.length;d="";for(var f=0;f<l;f++){u=e[f][0];h=e[f][1];d+=c(">l",[u])+c(">l",[h])}}a=c(">L",[i]);s=d}else if(t=="Undefined"){l=e.length;if(l>4){a=c(">L",[i]);s=e}else{a=e+p("\0",4-l)}}var m=c(">L",[l]);return[m,a,s]}function a(e,t,i){var n=8;var r=Object.keys(e).length;var o=c(">H",[r]);var a;if(["0th","1st"].indexOf(t)>-1){a=2+r*12+4}else{a=2+r*12}var l="";var d="";var u;for(var u in e){if(typeof u=="string"){u=parseInt(u)}if(t=="0th"&&[34665,34853].indexOf(u)>-1){continue}else if(t=="Exif"&&u==40965){continue}else if(t=="1st"&&[513,514].indexOf(u)>-1){continue}var h=e[u];var f=c(">H",[u]);var p=w[t][u]["type"];var m=c(">H",[b[p]]);if(typeof h=="number"){h=[h]}var v=n+a+i+d.length;var g=s(h,p,v);var y=g[0];var x=g[1];var _=g[2];l+=f+m+y+x;d+=_}return[o+l,d]}function l(e){var t,i;if(e.slice(0,2)=="Ã¿Ã"){t=m(e);i=v(t);if(i){this.tiftag=i.slice(10)}else{this.tiftag=null}}else if(["II","MM"].indexOf(e.slice(0,2))>-1){this.tiftag=e}else if(e.slice(0,4)=="Exif"){this.tiftag=e.slice(6)}else{throw"Given file is neither JPEG nor TIFF."}}l.prototype={get_ifd:function(e,t){var i={};var n=f(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0];var r=e+2;var o;if(["0th","1st"].indexOf(t)>-1){o="Image"}else{o=t}for(var s=0;s<n;s++){e=r+12*s;var a=f(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0];var l=f(this.endian_mark+"H",this.tiftag.slice(e+2,e+4))[0];var d=f(this.endian_mark+"L",this.tiftag.slice(e+4,e+8))[0];var u=this.tiftag.slice(e+8,e+12);var h=[l,d,u];if(a in w[o]){i[a]=this.convert_value(h)}}if(t=="0th"){e=r+12*n;i["first_ifd_pointer"]=this.tiftag.slice(e,e+4)}return i},convert_value:function(e){var t=null;var i=e[0];var n=e[1];var r=e[2];var o;if(i==1){if(n>4){o=f(this.endian_mark+"L",r)[0];t=f(this.endian_mark+p("B",n),this.tiftag.slice(o,o+n))}else{t=f(this.endian_mark+p("B",n),r.slice(0,n))}}else if(i==2){if(n>4){o=f(this.endian_mark+"L",r)[0];t=this.tiftag.slice(o,o+n-1)}else{t=r.slice(0,n-1)}}else if(i==3){if(n>2){o=f(this.endian_mark+"L",r)[0];t=f(this.endian_mark+p("H",n),this.tiftag.slice(o,o+n*2))}else{t=f(this.endian_mark+p("H",n),r.slice(0,n*2))}}else if(i==4){if(n>1){o=f(this.endian_mark+"L",r)[0];t=f(this.endian_mark+p("L",n),this.tiftag.slice(o,o+n*4))}else{t=f(this.endian_mark+p("L",n),r)}}else if(i==5){o=f(this.endian_mark+"L",r)[0];if(n>1){t=[];for(var s=0;s<n;s++){t.push([f(this.endian_mark+"L",this.tiftag.slice(o+s*8,o+4+s*8))[0],f(this.endian_mark+"L",this.tiftag.slice(o+4+s*8,o+8+s*8))[0]])}}else{t=[f(this.endian_mark+"L",this.tiftag.slice(o,o+4))[0],f(this.endian_mark+"L",this.tiftag.slice(o+4,o+8))[0]]}}else if(i==7){if(n>4){o=f(this.endian_mark+"L",r)[0];t=this.tiftag.slice(o,o+n)}else{t=r.slice(0,n)}}else if(i==10){o=f(this.endian_mark+"L",r)[0];if(n>1){t=[];for(var s=0;s<n;s++){t.push([f(this.endian_mark+"l",this.tiftag.slice(o+s*8,o+4+s*8))[0],f(this.endian_mark+"l",this.tiftag.slice(o+4+s*8,o+8+s*8))[0]])}}else{t=[f(this.endian_mark+"l",this.tiftag.slice(o,o+4))[0],f(this.endian_mark+"l",this.tiftag.slice(o+4,o+8))[0]]}}else{throw"Exif might be wrong. Got incorrect value "+"type to decode. type:"+i}if(t instanceof Array&&t.length==1){return t[0]}else{return t}}};if(typeof window!=="undefined"&&typeof window.btoa==="function"){var d=window.btoa}if(typeof d==="undefined"){var d=function(e){var t="";var i,n,r,o,s,a,l;var d=0;var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";while(d<e.length){i=e.charCodeAt(d++);n=e.charCodeAt(d++);r=e.charCodeAt(d++);o=i>>2;s=(i&3)<<4|n>>4;a=(n&15)<<2|r>>6;l=r&63;if(isNaN(n)){a=l=64}else if(isNaN(r)){l=64}t=t+u.charAt(o)+u.charAt(s)+u.charAt(a)+u.charAt(l)}return t}}if(typeof window!=="undefined"&&typeof window.atob==="function"){var u=window.atob}if(typeof u==="undefined"){var u=function(e){var t="";var i,n,r;var o,s,a,l;var d=0;var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length){o=u.indexOf(e.charAt(d++));s=u.indexOf(e.charAt(d++));a=u.indexOf(e.charAt(d++));l=u.indexOf(e.charAt(d++));i=o<<2|s>>4;n=(s&15)<<4|a>>2;r=(a&3)<<6|l;t=t+String.fromCharCode(i);if(a!=64){t=t+String.fromCharCode(n)}if(l!=64){t=t+String.fromCharCode(r)}}return t}}function h(e){var t=slice2Segments(e);var i,n,r,o=[192,193,194,195,197,198,199,201,202,203,205,206,207];for(var s=0;s<t.length;s++){i=t[s];if(o.indexOf(i[1])>=0){r=i[5]*256+i[6];n=i[7]*256+i[8];break}}return[n,r]}function c(e,t){if(!(t instanceof Array)){throw"'pack' error. Got invalid type argument."}if(e.length-1!=t.length){throw"'pack' error. "+(e.length-1)+" marks, "+t.length+" elements."}var i;if(e[0]=="<"){i=true}else if(e[0]==">"){i=false}else{throw""}var n="";var r=1;var o=null;var s=null;var a=null;while(s=e[r]){if(s.toLowerCase()=="b"){o=t[r-1];if(s=="b"&&o<0){o+=256}if(o>255||o<0){throw"'pack' error."}else{a=String.fromCharCode(o)}}else if(s=="H"){o=t[r-1];if(o>65535||o<0){throw"'pack' error."}else{a=String.fromCharCode(Math.floor(o%65536/256))+String.fromCharCode(o%256);if(i){a=a.split("").reverse().join("")}}}else if(s.toLowerCase()=="l"){o=t[r-1];if(s=="l"&&o<0){o+=4294967296}if(o>4294967295||o<0){throw"'pack' error."}else{a=String.fromCharCode(Math.floor(o/16777216))+String.fromCharCode(Math.floor(o%16777216/65536))+String.fromCharCode(Math.floor(o%65536/256))+String.fromCharCode(o%256);if(i){a=a.split("").reverse().join("")}}}else{throw"'pack' error."}n+=a;r+=1}return n}function f(e,t){if(typeof t!="string"){throw"'unpack' error. Got invalid type argument."}var i=0;for(var n=1;n<e.length;n++){if(e[n].toLowerCase()=="b"){i+=1}else if(e[n].toLowerCase()=="h"){i+=2}else if(e[n].toLowerCase()=="l"){i+=4}else{throw"'unpack' error. Got invalid mark."}}if(i!=t.length){throw"'unpack' error. Mismatch between symbol and string length. "+i+":"+t.length}var r;if(e[0]=="<"){r=true}else if(e[0]==">"){r=false}else{throw"'unpack' error."}var o=[];var s=0;var a=1;var l=null;var d=null;var u=null;var h="";while(d=e[a]){if(d.toLowerCase()=="b"){u=1;h=t.slice(s,s+u);l=h.charCodeAt(0);if(d=="b"&&l>=128){l-=256}}else if(d=="H"){u=2;h=t.slice(s,s+u);if(r){h=h.split("").reverse().join("")}l=h.charCodeAt(0)*256+h.charCodeAt(1)}else if(d.toLowerCase()=="l"){u=4;h=t.slice(s,s+u);if(r){h=h.split("").reverse().join("")}l=h.charCodeAt(0)*16777216+h.charCodeAt(1)*65536+h.charCodeAt(2)*256+h.charCodeAt(3);if(d=="l"&&l>=2147483648){l-=4294967296}}else{throw"'unpack' error. "+d}o.push(l);s+=u;a+=1}return o}function p(e,t){var i="";for(var n=0;n<t;n++){i+=e}return i}function m(e){if(e.slice(0,2)!="Ã¿Ã"){throw"Given data isn't JPEG."}var t=2;var i=["Ã¿Ã"];while(true){if(e.slice(t,t+2)=="Ã¿Ã"){i.push(e.slice(t));break}else{var n=f(">H",e.slice(t+2,t+4))[0];var r=t+n+2;i.push(e.slice(t,r));t=r}if(t>=e.length){throw"Wrong JPEG data."}}return i}function v(e){var t;for(var i=0;i<e.length;i++){t=e[i];if(t.slice(0,2)=="Ã¿Ã¡"&&t.slice(4,10)=="Exif\0\0"){return t}}return null}function g(e,t){if(e[1].slice(0,2)=="Ã¿Ã "&&(e[2].slice(0,2)=="Ã¿Ã¡"&&e[2].slice(4,10)=="Exif\0\0")){if(t){e[2]=t;e=["Ã¿Ã"].concat(e.slice(2))}else if(t==null){e=e.slice(0,2).concat(e.slice(3))}else{e=e.slice(0).concat(e.slice(2))}}else if(e[1].slice(0,2)=="Ã¿Ã "){if(t){e[1]=t}}else if(e[1].slice(0,2)=="Ã¿Ã¡"&&e[1].slice(4,10)=="Exif\0\0"){if(t){e[1]=t}else if(t==null){e=e.slice(0).concat(e.slice(2))}}else{if(t){e=[e[0],t].concat(e.slice(1))}}return e.join("")}function y(e){var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);var r=(n<10?"0":"")+n.toString(16);t+=r+" "}return t}var b={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10};var w={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};w["0th"]=w["Image"];w["1st"]=w["Image"];e.TAGS=w;e.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041};e.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240};e.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31};e.InteropIFD={InteroperabilityIndex:1};e.GPSHelper={degToDmsRational:function(e){var t=e%1*60;var i=t%1*60;var n=Math.floor(e);var r=Math.floor(t);var o=Math.round(i*100);return[[n,1],[r,1],[o,100]]}};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=e}exports.piexif=e}else{window.piexif=e}})();(function(e){"use strict";var t=typeof window==="undefined"?null:window;if(typeof define==="function"&&define.amd){define(function(){return e(t)})}else if(typeof module!=="undefined"){module.exports=e(t)}else{t.DOMPurify=e(t)}})(function e(t){"use strict";var i=function(t){return e(t)};i.version="0.7.4";if(!t||!t.document||t.document.nodeType!==9){i.isSupported=false;return i}var n=t.document;var r=n;var o=t.DocumentFragment;var s=t.HTMLTemplateElement;var a=t.NodeFilter;var l=t.NamedNodeMap||t.MozNamedAttrMap;var d=t.Text;var u=t.Comment;var h=t.DOMParser;if(typeof s==="function"){var c=n.createElement("template");if(c.content&&c.content.ownerDocument){n=c.content.ownerDocument}}var f=n.implementation;var p=n.createNodeIterator;var m=n.getElementsByTagName;var v=n.createDocumentFragment;var g=r.importNode;var y={};i.isSupported=typeof f.createHTMLDocument!=="undefined"&&n.documentMode!==9;var b=function(e,t){var i=t.length;while(i--){if(typeof t[i]==="string"){t[i]=t[i].toLowerCase()}e[t[i]]=true}return e};var w=function(e){var t={};var i;for(i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t};var x=null;var _=b({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]);var k=null;var C=b({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var S=null;var T=null;var D=true;var E=false;var O=false;var P=false;var M=/\{\{[\s\S]*|[\s\S]*\}\}/gm;var A=/<%[\s\S]*|[\s\S]*%>/gm;var I=false;var F=false;var R=false;var N=false;var L=true;var j=true;var B=b({},["audio","head","math","script","style","svg","video"]);var z=b({},["audio","video","img","source"]);var $=b({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]);var H=null;var U=n.createElement("form");var W=function(e){if(typeof e!=="object"){e={}}x="ALLOWED_TAGS"in e?b({},e.ALLOWED_TAGS):_;k="ALLOWED_ATTR"in e?b({},e.ALLOWED_ATTR):C;S="FORBID_TAGS"in e?b({},e.FORBID_TAGS):{};T="FORBID_ATTR"in e?b({},e.FORBID_ATTR):{};D=e.ALLOW_DATA_ATTR!==false;E=e.ALLOW_UNKNOWN_PROTOCOLS||false;O=e.SAFE_FOR_JQUERY||false;P=e.SAFE_FOR_TEMPLATES||false;I=e.WHOLE_DOCUMENT||false;F=e.RETURN_DOM||false;R=e.RETURN_DOM_FRAGMENT||false;N=e.RETURN_DOM_IMPORT||false;L=e.SANITIZE_DOM!==false;j=e.KEEP_CONTENT!==false;if(P){D=false}if(R){F=true}if(e.ADD_TAGS){if(x===_){x=w(x)}b(x,e.ADD_TAGS)}if(e.ADD_ATTR){if(k===C){k=w(k)}b(k,e.ADD_ATTR)}if(j){x["#text"]=true}if(Object&&"freeze"in Object){Object.freeze(e)}H=e};var q=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}};var Y=function(e){var t,i;try{t=(new h).parseFromString(e,"text/html")}catch(e){}if(!t){t=f.createHTMLDocument("");i=t.body;i.parentNode.removeChild(i.parentNode.firstElementChild);i.outerHTML=e}if(typeof t.getElementsByTagName==="function"){return t.getElementsByTagName(I?"html":"body")[0]}return m.call(t,I?"html":"body")[0]};var V=function(e){return p.call(e.ownerDocument||e,e,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,function(){return a.FILTER_ACCEPT},false)};var G=function(e){if(e instanceof d||e instanceof u){return false}if(typeof e.nodeName!=="string"||typeof e.textContent!=="string"||typeof e.removeChild!=="function"||!(e.attributes instanceof l)||typeof e.removeAttribute!=="function"||typeof e.setAttribute!=="function"){return true}return false};var X=function(e){var t,i;ie("beforeSanitizeElements",e,null);if(G(e)){q(e);return true}t=e.nodeName.toLowerCase();ie("uponSanitizeElement",e,{tagName:t});if(!x[t]||S[t]){if(j&&!B[t]&&typeof e.insertAdjacentHTML==="function"){try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}}q(e);return true}if(O&&!e.firstElementChild&&(!e.content||!e.content.firstElementChild)){e.innerHTML=e.textContent.replace(/</g,"&lt;")}if(P&&e.nodeType===3){i=e.textContent;i=i.replace(M," ");i=i.replace(A," ");e.textContent=i}ie("afterSanitizeElements",e,null);return false};var Z=/^data-[\w.\u00B7-\uFFFF-]/;var K=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;var Q=/^(?:\w+script|data):/i;var J=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;var ee=function(e){var i,r,o,s,a,l,d,u;ie("beforeSanitizeAttributes",e,null);l=e.attributes;if(!l){return}d={attrName:"",attrValue:"",keepAttr:true};u=l.length;while(u--){i=l[u];r=i.name;o=i.value;s=r.toLowerCase();d.attrName=s;d.attrValue=o;d.keepAttr=true;ie("uponSanitizeAttribute",e,d);o=d.attrValue;if(s==="name"&&e.nodeName==="IMG"&&l.id){a=l.id;l=Array.prototype.slice.apply(l);e.removeAttribute("id");e.removeAttribute(r);if(l.indexOf(a)>u){e.setAttribute("id",a.value)}}else{if(r==="id"){e.setAttribute(r,"")}e.removeAttribute(r)}if(!d.keepAttr){continue}if(L&&(s==="id"||s==="name")&&(o in t||o in n||o in U)){continue}if(P){o=o.replace(M," ");o=o.replace(A," ")}if(k[s]&&!T[s]&&($[s]||K.test(o.replace(J,""))||s==="src"&&o.indexOf("data:")===0&&z[e.nodeName.toLowerCase()])||D&&Z.test(s)||E&&!Q.test(o.replace(J,""))){try{e.setAttribute(r,o)}catch(e){}}}ie("afterSanitizeAttributes",e,null)};var te=function(e){var t;var i=V(e);ie("beforeSanitizeShadowDOM",e,null);while(t=i.nextNode()){ie("uponSanitizeShadowNode",t,null);if(X(t)){continue}if(t.content instanceof o){te(t.content)}ee(t)}ie("afterSanitizeShadowDOM",e,null)};var ie=function(e,t,n){if(!y[e]){return}y[e].forEach(function(e){e.call(i,t,n,H)})};i.sanitize=function(e,n){var s,a,l,d,u;if(!e){e=""}if(typeof e!=="string"){if(typeof e.toString!=="function"){throw new TypeError("toString is not a function")}else{e=e.toString()}}if(!i.isSupported){if(typeof t.toStaticHTML==="object"||typeof t.toStaticHTML==="function"){return t.toStaticHTML(e)}return e}W(n);if(!F&&!I&&e.indexOf("<")===-1){return e}s=Y(e);if(!s){return F?null:""}d=V(s);while(a=d.nextNode()){if(a.nodeType===3&&a===l){continue}if(X(a)){continue}if(a.content instanceof o){te(a.content)}ee(a);l=a}if(F){if(R){u=v.call(s.ownerDocument);while(s.firstChild){u.appendChild(s.firstChild)}}else{u=s}if(N){u=g.call(r,u,true)}return u}return I?s.outerHTML:s.innerHTML};i.addHook=function(e,t){if(typeof t!=="function"){return}y[e]=y[e]||[];y[e].push(t)};i.removeHook=function(e){if(y[e]){y[e].pop()}};i.removeHooks=function(e){if(y[e]){y[e]=[]}};i.removeAllHooks=function(){y=[]};return i});(function e(t){"use strict";if(typeof define==="function"&&define.amd){define(t)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=t()}else{window["KvSortable"]=t()}})(function e(){"use strict";if(typeof window=="undefined"||!window.document){return function e(){throw new Error("KvSortable.js requires a window with a document")}}var t,i,n,r,o,s,a,l,d,u,h,c,f,p,m,v,g,y={},b,w,x,_=/\s+/g,k=/left|right|inline/,C="KvSortable"+(new Date).getTime(),S=window,T=S.document,D=S.parseInt,E=S.jQuery||S.Zepto,O=S.Polymer,P=false,M=!!("draggable"in T.createElement("div")),A=function(e){if(!!navigator.userAgent.match(/Trident.*rv[ :]?11\./)){return false}e=T.createElement("x");e.style.cssText="pointer-events:auto";return e.style.pointerEvents==="auto"}(),I=false,F=Math.abs,R=Math.min,N=[],L=[],j=re(function(e,t,i){if(i&&t.scroll){var n=i[C],r,o,s=t.scrollSensitivity,a=t.scrollSpeed,h=e.clientX,c=e.clientY,f=window.innerWidth,p=window.innerHeight,m,v,g,b;if(d!==i){l=t.scroll;d=i;u=t.scrollFn;if(l===true){l=i;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight){break}}while(l=l.parentNode)}}if(l){r=l;o=l.getBoundingClientRect();m=(F(o.right-h)<=s)-(F(o.left-h)<=s);v=(F(o.bottom-c)<=s)-(F(o.top-c)<=s)}if(!(m||v)){m=(f-h<=s)-(h<=s);v=(p-c<=s)-(c<=s);(m||v)&&(r=S)}if(y.vx!==m||y.vy!==v||y.el!==r){y.el=r;y.vx=m;y.vy=v;clearInterval(y.pid);if(r){y.pid=setInterval(function(){b=v?v*a:0;g=m?m*a:0;if("function"===typeof u){return u.call(n,g,b,e)}if(r===S){S.scrollTo(S.pageXOffset+g,S.pageYOffset+b)}else{r.scrollTop+=b;r.scrollLeft+=g}},24)}}}},30),B=function(e){function t(e,t){if(e===void 0||e===true){e=i.name}if(typeof e==="function"){return e}else{return function(i,n){var r=n.options.group.name;return t?e:e&&(e.join?e.indexOf(r)>-1:r==e)}}}var i={};var n=e.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=t(n.pull,true);i.checkPut=t(n.put);i.revertClone=n.revertClone;e.group=i};function z(e,t){if(!(e&&e.nodeType&&e.nodeType===1)){throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(e)}this.el=e;this.options=t=oe({},t);e[C]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"kvsortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i){!(n in t)&&(t[n]=i[n])}B(t);for(var r in this){if(r.charAt(0)==="_"&&typeof this[r]==="function"){this[r]=this[r].bind(this)}}this.nativeDraggable=t.forceFallback?false:M;q(e,"mousedown",this._onTapStart);q(e,"touchstart",this._onTapStart);q(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){q(e,"dragover",this);q(e,"dragenter",this)}L.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}z.prototype={constructor:z,_onTapStart:function(e){var i=this,n=this.el,r=this.options,o=r.preventOnFilter,s=e.type,l=e.touches&&e.touches[0],d=(l||e).target,u=e.target.shadowRoot&&e.path[0]||d,h=r.filter,c;ae(n);if(t){return}if(s==="mousedown"&&e.button!==0||r.disabled){return}d=H(d,r.draggable,n);if(!d){return}if(a===d){return}c=ie(d,r.draggable);if(typeof h==="function"){if(h.call(this,e,d,this)){Z(i,u,"filter",d,n,c);o&&e.preventDefault();return}}else if(h){h=h.split(",").some(function(e){e=H(u,e.trim(),n);if(e){Z(i,e,"filter",d,n,c);return true}});if(h){o&&e.preventDefault();return}}if(r.handle&&!H(u,r.handle,n)){return}this._prepareDragStart(e,l,d,c)},_prepareDragStart:function(e,n,r,l){var d=this,u=d.el,h=d.options,c=u.ownerDocument,f;if(r&&!t&&r.parentNode===u){b=e;o=u;t=r;i=t.parentNode;s=t.nextSibling;a=r;v=h.group;p=l;this._lastX=(n||e).clientX;this._lastY=(n||e).clientY;t.style["will-change"]="transform";f=function(){d._disableDelayedDrag();t.draggable=d.nativeDraggable;V(t,h.chosenClass,true);d._triggerDragStart(e,n);Z(d,o,"choose",t,o,p)};h.ignore.split(",").forEach(function(e){X(t,e.trim(),Q)});q(c,"mouseup",d._onDrop);q(c,"touchend",d._onDrop);q(c,"touchcancel",d._onDrop);q(c,"pointercancel",d._onDrop);q(c,"selectstart",d);if(h.delay){q(c,"mouseup",d._disableDelayedDrag);q(c,"touchend",d._disableDelayedDrag);q(c,"touchcancel",d._disableDelayedDrag);q(c,"mousemove",d._disableDelayedDrag);q(c,"touchmove",d._disableDelayedDrag);q(c,"pointermove",d._disableDelayedDrag);d._dragStartTimer=setTimeout(f,h.delay)}else{f()}}},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer);Y(e,"mouseup",this._disableDelayedDrag);Y(e,"touchend",this._disableDelayedDrag);Y(e,"touchcancel",this._disableDelayedDrag);Y(e,"mousemove",this._disableDelayedDrag);Y(e,"touchmove",this._disableDelayedDrag);Y(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,i){i=i||(e.pointerType=="touch"?e:null);if(i){b={target:t,clientX:i.clientX,clientY:i.clientY};this._onDragStart(b,"touch")}else if(!this.nativeDraggable){this._onDragStart(b,true)}else{q(t,"dragend",this);q(o,"dragstart",this._onDragStart)}try{if(T.selection){setTimeout(function(){T.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(e){}},_dragStarted:function(){if(o&&t){var e=this.options;V(t,e.ghostClass,true);V(t,e.dragClass,false);z.active=this;Z(this,o,"start",t,o,p)}else{this._nulling()}},_emulateDragOver:function(){if(w){if(this._lastX===w.clientX&&this._lastY===w.clientY){return}this._lastX=w.clientX;this._lastY=w.clientY;if(!A){G(n,"display","none")}var e=T.elementFromPoint(w.clientX,w.clientY),t=e,i=L.length;if(t){do{if(t[C]){while(i--){L[i]({clientX:w.clientX,clientY:w.clientY,target:e,rootEl:t})}break}e=t}while(t=t.parentNode)}if(!A){G(n,"display","")}}},_onTouchMove:function(e){if(b){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=o.clientX-b.clientX+r.x,a=o.clientY-b.clientY+r.y,l=e.touches?"translate3d("+s+"px,"+a+"px,0)":"translate("+s+"px,"+a+"px)";if(!z.active){if(i&&R(F(o.clientX-this._lastX),F(o.clientY-this._lastY))<i){return}this._dragStarted()}this._appendGhost();x=true;w=o;G(n,"webkitTransform",l);G(n,"mozTransform",l);G(n,"msTransform",l);G(n,"transform",l);e.preventDefault()}},_appendGhost:function(){if(!n){var e=t.getBoundingClientRect(),i=G(t),r=this.options,s;n=t.cloneNode(true);V(n,r.ghostClass,false);V(n,r.fallbackClass,true);V(n,r.dragClass,true);G(n,"top",e.top-D(i.marginTop,10));G(n,"left",e.left-D(i.marginLeft,10));G(n,"width",e.width);G(n,"height",e.height);G(n,"opacity","0.8");G(n,"position","fixed");G(n,"zIndex","100000");G(n,"pointerEvents","none");r.fallbackOnBody&&T.body.appendChild(n)||o.appendChild(n);s=n.getBoundingClientRect();G(n,"width",e.width*2-s.width);G(n,"height",e.height*2-s.height)}},_onDragStart:function(e,i){var n=e.dataTransfer,s=this.options;this._offUpEvents();if(v.checkPull(this,this,t,e)){r=se(t);r.draggable=false;r.style["will-change"]="";G(r,"display","none");V(r,this.options.chosenClass,false);o.insertBefore(r,t);Z(this,o,"clone",t)}V(t,s.dragClass,true);if(i){if(i==="touch"){q(T,"touchmove",this._onTouchMove);q(T,"touchend",this._onDrop);q(T,"touchcancel",this._onDrop);q(T,"pointermove",this._onTouchMove);q(T,"pointerup",this._onDrop)}else{q(T,"mousemove",this._onTouchMove);q(T,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,50)}else{if(n){n.effectAllowed="move";s.setData&&s.setData.call(this,n,t)}q(T,"drop",this);setTimeout(this._dragStarted,0)}},_onDragOver:function(e){var a=this.el,l,d,u,p,m=this.options,y=m.group,b=z.active,w=v===y,_=false,S=m.sort;if(e.preventDefault!==void 0){e.preventDefault();!m.dragoverBubble&&e.stopPropagation()}if(t.animated){return}x=true;if(b&&!m.disabled&&(w?S||(p=!o.contains(t)):g===this||(b.lastPullMode=v.checkPull(this,b,t,e))&&y.checkPut(this,b,t,e))&&(e.rootEl===void 0||e.rootEl===this.el)){j(e,m,this.el);if(I){return}l=H(e.target,m.draggable,a);d=t.getBoundingClientRect();if(g!==this){g=this;_=true}if(p){$(b,true);i=o;if(r||s){o.insertBefore(t,r||s)}else if(!S){o.appendChild(t)}return}if(a.children.length===0||a.children[0]===n||a===e.target&&(l=ee(a,e))){if(l){if(l.animated){return}u=l.getBoundingClientRect()}$(b,w);if(K(o,a,t,d,l,u,e)!==false){if(!t.contains(a)){a.appendChild(t);i=a}this._animate(d,t);l&&this._animate(u,l)}}else if(l&&!l.animated&&l!==t&&l.parentNode[C]!==void 0){if(h!==l){h=l;c=G(l);f=G(l.parentNode)}u=l.getBoundingClientRect();var T=u.right-u.left,D=u.bottom-u.top,E=k.test(c.cssFloat+c.display)||f.display=="flex"&&f["flex-direction"].indexOf("row")===0,O=l.offsetWidth>t.offsetWidth,P=l.offsetHeight>t.offsetHeight,M=(E?(e.clientX-u.left)/T:(e.clientY-u.top)/D)>.5,A=l.nextElementSibling,F=K(o,a,t,d,l,u,e),R=false;if(F!==false){I=true;setTimeout(J,30);$(b,w);if(F===1||F===-1){R=F===1}else if(E){var N=t.offsetTop,L=l.offsetTop;if(N===L){R=l.previousElementSibling===t&&!O||M&&O}else if(l.previousElementSibling===t||t.previousElementSibling===l){R=(e.clientY-u.top)/D>.5}else{R=L>N}}else if(!_){R=A!==t&&!P||M&&P}if(!t.contains(a)){if(R&&!A){a.appendChild(t)}else{l.parentNode.insertBefore(t,R?A:l)}}i=t.parentNode;this._animate(d,t);this._animate(u,l)}}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();if(e.nodeType===1){e=e.getBoundingClientRect()}G(t,"transition","none");G(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)");t.offsetWidth;G(t,"transition","all "+i+"ms");G(t,"transform","translate3d(0,0,0)");clearTimeout(t.animated);t.animated=setTimeout(function(){G(t,"transition","");G(t,"transform","");t.animated=false},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;Y(T,"touchmove",this._onTouchMove);Y(T,"pointermove",this._onTouchMove);Y(e,"mouseup",this._onDrop);Y(e,"touchend",this._onDrop);Y(e,"pointerup",this._onDrop);Y(e,"touchcancel",this._onDrop);Y(e,"selectstart",this)},_onDrop:function(e){var a=this.el,l=this.options;clearInterval(this._loopId);clearInterval(y.pid);clearTimeout(this._dragStartTimer);Y(T,"mousemove",this._onTouchMove);if(this.nativeDraggable){Y(T,"drop",this);Y(a,"dragstart",this._onDragStart)}this._offUpEvents();if(e){if(x){e.preventDefault();!l.dropBubble&&e.stopPropagation()}n&&n.parentNode.removeChild(n);if(o===i||z.active.lastPullMode!=="clone"){r&&r.parentNode.removeChild(r)}if(t){if(this.nativeDraggable){Y(t,"dragend",this)}Q(t);t.style["will-change"]="";V(t,this.options.ghostClass,false);V(t,this.options.chosenClass,false);if(o!==i){m=ie(t,l.draggable);if(m>=0){Z(null,i,"add",t,o,p,m);Z(this,o,"remove",t,o,p,m);Z(null,i,"sort",t,o,p,m);Z(this,o,"sort",t,o,p,m)}}else{if(t.nextSibling!==s){m=ie(t,l.draggable);if(m>=0){Z(this,o,"update",t,o,p,m);Z(this,o,"sort",t,o,p,m)}}}if(z.active){if(m==null||m===-1){m=p}Z(this,o,"end",t,o,p,m);this.save()}}}this._nulling()},_nulling:function(){o=t=i=n=s=r=a=l=d=b=w=x=m=h=c=g=v=z.active=null;N.forEach(function(e){e.checked=true});N.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":if(t){this._onDragOver(e);W(e)}break;case"selectstart":e.preventDefault();break}},toArray:function(){var e=[],t,i=this.el.children,n=0,r=i.length,o=this.options;for(;n<r;n++){t=i[n];if(H(t,o.draggable,this.el)){e.push(t.getAttribute(o.dataIdAttr)||te(t))}}return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var r=i.children[n];if(H(r,this.options.draggable,i)){t[e]=r}},this);e.forEach(function(e){if(t[e]){i.removeChild(t[e]);i.appendChild(t[e])}})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return H(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(t===void 0){return i[e]}else{i[e]=t;if(e==="group"){B(i)}}},destroy:function(){var e=this.el;e[C]=null;Y(e,"mousedown",this._onTapStart);Y(e,"touchstart",this._onTapStart);Y(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){Y(e,"dragover",this);Y(e,"dragenter",this)}Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});L.splice(L.indexOf(this._onDragOver),1);this._onDrop();this.el=e=null}};function $(e,i){if(e.lastPullMode!=="clone"){i=true}if(r&&r.state!==i){G(r,"display",i?"none":"");if(!i){if(r.state){if(e.options.group.revertClone){o.insertBefore(r,s);e._animate(t,r)}else{o.insertBefore(r,t)}}}r.state=i}}function H(e,t,i){if(e){i=i||T;do{if(t===">*"&&e.parentNode===i||ne(e,t)){return e}}while(e=U(e))}return null}function U(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function W(e){if(e.dataTransfer){e.dataTransfer.dropEffect="move"}e.preventDefault()}function q(e,t,i){e.addEventListener(t,i,P)}function Y(e,t,i){e.removeEventListener(t,i,P)}function V(e,t,i){if(e){if(e.classList){e.classList[i?"add":"remove"](t)}else{var n=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(_," ")}}}function G(e,t,i){var n=e&&e.style;if(n){if(i===void 0){if(T.defaultView&&T.defaultView.getComputedStyle){i=T.defaultView.getComputedStyle(e,"")}else if(e.currentStyle){i=e.currentStyle}return t===void 0?i:i[t]}else{if(!(t in n)){t="-webkit-"+t}n[t]=i+(typeof i==="string"?"":"px")}}}function X(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,o=n.length;if(i){for(;r<o;r++){i(n[r],r)}}return n}return[]}function Z(e,t,i,n,o,s,a){e=e||t[C];var l=T.createEvent("Event"),d=e.options,u="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,true,true);l.to=t;l.from=o||t;l.item=n||t;l.clone=r;l.oldIndex=s;l.newIndex=a;t.dispatchEvent(l);if(d[u]){d[u].call(e,l)}}function K(e,t,i,n,r,o,s){var a,l=e[C],d=l.options.onMove,u;a=T.createEvent("Event");a.initEvent("move",true,true);a.to=t;a.from=e;a.dragged=i;a.draggedRect=n;a.related=r||t;a.relatedRect=o||t.getBoundingClientRect();e.dispatchEvent(a);if(d){u=d.call(l,a,s)}return u}function Q(e){e.draggable=false}function J(){I=false}function ee(e,t){var i=e.lastElementChild,n=i.getBoundingClientRect();return(t.clientY-(n.top+n.height)>5||t.clientX-(n.right+n.width)>5)&&i}function te(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--){n+=t.charCodeAt(i)}return n.toString(36)}function ie(e,t){var i=0;if(!e||!e.parentNode){return-1}while(e&&(e=e.previousElementSibling)){if(e.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||ne(e,t))){i++}}return i}function ne(e,t){if(e){t=t.split(".");var i=t.shift().toUpperCase(),n=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(i===""||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(n)||[]).length==t.length)}return false}function re(e,t){var i,n;return function(){if(i===void 0){i=arguments;n=this;setTimeout(function(){if(i.length===1){e.call(n,i[0])}else{e.apply(n,i)}i=void 0},t)}}}function oe(e,t){if(e&&t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}function se(e){return E?E(e).clone(true)[0]:O&&O.dom?O.dom(e).cloneNode(true):e.cloneNode(true)}function ae(e){var t=e.getElementsByTagName("input");var i=t.length;while(i--){var n=t[i];n.checked&&N.push(n)}}q(T,"touchmove",function(e){if(z.active){e.preventDefault()}});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){P={capture:false,passive:false}}}))}catch(e){}z.utils={on:q,off:Y,css:G,find:X,is:function(e,t){return!!H(e,t,e)},extend:oe,throttle:re,closest:H,toggleClass:V,clone:se,index:ie};z.create=function(e,t){return new z(e,t)};z.version="1.5.1";return z});(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){"use strict";e.fn.kvsortable=function(t){var i,n=arguments;this.each(function(){var r=e(this),o=r.data("kvsortable");if(!o&&(t instanceof Object||!t)){o=new KvSortable(this,t);r.data("kvsortable",o)}if(o){if(t==="widget"){i=o}else if(t==="destroy"){o.destroy();r.removeData("kvsortable")}else if(typeof o[t]==="function"){i=o[t].apply(o,[].slice.call(n,1))}else if(t in o.options){i=o.option.apply(o,n)}}});return i===void 0?this:i}});(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{if(typeof module==="object"&&module.exports){module.exports=e(require("jquery"))}else{e(window.jQuery)}}})(function(e){"use strict";e.fn.fileinputLocales={};e.fn.fileinputThemes={};String.prototype.setTokens=function(e){var t=this.toString(),i,n;for(i in e){if(e.hasOwnProperty(i)){n=new RegExp("{"+i+"}","g");t=t.replace(n,e[i])}}return t};var t,i;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n'+'<param name="allowFullScreen" value="true" />\n'+'<param name="allowScriptAccess" value="always" />\n'+'<param name="autoPlay" value="false" />\n'+'<param name="autoStart" value="false" />\n'+'<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n'+'<span class="{previewFileIconClass}">{previewFileIcon}</span>\n'+"</div>",MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(e,t,i){return e!==undefined&&(i?e===t:e.match(t))},isIE:function(e){if(navigator.appName!=="Microsoft Internet Explorer"){return false}if(e===10){return new RegExp("msie\\s"+e,"i").test(navigator.userAgent)}var t=document.createElement("div"),i;t.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e";i=t.getElementsByTagName("i").length;document.body.appendChild(t);t.parentNode.removeChild(t);return i},initModal:function(t){var i=e("body");if(i.length){t.appendTo(i)}},isEmpty:function(t,i){return t===undefined||t===null||t.length===0||i&&e.trim(t)===""},isArray:function(e){return Array.isArray(e)||Object.prototype.toString.call(e)==="[object Array]"},ifSet:function(e,t,i){i=i||"";return t&&typeof t==="object"&&e in t?t[e]:i},cleanArray:function(e){if(!(e instanceof Array)){e=[]}return e.filter(function(e){return e!==undefined&&e!==null})},spliceArray:function(e,t){var i,n=0,r=[];if(!(e instanceof Array)){return[]}for(i=0;i<e.length;i++){if(i!==t){r[n]=e[i];n++}}return r},getNum:function(e,t){t=t||0;if(typeof e==="number"){return e}if(typeof e==="string"){e=parseFloat(e)}return isNaN(e)?t:e},hasFileAPISupport:function(){return!!(window.File&&window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(e.draggable!==undefined||e.ondragstart!==undefined&&e.ondrop!==undefined)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return false}},hasArrayBufferViewSupport:function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}},dataURI2Blob:function(e){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,n=t.hasBlobSupport(),r,o,s,a,l,d,u=(n||i)&&window.atob&&window.ArrayBuffer&&window.Uint8Array;if(!u){return null}if(e.split(",")[0].indexOf("base64")>=0){r=atob(e.split(",")[1])}else{r=decodeURIComponent(e.split(",")[1])}o=new ArrayBuffer(r.length);s=new Uint8Array(o);for(a=0;a<r.length;a+=1){s[a]=r.charCodeAt(a)}l=e.split(",")[0].split(":")[1].split(";")[0];if(n){return new Blob([t.hasArrayBufferViewSupport()?s:o],{type:l})}d=new i;d.append(o);return d.getBlob(l)},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(i,n,r){return t.isEmpty(i)||t.isEmpty(i[n])?r:e(i[n])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(Math.random()*100)},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var n=t;if(!i){return n}e.each(i,function(e,t){if(typeof t==="function"){t=t()}n=n.split(e).join(t)});return n},cleanMemory:function(e){var i=e.is("img")?e.attr("src"):e.find("source").attr("src");t.objUrl.revokeObjectURL(i)},findFileName:function(e){var t=e.lastIndexOf("/");if(t===-1){t=e.lastIndexOf("\\")}return e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var i=document,n=i.documentElement;if(n&&e&&!t.checkFullScreen()){if(n.requestFullscreen){n.requestFullscreen()}else if(n.msRequestFullscreen){n.msRequestFullscreen()}else if(n.mozRequestFullScreen){n.mozRequestFullScreen()}else if(n.webkitRequestFullscreen){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(i.exitFullscreen){i.exitFullscreen()}else if(i.msExitFullscreen){i.msExitFullscreen()}else if(i.mozCancelFullScreen){i.mozCancelFullScreen()}else if(i.webkitExitFullscreen){i.webkitExitFullscreen()}}},moveArray:function(e,t,i){if(i>=e.length){var n=i-e.length;while(n--+1){e.push(undefined)}}e.splice(i,0,e.splice(t,1)[0]);return e},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");if(!t.length){t=e.closest(".kv-zoom-cache")}t.remove()},setOrientation:function(e,t){var i=new DataView(e),n=0,r=1,o,s,a;if(i.getUint16(n)!==65496||e.length<2){if(t){t()}return}n+=2;o=i.byteLength;while(n<o-2){s=i.getUint16(n);n+=2;switch(s){case 65505:a=i.getUint16(n);o=a-n;n+=2;break;case 274:r=i.getUint16(n+6,false);o=0;break}}if(t){t(r)}},validateOrientation:function(e,i){if(!window.FileReader||!window.DataView){return}var n=new FileReader,r;n.onloadend=function(){r=n.result;t.setOrientation(r,i)};n.readAsArrayBuffer(e)},adjustOrientedImage:function(e,t){var i,n,r;if(!e.hasClass("is-portrait-gt4")){return}if(t){e.css({width:e.parent().height()});return}else{e.css({height:"auto",width:e.height()})}i=e.parent().offset().top;n=e.offset().top;r=i-n;e.css("margin-top",r)}};i=function(i,n){var r=this;r.$element=e(i);r.$parent=r.$element.parent();if(!r._validate()){return}r.isPreviewable=t.hasFileAPISupport();r.isIE9=t.isIE(9);r.isIE10=t.isIE(10);if(r.isPreviewable||r.isIE9){r._init(n);r._listen()}r.$element.removeClass("file-loading")};i.prototype={constructor:i,_cleanup:function(){var e=this;e.reader=null;e.formdata={};e.uploadCount=0;e.uploadStatus={};e.uploadLog=[];e.uploadAsyncCount=0;e.loadedImages=[];e.totalImagesCount=0;e.ajaxRequests=[];e.clearStack();e.fileInputCleared=false;e.fileBatchCompleted=true;if(!e.isPreviewable){e.showPreview=false}e.isError=false;e.ajaxAborted=false;e.cancelling=false},_init:function(i,n){var r=this,o=r.$element,s,a,l;r.options=i;e.each(i,function(e,i){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":r[e]=t.getNum(i);break;default:r[e]=i;break}});if(r.rtl){l=r.previewZoomButtonIcons.prev;r.previewZoomButtonIcons.prev=r.previewZoomButtonIcons.next;r.previewZoomButtonIcons.next=l}if(!n){r._cleanup()}r.$form=o.closest("form");r._initTemplateDefaults();r.uploadFileAttr=!t.isEmpty(o.attr("name"))?o.attr("name"):"file_data";a=r._getLayoutTemplate("progress");r.progressTemplate=a.replace("{class}",r.progressClass);r.progressCompleteTemplate=a.replace("{class}",r.progressCompleteClass);r.progressErrorTemplate=a.replace("{class}",r.progressErrorClass);r.dropZoneEnabled=t.hasDragDropSupport()&&r.dropZoneEnabled;r.isDisabled=o.attr("disabled")||o.attr("readonly");if(r.isDisabled){o.attr("disabled",true)}r.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(r.uploadUrl);r.isClickable=r.browseOnZoneClick&&r.showPreview&&(r.isAjaxUpload&&r.dropZoneEnabled||!t.isEmpty(r.defaultPreviewContent));r.slug=typeof i.slugCallback==="function"?i.slugCallback:r._slugDefault;r.mainTemplate=r.showCaption?r._getLayoutTemplate("main1"):r._getLayoutTemplate("main2");r.captionTemplate=r._getLayoutTemplate("caption");r.previewGenericTemplate=r._getPreviewTemplate("generic");if(!r.imageCanvas&&r.resizeImage&&(r.maxImageWidth||r.maxImageHeight)){r.imageCanvas=document.createElement("canvas");r.imageCanvasContext=r.imageCanvas.getContext("2d")}if(t.isEmpty(o.attr("id"))){o.attr("id",t.uniqId())}r.namespace=".fileinput_"+o.attr("id").replace(/-/g,"_");if(r.$container===undefined){r.$container=r._createContainer()}else{r._refreshContainer()}s=r.$container;r.$dropZone=s.find(".file-drop-zone");r.$progress=s.find(".kv-upload-progress");r.$btnUpload=s.find(".fileinput-upload");r.$captionContainer=t.getElement(i,"elCaptionContainer",s.find(".file-caption"));r.$caption=t.getElement(i,"elCaptionText",s.find(".file-caption-name"));r.$previewContainer=t.getElement(i,"elPreviewContainer",s.find(".file-preview"));r.$preview=t.getElement(i,"elPreviewImage",s.find(".file-preview-thumbnails"));r.$previewStatus=t.getElement(i,"elPreviewStatus",s.find(".file-preview-status"));r.$errorContainer=t.getElement(i,"elErrorContainer",r.$previewContainer.find(".kv-fileinput-error"));if(!t.isEmpty(r.msgErrorClass)){t.addCss(r.$errorContainer,r.msgErrorClass)}if(!n){r.$errorContainer.hide();r.previewInitId="preview-"+t.uniqId();r._initPreviewCache();r._initPreview(true);r._initPreviewActions();r._setFileDropZoneTitle();if(r.$parent.hasClass("file-loading")){r.$container.insertBefore(r.$parent);r.$parent.remove()}}if(o.attr("disabled")){r.disable()}r._initZoom();if(r.hideThumbnailContent){t.addCss(r.$preview,"hide-content")}},_initTemplateDefaults:function(){var i=this,n,r,o,s,a,l,d,u,h,c,f,p,m,v,g,y,b,w,x,_,k,C,S,T,D,E,O,P,M,A,I,F,R,N,L,j,B;n="{preview}\n"+'<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n'+'<div class="input-group {class}">\n'+"   {caption}\n"+'   <div class="input-group-btn">\n'+"       {remove}\n"+"       {cancel}\n"+"       {upload}\n"+"       {browse}\n"+"   </div>\n"+"</div>";r='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';o='<div class="file-preview {class}">\n'+"    {close}"+'    <div class="{dropClass}">\n'+'    <div class="file-preview-thumbnails">\n'+"    </div>\n"+'    <div class="clearfix"></div>'+'    <div class="file-preview-status text-center text-success"></div>\n'+'    <div class="kv-fileinput-error"></div>\n'+"    </div>\n"+"</div>";a='<button type="button" class="close fileinput-remove">&times;</button>\n';s='<i class="glyphicon glyphicon-file kv-caption-icon"></i>';l='<div tabindex="500" class="form-control file-caption {class}">\n'+'   <div class="file-caption-name"></div>\n'+"</div>\n";d='<button type="{type}" tabindex="500" title="{title}" class="{css}" '+"{status}>{icon} {label}</button>";u='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>';h='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>';c='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" '+'tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>';f='<div class="modal-dialog modal-lg{rtl}" role="document">\n'+'  <div class="modal-content">\n'+'    <div class="modal-header">\n'+'      <h5 class="modal-title">{heading}</h5>\n'+'      <span class="kv-zoom-title"></span>\n'+'      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n'+"    </div>\n"+'    <div class="modal-body">\n'+'      <div class="floating-buttons"></div>\n'+'      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n'+"{prev} {next}\n"+"    </div>\n"+"  </div>\n"+"</div>\n";p='<div class="progress">\n'+'    <div class="{class}" role="progressbar"'+' aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n'+"        {status}\n"+"     </div>\n"+"</div>";m=" <samp>({sizeText})</samp>";v='<div class="file-thumbnail-footer">\n'+'    <div class="file-footer-caption" title="{caption}">\n'+'        <div class="file-caption-info">{caption}</div>\n'+'        <div class="file-size-info">{size}</div>\n'+"    </div>\n"+"    {progress}\n{indicator}\n{actions}\n"+"</div>";g='<div class="file-actions">\n'+'    <div class="file-footer-buttons">\n'+"        {download} {upload} {delete} {zoom} {other}"+"    </div>\n"+"</div>\n"+"{drag}\n"+'<div class="clearfix"></div>';y='<button type="button" class="kv-file-remove {removeClass}" '+'title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n';b='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">'+"{uploadIcon}</button>";w='<a href="{downloadUrl}" class="{downloadClass}" title="{downloadTitle}" '+'download="{caption}">{downloadIcon}</a>';x='<button type="button" class="kv-file-zoom {zoomClass}" '+'title="{zoomTitle}">{zoomIcon}</button>';_='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>';k='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>';C='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}"'+' data-template="{template}"';S=C+'><div class="kv-file-content">\n';T=C+' title="{caption}"><div class="kv-file-content">\n';D="</div>{footer}\n</div>\n";E="{content}\n";O='<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n';P='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" '+'alt="{caption}" {style}>\n';M='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>'+"{data}</textarea {style}>\n";A='<video class="kv-preview-data file-preview-video" controls {style}>\n'+'<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n";I='<audio class="kv-preview-data file-preview-audio" controls {style}>\n<source src="{data}" '+'type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n";F='<object class="kv-preview-data file-preview-flash file-object" type="application/x-shockwave-flash" '+'data="{data}" {style}>\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n";R='<object class="kv-preview-data file-preview-object file-object {typeCss}" '+'data="{data}" type="{type}" {style}>\n'+'<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n";N='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf" {style}>\n';L='<div class="kv-preview-data file-preview-other-frame" {style}>\n'+t.DEFAULT_PREVIEW+"\n</div>\n";j='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>';B={width:"100%",height:"100%","min-height":"480px"};i.defaults={layoutTemplates:{main1:n,main2:r,preview:o,close:a,fileIcon:s,caption:l,modalMain:c,modal:f,progress:p,size:m,footer:v,indicator:k,actions:g,actionDelete:y,actionUpload:b,actionDownload:w,actionZoom:x,actionDrag:_,btnDefault:d,btnLink:u,btnBrowse:h,zoomCache:j},previewMarkupTags:{tagBefore1:S,tagBefore2:T,tagAfter:D},previewContentTemplates:{generic:E,html:O,image:P,text:M,video:A,audio:I,flash:F,object:R,pdf:N,other:L},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"213px",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:B,text:B,video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:B,other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(e,i){return t.compare(e,"image.*")||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(e,i){return t.compare(e,"text/html")||t.compare(i,/\.(htm|html)$/i)},text:function(e,i){return t.compare(e,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,i){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,i){return t.compare(e,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,i){return t.compare(e,"application/x-shockwave-flash",true)||t.compare(i,/\.(swf)$/i)},pdf:function(e,i){return t.compare(e,"application/pdf",true)||t.compare(i,/\.(pdf)$/i)},object:function(){return true},other:function(){return true}},fileActionSettings:{showRemove:true,showUpload:true,showDownload:true,showZoom:true,showDrag:true,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}};e.each(i.defaults,function(t,n){if(t==="allowedPreviewTypes"){if(i.allowedPreviewTypes===undefined){i.allowedPreviewTypes=n}return}i[t]=e.extend(true,{},n,i[t])});i._initPreviewTemplates()},_initPreviewTemplates:function(){var i=this,n=i.defaults,r=i.previewMarkupTags,o,s=r.tagAfter;e.each(n.previewContentTemplates,function(e,n){if(t.isEmpty(i.previewTemplates[e])){o=r.tagBefore2;if(e==="generic"||e==="image"||e==="html"||e==="text"){o=r.tagBefore1}i.previewTemplates[e]=o+n+s}})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var e=i.initialPreview;if(e.length>0&&!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}i.previewCache.data={content:e,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},count:function(){return!!i.previewCache.data&&!!i.previewCache.data.content?i.previewCache.data.content.length:0},get:function(n,r){var o="init_"+n,s=i.previewCache.data,a=s.config[n],l=s.content[n],d=i.previewInitId+"-"+o,u,h,c,f,p,m,v,g=t.ifSet("previewAsData",a,i.initialPreviewAsData),y=function(e,n,r,o,s,a,l,d,u){d=" file-preview-initial "+t.SORT_CSS+(d?" "+d:"");return i._generatePreviewTemplate(e,n,r,o,s,false,null,d,a,l,u)};if(!l){return""}r=r===undefined?true:r;c=t.ifSet("type",a,i.initialPreviewFileType||"generic");p=t.ifSet("filename",a,t.ifSet("caption",a));m=t.ifSet("filetype",a,c);f=i.previewCache.footer(n,r,a&&a.size||null);v=t.ifSet("frameClass",a);if(g){u=y(c,l,p,m,d,f,o,v)}else{u=y("generic",l,p,m,d,f,o,v,c).setTokens({content:s.content[n]})}if(s.tags.length&&s.tags[n]){u=t.replaceTags(u,s.tags[n])}if(!t.isEmpty(a)&&!t.isEmpty(a.frameAttr)){h=e(document.createElement("div")).html(u);h.find(".file-preview-initial").attr(a.frameAttr);u=h.html();h.remove()}return u},add:function(e,n,r,o){var s=i.previewCache.data,a;if(!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}if(o){a=s.content.push(e)-1;s.config[a]=n;s.tags[a]=r}else{a=e.length-1;s.content=e;s.config=n;s.tags=r}i.previewCache.data=s;return a},set:function(e,n,r,o){var s=i.previewCache.data,a,l;if(!e||!e.length){return}if(!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}l=e.filter(function(e){return e!==null});if(!l.length){return}if(s.content===undefined){s.content=[]}if(s.config===undefined){s.config=[]}if(s.tags===undefined){s.tags=[]}if(o){for(a=0;a<e.length;a++){if(e[a]){s.content.push(e[a])}}for(a=0;a<n.length;a++){if(n[a]){s.config.push(n[a])}}for(a=0;a<r.length;a++){if(r[a]){s.tags.push(r[a])}}}else{s.content=e;s.config=n;s.tags=r}i.previewCache.data=s},unset:function(e){var t=i.previewCache.count();if(!t){return}if(t===1){i.previewCache.data.content=[];i.previewCache.data.config=[];i.previewCache.data.tags=[];i.initialPreview=[];i.initialPreviewConfig=[];i.initialPreviewThumbTags=[];return}i.previewCache.data.content.splice(e,1);i.previewCache.data.config.splice(e,1);i.previewCache.data.tags.splice(e,1)},out:function(){var e="",t,n=i.previewCache.count(),r;if(n===0){return{content:"",caption:""}}for(r=0;r<n;r++){e+=i.previewCache.get(r)}t=i._getMsgSelected(n);return{content:e,caption:t}},footer:function(e,n,r){var o=i.previewCache.data||{};if(t.isEmpty(o.content)){return""}if(t.isEmpty(o.config)||t.isEmpty(o.config[e])){o.config[e]={}}n=n===undefined?true:n;var s=o.config[e],a=t.ifSet("caption",s),l,d=t.ifSet("width",s,"auto"),u=t.ifSet("url",s,false),h=t.ifSet("key",s,null),c=i.fileActionSettings,f=i.initialPreviewShowDelete||false,p=s.downloadUrl||i.initialPreviewDownloadUrl||"",m=s.filename||s.caption||"",v=!!p,g=t.ifSet("showDelete",s,t.ifSet("showDelete",c,f)),y=t.ifSet("showDownload",s,t.ifSet("showDownload",c,v)),b=t.ifSet("showZoom",s,t.ifSet("showZoom",c,true)),w=t.ifSet("showDrag",s,t.ifSet("showDrag",c,true)),x=u===false&&n;y=y&&s.downloadUrl!==false&&!!p;l=i._renderFileActions(false,y,g,b,w,x,u,h,true,p,m);return i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:l,caption:a,size:i._getSize(r),width:d,indicator:""})}};i.previewCache.init()},_handler:function(e,t,i){var n=this,r=n.namespace,o=t.split(" ").join(r+" ")+r;if(!e||!e.length){return}e.off(o).on(o,i)},_log:function(e){var t=this,i=t.$element.attr("id");if(i){e='"'+i+'": '+e}if(typeof window.console.log!=="undefined"){window.console.log(e)}else{window.alert(e)}},_validate:function(){var e=this,t=e.$element.attr("type")==="file";if(!t){e._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.')}return t},_errorsExist:function(){var t=this,i,n=t.$errorContainer.find("li");if(n.length){return true}i=e(document.createElement("div")).html(t.$errorContainer.html());i.find(".kv-error-close").remove();i.find("ul").remove();return!!e.trim(i.text()).length},_errorHandler:function(e,t){var i=this,n=e.target.error,r=function(e){i._showError(e.replace("{name}",t))};if(n.code===n.NOT_FOUND_ERR){r(i.msgFileNotFound)}else if(n.code===n.SECURITY_ERR){r(i.msgFileSecured)}else if(n.code===n.NOT_READABLE_ERR){r(i.msgFileNotReadable)}else if(n.code===n.ABORT_ERR){r(i.msgFilePreviewAborted)}else{r(i.msgFilePreviewError)}},_addError:function(e){var t=this,i=t.$errorContainer;if(e&&i.length){i.html(t.errorCloseButton+e);t._handler(i.find(".kv-error-close"),"click",function(){i.fadeOut("slow")})}},_resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=false;t.$container.removeClass("has-error");i.html("");if(e){i.fadeOut("slow")}else{i.hide()}},_showFolderError:function(e){var i=this,n=i.$errorContainer,r;if(!e){return}r=i.msgFoldersNotAllowed.replace("{n}",e);i._addError(r);t.addCss(i.$container,"has-error");n.fadeIn(800);i._raise("filefoldererror",[e,r])},_showUploadError:function(e,i,n){var r=this,o=r.$errorContainer,s=n||"fileuploaderror",a=i&&i.id?'<li data-file-id="'+i.id+'">'+e+"</li>":"<li>"+e+"</li>";if(o.find("ul").length===0){r._addError("<ul>"+a+"</ul>")}else{o.find("ul").append(a)}o.fadeIn(800);r._raise(s,[i,e]);r.$container.removeClass("file-input-new");t.addCss(r.$container,"has-error");return true},_showError:function(e,i,n){var r=this,o=r.$errorContainer,s=n||"fileerror";i=i||{};i.reader=r.reader;r._addError(e);o.fadeIn(800);r._raise(s,[i,e]);if(!r.isAjaxUpload){r._clearFileInput()}r.$container.removeClass("file-input-new");t.addCss(r.$container,"has-error");r.$btnUpload.attr("disabled",true);return true},_noFilesError:function(e){var i=this,n=i.minFileCount>1?i.filePlural:i.fileSingle,r=i.msgFilesTooLess.replace("{n}",i.minFileCount).replace("{files}",n),o=i.$errorContainer;i._addError(r);i.isError=true;i._updateFileDetails(0);o.fadeIn(800);i._raise("fileerror",[e,r]);i._clearFileInput();t.addCss(i.$container,"has-error")},_parseError:function(t,i,n,r){var o=this,s=e.trim(n+""),a,l=i.responseJSON!==undefined&&i.responseJSON.error!==undefined?i.responseJSON.error:i.responseText;if(o.cancelling&&o.msgUploadAborted){s=o.msgUploadAborted}if(o.showAjaxErrorDetails&&l){l=e.trim(l.replace(/\n\s*\n/g,"\n"));a=l.length?"<pre>"+l+"</pre>":"";s+=s?a:l}if(!s){s=o.msgAjaxError.replace("{operation}",t)}o.cancelling=false;return r?"<b>"+r+": </b>"+s:s},_parseFileType:function(e){var i=this,n,r,o,s,a=i.allowedPreviewTypes||[];for(s=0;s<a.length;s++){o=a[s];n=i.fileTypeSettings[o];r=n(e.type,e.name)?o:"";if(!t.isEmpty(r)){return r}}return"other"},_getPreviewIcon:function(t){var i=this,n,r=null;if(t&&t.indexOf(".")>-1){n=t.split(".").pop();if(i.previewFileIconSettings){r=i.previewFileIconSettings[n]||i.previewFileIconSettings[n.toLowerCase()]||null}if(i.previewFileExtSettings){e.each(i.previewFileExtSettings,function(e,t){if(i.previewFileIconSettings[e]&&t(n)){r=i.previewFileIconSettings[e];return}})}}return r},_parseFilePreviewIcon:function(e,t){var i=this,n=i._getPreviewIcon(t)||i.previewFileIcon,r=e;if(r.indexOf("{previewFileIcon}")>-1){r=r.setTokens({previewFileIconClass:i.previewFileIconClass,previewFileIcon:n})}return r},_raise:function(t,i){var n=this,r=e.Event(t);if(i!==undefined){n.$element.trigger(r,i)}else{n.$element.trigger(r)}if(r.isDefaultPrevented()||r.result===false){return false}switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:if(!n.ajaxAborted){n.ajaxAborted=r.result}break}return true},_listenFullScreen:function(e){var t=this,i=t.$modal,n,r;if(!i||!i.length){return}n=i&&i.find(".btn-fullscreen");r=i&&i.find(".btn-borderless");if(!n.length||!r.length){return}n.removeClass("active").attr("aria-pressed","false");r.removeClass("active").attr("aria-pressed","false");if(e){n.addClass("active").attr("aria-pressed","true")}else{r.addClass("active").attr("aria-pressed","true")}if(i.hasClass("file-zoom-fullscreen")){t._maximizeZoomDialog()}else{if(e){t._maximizeZoomDialog()}else{r.removeClass("active").attr("aria-pressed","false")}}},_listen:function(){var i=this,n=i.$element,r=i.$form,o=i.$container,s;i._handler(n,"change",e.proxy(i._change,i));if(i.showBrowse){i._handler(i.$btnFile,"click",e.proxy(i._browse,i))}i._handler(o.find(".fileinput-remove:not([disabled])"),"click",e.proxy(i.clear,i));i._handler(o.find(".fileinput-cancel"),"click",e.proxy(i.cancel,i));i._initDragDrop();i._handler(r,"reset",e.proxy(i.clear,i));if(!i.isAjaxUpload){i._handler(r,"submit",e.proxy(i._submitForm,i))}i._handler(i.$container.find(".fileinput-upload"),"click",e.proxy(i._uploadClick,i));i._handler(e(window),"resize",function(){i._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});s="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange";i._handler(e(document),s,function(){i._listenFullScreen(t.checkFullScreen())});i._autoFitContent();i._initClickable()},_autoFitContent:function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=this,n=t<400?i.previewSettingsSmall||i.defaults.previewSettingsSmall:i.previewSettings||i.defaults.previewSettings,r;e.each(n,function(e,t){r=".file-preview-frame .file-preview-"+e;i.$preview.find(r+".kv-preview-data,"+r+" .kv-preview-data").css(t)})},_initClickable:function(){var i=this,n;if(!i.isClickable){return}n=i.isAjaxUpload?i.$dropZone:i.$preview.find(".file-default-preview");t.addCss(n,"clickable");n.attr("tabindex",-1);i._handler(n,"click",function(t){var r=e(t.target);if(!r.parents(".file-preview-thumbnails").length||r.parents(".file-default-preview").length){i.$element.trigger("click");n.blur()}})},_initDragDrop:function(){var t=this,i=t.$dropZone;if(t.isAjaxUpload&&t.dropZoneEnabled&&t.showPreview){t._handler(i,"dragenter dragover",e.proxy(t._zoneDragEnter,t));t._handler(i,"dragleave",e.proxy(t._zoneDragLeave,t));t._handler(i,"drop",e.proxy(t._zoneDrop,t));t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit)}},_zoneDragDropInit:function(e){e.stopPropagation();e.preventDefault()},_zoneDragEnter:function(i){var n=this,r=e.inArray("Files",i.originalEvent.dataTransfer.types)>-1;n._zoneDragDropInit(i);if(n.isDisabled||!r){i.originalEvent.dataTransfer.effectAllowed="none";i.originalEvent.dataTransfer.dropEffect="none";return}t.addCss(n.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e);if(t.isDisabled){return}t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var i=this;e.preventDefault();if(i.isDisabled||t.isEmpty(e.originalEvent.dataTransfer.files)){return}i._change(e,"dragdrop");i.$dropZone.removeClass("file-highlighted")},_uploadClick:function(e){var i=this,n=i.$container.find(".fileinput-upload"),r,o=!n.hasClass("disabled")&&t.isEmpty(n.attr("disabled"));if(e&&e.isDefaultPrevented()){return}if(!i.isAjaxUpload){if(o&&n.attr("type")!=="submit"){r=n.closest("form");if(r.length){r.trigger("submit")}e.preventDefault()}return}e.preventDefault();if(o){i.upload()}},_submitForm:function(){var e=this;return e._isFileSelectionValid()&&!e._abort({})},_clearPreview:function(){var i=this,n=i.$preview,r=i.showUploadedThumbs?i.getFrames(":not(.file-preview-success)"):i.getFrames();r.each(function(){var i=e(this);i.remove();t.cleanZoomCache(n.find("#zoom-"+i.attr("id")))});if(!i.getFrames().length||!i.showPreview){i._resetUpload()}i._validateDefaultPreview()},_initSortable:function(){var i=this,n=i.$preview,r,o="."+t.SORT_CSS;if(!window.KvSortable||n.find(o).length===0){return}r={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:false,draggable:o,onSort:function(n){var r=n.oldIndex,o=n.newIndex,s,a;i.initialPreview=t.moveArray(i.initialPreview,r,o);i.initialPreviewConfig=t.moveArray(i.initialPreviewConfig,r,o);i.previewCache.init();for(var l=0;l<i.initialPreviewConfig.length;l++){if(i.initialPreviewConfig[l]!==null){s=i.initialPreviewConfig[l].key;a=e(".kv-file-remove[data-key='"+s+"']").closest(t.FRAMES);a.attr("data-fileindex","init_"+l).attr("data-fileindex","init_"+l)}}i._raise("filesorted",{previewId:e(n.item).attr("id"),oldIndex:r,newIndex:o,stack:i.initialPreviewConfig})}};if(n.data("kvsortable")){n.kvsortable("destroy")}e.extend(true,r,i.fileActionSettings.dragSettings);n.kvsortable(r)},_setPreviewContent:function(e){var t=this;t.$preview.html(e);t._autoFitContent()},_initPreview:function(e){var i=this,n=i.initialCaption||"",r;if(!i.previewCache.count()){i._clearPreview();if(e){i._setCaption(n)}else{i._initCaption()}return}r=i.previewCache.out();n=e&&i.initialCaption?i.initialCaption:r.caption;i._setPreviewContent(r.content);i._setInitThumbAttr();i._setCaption(n);i._initSortable();if(!t.isEmpty(r.content)){i.$container.removeClass("file-input-new")}},_getZoomButton:function(e){var t=this,i=t.previewZoomButtonIcons[e],n=t.previewZoomButtonClasses[e],r=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',o=r+(e==="close"?' data-dismiss="modal" aria-hidden="true"':"");if(e==="fullscreen"||e==="borderless"||e==="toggleheader"){o+=' data-toggle="button" aria-pressed="false" autocomplete="off"'}return'<button type="button" class="'+n+" btn-"+e+'"'+o+">"+i+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(e){var i=this,n=i.$modal,r=function(e){return{sourceEvent:e,previewId:n.data("previewId"),modal:n}};n.on(e+".bs.modal",function(o){var s=n.find(".btn-fullscreen"),a=n.find(".btn-borderless");i._raise("filezoom"+e,r(o));if(e==="shown"){a.removeClass("active").attr("aria-pressed","false");s.removeClass("active").attr("aria-pressed","false");if(n.hasClass("file-zoom-fullscreen")){i._maximizeZoomDialog();if(t.checkFullScreen()){s.addClass("active").attr("aria-pressed","true")}else{a.addClass("active").attr("aria-pressed","true")}}}})},_initZoom:function(){var i=this,n,r=i._getLayoutTemplate("modalMain"),o="#"+t.MODAL_ID;if(!i.showPreview){return}i.$modal=e(o);if(!i.$modal||!i.$modal.length){n=e(document.createElement("div")).html(r).insertAfter(i.$container);i.$modal=e(o).insertBefore(n);n.remove()}t.initModal(i.$modal);i.$modal.html(i._getModalContent());e.each(t.MODAL_EVENTS,function(e,t){i._listenModalEvent(t)})},_initZoomButtons:function(){var t=this,i=t.$modal.data("previewId")||"",n,r,o=t.getFrames().toArray(),s=o.length,a=t.$modal.find(".btn-prev"),l=t.$modal.find(".btn-next");if(o.length<2){a.hide();l.hide();return}else{a.show();l.show()}if(!s){return}n=e(o[0]);r=e(o[s-1]);a.removeAttr("disabled");l.removeAttr("disabled");if(n.length&&n.attr("id")===i){a.attr("disabled",true)}if(r.length&&r.attr("id")===i){l.attr("disabled",true)}},_maximizeZoomDialog:function(){var t=this,i=t.$modal,n=i.find(".modal-header:visible"),r=i.find(".modal-footer:visible"),o=i.find(".modal-body"),s=e(window).height(),a=0;i.addClass("file-zoom-fullscreen");if(n&&n.length){s-=n.outerHeight(true)}if(r&&r.length){s-=r.outerHeight(true)}if(o&&o.length){a=o.outerHeight(true)-o.height();s-=a}i.find(".kv-zoom-body").height(s)},_resizeZoomDialog:function(e){var i=this,n=i.$modal,r=n.find(".btn-fullscreen"),o=n.find(".btn-borderless");if(n.hasClass("file-zoom-fullscreen")){t.toggleFullScreen(false);if(!e){if(!r.hasClass("active")){n.removeClass("file-zoom-fullscreen");i.$modal.find(".kv-zoom-body").css("height",i.zoomModalHeight)}else{r.removeClass("active").attr("aria-pressed","false")}}else{if(!r.hasClass("active")){n.removeClass("file-zoom-fullscreen");i._resizeZoomDialog(true);if(o.hasClass("active")){o.removeClass("active").attr("aria-pressed","false")}}}}else{if(!e){i._maximizeZoomDialog();return}t.toggleFullScreen(true)}n.focus()},_setZoomContent:function(i,n){var r=this,o,s,a,l,d,u,h,c=i.attr("id"),f=r.$modal,p=f.find(".btn-prev"),m=f.find(".btn-next"),v,g=f.find(".btn-fullscreen"),y=f.find(".btn-borderless"),b,w,x=f.find(".btn-toggleheader"),_=r.$preview.find("#zoom-"+c);s=_.attr("data-template")||"generic";o=_.find(".kv-file-content");a=o.length?o.html():"";b=i.data("caption")||"";w=i.data("size")||"";l=b+" "+w;f.find(".kv-zoom-title").attr("title",e("<div/>").html(l).text()).html(l);d=f.find(".kv-zoom-body");f.removeClass("kv-single-content");if(n){v=d.addClass("file-thumb-loading").clone().insertAfter(d);d.html(a).hide();v.fadeOut("fast",function(){d.fadeIn("fast",function(){d.removeClass("file-thumb-loading")});v.remove()})}else{d.html(a)}h=r.previewZoomSettings[s];if(h){u=d.find(".kv-preview-data");t.addCss(u,"file-zoom-detail");e.each(h,function(e,t){u.css(e,t);if(u.attr("width")&&e==="width"||u.attr("height")&&e==="height"){u.removeAttr(e)}})}f.data("previewId",c);var k=d.find("img");if(k.length){t.adjustOrientedImage(k,true)}r._handler(p,"click",function(){r._zoomSlideShow("prev",c)});r._handler(m,"click",function(){r._zoomSlideShow("next",c)});r._handler(g,"click",function(){r._resizeZoomDialog(true)});r._handler(y,"click",function(){r._resizeZoomDialog(false)});r._handler(x,"click",function(){var e=f.find(".modal-header"),t=f.find(".modal-body .floating-buttons"),i,n=e.find(".kv-zoom-actions"),o=function(t){var i=r.$modal.find(".kv-zoom-body"),n=r.zoomModalHeight;if(f.hasClass("file-zoom-fullscreen")){n=i.outerHeight(true);if(!t){n=n-e.outerHeight(true)}}i.css("height",t?n+t:n)};if(e.is(":visible")){i=e.outerHeight(true);e.slideUp("slow",function(){n.find(".btn").appendTo(t);o(i)})}else{t.find(".btn").appendTo(n);e.slideDown("slow",function(){o()})}f.focus()});r._handler(f,"keydown",function(e){var t=e.which||e.keyCode;if(t===37&&!p.attr("disabled")){r._zoomSlideShow("prev",c)}if(t===39&&!m.attr("disabled")){r._zoomSlideShow("next",c)}})},_zoomPreview:function(e){var i=this,n,r=i.$modal;if(!e.length){throw"Cannot zoom to detailed preview!"}t.initModal(r);r.html(i._getModalContent());n=e.closest(t.FRAMES);i._setZoomContent(n);r.modal("show");i._initZoomButtons()},_zoomSlideShow:function(t,i){var n=this,r=n.$modal.find(".kv-zoom-actions .btn-"+t),o,s,a=n.getFrames().toArray(),l=a.length,d;if(r.attr("disabled")){return}for(s=0;s<l;s++){if(e(a[s]).attr("id")===i){d=t==="prev"?s-1:s+1;break}}if(d<0||d>=l||!a[d]){return}o=e(a[d]);if(o.length){n._setZoomContent(o,true)}n._initZoomButtons();n._raise("filezoom"+t,{previewId:i,modal:n.$modal})},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause();e(this).remove()});t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var i=this,n=i.$element,r,o,s;i.fileInputCleared=true;if(t.isEmpty(n.val())){return}if(i.isIE9||i.isIE10){r=n.closest("form");o=e(document.createElement("form"));s=e(document.createElement("div"));n.before(s);if(r.length){r.after(o)}else{s.after(o)}o.append(n).trigger("reset");s.before(n).remove();o.remove()}else{n.val("")}},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:true};e.uploadCount=0;e.uploadStatus={};e.uploadLog=[];e.uploadAsyncCount=0;e.loadedImages=[];e.totalImagesCount=0;e.$btnUpload.removeAttr("disabled");e._setProgress(0);e.$progress.hide();e._resetErrors(false);e.ajaxAborted=false;e.ajaxRequests=[];e._resetCanvas();e.cacheInitialPreview={};if(e.overwriteInitial){e.initialPreview=[];e.initialPreviewConfig=[];e.initialPreviewThumbTags=[];e.previewCache.data={content:[],config:[],tags:[]}}},_resetCanvas:function(){var e=this;if(e.canvas&&e.imageCanvasContext){e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)}},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&e.previewCache.count()},_resetPreview:function(){var e=this,t,i;if(e.previewCache.count()){t=e.previewCache.out();e._setPreviewContent(t.content);e._setInitThumbAttr();i=e.initialCaption?e.initialCaption:t.caption;e._setCaption(i)}else{e._clearPreview();e._initCaption()}if(e.showPreview){e._initZoom();e._initSortable()}},_clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;if(!e.showPreview||t.isEmpty(e.defaultPreviewContent)){return}e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>");e.$container.removeClass("file-input-new");e._initClickable()},_resetPreviewThumbs:function(e){var t=this,i;if(e){t._clearPreview();t.clearStack();return}if(t._hasInitialPreview()){i=t.previewCache.out();t._setPreviewContent(i.content);t._setInitThumbAttr();t._setCaption(i.caption);t._initPreviewActions()}else{t._clearPreview()}},_getLayoutTemplate:function(e){var i=this,n=i.layoutTemplates[e];if(t.isEmpty(i.customLayoutTags)){return n}return t.replaceTags(n,i.customLayoutTags)},_getPreviewTemplate:function(e){var i=this,n=i.previewTemplates[e];if(t.isEmpty(i.customPreviewTags)){return n}return t.replaceTags(n,i.customPreviewTags)},_getOutData:function(e,t,i){var n=this;e=e||{};t=t||{};i=i||n.filestack.slice(0)||{};return{form:n.formdata,files:i,filenames:n.filenames,filescount:n.getFilesCount(),extra:n._getExtraData(),response:t,reader:n.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,i=e===1?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",i):t.msgNoFilesSelected},_getFrame:function(t){var i=this,n=e("#"+t);if(!n.length){i._log('Invalid thumb frame with id: "'+t+'".');return null}return n},_getThumbs:function(e){e=e||"";return this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this,n=i.uploadExtraData;if(typeof i.uploadExtraData==="function"){n=i.uploadExtraData(e,t)}return n},_initXhr:function(e,t,i){var n=this;if(e.upload){e.upload.addEventListener("progress",function(e){var r=0,o=e.total,s=e.loaded||e.position;if(e.lengthComputable){r=Math.floor(s/o*100)}if(t){n._setAsyncUploadStatus(t,r,i)}else{n._setProgress(r)}},false)}return e},_mergeAjaxCallback:function(e,t,i){var n=this,r=n.ajaxSettings,o=n.mergeAjaxCallbacks,s;if(i==="delete"){r=n.ajaxDeleteSettings;o=n.mergeAjaxDeleteCallbacks}s=r[e];if(o&&typeof s==="function"){if(o==="before"){r[e]=function(){s.apply(this,arguments);t.apply(this,arguments)}}else{r[e]=function(){t.apply(this,arguments);s.apply(this,arguments)}}}else{r[e]=t}if(i==="delete"){n.ajaxDeleteSettings=r}else{n.ajaxSettings=r}},_ajaxSubmit:function(t,i,n,r,o,s){var a=this,l;if(!a._raise("filepreajax",[o,s])){return}a._uploadExtra(o,s);a._mergeAjaxCallback("beforeSend",t);a._mergeAjaxCallback("success",i);a._mergeAjaxCallback("complete",n);a._mergeAjaxCallback("error",r);l=e.extend(true,{},{xhr:function(){var t=e.ajaxSettings.xhr();return a._initXhr(t,o,a.getFileStack().length)},url:s&&a.uploadUrlThumb?a.uploadUrlThumb:a.uploadUrl,type:"POST",dataType:"json",data:a.formdata,cache:false,processData:false,contentType:false},a.ajaxSettings);a.ajaxRequests.push(e.ajax(l))},_mergeArray:function(e,i){var n=this,r=t.cleanArray(n[e]),o=t.cleanArray(i);n[e]=r.concat(o)},_initUploadSuccess:function(i,n,r){var o=this,s,a,l,d,u,h,c,f,p;if(!o.showPreview||typeof i!=="object"||e.isEmptyObject(i)){return}if(i.initialPreview!==undefined&&i.initialPreview.length>0){o.hasInitData=true;h=i.initialPreview||[];c=i.initialPreviewConfig||[];f=i.initialPreviewThumbTags||[];s=i.append===undefined||i.append;if(h.length>0&&!t.isArray(h)){h=h.split(o.initialPreviewDelimiter)}o._mergeArray("initialPreview",h);o._mergeArray("initialPreviewConfig",c);o._mergeArray("initialPreviewThumbTags",f);if(n!==undefined){if(!r){l=o.previewCache.add(h,c[0],f[0],s);a=o.previewCache.get(l,false);d=e(document.createElement("div")).html(a).hide().insertAfter(n);u=d.find(".kv-zoom-cache");if(u&&u.length){u.insertAfter(n)}n.fadeOut("slow",function(){var e=d.find(".file-preview-frame");if(e&&e.length){e.insertBefore(n).fadeIn("slow").css("display:inline-block")}o._initPreviewActions();o._clearFileInput();t.cleanZoomCache(o.$preview.find("#zoom-"+n.attr("id")));n.remove();d.remove();o._initSortable()})}else{p=n.attr("data-fileindex");o.uploadCache.content[p]=h[0];o.uploadCache.config[p]=c[0]||[];o.uploadCache.tags[p]=f[0]||[];o.uploadCache.append=s}}else{o.previewCache.set(h,c,f,s);o._initPreview();o._initPreviewActions()}}},_initSuccessThumbs:function(){var i=this;if(!i.showPreview){return}i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var n=e(this),r=i.$preview,o=n.find(".kv-file-remove");o.removeAttr("disabled");i._handler(o,"click",function(){var e=n.attr("id"),o=i._raise("filesuccessremove",[e,n.attr("data-fileindex")]);t.cleanMemory(n);if(o===false){return}n.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+e));n.remove();if(!i.getFrames().length){i.reset()}})})})},_checkAsyncComplete:function(){var t=this,i,n;for(n=0;n<t.filestack.length;n++){if(t.filestack[n]){i=t.previewInitId+"-"+n;if(e.inArray(i,t.uploadLog)===-1){return false}}}return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(t,i){var n=this,r=n._getExtraData(t,i);if(r.length===0){return}e.each(r,function(e,t){n.formdata.append(e,t)})},_uploadSingle:function(i,n){var r=this,o=r.getFileStack().length,s=new FormData,a,l=r.previewInitId+"-"+i,d,u,h,c,f=r.filestack.length>0||!e.isEmptyObject(r.uploadExtraData),p,m=e("#"+l).find(".file-thumb-progress"),v,g,y,b,w,x={id:l,index:i};r.formdata=s;if(r.showPreview){d=e("#"+l+":not(.file-preview-initial)");h=d.find(".kv-file-upload");c=d.find(".kv-file-remove");m.show()}if(o===0||!f||h&&h.hasClass("disabled")||r._abort(x)){return}w=function(e,t){if(!p){r.updateStack(e,undefined)}r.uploadLog.push(t);if(r._checkAsyncComplete()){r.fileBatchCompleted=true}};u=function(){var e=r.uploadCache,i,n,o,s=0,a=r.cacheInitialPreview;if(!r.fileBatchCompleted){return}if(a&&a.content){s=a.content.length}setTimeout(function(){var l=r.getFileStack(true).length===0;if(r.showPreview){r.previewCache.set(e.content,e.config,e.tags,e.append);if(s){for(n=0;n<e.content.length;n++){o=n+s;a.content[o]=e.content[n];if(a.config.length){a.config[o]=e.config[n]}if(a.tags.length){a.tags[o]=e.tags[n]}}r.initialPreview=t.cleanArray(a.content);r.initialPreviewConfig=t.cleanArray(a.config);r.initialPreviewThumbTags=t.cleanArray(a.tags)}else{r.initialPreview=e.content;r.initialPreviewConfig=e.config;r.initialPreviewThumbTags=e.tags}r.cacheInitialPreview={};if(r.hasInitData){r._initPreview();r._initPreviewActions()}}r.unlock(l);if(l){r._clearFileInput()}i=r.$preview.find(".file-preview-initial");if(r.uploadAsync&&i.length){t.addCss(i,t.SORT_CSS);r._initSortable()}r._raise("filebatchuploadcomplete",[r.filestack,r._getExtraData()]);r.uploadCount=0;r.uploadStatus={};r.uploadLog=[];r._setProgress(101)},100)};v=function(o){a=r._getOutData(o);r.fileBatchCompleted=false;if(r.showPreview){if(!d.hasClass("file-preview-success")){r._setThumbStatus(d,"Loading");t.addCss(d,"file-uploading")}h.attr("disabled",true);c.attr("disabled",true)}if(!n){r.lock()}r._raise("filepreupload",[a,l,i]);e.extend(true,x,a);if(r._abort(x)){o.abort();r._setProgressCancelled()}};g=function(o,s,u){var c=r.showPreview&&d.attr("id")?d.attr("id"):l;a=r._getOutData(u,o);e.extend(true,x,a);setTimeout(function(){if(t.isEmpty(o)||t.isEmpty(o.error)){if(r.showPreview){r._setThumbStatus(d,"Success");h.hide();r._initUploadSuccess(o,d,n);r._setProgress(101,m)}r._raise("fileuploaded",[a,c,i]);if(!n){r.updateStack(i,undefined)}else{w(i,c)}}else{p=true;r._showUploadError(o.error,x);r._setPreviewError(d,i,r.filestack[i],r.retryErrorUploads);if(!r.retryErrorUploads){h.hide()}if(n){w(i,c)}r._setProgress(101,e("#"+c).find(".file-thumb-progress"),r.msgUploadError)}},100)};y=function(){setTimeout(function(){if(r.showPreview){h.removeAttr("disabled");c.removeAttr("disabled");d.removeClass("file-uploading")}if(!n){r.unlock(false);r._clearFileInput()}else{u()}r._initSuccessThumbs()},100)};b=function(t,o,s){var a=r.ajaxOperations.uploadThumb,u=r._parseError(a,t,s,n&&r.filestack[i].name?r.filestack[i].name:null);p=true;setTimeout(function(){if(n){w(i,l)}r.uploadStatus[l]=100;r._setPreviewError(d,i,r.filestack[i],r.retryErrorUploads);if(!r.retryErrorUploads){h.hide()}e.extend(true,x,r._getOutData(t));r._setProgress(101,m,r.msgAjaxProgressError.replace("{operation}",a));r._setProgress(101,e("#"+l).find(".file-thumb-progress"),r.msgUploadError);r._showUploadError(u,x)},100)};s.append(r.uploadFileAttr,r.filestack[i],r.filenames[i]);s.append("file_id",i);r._ajaxSubmit(v,g,y,b,l,i)},_uploadBatch:function(){var i=this,n=i.filestack,r=n.length,o={},s,a,l,d,u=i.filestack.length>0||!e.isEmptyObject(i.uploadExtraData),h;i.formdata=new FormData;if(r===0||!u||i._abort(o)){return}h=function(){e.each(n,function(e){i.updateStack(e,undefined)});i._clearFileInput()};s=function(n){i.lock();var r=i._getOutData(n);if(i.showPreview){i._getThumbs().each(function(){var n=e(this),r=n.find(".kv-file-upload"),o=n.find(".kv-file-remove");if(!n.hasClass("file-preview-success")){i._setThumbStatus(n,"Loading");t.addCss(n,"file-uploading")}r.attr("disabled",true);o.attr("disabled",true)})}i._raise("filebatchpreupload",[r]);if(i._abort(r)){n.abort();i._setProgressCancelled()}};a=function(n,r,o){var s=i._getOutData(o,n),a=0,l=i._getThumbs(":not(.file-preview-success)"),d=t.isEmpty(n)||t.isEmpty(n.errorkeys)?[]:n.errorkeys;if(t.isEmpty(n)||t.isEmpty(n.error)){i._raise("filebatchuploadsuccess",[s]);h();if(i.showPreview){l.each(function(){var t=e(this);i._setThumbStatus(t,"Success");t.removeClass("file-uploading");t.find(".kv-file-upload").hide().removeAttr("disabled")});i._initUploadSuccess(n)}else{i.reset()}i._setProgress(101)}else{if(i.showPreview){l.each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading");t.find(".kv-file-upload").removeAttr("disabled");t.find(".kv-file-remove").removeAttr("disabled");if(d.length===0||e.inArray(a,d)!==-1){i._setPreviewError(t,n,i.filestack[n],i.retryErrorUploads);if(!i.retryErrorUploads){t.find(".kv-file-upload").hide();i.updateStack(n,undefined)}}else{t.find(".kv-file-upload").hide();i._setThumbStatus(t,"Success");i.updateStack(n,undefined)}if(!t.hasClass("file-preview-error")||i.retryErrorUploads){a++}});i._initUploadSuccess(n)}i._showUploadError(n.error,s,"filebatchuploaderror");i._setProgress(101,i.$progress,i.msgUploadError)}};d=function(){i.unlock();i._initSuccessThumbs();i._clearFileInput();i._raise("filebatchuploadcomplete",[i.filestack,i._getExtraData()])};l=function(t,n,o){var s=i._getOutData(t),a=i.ajaxOperations.uploadBatch,l=i._parseError(a,t,o);i._showUploadError(l,s,"filebatchuploaderror");i.uploadFileCount=r-1;if(!i.showPreview){return}i._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading");if(i.filestack[n]!==undefined){i._setPreviewError(t)}});i._getThumbs().removeClass("file-uploading");i._getThumbs(" .kv-file-upload").removeAttr("disabled");i._getThumbs(" .kv-file-delete").removeAttr("disabled");i._setProgress(101,i.$progress,i.msgAjaxProgressError.replace("{operation}",a))};e.each(n,function(e,r){if(!t.isEmpty(n[e])){i.formdata.append(i.uploadFileAttr,r,i.filenames[e])}});i._ajaxSubmit(s,a,d,l)},_uploadExtraOnly:function(){var e=this,i={},n,r,o,s;e.formdata=new FormData;if(e._abort(i)){return}n=function(t){e.lock();var n=e._getOutData(t);e._raise("filebatchpreupload",[n]);e._setProgress(50);i.data=n;i.xhr=t;if(e._abort(i)){t.abort();e._setProgressCancelled()}};r=function(i,n,r){var o=e._getOutData(r,i);if(t.isEmpty(i)||t.isEmpty(i.error)){e._raise("filebatchuploadsuccess",[o]);e._clearFileInput();e._initUploadSuccess(i);e._setProgress(101)}else{e._showUploadError(i.error,o,"filebatchuploaderror")}};o=function(){e.unlock();e._clearFileInput();e._raise("filebatchuploadcomplete",[e.filestack,e._getExtraData()])};s=function(t,n,r){var o=e._getOutData(t),s=e.ajaxOperations.uploadExtra,a=e._parseError(s,t,r);i.data=o;e._showUploadError(a,o,"filebatchuploaderror");e._setProgress(101,e.$progress,e.msgAjaxProgressError.replace("{operation}",s))};e._ajaxSubmit(n,r,o,s)},_deleteFileIndex:function(i){var n=this,r=i.attr("data-fileindex");if(r.substring(0,5)==="init_"){r=parseInt(r.replace("init_",""));n.initialPreview=t.spliceArray(n.initialPreview,r);n.initialPreviewConfig=t.spliceArray(n.initialPreviewConfig,r);n.initialPreviewThumbTags=t.spliceArray(n.initialPreviewThumbTags,r);n.getFrames().each(function(){var t=e(this),i=t.attr("data-fileindex");if(i.substring(0,5)==="init_"){i=parseInt(i.replace("init_",""));if(i>r){i--;t.attr("data-fileindex","init_"+i)}}});if(n.uploadAsync){n.cacheInitialPreview=n.getPreview()}}},_initFileActions:function(){var i=this,n=i.$preview;if(!i.showPreview){return}i._initZoomButton();i.getFrames(" .kv-file-remove").each(function(){var r=e(this),o=r.closest(t.FRAMES),s,a=o.attr("id"),l=o.attr("data-fileindex"),d,u,h;i._handler(r,"click",function(){h=i._raise("filepreremove",[a,l]);if(h===false||!i._validateMinCount()){return false}s=o.hasClass("file-preview-error");t.cleanMemory(o);o.fadeOut("slow",function(){t.cleanZoomCache(n.find("#zoom-"+a));i.updateStack(l,undefined);i._clearObjects(o);o.remove();if(a&&s){i.$errorContainer.find('li[data-file-id="'+a+'"]').fadeOut("fast",function(){e(this).remove();if(!i._errorsExist()){i._resetErrors()}})}i._clearFileInput();var r=i.getFileStack(true),h=i.previewCache.count(),c=r.length,f=i.showPreview&&i.getFrames().length;if(c===0&&h===0&&!f){i.reset()}else{d=h+c;u=d>1?i._getMsgSelected(d):r[0]?i._getFileNames()[0]:"";i._setCaption(u)}i._raise("fileremoved",[a,l])})})});i.getFrames(" .kv-file-upload").each(function(){var n=e(this);i._handler(n,"click",function(){var e=n.closest(t.FRAMES),r=e.attr("data-fileindex");i.$progress.hide();if(e.hasClass("file-preview-error")&&!i.retryErrorUploads){return}i._uploadSingle(r,false)})})},_initPreviewActions:function(){var i=this,n=i.$preview,r=i.deleteExtraData||{},o=t.FRAMES+" .kv-file-remove",s=i.fileActionSettings,a=s.removeClass,l=s.removeErrorClass,d=function(){var e=i.isAjaxUpload?i.previewCache.count():i.$element.get(0).files.length;if(!n.find(t.FRAMES).length&&!e){i._setCaption("");i.reset();i.initialCaption=""}};i._initZoomButton();n.find(o).each(function(){var o=e(this),s=o.data("url")||i.deleteUrl,u=o.data("key"),h,c,f;if(t.isEmpty(s)||u===undefined){return}var p=o.closest(t.FRAMES),m=i.previewCache.data,v,g,y=p.attr("data-fileindex"),b,w;y=parseInt(y.replace("init_",""));b=t.isEmpty(m.config)&&t.isEmpty(m.config[y])?null:m.config[y];w=t.isEmpty(b)||t.isEmpty(b.extra)?r:b.extra;if(typeof w==="function"){w=w()}g={id:o.attr("id"),key:u,extra:w};h=function(e){i.ajaxAborted=false;i._raise("filepredelete",[u,e,w]);o.removeClass(l);if(i._abort()){e.abort()}else{t.addCss(p,"file-uploading");t.addCss(o,"disabled "+a)}};c=function(e,r,s){var h,c;if(!t.isEmpty(e)&&!t.isEmpty(e.error)){g.jqXHR=s;g.response=e;i._showError(e.error,g,"filedeleteerror");p.removeClass("file-uploading");o.removeClass("disabled "+a).addClass(l);d();return}p.removeClass("file-uploading").addClass("file-deleted");p.fadeOut("slow",function(){y=parseInt(p.attr("data-fileindex").replace("init_",""));i.previewCache.unset(y);h=i.previewCache.count();c=h>0?i._getMsgSelected(h):"";i._deleteFileIndex(p);i._setCaption(c);i._raise("filedeleted",[u,s,w]);t.cleanZoomCache(n.find("#zoom-"+p.attr("id")));i._clearObjects(p);p.remove();d()})};f=function(e,t,n){var r=i.ajaxOperations.deleteThumb,s=i._parseError(r,e,n);g.jqXHR=e;g.response={};i._showError(s,g,"filedeleteerror");p.removeClass("file-uploading");o.removeClass("disabled "+a).addClass(l);d()};i._mergeAjaxCallback("beforeSend",h,"delete");i._mergeAjaxCallback("success",c,"delete");i._mergeAjaxCallback("error",f,"delete");v=e.extend(true,{},{url:s,type:"POST",dataType:"json",data:e.extend(true,{},{key:u},w)},i.ajaxDeleteSettings);i._handler(o,"click",function(){if(!i._validateMinCount()){return false}i.ajaxAborted=false;i._raise("filebeforedelete",[u,w]);if(i.ajaxAborted instanceof Promise){i.ajaxAborted.then(function(t){if(!t){e.ajax(v)}})}else{if(!i.ajaxAborted){e.ajax(v)}}})})},_hideFileIcon:function(){if(this.overwriteInitial){this.$captionContainer.find(".kv-caption-icon").hide()}},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(t){var i=this,n=parseFloat(t),r,o=i.fileSizeGetter,s,a;if(!e.isNumeric(t)||!e.isNumeric(n)){return""}if(typeof o==="function"){a=o(n)}else{if(n===0){a="0.00 B"}else{r=Math.floor(Math.log(n)/Math.log(1024));s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];a=(n/Math.pow(1024,r)).toFixed(2)*1+" "+s[r]}}return i._getLayoutTemplate("size").replace("{sizeText}",a)},_generatePreviewTemplate:function(i,n,r,o,s,a,l,d,u,h,c){var f=this,p=f.slug(r),m,v="",g="",y=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=y<400?f.previewSettingsSmall[i]||f.defaults.previewSettingsSmall[i]:f.previewSettings[i]||f.defaults.previewSettings[i],w=u||f._renderFileFooter(p,l,"auto",a),x=f._getPreviewIcon(r),_="type-default",k=x&&f.preferIconicPreview,C=x&&f.preferIconicZoomPreview,S;if(b){e.each(b,function(e,t){g+=e+":"+t+";"})}S=function(n,a,l,u){var m=l?"zoom-"+s:s,v=f._getPreviewTemplate(n),y=(d||"")+" "+u;if(f.frameClass){y=f.frameClass+" "+y}if(l){y=y.replace(" "+t.SORT_CSS,"")}v=f._parseFilePreviewIcon(v,r);if(n==="text"){a=t.htmlEncode(a)}if(i==="object"&&!o){e.each(f.defaults.fileTypeSettings,function(e,t){if(e==="object"||e==="other"){return}if(t(r,o)){_="type-"+e}})}return v.setTokens({previewId:m,caption:p,frameClass:y,type:o,fileindex:h,typeCss:_,footer:w,data:a,template:c||i,style:g?'style="'+g+'"':""})};h=h||s.slice(s.lastIndexOf("-")+1);if(f.fileActionSettings.showZoom){v=S(C?"other":i,n,true,"kv-zoom-thumb")}v="\n"+f._getLayoutTemplate("zoomCache").replace("{zoomContent}",v);m=S(k?"other":i,n,false,"kv-preview-thumb");return m+v},_previewDefault:function(i,n,r){var o=this,s=o.$preview;if(!o.showPreview){return}var a=i?i.name:"",l=i?i.type:"",d,u=i.size||0,h=o.slug(a),c=r===true&&!o.isAjaxUpload,f=t.objUrl.createObjectURL(i);o._clearDefaultPreview();d=o._generatePreviewTemplate("other",f,a,l,n,c,u);s.append("\n"+d);o._setThumbAttr(n,h,u);if(r===true&&o.isAjaxUpload){o._setThumbStatus(e("#"+n),"Error")}},_previewFile:function(e,i,n,r,o){if(!this.showPreview){return}var s=this,a=s._parseFileType(i),l=i?i.name:"",d=s.slug(l),u=s.allowedPreviewTypes,h=s.allowedPreviewMimeTypes,c=s.$preview,f=u&&u.indexOf(a)>=0,p=i.size||0,m=i.type,v=a==="text"||a==="html"||a==="image"?n.target.result:o,g,y=h&&h.indexOf(m)!==-1;if(a==="html"&&s.purifyHtml&&window.DOMPurify){v=window.DOMPurify.sanitize(v)}if(f||y){g=s._generatePreviewTemplate(a,v,l,m,r,false,p);s._clearDefaultPreview();c.append("\n"+g);var b=c.find("#"+r+" img");if(b.length&&s.autoOrientImage){t.validateOrientation(i,function(e){if(!e){s._validateImage(r,d,m,p,v);return}var n=c.find("#zoom-"+r+" img"),o="rotate-"+e;if(e>4){o+=b.width()>b.height()?" is-portrait-gt4":" is-landscape-gt4"}t.addCss(b,o);t.addCss(n,o);s._raise("fileimageoriented",{$img:b,file:i});s._validateImage(r,d,m,p,v);t.adjustOrientedImage(b)})}else{s._validateImage(r,d,m,p,v)}}else{s._previewDefault(i,r)}s._setThumbAttr(r,d,p);s._initSortable()},_setThumbAttr:function(t,i,n){var r=this,o=e("#"+t);if(o.length){n=n&&n>0?r._getSize(n):"";o.data({caption:i,size:n})}},_setInitThumbAttr:function(){var e=this,i=e.previewCache.data,n=e.previewCache.count(),r,o,s,a;if(n===0){return}for(var l=0;l<n;l++){r=i.config[l];a=e.previewInitId+"-"+"init_"+l;o=t.ifSet("caption",r,t.ifSet("filename",r));s=t.ifSet("size",r);e._setThumbAttr(a,o,s)}},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(i){this.reader=new FileReader;var n=this,r=n.$element,o=n.$preview,s=n.reader,a=n.$previewContainer,l=n.$previewStatus,d=n.msgLoading,u=n.msgProgress,h=n.previewInitId,c=i.length,f=n.fileTypeSettings,p=n.filestack.length,m,v=n.allowedFileTypes,g=v?v.length:0,y=n.allowedFileExtensions,b=t.isEmpty(y)?"":y.join(", "),w=n.maxFilePreviewSize&&parseFloat(n.maxFilePreviewSize),x=o.length&&(!w||isNaN(w)),_=function(t,r,o,s){var a=e.extend(true,{},n._getOutData({},{},i),{id:o,index:s}),l={id:o,index:s,file:r,files:i},d;n._previewDefault(r,o,true);if(n.isAjaxUpload){n.addToStack(undefined);setTimeout(function(){m(s+1)},100)}else{c=0}n._initFileActions();d=e("#"+o);d.find(".kv-file-upload").hide();if(n.removeFromPreviewOnError){d.remove()}n.isError=n.isAjaxUpload?n._showUploadError(t,a):n._showError(t,l);n._updateFileDetails(c)};n.loadedImages=[];n.totalImagesCount=0;e.each(i,function(e,t){var i=n.fileTypeSettings.image;if(i&&i(t.type)){n.totalImagesCount++}});m=function(e){if(t.isEmpty(r.attr("multiple"))){c=1}if(e>=c){if(n.isAjaxUpload&&n.filestack.length>0){n._raise("filebatchselected",[n.getFileStack()])}else{n._raise("filebatchselected",[i])}a.removeClass("file-thumb-loading");l.html("");return}var k=p+e,C=h+"-"+k,S,T,D=i[e],E,O=D.name?n.slug(D.name):"",P=(D.size||0)/1e3,M,A,I="",F=t.objUrl.createObjectURL(D),R,N,L,j,B=0,z="",$;if(g>0){for(M=0;M<g;M++){L=v[M];j=n.msgFileTypes[L]||L;z+=M===0?j:", "+j}}if(O===false){m(e+1);return}if(O.length===0){A=n.msgInvalidFileName.replace("{name}",t.htmlEncode(D.name));_(A,D,C,e);return}if(!t.isEmpty(y)){I=new RegExp("\\.("+y.join("|")+")$","i")}E=P.toFixed(2);if(n.maxFileSize>0&&P>n.maxFileSize){A=n.msgSizeTooLarge.setTokens({name:O,size:E,maxSize:n.maxFileSize});_(A,D,C,e);return}if(n.minFileSize!==null&&P<=t.getNum(n.minFileSize)){A=n.msgSizeTooSmall.setTokens({name:O,size:E,minSize:n.minFileSize});_(A,D,C,e);return}if(!t.isEmpty(v)&&t.isArray(v)){for(M=0;M<v.length;M+=1){R=v[M];$=f[R];B+=!$||typeof $!=="function"?0:$(D.type,D.name)?1:0}if(B===0){A=n.msgInvalidFileType.setTokens({name:O,types:z});_(A,D,C,e);return}}if(B===0&&!t.isEmpty(y)&&t.isArray(y)&&!t.isEmpty(I)){N=t.compare(O,I);B+=t.isEmpty(N)?0:N.length;if(B===0){A=n.msgInvalidFileExtension.setTokens({name:O,extensions:b});_(A,D,C,e);return}}if(!n.showPreview){if(n.isAjaxUpload){n.addToStack(D)}setTimeout(function(){m(e+1);n._updateFileDetails(c)},100);n._raise("fileloaded",[D,C,e,s]);return}if(!x&&P>w){n.addToStack(D);a.addClass("file-thumb-loading");n._previewDefault(D,C);n._initFileActions();n._updateFileDetails(c);m(e+1);return}if(o.length&&FileReader!==undefined){l.html(d.replace("{index}",e+1).replace("{files}",c));a.addClass("file-thumb-loading");s.onerror=function(e){n._errorHandler(e,O)};s.onload=function(t){n._previewFile(e,D,t,C,F);n._initFileActions()};s.onloadend=function(){A=u.setTokens({index:e+1,files:c,percent:50,name:O});setTimeout(function(){l.html(A);n._updateFileDetails(c);m(e+1)},100);n._raise("fileloaded",[D,C,e,s])};s.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,n=Math.ceil(i);A=u.setTokens({index:e+1,files:c,percent:n,name:O});setTimeout(function(){l.html(A)},100)}};S=f.text;T=f.image;if(S(D.type,O)){s.readAsText(D,n.textEncoding)}else{if(T(D.type,O)){s.readAsDataURL(D)}else{s.readAsArrayBuffer(D)}}}else{n._previewDefault(D,C);setTimeout(function(){m(e+1);n._updateFileDetails(c)},100);n._raise("fileloaded",[D,C,e,s])}n.addToStack(D)};m(0);n._updateFileDetails(c,false)},_updateFileDetails:function(e){var i=this,n=i.$element,r=i.getFileStack(),o=t.isIE(9)&&t.findFileName(n.val())||n[0].files[0]&&n[0].files[0].name||r.length&&r[0].name||"",s=i.slug(o),a=i.isAjaxUpload?r.length:e,l=i.previewCache.count()+a,d=a===1?s:i._getMsgSelected(l);if(i.isError){i.$previewContainer.removeClass("file-thumb-loading");i.$previewStatus.html("");i.$captionContainer.find(".kv-caption-icon").hide()}else{i._showFileIcon()}i._setCaption(d,i.isError);i.$container.removeClass("file-input-new file-input-ajax-new");if(arguments.length===1){i._raise("fileselect",[e,s])}if(i.previewCache.count()){i._initPreviewActions()}},_setThumbStatus:function(e,t){var i=this;if(!i.showPreview){return}var n="indicator"+t,r=n+"Title",o="file-preview-"+t.toLowerCase(),s=e.find(".file-upload-indicator"),a=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading");if(t==="Success"){e.find(".file-drag-handle").remove()}s.html(a[n]);s.attr("title",a[r]);e.addClass(o);if(t==="Error"&&!i.retryErrorUploads){e.find(".kv-file-upload").attr("disabled",true)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,i,n){var r=this,o=Math.min(e,100),s,a=r.progressUploadThreshold,l=e<=100?r.progressTemplate:r.progressCompleteTemplate,d=o<100?r.progressTemplate:n?r.progressErrorTemplate:l;i=i||r.$progress;if(!t.isEmpty(d)){if(a&&o>a&&e<=100){s=d.setTokens({percent:a,status:r.msgUploadThreshold})}else{s=d.setTokens({percent:o,status:e>100?r.msgUploadEnd:o+"%"})}i.html(s);if(n){i.find('[role="progressbar"]').html(n)}}},_setFileDropZoneTitle:function(){var e=this,i=e.$container.find(".file-drop-zone"),n=e.dropZoneTitle,r;if(e.isClickable){r=t.isEmpty(e.$element.attr("multiple"))?e.fileSingle:e.filePlural;n+=e.dropZoneClickTitle.replace("{files}",r)}i.find("."+e.dropZoneTitleClass).remove();if(!e.isAjaxUpload||!e.showPreview||i.length===0||e.getFileStack().length>0||!e.dropZoneEnabled){return}if(i.find(t.FRAMES).length===0&&t.isEmpty(e.defaultPreviewContent)){i.prepend('<div class="'+e.dropZoneTitleClass+'">'+n+"</div>")}e.$container.removeClass("file-input-new");t.addCss(e.$container,"file-input-ajax-new")},_setAsyncUploadStatus:function(t,i,n){var r=this,o=0;r._setProgress(i,e("#"+t).find(".file-thumb-progress"));r.uploadStatus[t]=i;e.each(r.uploadStatus,function(e,t){o+=t});r._setProgress(Math.floor(o/n))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;if(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount){e._noFilesError({});return false}return true},_getFileCount:function(e){var t=this,i=0;if(t.validateInitialCount&&!t.overwriteInitial){i=t.previewCache.count();e+=i}return e},_getFileId:function(e){var t=this,i=t.generateFileId,n;if(typeof i==="function"){return i(e,event)}if(!e){return null}n=String(e.webkitRelativePath||e.fileName||e.name||null);if(!n){return null}return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},_getFileName:function(e){return e&&e.name?this.slug(e.name):undefined},_getFileIds:function(e){var t=this;return t.fileids.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},_getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},_setPreviewError:function(e,t,i,n){var r=this;if(t!==undefined){r.updateStack(t,i)}if(!r.showPreview){return}if(r.removeFromPreviewOnError&&!n){e.remove();return}else{r._setThumbStatus(e,"Error")}r._refreshUploadButton(e,n)},_refreshUploadButton:function(e,t){var i=this,n=e.find(".kv-file-upload"),r=i.fileActionSettings,o=r.uploadIcon,s=r.uploadTitle;if(!n.length){return}if(t){o=r.uploadRetryIcon;s=r.uploadRetryTitle}n.attr("title",s).html(o)},_checkDimensions:function(e,i,n,r,o,s,a){var l=this,d,u,h=i==="Small"?"min":"max",c=l[h+"Image"+s],f,p;if(t.isEmpty(c)||!n.length){return}f=n[0];u=s==="Width"?f.naturalWidth||f.width:f.naturalHeight||f.height;p=i==="Small"?u>=c:u<=c;if(p){return}d=l["msgImage"+s+i].setTokens({name:o,size:c});l._showUploadError(d,a);l._setPreviewError(r,e,null)},_validateImage:function(t,i,n,r,o){var s=this,a=s.$preview,l,d,u,h=a.find("#"+t),c=h.attr("data-fileindex"),f=h.find("img"),p;i=i||"Untitled";f.one("load",function(){d=h.width();u=a.width();if(d>u){f.css("width","100%")}l={ind:c,id:t};s._checkDimensions(c,"Small",f,h,i,"Width",l);s._checkDimensions(c,"Small",f,h,i,"Height",l);if(!s.resizeImage){s._checkDimensions(c,"Large",f,h,i,"Width",l);s._checkDimensions(c,"Large",f,h,i,"Height",l)}s._raise("fileimageloaded",[t]);p=window.piexif?window.piexif.load(o):null;s.loadedImages.push({ind:c,img:f,thumb:h,pid:t,typ:n,siz:r,validated:false,imgData:o,exifObj:p});h.data("exif",p);s._validateAllImages()}).one("error",function(){s._raise("fileimageloaderror",[t])}).each(function(){if(this.complete){e(this).trigger("load")}else{if(this.error){e(this).trigger("error")}}})},_validateAllImages:function(){var e=this,t,i={val:0},n=e.loadedImages.length,r,o,s=e.resizeIfSizeMoreThan;if(n!==e.totalImagesCount){return}e._raise("fileimagesloaded");if(!e.resizeImage){return}for(t=0;t<e.loadedImages.length;t++){r=e.loadedImages[t];if(r.validated){continue}o=r.siz;if(o&&o>s*1e3){e._getResizedImage(r,i,n)}e.loadedImages[t].validated=true}},_getResizedImage:function(i,n,r){var o=this,s=e(i.img)[0],a=s.naturalWidth,l=s.naturalHeight,d,u=1,h=o.maxImageWidth||a,c=o.maxImageHeight||l,f=!!(a&&l),p,m,v=o.imageCanvas,g,y=o.imageCanvasContext,b=i.typ,w=i.pid,x=i.ind,_=i.thumb,k,C,S=i.exifObj,T;k=function(e,t,i){if(o.isAjaxUpload){o._showUploadError(e,t,i)}else{o._showError(e,t,i)}o._setPreviewError(_,x)};if(!o.filestack[x]||!f||a<=h&&l<=c){if(f&&o.filestack[x]){o._raise("fileimageresized",[w,x])}n.val++;if(n.val===r){o._raise("fileimagesresized")}if(!f){k(o.msgImageResizeError,{id:w,index:x},"fileimageresizeerror");return}}b=b||o.resizeDefaultImageType;p=a>h;m=l>c;if(o.resizePreference==="width"){u=p?h/a:m?c/l:1}else{u=m?c/l:p?h/a:1}o._resetCanvas();a*=u;l*=u;v.width=a;v.height=l;try{y.drawImage(s,0,0,a,l);g=v.toDataURL(b,o.resizeQuality);if(S){T=window.piexif.dump(S);g=window.piexif.insert(T,g)}d=t.dataURI2Blob(g);o.filestack[x]=d;o._raise("fileimageresized",[w,x]);n.val++;if(n.val===r){o._raise("fileimagesresized",[undefined,undefined])}if(!(d instanceof Blob)){k(o.msgImageResizeError,{id:w,index:x},"fileimageresizeerror")}}catch(e){n.val++;if(n.val===r){o._raise("fileimagesresized",[undefined,undefined])}C=o.msgImageResizeException.replace("{errors}",e.message);k(C,{id:w,index:x},"fileimageresizeexception")}},_initBrowse:function(e){var t=this;if(t.showBrowse){t.$btnFile=e.find(".btn-file");t.$btnFile.append(t.$element)}else{t.$element.hide()}},_initCaption:function(){var e=this,i=e.initialCaption||"";if(e.overwriteInitial||t.isEmpty(i)){e.$caption.html("");return false}e._setCaption(i);return true},_setCaption:function(i,n){var r=this,o,s,a,l,d=r.getFileStack();if(!r.$caption.length){return}if(n){o=e("<div>"+r.msgValidationError+"</div>").text();a=d.length;if(a){l=a===1&&d[0]?r._getFileNames()[0]:r._getMsgSelected(a)}else{l=r._getMsgSelected(r.msgNo)}s='<span class="'+r.msgValidationErrorClass+'">'+r.msgValidationErrorIcon+(t.isEmpty(i)?l:i)+"</span>"}else{if(t.isEmpty(i)){return}o=e("<div>"+i+"</div>").text();s=r._getLayoutTemplate("fileIcon")+o}r.$caption.html(s);r.$caption.attr("title",o);r.$captionContainer.find(".file-caption-ellipsis").attr("title",o)},_createContainer:function(){var t=this,i={class:"file-input file-input-new"+(t.rtl?" kv-rtl":"")},n=e(document.createElement("div")).attr(i).html(t._renderMain());t.$element.before(n);t._initBrowse(n);if(t.theme){n.addClass("theme-"+t.theme)}return n},_refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element);t.html(e._renderMain());e._initBrowse(t)},_renderMain:function(){var e=this,t=e.isAjaxUpload&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=!e.showClose?"":e._getLayoutTemplate("close"),n=!e.showPreview?"":e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}),r=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,o=e.captionTemplate.setTokens({class:r+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:n,close:i,caption:o,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var i=this,n=i._getLayoutTemplate("btnDefault"),r=i[e+"Class"],o=i[e+"Title"],s=i[e+"Icon"],a=i[e+"Label"],l=i.isDisabled?" disabled":"",d="button";switch(e){case"remove":if(!i.showRemove){return""}break;case"cancel":if(!i.showCancel){return""}r+=" kv-hidden";break;case"upload":if(!i.showUpload){return""}if(i.isAjaxUpload&&!i.isDisabled){n=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl)}else{d="submit"}break;case"browse":if(!i.showBrowse){return""}n=i._getLayoutTemplate("btnBrowse");break;default:return""}r+=e==="browse"?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button";if(!t.isEmpty(a)){a=' <span class="'+i.buttonLabelClass+'">'+a+"</span>"}return n.setTokens({type:d,css:r,title:o,status:l,icon:s,label:a})},_renderThumbProgress:function(){var e=this;return'<div class="file-thumb-progress kv-hidden">'+e.progressTemplate.setTokens({percent:"0",status:e.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,i,n,r){var o=this,s=o.fileActionSettings,a=s.showRemove,l=s.showDrag,d=s.showUpload,u=s.showZoom,h,c=o._getLayoutTemplate("footer"),f=o._getLayoutTemplate("indicator"),p=r?s.indicatorError:s.indicatorNew,m=r?s.indicatorErrorTitle:s.indicatorNewTitle,v=f.setTokens({indicator:p,indicatorTitle:m});i=o._getSize(i);if(o.isAjaxUpload){h=c.setTokens({actions:o._renderFileActions(d,false,a,u,l,false,false,false),caption:e,size:i,width:n,progress:o._renderThumbProgress(),indicator:v})}else{h=c.setTokens({actions:o._renderFileActions(false,false,false,u,l,false,false,false),caption:e,size:i,width:n,progress:"",indicator:v})}h=t.replaceTags(h,o.previewThumbTags);return h},_renderFileActions:function(e,t,i,n,r,o,s,a,l,d,u){if(!e&&!t&&!i&&!n&&!r){return""}var h=this,c=s===false?"":' data-url="'+s+'"',f=a===false?"":' data-key="'+a+'"',p="",m="",v="",g="",y="",b,w=h._getLayoutTemplate("actions"),x=h.fileActionSettings,_=h.otherActionButtons.setTokens({dataKey:f,key:a}),k=o?x.removeClass+" disabled":x.removeClass;if(i){p=h._getLayoutTemplate("actionDelete").setTokens({removeClass:k,removeIcon:x.removeIcon,removeTitle:x.removeTitle,dataUrl:c,dataKey:f,key:a})}if(e){m=h._getLayoutTemplate("actionUpload").setTokens({uploadClass:x.uploadClass,uploadIcon:x.uploadIcon,uploadTitle:x.uploadTitle})}if(t){v=h._getLayoutTemplate("actionDownload").setTokens({downloadClass:x.downloadClass,downloadIcon:x.downloadIcon,downloadTitle:x.downloadTitle,downloadUrl:d||h.initialPreviewDownloadUrl});v=v.setTokens({filename:u,key:a})}if(n){g=h._getLayoutTemplate("actionZoom").setTokens({zoomClass:x.zoomClass,zoomIcon:x.zoomIcon,zoomTitle:x.zoomTitle})}if(r&&l){b="drag-handle-init "+x.dragClass;y=h._getLayoutTemplate("actionDrag").setTokens({dragClass:b,dragTitle:x.dragTitle,dragIcon:x.dragIcon})}return w.setTokens({delete:p,upload:m,download:v,zoom:g,drag:y,other:_})},_browse:function(e){var t=this;t._raise("filebrowse");if(e&&e.isDefaultPrevented()){return}if(t.isError&&!t.isAjaxUpload){t.clear()}t.$captionContainer.focus()},_filterDuplicate:function(e,t,i){var n=this,r=n._getFileId(e);if(r&&i&&i.indexOf(r)>-1){return}if(!i){i=[]}t.push(e);i.push(r)},_change:function(i){var n=this,r=n.$element;if(!n.isAjaxUpload&&t.isEmpty(r.val())&&n.fileInputCleared){n.fileInputCleared=false;return}n.fileInputCleared=false;var o=[],s,a,l=arguments.length>1,d=n.isAjaxUpload,u,h,c=l?i.originalEvent.dataTransfer.files:r.get(0).files,f=n.filestack.length,p=t.isEmpty(r.attr("multiple")),m=p&&f>0,v=0,g=n._getFileIds(),y=function(t,i,r,o){var s=e.extend(true,{},n._getOutData({},{},c),{id:r,index:o}),a={id:r,index:o,file:i,files:c};return n.isAjaxUpload?n._showUploadError(t,s):n._showError(t,a)};n.reader=null;n._resetUpload();n._hideFileIcon();if(n.isAjaxUpload){n.$container.find(".file-drop-zone ."+n.dropZoneTitleClass).remove()}if(l){e.each(c,function(e,t){if(t&&!t.type&&t.size!==undefined&&t.size%4096===0){v++}else{n._filterDuplicate(t,o,g)}})}else{if(i.target&&i.target.files===undefined){c=i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]}else{c=i.target.files||{}}if(d){e.each(c,function(e,t){n._filterDuplicate(t,o,g)})}else{o=c}}if(t.isEmpty(o)||o.length===0){if(!d){n.clear()}n._showFolderError(v);n._raise("fileselectnone");return}n._resetErrors();h=o.length;a=n._getFileCount(n.isAjaxUpload?n.getFileStack().length+h:h);if(n.maxFileCount>0&&a>n.maxFileCount){if(!n.autoReplace||h>n.maxFileCount){u=n.autoReplace&&h>n.maxFileCount?h:a;s=n.msgFilesTooMany.replace("{m}",n.maxFileCount).replace("{n}",u);n.isError=y(s,null,null,null);n.$captionContainer.find(".kv-caption-icon").hide();n._setCaption("",true);n.$container.removeClass("file-input-new file-input-ajax-new");return}if(a>n.maxFileCount){n._resetPreviewThumbs(d)}}else{if(!d||m){n._resetPreviewThumbs(false);if(m){n.clearStack()}}else{if(d&&f===0&&(!n.previewCache.count()||n.overwriteInitial)){n._resetPreviewThumbs(true)}}}if(n.isPreviewable){n._readFiles(o)}else{n._updateFileDetails(1)}n._showFolderError(v)},_abort:function(t){var i=this,n;if(i.ajaxAborted&&typeof i.ajaxAborted==="object"&&i.ajaxAborted.message!==undefined){n=e.extend(true,{},i._getOutData(),t);n.abortData=i.ajaxAborted.data||{};n.abortMessage=i.ajaxAborted.message;i._setProgress(101,i.$progress,i.msgCancelled);i._showUploadError(i.ajaxAborted.message,n,"filecustomerror");i.cancel();return true}return false},_resetFileStack:function(){var i=this,n=0,r=[],o=[],s=[];i._getThumbs().each(function(){var a=e(this),l=a.attr("data-fileindex"),d=i.filestack[l],u=a.attr("id"),h;if(l==="-1"||l===-1){return}if(d!==undefined){r[n]=d;o[n]=i._getFileName(d);s[n]=i._getFileId(d);a.attr({id:i.previewInitId+"-"+n,"data-fileindex":n});n++}else{h="uploaded-"+t.uniqId();a.attr({id:h,"data-fileindex":"-1"});i.$preview.find("#zoom-"+u).attr("id","zoom-"+h)}});i.filestack=r;i.filenames=o;i.fileids=s},_isFileSelectionValid:function(e){var t=this;e=e||0;if(t.required&&!t.getFilesCount()){t.$errorContainer.html("");t._showUploadError(t.msgFileRequired);return false}if(t.minFileCount>0&&t._getFileCount(e)<t.minFileCount){t._noFilesError({});return false}return true},clearStack:function(){var e=this;e.filestack=[];e.filenames=[];e.fileids=[];return e.$element},updateStack:function(e,t){var i=this;i.filestack[e]=t;i.filenames[e]=i._getFileName(t);i.fileids[e]=t&&i._getFileId(t)||null;return i.$element},addToStack:function(e){var t=this;t.filestack.push(e);t.filenames.push(t._getFileName(e));t.fileids.push(t._getFileId(e));return t.$element},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;return e._getFileCount(t)},lock:function(){var e=this;e._resetErrors();e.disable();if(e.showRemove){e.$container.find(".fileinput-remove").hide()}if(e.showCancel){e.$container.find(".fileinput-cancel").show()}e._raise("filelock",[e.filestack,e._getExtraData()]);return e.$element},unlock:function(e){var t=this;if(e===undefined){e=true}t.enable();if(t.showCancel){t.$container.find(".fileinput-cancel").hide()}if(t.showRemove){t.$container.find(".fileinput-remove").show()}if(e){t._resetFileStack()}t._raise("fileunlock",[t.filestack,t._getExtraData()]);return t.$element},cancel:function(){var t=this,i=t.ajaxRequests,n=i.length,r;if(n>0){for(r=0;r<n;r+=1){t.cancelling=true;i[r].abort()}}t._setProgressCancelled();t._getThumbs().each(function(){var i=e(this),n=i.attr("data-fileindex");i.removeClass("file-uploading");if(t.filestack[n]!==undefined){i.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled");i.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")}t.unlock()});return t.$element},clear:function(){var i=this,n;if(!i._raise("fileclear")){return}i.$btnUpload.removeAttr("disabled");i._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))});i._resetUpload();i.clearStack();i._clearFileInput();i._resetErrors(true);if(i._hasInitialPreview()){i._showFileIcon();i._resetPreview();i._initPreviewActions();i.$container.removeClass("file-input-new")}else{i._getThumbs().each(function(){i._clearObjects(e(this))});if(i.isAjaxUpload){i.previewCache.data={}}i.$preview.html("");n=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"";i.$caption.html(n);i.$caption.attr("title","");t.addCss(i.$container,"file-input-new");i._validateDefaultPreview()}if(i.$container.find(t.FRAMES).length===0){if(!i._initCaption()){i.$captionContainer.find(".kv-caption-icon").hide()}}i._hideFileIcon();i._raise("filecleared");i.$captionContainer.focus();i._setFileDropZoneTitle();return i.$element},reset:function(){var e=this;if(!e._raise("filereset")){return}e._resetPreview();e.$container.find(".fileinput-filename").text("");t.addCss(e.$container,"file-input-new");if(e.getFrames().length||e.isAjaxUpload&&e.dropZoneEnabled){e.$container.removeClass("file-input-new")}e.clearStack();e.formdata={};e._setFileDropZoneTitle();return e.$element},disable:function(){var e=this;e.isDisabled=true;e._raise("filedisabled");e.$element.attr("disabled","disabled");e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled");e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",true);t.addCss(e.$container.find(".btn-file"),"disabled");e._initDragDrop();return e.$element},enable:function(){var e=this;e.isDisabled=false;e._raise("fileenabled");e.$element.removeAttr("disabled");e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled");e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled");e.$container.find(".btn-file").removeClass("disabled");e._initDragDrop();return e.$element},upload:function(){var i=this,n=i.getFileStack().length,r,o,s,a=!e.isEmptyObject(i._getExtraData());if(!i.isAjaxUpload||i.isDisabled||!i._isFileSelectionValid(n)){return}i._resetUpload();if(n===0&&!a){i._showUploadError(i.msgUploadEmpty);return}i.$progress.show();i.uploadCount=0;i.uploadStatus={};i.uploadLog=[];i.lock();i._setProgress(2);if(n===0&&a){i._uploadExtraOnly();return}s=i.filestack.length;i.hasInitData=false;if(i.uploadAsync){o=i._getOutData();i._raise("filebatchpreupload",[o]);i.fileBatchCompleted=false;i.uploadCache={content:[],config:[],tags:[],append:true};i.uploadAsyncCount=i.getFileStack().length;for(r=0;r<s;r++){i.uploadCache.content[r]=null;i.uploadCache.config[r]=null;i.uploadCache.tags[r]=null}i.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS);i._initSortable();i.cacheInitialPreview=i.getPreview();for(r=0;r<s;r++){if(i.filestack[r]){i._uploadSingle(r,true)}}return}i._uploadBatch();return i.$element},destroy:function(){var t=this,i=t.$form,n=t.$container,r=t.$element,o=t.namespace;e(document).off(o);e(window).off(o);if(i&&i.length){i.off(o)}if(t.isAjaxUpload){t._clearFileInput()}t._cleanup();t._initPreviewCache();r.insertBefore(n).off(o).removeData();n.off().remove();return r},refresh:function(i,n){var r=this,o=r.$element;if(typeof i!=="object"||t.isEmpty(i)){i=r.options}else{i=e.extend(true,{},r.options,i)}r._init(i,true);r._listen();if(n){o.trigger("change"+r.namespace)}return o},zoom:function(e){var i=this,n=i._getFrame(e),r=i.$modal;if(!n){return}t.initModal(r);r.html(i._getModalContent());i._setZoomContent(n);r.modal("show");i._initZoomButtons()},getExif:function(e){var t=this,i=t._getFrame(e);return i&&i.data("exif")||null},getFrames:function(e){var i=this;e=e||"";return i.$preview.find(t.FRAMES+e)},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}};e.fn.fileinput=function(n){if(!t.hasFileAPISupport()&&!t.isIE(9)){return}var r=Array.apply(null,arguments),o=[];r.shift();this.each(function(){var s=e(this),a=s.data("fileinput"),l=typeof n==="object"&&n,d=l.theme||s.data("theme"),u={},h={},c=l.language||s.data("language")||e.fn.fileinput.defaults.language||"en",f;if(!a){if(d){h=e.fn.fileinputThemes[d]||{}}if(c!=="en"&&!t.isEmpty(e.fn.fileinputLocales[c])){u=e.fn.fileinputLocales[c]||{}}f=e.extend(true,{},e.fn.fileinput.defaults,h,e.fn.fileinputLocales.en,u,l,s.data());a=new i(this,f);s.data("fileinput",a)}if(typeof n==="string"){o.push(a[n].apply(a,r))}});switch(o.length){case 0:return this;case 1:return o[0];default:return o}};e.fn.fileinput.defaults={language:"en",showCaption:true,showBrowse:true,showPreview:true,showRemove:true,showUpload:true,showCancel:true,showClose:true,showUploadedThumbs:true,browseOnZoneClick:false,autoReplace:false,autoOrientImage:true,required:false,rtl:false,hideThumbnailContent:false,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:true,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:false,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:true,initialPreviewDownloadUrl:"",removeFromPreviewOnError:false,deleteUrl:"",deleteExtraData:{},overwriteInitial:true,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-kv btn-default btn-outline-secondary",borderless:"btn btn-kv btn-default btn-outline-secondary",close:"btn btn-kv btn-default btn-outline-secondary"},preferIconicPreview:false,preferIconicZoomPreview:false,allowedPreviewTypes:undefined,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:true,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:false,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:false,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<button class="close kv-error-close">&times;</button>',slugCallback:null,dropZoneEnabled:true,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:true,mergeAjaxCallbacks:false,mergeAjaxDeleteCallbacks:false,retryErrorUploads:true};e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};e.fn.fileinput.Constructor=i;e(document).ready(function(){var t=e("input.file[type=file]");if(t.length){t.fileinput()}})});(function(e){"use strict";e.fn.fileinputLocales["da"]={fileSingle:"fil",filePlural:"filer",browseLabel:"Browse &hellip;",removeLabel:"Fjern",removeTitle:"Fjern valgte filer",cancelLabel:"Fortryd",cancelTitle:"Afbryd nuv&aelig;rende upload",uploadLabel:"Upload",uploadTitle:"Upload valgte filer",msgNo:"Ingen",msgNoFilesSelected:"",msgCancelled:"aflyst",msgZoomModalHeading:"Detaljeret visning",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'Fil "{name}" (<b>{size} KB</b>) er st&oslash;rre end de tilladte <b>{maxSize} KB</b>.',msgFilesTooLess:"Du skal mindst v&aelig;lge <b>{n}</b> {files} til upload.",msgFilesTooMany:"<b>({n})</b> filer valgt til upload, men maks. <b>{m}</b> er tilladt.",msgFileNotFound:'Filen "{name}" blev ikke fundet!',msgFileSecured:'Sikkerhedsrestriktioner forhindrer l&aelig;sning af "{name}".',msgFileNotReadable:'Filen "{name}" kan ikke indl&aelig;ses.',msgFilePreviewAborted:'Filpreview annulleret for "{name}".',msgFilePreviewError:'Der skete en fejl under l&aelig;sningen af filen "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Ukendt type for filen "{name}". Kun "{types}" kan bruges.',msgInvalidFileExtension:'Ukendt filtype for filen "{name}". Kun "{extensions}" filer kan bruges.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"Filupload annulleret",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validering Fejl",msgLoading:"Henter fil {index} af {files} &hellip;",msgProgress:"Henter fil {index} af {files} - {name} - {percent}% f&aelig;rdiggjort.",msgSelected:"{n} {files} valgt",msgFoldersNotAllowed:"Drag & drop kun filer! {n} mappe(r) sprunget over.",msgImageWidthSmall:'Bredden af billedet "{name}" skal v&aelig;re p&aring; mindst {size} px.',msgImageHeightSmall:'H&oslash;jden af billedet "{name}" skal v&aelig;re p&aring; mindst {size} px.',msgImageWidthLarge:'Bredden af billedet "{name}" m&aring; ikke v&aelig;re over {size} px.',msgImageHeightLarge:'H&oslash;jden af billedet "{name}" m&aring; ikke v&aelig;re over {size} px.',msgImageResizeError:"Kunne ikke fÃ¥ billedets dimensioner for at Ã¦ndre stÃ¸rrelsen.",msgImageResizeException:"Fejl ved at Ã¦ndre stÃ¸rrelsen pÃ¥ billedet.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop filer her &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",fileActionSettings:{removeTitle:"Fjern fil",uploadTitle:"Upload fil",uploadRetryTitle:"Retry upload",downloadTitle:"Download file",zoomTitle:"Se detaljer",dragTitle:"Move / Rearrange",indicatorNewTitle:"Ikke uploadet endnu",indicatorSuccessTitle:"Uploadet",indicatorErrorTitle:"Upload fejl",indicatorLoadingTitle:"Uploader ..."},previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}}})(window.jQuery);(function(e){"use strict";e.fn.fileinputThemes.gly={fileActionSettings:{removeIcon:'<i class="glyphicon glyphicon-trash"></i>',uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',dragIcon:'<i class="glyphicon glyphicon-move"></i>',indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>'},layoutTemplates:{fileIcon:'<i class="glyphicon glyphicon-file kv-caption-icon"></i>'},previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',removeIcon:'<i class="glyphicon glyphicon-trash"></i>',cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> '}})(window.jQuery);(function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.editableform.defaults,i);this.$div=e(t);if(!this.options.scope){this.options.scope=this}};t.prototype={constructor:t,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){t.addClass("editable-buttons-bottom")}},render:function(){this.$loading=e(e.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);e.when(this.input.render()).then(e.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(e){e.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var t=this.value===null||this.value===undefined||this.value===""?this.options.defaultValue:this.value;this.input.value2input(t);this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;if(this.$form){e=this.$form.outerWidth();t=this.$form.outerHeight();if(e){this.$loading.width(e)}if(t){this.$loading.height(t)}this.$form.hide()}else{e=this.$loading.parent().width();if(e){this.$loading.width(e)}}this.$loading.show()},showForm:function(e){this.$loading.hide();this.$form.show();if(e!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(t){var i=this.$form.find(".control-group"),n=this.$form.find(".editable-error-block"),r;if(t===false){i.removeClass(e.fn.editableform.errorGroupClass);n.removeClass(e.fn.editableform.errorBlockClass).empty().hide()}else{if(t){r=(""+t).split("\n");for(var o=0;o<r.length;o++){r[o]=e("<div>").text(r[o]).html()}t=r.join("<br>")}i.addClass(e.fn.editableform.errorGroupClass);n.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation();t.preventDefault();var i=this.input.input2value();var n=this.validate(i);if(e.type(n)==="object"&&n.newValue!==undefined){i=n.newValue;this.input.value2input(i);if(typeof n.msg==="string"){this.error(n.msg);this.showForm();return}}else if(n){this.error(n);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var r=this.input.value2submit(i);this.isSaving=true;e.when(this.save(r)).done(e.proxy(function(e){this.isSaving=false;var t=typeof this.options.success==="function"?this.options.success.call(this.options.scope,e,i):null;if(t===false){this.error(false);this.showForm(false);return}if(typeof t==="string"){this.error(t);this.showForm();return}if(t&&typeof t==="object"&&t.hasOwnProperty("newValue")){i=t.newValue}this.error(false);this.value=i;this.$div.triggerHandler("save",{newValue:i,submitValue:r,response:e})},this)).fail(e.proxy(function(e){this.isSaving=false;var t;if(typeof this.options.error==="function"){t=this.options.error.call(this.options.scope,e,i)}else{t=typeof e==="string"?e:e.responseText||e.statusText||"Unknown error!"}this.error(t);this.showForm()},this))},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,true);var i=typeof this.options.pk==="function"?this.options.pk.call(this.options.scope):this.options.pk,n=!!(typeof this.options.url==="function"||this.options.url&&(this.options.send==="always"||this.options.send==="auto"&&i!==null&&i!==undefined)),r;if(n){this.showLoading();r={name:this.options.name||"",value:t,pk:i};if(typeof this.options.params==="function"){r=this.options.params.call(this.options.scope,r)}else{this.options.params=e.fn.editableutils.tryParseJson(this.options.params,true);e.extend(r,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,r)}else{return e.ajax(e.extend({url:this.options.url,data:r,type:"POST"},this.options.ajaxOptions))}}},validate:function(e){if(e===undefined){e=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,e)}},option:function(e,t){if(e in this.options){this.options[e]=t}if(e==="value"){this.setValue(t)}},setValue:function(e,t){if(t){this.value=this.input.str2value(e)}else{this.value=e}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};e.fn.editableform=function(i){var n=arguments;return this.each(function(){var r=e(this),o=r.data("editableform"),s=typeof i==="object"&&i;if(!o){r.data("editableform",o=new t(this,s))}if(typeof i==="string"){o[i].apply(o,Array.prototype.slice.call(n,1))}})};e.fn.editableform.Constructor=t;e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};e.fn.editableform.template='<form class="form-inline editableform">'+'<div class="control-group">'+'<div><div class="editable-input"></div><div class="editable-buttons"></div></div>'+'<div class="editable-error-block"></div>'+"</div>"+"</form>";e.fn.editableform.loading='<div class="editableform-loading"></div>';e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button>'+'<button type="button" class="editable-cancel">cancel</button>';e.fn.editableform.errorGroupClass=null;e.fn.editableform.errorBlockClass="editable-error";e.fn.editableform.engine="jquery"})(window.jQuery);(function(e){"use strict";e.fn.editableutils={inherit:function(e,t){var i=function(){};i.prototype=t.prototype;e.prototype=new i;e.prototype.constructor=e;e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange){e.setSelectionRange(t,t)}else if(e.createTextRange){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}},tryParseJson:function(e,t){if(typeof e==="string"&&e.length&&e.match(/^[\{\[].*[\}\]]$/)){if(t){try{e=new Function("return "+e)()}catch(e){}finally{return e}}else{e=new Function("return "+e)()}}return e},sliceObj:function(t,i,n){var r,o,s={};if(!e.isArray(i)||!i.length){return s}for(var a=0;a<i.length;a++){r=i[a];if(t.hasOwnProperty(r)){s[r]=t[r]}if(n===true){continue}o=r.toLowerCase();if(t.hasOwnProperty(o)){s[r]=t[o]}}return s},getConfigData:function(t){var i={};e.each(t.data(),function(e,t){if(typeof t!=="object"||t&&typeof t==="object"&&(t.constructor===Object||t.constructor===Array)){i[e]=t}});return i},objectKeys:function(e){if(Object.keys){return Object.keys(e)}else{if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var t=[],i;for(i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t.push(i)}}return t}},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,i,n){if(!i||t===null){return[]}if(typeof n!=="function"){var r=n||"value";n=function(e){return e[r]}}var o=e.isArray(t),s=[],a=this;e.each(i,function(i,r){if(r.children){s=s.concat(a.itemsByValue(t,r.children,n))}else{if(o){if(e.grep(t,function(e){return e==(r&&typeof r==="object"?n(r):r)}).length){s.push(r)}}else{var l=r&&typeof r==="object"?n(r):r;if(t==l){s.push(r)}}}});return s},createInput:function(t){var i,n,r,o=t.type;if(o==="date"){if(t.mode==="inline"){if(e.fn.editabletypes.datefield){o="datefield"}else if(e.fn.editabletypes.dateuifield){o="dateuifield"}}else{if(e.fn.editabletypes.date){o="date"}else if(e.fn.editabletypes.dateui){o="dateui"}}if(o==="date"&&!e.fn.editabletypes.date){o="combodate"}}if(o==="datetime"&&t.mode==="inline"){o="datetimefield"}if(o==="wysihtml5"&&!e.fn.editabletypes[o]){o="textarea"}if(typeof e.fn.editabletypes[o]==="function"){i=e.fn.editabletypes[o];n=this.sliceObj(t,this.objectKeys(i.defaults));r=new i(n);return r}else{e.error("Unknown type: "+o);return false}},supportsTransitions:function(){var e=document.body||document.documentElement,t=e.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if(typeof t[i]==="string"){return true}i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<n.length;r++){if(typeof t[n[r]+i]==="string"){return true}}return false}}})(window.jQuery);(function(e){"use strict";var t=function(e,t){this.init(e,t)};var i=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=e(i);this.options=e.extend({},e.fn.editableContainer.defaults,n);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",e.proxy(function(){this.destroy()},this));if(!e(document).data("editable-handlers-attached")){e(document).on("keyup.editable",function(t){if(t.which===27){e(".editable-open").editableContainer("hide")}});e(document).on("click.editable",function(i){var n=e(i.target),r,o=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!e.contains(document.documentElement,i.target)){return}if(n.is(document)){return}for(r=0;r<o.length;r++){if(n.is(o[r])||n.parents(o[r]).length){return}}t.prototype.closeOthers(i.target)});e(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!e.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var t in this.options){if(t in this.defaults){this.containerOptions[t]=this.options[t]}else{this.formOptions[t]=this.options[t]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;if(this.containerDataName){if(e=this.$element.data(this.containerDataName)){return e}}e=this.$element.data(this.containerName);return e},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open");if(t!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=e("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(e){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:e};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",e||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(e){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(e)}},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t);this.hide("save")},option:function(e,t){this.options[e]=t;if(e in this.containerOptions){this.containerOptions[e]=t;this.setContainerOption(e,t)}else{this.formOptions[e]=t;if(this.$form){this.$form.editableform("option",e,t)}}},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(i,n){if(n===t||e(n).find(t).length){return}var r=e(n),o=r.data("editableContainer");if(!o){return}if(o.options.onblur==="cancel"){r.data("editableContainer").hide("onblur")}else if(o.options.onblur==="submit"){r.data("editableContainer").tip().find("form").submit()}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};e.fn.editableContainer=function(n){var r=arguments;return this.each(function(){var o=e(this),s="editableContainer",a=o.data(s),l=typeof n==="object"&&n,d=l.mode==="inline"?i:t;if(!a){o.data(s,a=new d(this,l))}if(typeof n==="string"){a[n].apply(a,Array.prototype.slice.call(r,1))}})};e.fn.editableContainer.Popup=t;e.fn.editableContainer.Inline=i;e.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(e){if(e.handler){e.handler()}}}})(window.jQuery);(function(e){"use strict";e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})})(window.jQuery);(function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.editable.defaults,i,e.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!e.fn.editableutils.supportsTransitions()){this.options.highlight=false}};t.prototype={constructor:t,init:function(){var t=false,i,n;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=e.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(e.trim(this.$element.html()));t=true}else{this.options.value=e.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(!this.options.disabled){e.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var t=this.options.toggle!=="click";this.toggle(t)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":i=true;break;case"auto":i=!e.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!t;break;default:i=false}e.when(i?this.render():true).then(e.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var t=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var i=e(t.target);if(!i.data("editable")){if(i.hasClass(this.options.emptyclass)){i.empty()}i.editable(this.options).trigger(t)}},this))},render:function(e){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,e)}else if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,e)}else{return this.input.value2html(this.value,this.$element[0])}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(t,i){if(t&&typeof t==="object"){e.each(t,e.proxy(function(t,i){this.option(e.trim(t),i)},this));return}this.options[t]=i;if(t==="disabled"){return i?this.disable():this.enable()}if(t==="value"){this.setValue(i)}if(this.container){this.container.option(t,i)}if(this.input.option){this.input.option(t,i)}},handleEmpty:function(t){if(this.options.display===false){return}if(t!==undefined){this.isEmpty=t}else{if(typeof this.input.isEmpty==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=e.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(t){if(this.options.disabled){return}if(!this.container){var i=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i);this.$element.on("save.internal",e.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible")){return}this.container.show(t)},hide:function(){if(this.container){this.container.hide()}},toggle:function(e){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(e)}},save:function(e,t){if(this.options.unsavedclass){var i=false;i=i||typeof this.options.url==="function";i=i||this.options.display===false;i=i||t.response!==undefined;i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue);if(i){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var n=this.$element,r=n.css("background-color");n.css("background-color",this.options.highlight);setTimeout(function(){if(r==="transparent"){r=""}n.css("background-color",r);n.addClass("editable-bg-transition");setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,false,t.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(t,i,n){if(i){this.value=this.input.str2value(t)}else{this.value=t}if(this.container){this.container.option("value",this.value)}e.when(this.render(n)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};e.fn.editable=function(i){var n={},r=arguments,o="editable";switch(i){case"validate":this.each(function(){var t=e(this),i=t.data(o),r;if(i&&(r=i.validate())){n[i.options.name]=r}});return n;case"getValue":if(arguments.length===2&&arguments[1]===true){n=this.eq(0).data(o).value}else{this.each(function(){var t=e(this),i=t.data(o);if(i&&i.value!==undefined&&i.value!==null){n[i.options.name]=i.input.value2submit(i.value)}})}return n;case"submit":var s=arguments[1]||{},a=this,l=this.editable("validate");if(e.isEmptyObject(l)){var d={};if(a.length===1){var u=a.data("editable");var h={name:u.options.name||"",value:u.input.value2submit(u.value),pk:typeof u.options.pk==="function"?u.options.pk.call(u.options.scope):u.options.pk};if(typeof u.options.params==="function"){h=u.options.params.call(u.options.scope,h)}else{u.options.params=e.fn.editableutils.tryParseJson(u.options.params,true);e.extend(h,u.options.params)}d={url:u.options.url,data:h,type:"POST"};s.success=s.success||u.options.success;s.error=s.error||u.options.error}else{var c=this.editable("getValue");d={url:s.url,data:c,type:"POST"}}d.success=typeof s.success==="function"?function(e){s.success.call(a,e,s)}:e.noop;d.error=typeof s.error==="function"?function(){s.error.apply(a,arguments)}:e.noop;if(s.ajaxOptions){e.extend(d,s.ajaxOptions)}if(s.data){e.extend(d.data,s.data)}e.ajax(d)}else{if(typeof s.error==="function"){s.error.call(a,l)}}return this}return this.each(function(){var n=e(this),s=n.data(o),a=typeof i==="object"&&i;if(a&&a.selector){s=new t(this,a);return}if(!s){n.data(o,s=new t(this,a))}if(typeof i==="string"){s[i].apply(s,Array.prototype.slice.call(r,1))}})};e.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);(function(e){"use strict";e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,n){this.type=t;this.options=e.extend({},n,i)},prerender:function(){this.$tpl=e(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(t,i){e(i)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(e){if(this.options[e]!==undefined&&this.options[e]!==null){this.$input.attr(e,this.options[e])}},option:function(e,t){this.options[e]=t}};t.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};e.extend(e.fn.editabletypes,{abstractinput:t})})(window.jQuery);(function(e){"use strict";var t=function(e){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){var t=e.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();t.resolve()},function(){this.error=this.options.sourceError;t.resolve()});return t.promise()},html2value:function(e){return null},value2html:function(t,i,n,r){var o=e.Deferred(),s=function(){if(typeof n==="function"){n.call(i,t,this.sourceData,r)}else{this.value2htmlFinal(t,i)}o.resolve()};if(t===null){s.call(this)}else{this.onSourceReady(s,function(){o.resolve()})}return o.promise()},onSourceReady:function(t,i){var n;if(e.isFunction(this.options.source)){n=this.options.source.call(this.options.scope);this.sourceData=null}else{n=this.options.source}if(this.options.sourceCache&&e.isArray(this.sourceData)){t.call(this);return}try{n=e.fn.editableutils.tryParseJson(n,false)}catch(e){i.call(this);return}if(typeof n==="string"){if(this.options.sourceCache){var r=n,o;if(!e(document).data(r)){e(document).data(r,{})}o=e(document).data(r);if(o.loading===false&&o.sourceData){this.sourceData=o.sourceData;this.doPrepend();t.call(this);return}else if(o.loading===true){o.callbacks.push(e.proxy(function(){this.sourceData=o.sourceData;this.doPrepend();t.call(this)},this));o.err_callbacks.push(e.proxy(i,this));return}else{o.loading=true;o.callbacks=[];o.err_callbacks=[]}}var s=e.extend({url:n,type:"get",cache:false,dataType:"json",success:e.proxy(function(n){if(o){o.loading=false}this.sourceData=this.makeArray(n);if(e.isArray(this.sourceData)){if(o){o.sourceData=this.sourceData;e.each(o.callbacks,function(){this.call()})}this.doPrepend();t.call(this)}else{i.call(this);if(o){e.each(o.err_callbacks,function(){this.call()})}}},this),error:e.proxy(function(){i.call(this);if(o){o.loading=false;e.each(o.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);e.ajax(s)}else{this.sourceData=this.makeArray(n);if(e.isArray(this.sourceData)){this.doPrepend();t.call(this)}else{i.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!e.isArray(this.prependData)){if(e.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(e.isArray(this.prependData)&&e.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(e,t){},makeArray:function(t){var i,n,r=[],o,s;if(!t||typeof t==="string"){return null}if(e.isArray(t)){s=function(e,t){n={value:e,text:t};if(i++>=2){return false}};for(var a=0;a<t.length;a++){o=t[a];if(typeof o==="object"){i=0;e.each(o,s);if(i===1){r.push(n)}else if(i>1){if(o.children){o.children=this.makeArray(o.children)}r.push(o)}}else{r.push({value:o,text:o})}}}else{e.each(t,function(e,t){r.push({value:e,text:t})})}return r},option:function(e,t){this.options[e]=t;if(e==="source"){this.sourceData=null}if(e==="prepend"){this.prependData=null}}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});e.fn.editabletypes.list=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=e('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(~e.inArray(t.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)},this)).parent().css("position","relative");this.$clear.click(e.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(e){if(!this.$clear){return}var t=this.$input.val().length,i=this.$clear.is(":visible");if(t&&!i){this.$clear.show()}if(!t&&i){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});e.fn.editabletypes.text=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(t){if(t.ctrlKey&&t.which===13){e(this).closest("form").submit()}})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});e.fn.editabletypes.textarea=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list);e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,n){var r;if(e.isArray(n)){for(var o=0;o<n.length;o++){r={};if(n[o].children){r.label=n[o].text;i.append(t(e("<optgroup>",r),n[o].children))}else{r.value=n[o].value;if(n[o].disabled){r.disabled=true}i.append(e("<option>",r).text(n[o].text))}}}return i};t(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(t){if(t.which===13){e(this).closest("form").submit()}})},value2htmlFinal:function(t,i){var n="",r=e.fn.editableutils.itemsByValue(t,this.sourceData);if(r.length){n=r[0].text}e.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}});t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"});e.fn.editabletypes.select=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list);e.extend(t.prototype,{renderList:function(){var t,i;this.$tpl.empty();if(!e.isArray(this.sourceData)){return}for(var n=0;n<this.sourceData.length;n++){t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(e("<span>").text(" "+this.sourceData[n].text));e("<div>").append(t).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var i,n=null;if(typeof t==="string"&&t.length){i=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*");n=t.split(i)}else if(e.isArray(t)){n=t}else{n=[t]}return n},value2input:function(t){this.$input.prop("checked",false);if(e.isArray(t)&&t.length){this.$input.each(function(i,n){var r=e(n);e.each(t,function(e,t){if(r.val()==t){r.prop("checked",true)}})})}},input2value:function(){var t=[];this.$input.filter(":checked").each(function(i,n){t.push(e(n).val())});return t},value2htmlFinal:function(t,i){var n=[],r=e.fn.editableutils.itemsByValue(t,this.sourceData),o=this.options.escape;if(r.length){e.each(r,function(t,i){var r=o?e.fn.editableutils.escape(i.text):i.text;n.push(r)});e(i).html(n.join("<br>"))}else{e(i).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){if(t.which===13){e(this).closest("form").submit()}})}});t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});e.fn.editabletypes.checklist=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);e.extend(t.prototype,{value2html:function(t,i){if(t){e(i).text("[hidden]")}else{e(i).empty()}},html2value:function(e){return null}});t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});e.fn.editabletypes.password=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});e.fn.editabletypes.email=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});e.fn.editabletypes.url=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});e.fn.editabletypes.tel=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);e.extend(t.prototype,{render:function(){t.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});e.fn.editabletypes.number=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}});t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});e.fn.editabletypes.range=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass()}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});e.fn.editabletypes.time=t})(window.jQuery);(function(e){"use strict";var t=function(i){this.init("select2",i,t.defaults);i.select2=i.select2||{};this.sourceData=null;if(i.placeholder){i.select2.placeholder=i.placeholder}if(!i.select2.tags&&i.source){var n=i.source;if(e.isFunction(i.source)){n=i.source.call(i.scope)}if(typeof n==="string"){i.select2.ajax=i.select2.ajax||{};if(!i.select2.ajax.data){i.select2.ajax.data=function(e){return{query:e}}}if(!i.select2.ajax.results){i.select2.ajax.results=function(e){return{results:e}}}i.select2.ajax.url=n}else{this.sourceData=this.convertSource(n);i.select2.data=this.sourceData}}this.options.select2=e.extend({},t.defaults.select2,i.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if(typeof this.idFunc!=="function"){var r=this.idFunc||"id";this.idFunc=function(e){return e[r]}}this.formatSelection=this.options.select2.formatSelection;if(typeof this.formatSelection!=="function"){this.formatSelection=function(e){return e.text}}};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(i,n){var r="",o,s=this;if(this.options.select2.tags){o=i}else if(this.sourceData){o=e.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)}else{}if(e.isArray(o)){r=[];e.each(o,function(e,t){r.push(t&&typeof t==="object"?s.formatSelection(t):t)})}else if(o){r=s.formatSelection(o)}r=e.isArray(r)?r.join(this.options.viewseparator):r;t.superclass.value2html.call(this,r,n)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)){t=t.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(t);this.$input.select2(this.options.select2)}else{this.$input.val(t).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var r=e(this.options.scope);if(!r.data("editable").isEmpty){var o={id:t,text:r.text()};this.$input.select2("data",o)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if(typeof t!=="string"||!this.isMultiple){return t}i=i||this.getSeparator();var n,r,o;if(t===null||t.length<1){return null}n=t.split(i);for(r=0,o=n.length;r<o;r=r+1){n[r]=e.trim(n[r])}return n},autosubmit:function(){this.$input.on("change",function(t,i){if(!i){e(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&t[0].value!==undefined){for(var i=0;i<t.length;i++){if(t[i].value!==undefined){t[i].id=t[i].value;delete t[i].value}}}return t},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});e.fn.editabletypes.select2=t})(window.jQuery);(function(e){var t=function(t,i){this.$element=e(t);if(!this.$element.is("input")){e.error("Combodate should be applied to INPUT element");return}this.options=e.extend({},e.fn.combodate.defaults,i,this.$element.data());this.init()};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=e('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change();if(this.options.smartDays){if(e(t.target).is(".month")||e(t.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;e.each(this.map,function(e,i){i=i[0];var n=new RegExp(i+"+"),r=i.length>1?i.substring(1,2):i;t=t.replace(n,"{"+r+"}")});t=t.replace(/ /g,"&nbsp;");e.each(this.map,function(e,i){i=i[0];var n=i.length>1?i.substring(1,2):i;t=t.replace("{"+n+"}",'<select class="'+e+'"></select>')});return t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null;this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(!t){return}var i="fill"+e.charAt(0).toUpperCase()+e.slice(1);var n=this[i]();var r=t.val();t.empty();for(var o=0;o<n.length;o++){t.append('<option value="'+n[o][0]+'">'+n[o][1]+"</option>")}t.val(r)},fillCommon:function(e){var t=[],i;if(this.options.firstItem==="name"){i=moment.relativeTime||moment.langData()._relativeTime;var n=typeof i[e]==="function"?i[e](1,true,e,false):i[e];n=n.split(" ").reverse()[0];t.push(["",n])}else if(this.options.firstItem==="empty"){t.push(["",""])}return t},fillDay:function(){var e=this.fillCommon("d"),t,i,n=this.options.template.indexOf("DD")!==-1,r=31;if(this.options.smartDays&&this.$month&&this.$year){var o=parseInt(this.$month.val(),10);var s=parseInt(this.$year.val(),10);if(!isNaN(o)&&!isNaN(s)){r=moment([s,o]).daysInMonth()}}for(i=1;i<=r;i++){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillMonth:function(){var e=this.fillCommon("M"),t,i,n=this.options.template.indexOf("MMMM")!==-1,r=this.options.template.indexOf("MMM")!==-1,o=this.options.template.indexOf("MM")!==-1;for(i=0;i<=11;i++){if(n){t=moment().date(1).month(i).format("MMMM")}else if(r){t=moment().date(1).month(i).format("MMM")}else if(o){t=this.leadZero(i+1)}else{t=i+1}e.push([i,t])}return e},fillYear:function(){var e=[],t,i,n=this.options.template.indexOf("YYYY")!==-1;for(i=this.options.maxYear;i>=this.options.minYear;i--){t=n?i:(i+"").substring(2);e[this.options.yearDescending?"push":"unshift"]([i,t])}e=this.fillCommon("y").concat(e);return e},fillHour:function(){var e=this.fillCommon("h"),t,i,n=this.options.template.indexOf("h")!==-1,r=this.options.template.indexOf("H")!==-1,o=this.options.template.toLowerCase().indexOf("hh")!==-1,s=n?1:0,a=n?12:23;for(i=s;i<=a;i++){t=o?this.leadZero(i):i;e.push([i,t])}return e},fillMinute:function(){var e=this.fillCommon("m"),t,i,n=this.options.template.indexOf("mm")!==-1;for(i=0;i<=59;i+=this.options.minuteStep){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillSecond:function(){var e=this.fillCommon("s"),t,i,n=this.options.template.indexOf("ss")!==-1;for(i=0;i<=59;i+=this.options.secondStep){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillAmpm:function(){var e=this.options.template.indexOf("a")!==-1,t=this.options.template.indexOf("A")!==-1,i=[["am",e?"am":"AM"],["pm",e?"pm":"PM"]];return i},getValue:function(t){var i,n={},r=this,o=false;e.each(this.map,function(e,t){if(e==="ampm"){return}var i=e==="day"?1:0;n[e]=r["$"+e]?parseInt(r["$"+e].val(),10):i;if(isNaN(n[e])){o=true;return false}});if(o){return""}if(this.$ampm){if(n.hour===12){n.hour=this.$ampm.val()==="am"?0:12}else{n.hour=this.$ampm.val()==="am"?n.hour:n.hour+12}}i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]);this.highlight(i);t=t===undefined?this.options.format:t;if(t===null){return i.isValid()?i:null}else{return i.isValid()?i.format(t):""}},setValue:function(t){if(!t){return}var i=typeof t==="string"?moment(t,this.options.format):moment(t),n=this,r={};function o(t,i){var n={};t.children("option").each(function(t,r){var o=e(r).attr("value"),s;if(o==="")return;s=Math.abs(o-i);if(typeof n.distance==="undefined"||s<n.distance){n={value:o,distance:s}}});return n.value}if(i.isValid()){e.each(this.map,function(e,t){if(e==="ampm"){return}r[e]=i[t[1]]()});if(this.$ampm){if(r.hour>=12){r.ampm="pm";if(r.hour>12){r.hour-=12}}else{r.ampm="am";if(r.hour===0){r.hour=12}}}e.each(r,function(e,t){if(n["$"+e]){if(e==="minute"&&n.options.minuteStep>1&&n.options.roundTime){t=o(n["$"+e],t)}if(e==="second"&&n.options.secondStep>1&&n.options.roundTime){t=o(n["$"+e],t)}n["$"+e].val(t)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(i.format(this.options.format)).change()}},highlight:function(e){if(!e.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};e.fn.combodate=function(i){var n,r=Array.apply(null,arguments);r.shift();if(i==="getValue"&&this.length&&(n=this.eq(0).data("combodate"))){return n.getValue.apply(n,r)}return this.each(function(){var n=e(this),o=n.data("combodate"),s=typeof i=="object"&&i;if(!o){n.data("combodate",o=new t(this,s))}if(typeof i=="string"&&typeof o[i]=="function"){o[i].apply(o,r)}})};e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}})(window.jQuery);(function(e){"use strict";var t=function(i){this.init("combodate",i,t.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}i.combodate=e.fn.editableutils.tryParseJson(i.combodate,true);this.options.combodate=e.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(e.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(e,i){var n=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});e.fn.editabletypes.combodate=t})(window.jQuery);(function(e){"use strict";var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var i=this.input.options.inputclass===null||this.input.options.inputclass===false;var n="input-sm";var r="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~e.inArray(this.input.type,r)){this.input.$input.addClass("form-control");if(i){this.input.options.inputclass=n;this.input.$input.addClass(n)}}var o=this.$form.find(".editable-buttons");var s=i?[n]:this.input.options.inputclass.split(" ");for(var a=0;a<s.length;a++){if(s[a].toLowerCase()==="input-lg"){o.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});e.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit">'+'<i class="glyphicon glyphicon-ok"></i>'+"</button>"+'<button type="button" class="btn btn-default btn-sm editable-cancel">'+'<i class="glyphicon glyphicon-remove"></i>'+"</button>";e.fn.editableform.errorGroupClass="has-error";e.fn.editableform.errorBlockClass=null;e.fn.editableform.engine="bs3"})(window.jQuery);(function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){e.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var t;if(this.$element.data("template")){t=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(t){this.$element.data("template",t)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){(function(){var e=this.tip();var t=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;var i=/\s?auto?\s?/i;var n=i.test(t);if(n){t=t.replace(i,"")||"top"}var r=this.getPosition();var o=e[0].offsetWidth;var s=e[0].offsetHeight;if(n){var a=this.$element.parent();var l=t;var d=document.documentElement.scrollTop||document.body.scrollTop;var u=this.options.container=="body"?window.innerWidth:a.outerWidth();var h=this.options.container=="body"?window.innerHeight:a.outerHeight();var c=this.options.container=="body"?0:a.offset().left;t=t=="bottom"&&r.top+r.height+s-d>h?"top":t=="top"&&r.top-d-s<0?"bottom":t=="right"&&r.right+o>u?"left":t=="left"&&r.left-o<c?"right":t;e.removeClass(l).addClass(t)}var f=this.getCalculatedOffset(t,r,o,s);this.applyPlacement(f,t)}).call(this.container())}})})(window.jQuery);(function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}var n=function(t,i){var n=this;this._process_options(i);this.element=e(t);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0)this.component=false;this.picker=e(c.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1});this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};n.prototype={constructor:n,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o);var n=i.language;if(!h[n]){n=n.split("-")[0];if(!h[n])n=d.language}i.language=n;switch(i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode);i.weekStart%=7;i.weekEnd=(i.weekStart+6)%7;var r=c.parseFormat(i.format);if(i.startDate!==-Infinity){i.startDate=c.parseDate(i.startDate,r,i.language)}if(i.endDate!==Infinity){i.endDate=c.parseDate(i.endDate,r,i.language)}i.daysOfWeekDisabled=i.daysOfWeekDisabled||[];if(!e.isArray(i.daysOfWeekDisabled))i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/);i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.on(n)}},_unapplyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.off(n)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]}else if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]}else if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:e.proxy(this.show,this)}]]}this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);this.element.trigger({type:t,date:r,format:e.proxy(function(e){var t=e||this.o.format;return c.formatDate(n,t,this.o.language)},this)})},show:function(e){if(!this.isInline)this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(e){e.preventDefault()}this._trigger("show")},hide:function(e){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val()))this.setValue();this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+e.getTimezoneOffset()*6e4)},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-e.getTimezoneOffset()*6e4))},setUTCDate:function(e){this.date=e;this.setValue()},setValue:function(){var e=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(e)}}else{this.element.val(e)}},getFormattedDate:function(e){if(e===undefined)e=this.o.format;return c.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e});this.update();this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var t=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!="auto"}).first().css("z-index"))+10;var i=this.component?this.component.parent().offset():this.element.offset();var n=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:i.top+n,left:i.left,zIndex:t})},_allow_update:true,update:function(){if(!this._allow_update)return;var e,t=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0]instanceof Date)){e=arguments[0];t=true}else{e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=c.parseDate(e,this.o.format,this.o.language);if(t)this.setValue();if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i;this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}while(e<this.o.weekStart+7){t+='<th class="dow">'+h[this.o.language].daysMin[e++%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12){e+='<span class="month">'+h[this.o.language].monthsShort[t++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(t){if(!t||!t.length)delete this.range;else this.range=e.map(t,function(e){return e.valueOf()});this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=this.date.valueOf(),s=new Date;if(t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<r){i.push("old")}else if(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>r){i.push("new")}if(this.o.todayHighlight&&t.getUTCFullYear()==s.getFullYear()&&t.getUTCMonth()==s.getMonth()&&t.getUTCDate()==s.getDate()){i.push("today")}if(o&&t.valueOf()==o){i.push("active")}if(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){i.push("disabled")}if(this.range){if(t>this.range[0]&&t<this.range[this.range.length-1]){i.push("range")}if(e.inArray(t.valueOf(),this.range)!=-1){i.push("selected")}}return i},fill:function(){var i=new Date(this.viewDate),n=i.getUTCFullYear(),r=i.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,s=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,d=this.date&&this.date.valueOf(),u;this.picker.find(".datepicker-days thead th.datepicker-switch").text(h[this.o.language].months[r]+" "+n);this.picker.find("tfoot th.today").text(h[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(h[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var f=t(n,r-1,28,0,0,0,0),p=c.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(p);f.setUTCDate(p-(f.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(f);m.setUTCDate(m.getUTCDate()+42);m=m.valueOf();var v=[];var g;while(f.valueOf()<m){if(f.getUTCDay()==this.o.weekStart){v.push("<tr>");if(this.o.calendarWeeks){var y=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),b=new Date(+y+(7+4-y.getUTCDay())%7*864e5),w=new Date(+(w=t(b.getUTCFullYear(),0,1))+(7+4-w.getUTCDay())%7*864e5),x=(b-w)/864e5/7+1;v.push('<td class="cw">'+x+"</td>")}}g=this.getClassNames(f);g.push("day");var _=this.o.beforeShowDay(f);if(_===undefined)_={};else if(typeof _==="boolean")_={enabled:_};else if(typeof _==="string")_={classes:_};if(_.enabled===false)g.push("disabled");if(_.classes)g=g.concat(_.classes.split(/\s+/));if(_.tooltip)u=_.tooltip;g=e.unique(g);v.push('<td class="'+g.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+f.getUTCDate()+"</td>");if(f.getUTCDay()==this.o.weekEnd){v.push("</tr>")}f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var k=this.date&&this.date.getUTCFullYear();var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");if(k&&k==n){C.eq(this.date.getUTCMonth()).addClass("active")}if(n<o||n>a){C.addClass("disabled")}if(n==o){C.slice(0,s).addClass("disabled")}if(n==a){C.slice(l+1).addClass("disabled")}v="";n=parseInt(n/10,10)*10;var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var T=-1;T<11;T++){v+='<span class="year'+(T==-1?" old":T==10?" new":"")+(k==n?" active":"")+(n<o||n>a?" disabled":"")+'">'+n+"</span>";n+=1}S.html(v)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(i){i.preventDefault();var n=e(i.target).closest("span, td, th");if(n.length==1){switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=c.modes[this.viewMode].navStep*(n[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r);break}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0);this.showMode(-2);var s=this.o.todayBtn=="linked"?null:"view";this._setDate(o,s);break;case"clear":var a;if(this.isInput)a=this.element;else if(this.component)a=this.element.find("input");if(a)a.val("").change();this._trigger("changeDate");this.update();if(this.o.autoclose)this.hide();break}break;case"span":if(!n.is(".disabled")){this.viewDate.setUTCDate(1);if(n.is(".month")){var l=1;var d=n.parent().find("span").index(n);var u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(d);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(t(u,d,l,0,0,0,0))}}else{var u=parseInt(n.text(),10)||0;var l=1;var d=0;this.viewDate.setUTCFullYear(u);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(t(u,d,l,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1;var u=this.viewDate.getUTCFullYear(),d=this.viewDate.getUTCMonth();if(n.is(".old")){if(d===0){d=11;u-=1}else{d-=1}}else if(n.is(".new")){if(d==11){d=0;u+=1}else{d+=1}}this._setDate(t(u,d,l,0,0,0,0))}break}}},_setDate:function(e,t){if(!t||t=="date")this.date=new Date(e);if(!t||t=="view")this.viewDate=new Date(e);this.fill();this.setValue();this._trigger("changeDate");var i;if(this.isInput){i=this.element}else if(this.component){i=this.element.find("input")}if(i){i.change();if(this.o.autoclose&&(!t||t=="date")){this.hide()}}},moveMonth:function(e,t){if(!t)return e;var i=new Date(e.valueOf()),n=i.getUTCDate(),r=i.getUTCMonth(),o=Math.abs(t),s,a;t=t>0?1:-1;if(o==1){a=t==-1?function(){return i.getUTCMonth()==r}:function(){return i.getUTCMonth()!=s};s=r+t;i.setUTCMonth(s);if(s<0||s>11)s=(s+12)%12}else{for(var l=0;l<o;l++)i=this.moveMonth(i,t);s=i.getUTCMonth();i.setUTCDate(n);a=function(){return s!=i.getUTCMonth()}}while(a()){i.setUTCDate(--n);i.setUTCMonth(s)}return i},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27)this.show();return}var t=false,i,n,r,o,s;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;i=e.keyCode==37?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);s=this.moveYear(this.viewDate,i)}else if(e.shiftKey){o=this.moveMonth(this.date,i);s=this.moveMonth(this.viewDate,i)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i);s=new Date(this.viewDate);s.setUTCDate(this.viewDate.getUTCDate()+i)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=s;this.setValue();this.update();e.preventDefault();t=true}break;case 38:case 40:if(!this.o.keyboardNavigation)break;i=e.keyCode==38?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);s=this.moveYear(this.viewDate,i)}else if(e.shiftKey){o=this.moveMonth(this.date,i);s=this.moveMonth(this.viewDate,i)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i*7);s=new Date(this.viewDate);s.setUTCDate(this.viewDate.getUTCDate()+i*7)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=s;this.setValue();this.update();e.preventDefault();t=true}break;case 13:this.hide();e.preventDefault();break;case 9:this.hide();break}if(t){this._trigger("changeDate");var a;if(this.isInput){a=this.element}else if(this.component){a=this.element.find("input")}if(a){a.change()}}},showMode:function(e){if(e){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))}this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var r=function(t,i){this.element=e(t);this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e});delete i.inputs;e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this));this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")});this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date});this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker"),n=i.getUTCDate(),r=e.inArray(t.target,this.inputs),o=this.inputs.length;if(r==-1)return;if(n<this.dates[r]){while(r>=0&&n<this.dates[r]){this.pickers[r--].setUTCDate(n)}}else if(n>this.dates[r]){while(r<o&&n>this.dates[r]){this.pickers[r++].setUTCDate(n)}}this.updateDates()},remove:function(){e.map(this.pickers,function(e){e.remove()});delete this.element.data().datepicker}};function o(t,i){var n=e(t).data(),r={},o,s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var a in n)if(i.test(a)){o=a.replace(s,function(e,t){return t.toLowerCase()});r[o]=n[a]}return r}function s(t){var i={};if(!h[t]){t=t.split("-")[0];if(!h[t])return}var n=h[t];e.each(u,function(e,t){if(t in n)i[t]=n[t]});return i}var a=e.fn.datepicker;var l=e.fn.datepicker=function(t){var i=Array.apply(null,arguments);i.shift();var a,l;this.each(function(){var l=e(this),u=l.data("datepicker"),h=typeof t=="object"&&t;if(!u){var c=o(this,"date"),f=e.extend({},d,c,h),p=s(f.language),m=e.extend({},d,p,c,h);if(l.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||l.find("input").toArray()};l.data("datepicker",u=new r(this,e.extend(m,v)))}else{l.data("datepicker",u=new n(this,m))}}if(typeof t=="string"&&typeof u[t]=="function"){a=u[t].apply(u,i);if(a!==undefined)return false}});if(a!==undefined)return a;else return this};var d=e.fn.datepicker.defaults={autoclose:false,beforeShowDay:e.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var u=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=n;var h=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,c.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||i.length===0){throw new Error("Invalid date format.")}return{separators:t,parts:i}},parseDate:function(i,r,o){if(i instanceof Date)return i;if(typeof r==="string")r=c.parseFormat(r);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var s=/([\-+]\d+)([dmwy])/,a=i.match(/([\-+]\d+)([dmwy])/g),l,d;i=new Date;for(var u=0;u<a.length;u++){l=s.exec(a[u]);d=parseInt(l[1]);switch(l[2]){case"d":i.setUTCDate(i.getUTCDate()+d);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,d);break;case"w":i.setUTCDate(i.getUTCDate()+d*7);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,d);break}}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var a=i&&i.match(this.nonpunctuation)||[],i=new Date,f={},p=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){t-=1;while(t<0)t+=12;t%=12;e.setUTCMonth(t);while(e.getUTCMonth()!=t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},v,g,l;m["M"]=m["MM"]=m["mm"]=m["m"];m["dd"]=m["d"];i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var y=r.parts.slice();if(a.length!=y.length){y=e(y).filter(function(t,i){return e.inArray(i,p)!==-1}).toArray()}if(a.length==y.length){for(var u=0,b=y.length;u<b;u++){v=parseInt(a[u],10);l=y[u];if(isNaN(v)){switch(l){case"MM":g=e(h[o].months).filter(function(){var e=this.slice(0,a[u].length),t=a[u].slice(0,e.length);return e==t});v=e.inArray(g[0],h[o].months)+1;break;case"M":g=e(h[o].monthsShort).filter(function(){var e=this.slice(0,a[u].length),t=a[u].slice(0,e.length);return e==t});v=e.inArray(g[0],h[o].monthsShort)+1;break}}f[l]=v}for(var u=0,w;u<p.length;u++){w=p[u];if(w in f&&!isNaN(f[w]))m[w](i,f[w])}}return i},formatDate:function(t,i,n){if(typeof i==="string")i=c.parseFormat(i);var r={d:t.getUTCDate(),D:h[n].daysShort[t.getUTCDay()],DD:h[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:h[n].monthsShort[t.getUTCMonth()],MM:h[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m;var t=[],o=e.extend([],i.separators);for(var s=0,a=i.parts.length;s<=a;s++){if(o.length)t.push(o.shift());t.push(r[i.parts[s]])}return t.join("")},headTemplate:"<thead>"+"<tr>"+'<th class="prev"><i class="icon-arrow-left"/></th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next"><i class="icon-arrow-right"/></th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};c.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+c.headTemplate+"<tbody></tbody>"+c.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+c.headTemplate+c.contTemplate+c.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+c.headTemplate+c.contTemplate+c.footTemplate+"</table>"+"</div>"+"</div>";e.fn.datepicker.DPGlobal=c;e.fn.datepicker.noConflict=function(){e.fn.datepicker=a;return this};e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);if(i.data("datepicker"))return;t.preventDefault();l.call(i,"show")});e(function(){l.call(e('[data-provide="datepicker-inline"]'))})})(window.jQuery);(function(e){"use strict";e.fn.bdatepicker=e.fn.datepicker.noConflict();if(!e.fn.datepicker){e.fn.datepicker=e.fn.bdatepicker}var t=function(e){this.init("date",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{initPicker:function(t,i){if(!this.options.viewformat){this.options.viewformat=this.options.format}t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,true);this.options.datepicker=e.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=e.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault();e.stopPropagation();this.clear()},this));this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,i){var n=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(e(t.currentTarget).is(".old")||e(t.currentTarget).is(".new")){return}var i=e(this).closest("form");setTimeout(function(){i.submit()},200)})},parseDate:function(e,t){var i=null,n;if(e){i=this.dpg.parseDate(e,t,this.options.datepicker.language);if(typeof e==="string"){n=this.dpg.formatDate(i,t,this.options.datepicker.language);if(e!==n){i=null}}}return i}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});e.fn.editabletypes.date=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datefield",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});e.fn.editabletypes.datefield=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datetime",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{initPicker:function(t,i){if(!this.options.viewformat){this.options.viewformat=this.options.format}t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,true);this.options.datetimepicker=e.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=e.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(t){var i=e(this).closest("form").parent();setTimeout(function(){i.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault();e.stopPropagation();this.clear()},this));this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,i){var n=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(i){t.superclass.value2html.call(this,n,i)}else{return n}},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){if(e){this.$input.data("datetimepicker").setDate(e)}},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(t){var i=e(this).closest("form");setTimeout(function(){i.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-e.getTimezoneOffset()*6e4):e},fromUTC:function(e){return e?new Date(e.valueOf()+e.getTimezoneOffset()*6e4):e},parseDate:function(e,t){var i=null,n;if(e){i=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType);if(typeof e==="string"){n=this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType);if(e!==n){i=null}}}return i}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});e.fn.editabletypes.datetime=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});e.fn.editabletypes.datetimefield=t})(window.jQuery);(function(e){"use strict";var t=null;var i=function(e){var t=arguments,i=true,n=1;e=e.replace(/%s/g,function(){var e=t[n++];if(typeof e==="undefined"){i=false;return""}return e});return i?e:""};var n=function(t,i,n,r){var o="";e.each(t,function(e,t){if(t[i]===r){o=t[n];return false}return true});return o};var r=function(t,i){var n=-1;e.each(t,function(e,t){if(t.field===i){n=e;return false}return true});return n};var o=function(t){var i,n,r,o=0,s=[];for(i=0;i<t[0].length;i++){o+=t[0][i].colspan||1}for(i=0;i<t.length;i++){s[i]=[];for(n=0;n<o;n++){s[i][n]=false}}for(i=0;i<t.length;i++){for(n=0;n<t[i].length;n++){var a=t[i][n],l=a.rowspan||1,d=a.colspan||1,u=e.inArray(false,s[i]);if(d===1){a.fieldIndex=u;if(typeof a.field==="undefined"){a.field=u}}for(r=0;r<l;r++){s[i+r][u]=true}for(r=0;r<d;r++){s[i][u+r]=true}}}};var s=function(){if(t===null){var i=e("<p/>").addClass("fixed-table-scroll-inner"),n=e("<div/>").addClass("fixed-table-scroll-outer"),r,o;n.append(i);e("body").append(n);r=i[0].offsetWidth;n.css("overflow","scroll");o=i[0].offsetWidth;if(r===o){o=n[0].clientWidth}n.remove();t=r-o}return t};var a=function(t,n,r,o){var s=n;if(typeof n==="string"){var a=n.split(".");if(a.length>1){s=window;e.each(a,function(e,t){s=s[t]})}else{s=window[n]}}if(typeof s==="object"){return s}if(typeof s==="function"){return s.apply(t,r||[])}if(!s&&typeof n==="string"&&i.apply(this,[n].concat(r))){return i.apply(this,[n].concat(r))}return o};var l=function(t,i,n){var r=Object.getOwnPropertyNames(t),o=Object.getOwnPropertyNames(i),s="";if(n){if(r.length!==o.length){return false}}for(var a=0;a<r.length;a++){s=r[a];if(e.inArray(s,o)>-1){if(t[s]!==i[s]){return false}}}return true};var d=function(e){if(typeof e==="string"){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return e};var u=function(e){for(var t in e){var i=t.split(/(?=[A-Z])/).join("-").toLowerCase();if(i!==t){e[i]=e[t];delete e[t]}}return e};var h=function(e,t,i){var n=e;if(typeof t!=="string"||e.hasOwnProperty(t)){return i?d(e[t]):e[t]}var r=t.split(".");for(var o in r){if(r.hasOwnProperty(o)){n=n&&n[r[o]]}}return i?d(n):n};var c=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var f=function(){if(!Object.keys){Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if(typeof r!=="object"&&(typeof r!=="function"||r===null)){throw new TypeError("Object.keys called on non-object")}var o=[],s,a;for(s in r){if(e.call(r,s)){o.push(s)}}if(t){for(a=0;a<n;a++){if(e.call(r,i[a])){o.push(i[a])}}}return o}}()}};var p=function(t,i){this.options=i;this.$el=e(t);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};p.DEFAULTS={classes:"table table-hover",sortClass:undefined,locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",sortStable:false,striped:false,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:false,onlyInfoPagination:false,paginationLoop:true,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(e,t){return""},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:e.noop,customSort:e.noop,rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},footerStyle:function(e,t){return{}},onAll:function(e,t){return false},onClickCell:function(e,t,i,n){return false},onDblClickCell:function(e,t,i,n){return false},onClickRow:function(e,t){return false},onDblClickRow:function(e,t){return false},onSort:function(e,t){return false},onCheck:function(e){return false},onUncheck:function(e){return false},onCheckAll:function(e){return false},onUncheckAll:function(e){return false},onCheckSome:function(e){return false},onUncheckSome:function(e){return false},onLoadSuccess:function(e){return false},onLoadError:function(e){return false},onColumnSwitch:function(e,t){return false},onPageChange:function(e,t){return false},onSearch:function(e){return false},onToggle:function(e){return false},onPreBody:function(e){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(e,t,i){return false},onCollapseRow:function(e,t){return false},onRefreshOptions:function(e){return false},onRefresh:function(e){return false},onResetView:function(){return false}};p.LOCALES={};p.LOCALES["en-US"]=p.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return i("%s rows per page",e)},formatShowingRows:function(e,t,n){return i("Showing %s to %s of %s rows",e,t,n)},formatDetailPagination:function(e){return i("Showing %s rows",e)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};e.extend(p.DEFAULTS,p.LOCALES["en-US"]);p.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,class:undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true,escape:false};p.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"};p.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initHiddenRows();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};p.prototype.initLocale=function(){if(this.options.locale){var t=this.options.locale.split(/-|_/);t[0].toLowerCase();if(t[1])t[1].toUpperCase();if(e.fn.bootstrapTable.locales[this.options.locale]){e.extend(this.options,e.fn.bootstrapTable.locales[this.options.locale])}else if(e.fn.bootstrapTable.locales[t.join("-")]){e.extend(this.options,e.fn.bootstrapTable.locales[t.join("-")])}else if(e.fn.bootstrapTable.locales[t[0]]){e.extend(this.options,e.fn.bootstrapTable.locales[t[0]])}}};p.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");this.$toolbar=this.$container.find(".fixed-table-toolbar");this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(e.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};p.prototype.initTable=function(){var t=this,i=[],n=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=e("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var t=[];e(this).find("th").each(function(){if(typeof e(this).data("field")!=="undefined"){e(this).data("field",e(this).data("field")+"")}t.push(e.extend({},{title:e(this).html(),class:e(this).attr("class"),titleTooltip:e(this).attr("title"),rowspan:e(this).attr("rowspan")?+e(this).attr("rowspan"):undefined,colspan:e(this).attr("colspan")?+e(this).attr("colspan"):undefined},e(this).data()))});i.push(t)});if(!e.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=e.extend(true,[],i,this.options.columns);this.columns=[];o(this.options.columns);e.each(this.options.columns,function(i,n){e.each(n,function(n,r){r=e.extend({},p.COLUMN_DEFAULTS,r);if(typeof r.fieldIndex!=="undefined"){t.columns[r.fieldIndex]=r}t.options.columns[i][n]=r})});if(this.options.data.length){return}var r=[];this.$el.find(">tbody>tr").each(function(i){var o={};o._id=e(this).attr("id");o._class=e(this).attr("class");o._data=u(e(this).data());e(this).find(">td").each(function(n){var s=e(this),a=+s.attr("colspan")||1,l=+s.attr("rowspan")||1,d,h;for(;r[i]&&r[i][n];n++);for(d=n;d<n+a;d++){for(h=i;h<i+l;h++){if(!r[h]){r[h]=[]}r[h][d]=true}}var c=t.columns[n].field;o[c]=e(this).html();o["_"+c+"_id"]=e(this).attr("id");o["_"+c+"_class"]=e(this).attr("class");o["_"+c+"_rowspan"]=e(this).attr("rowspan");o["_"+c+"_colspan"]=e(this).attr("colspan");o["_"+c+"_title"]=e(this).attr("title");o["_"+c+"_data"]=u(e(this).data())});n.push(o)});this.options.data=n;if(n.length)this.fromHtml=true};p.prototype.initHeader=function(){var t=this,n={},r=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};e.each(this.options.columns,function(o,s){r.push("<tr>");if(o===0&&!t.options.cardView&&t.options.detailView){r.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',t.options.columns.length))}e.each(s,function(e,o){var s="",a="",l="",u="",h=i(' class="%s"',o["class"]),c=t.options.sortOrder||o.order,f="px",p=o.width;if(o.width!==undefined&&!t.options.cardView){if(typeof o.width==="string"){if(o.width.indexOf("%")!==-1){f="%"}}}if(o.width&&typeof o.width==="string"){p=o.width.replace("%","").replace("px","")}a=i("text-align: %s; ",o.halign?o.halign:o.align);l=i("text-align: %s; ",o.align);u=i("vertical-align: %s; ",o.valign);u+=i("width: %s; ",(o.checkbox||o.radio)&&!p?"36px":p?p+f:undefined);if(typeof o.fieldIndex!=="undefined"){t.header.fields[o.fieldIndex]=o.field;t.header.styles[o.fieldIndex]=l+u;t.header.classes[o.fieldIndex]=h;t.header.formatters[o.fieldIndex]=o.formatter;t.header.events[o.fieldIndex]=o.events;t.header.sorters[o.fieldIndex]=o.sorter;t.header.sortNames[o.fieldIndex]=o.sortName;t.header.cellStyles[o.fieldIndex]=o.cellStyle;t.header.searchables[o.fieldIndex]=o.searchable;if(!o.visible){return}if(t.options.cardView&&!o.cardVisible){return}n[o.field]=o}r.push("<th"+i(' title="%s"',o.titleTooltip),o.checkbox||o.radio?i(' class="bs-checkbox %s"',o["class"]||""):h,i(' style="%s"',a+u),i(' rowspan="%s"',o.rowspan),i(' colspan="%s"',o.colspan),i(' data-field="%s"',o.field),">");r.push(i('<div class="th-inner %s">',t.options.sortable&&o.sortable?"sortable both":""));s=t.options.escape?d(o.title):o.title;if(o.checkbox){if(!t.options.singleSelect&&t.options.checkboxHeader){s='<input name="btSelectAll" type="checkbox" />'}t.header.stateField=o.field}if(o.radio){s="";t.header.stateField=o.field;t.options.singleSelect=true}r.push(s);r.push("</div>");r.push('<div class="fht-cell"></div>');r.push("</div>");r.push("</th>")});r.push("</tr>")});this.$header.html(r.join(""));this.$header.find("th[data-field]").each(function(t){e(this).data(n[e(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var n=e(this);if(t.options.detailView){if(n.closest(".bootstrap-table")[0]!==t.$container[0])return false}if(t.options.sortable&&n.parent().data().sortable){t.onSort(i)}});this.$header.children().children().off("keypress").on("keypress",function(i){if(t.options.sortable&&e(this).data().sortable){var n=i.keyCode||i.which;if(n==13){t.onSort(i)}}});e(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();e(window).on("resize.bootstrap-table",e.proxy(this.resetWidth,this))}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var i=e(this).prop("checked");t[i?"checkAll":"uncheckAll"]();t.updateSelected()})};p.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};p.prototype.initData=function(e,t){if(t==="append"){this.data=this.data.concat(e)}else if(t==="prepend"){this.data=[].concat(e).concat(this.data)}else{this.data=e||this.options.data}if(t==="append"){this.options.data=this.options.data.concat(e)}else if(t==="prepend"){this.options.data=[].concat(e).concat(this.options.data)}else{this.options.data=this.data}if(this.options.sidePagination==="server"){return}this.initSort()};p.prototype.initSort=function(){var t=this,n=this.options.sortName,r=this.options.sortOrder==="desc"?-1:1,o=e.inArray(this.options.sortName,this.header.fields),s=0;if(this.options.customSort!==e.noop){this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);return}if(o!==-1){if(this.options.sortStable){e.each(this.data,function(e,t){if(!t.hasOwnProperty("_position"))t._position=e})}this.data.sort(function(i,s){if(t.header.sortNames[o]){n=t.header.sortNames[o]}var l=h(i,n,t.options.escape),d=h(s,n,t.options.escape),u=a(t.header,t.header.sorters[o],[l,d]);if(u!==undefined){return r*u}if(l===undefined||l===null){l=""}if(d===undefined||d===null){d=""}if(t.options.sortStable&&l===d){l=i._position;d=s._position}if(e.isNumeric(l)&&e.isNumeric(d)){l=parseFloat(l);d=parseFloat(d);if(l<d){return r*-1}return r}if(l===d){return 0}if(typeof l!=="string"){l=l.toString()}if(l.localeCompare(d)===-1){return r*-1}return r});if(this.options.sortClass!==undefined){clearTimeout(s);s=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find(i('[data-field="%s"]',t.options.sortName).index()+1);t.$el.find(i("tr td:nth-child(%s)",e)).addClass(t.options.sortClass)},250)}}};p.prototype.onSort=function(t){var i=t.type==="keypress"?e(t.currentTarget):e(t.currentTarget).parent(),n=this.$header.find("th").eq(i.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===i.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=i.data("field");this.options.sortOrder=i.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);i.add(n).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};p.prototype.initToolbar=function(){var t=this,n=[],r=0,o,s,l=0;if(this.$toolbar.find(".bs-bars").children().length){e("body").append(e(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){e(i('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar))}n=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=a(null,this.options.icons)}if(this.options.showPaginationSwitch){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){n.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');e.each(this.columns,function(e,r){if(r.radio||r.checkbox){return}if(t.options.cardView&&!r.cardVisible){return}var o=r.visible?' checked="checked"':"";if(r.switchable){n.push(i('<li role="menuitem">'+'<label><input type="checkbox" data-field="%s" value="%s"%s> %s</label>'+"</li>",r.field,e,o,r.title));l++}});n.push("</ul>","</div>")}n.push("</div>");if(this.showToolbar||n.length>2){this.$toolbar.append(n.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){t.toggleView()})}if(this.options.showColumns){o=this.$toolbar.find(".keep-open");if(l<=this.options.minimumCountColumns){o.find("input").prop("disabled",true)}o.find("li").off("click").on("click",function(e){e.stopImmediatePropagation()});o.find("input").off("click").on("click",function(){var i=e(this);t.toggleColumn(e(this).val(),i.prop("checked"),false);t.trigger("column-switch",e(this).data("field"),i.prop("checked"))})}if(this.options.search){n=[];n.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(n.join(""));s=this.$toolbar.find(".search input");s.off("keyup drop blur").on("keyup drop blur",function(i){if(t.options.searchOnEnterKey&&i.keyCode!==13){return}if(e.inArray(i.keyCode,[37,38,39,40])>-1){return}clearTimeout(r);r=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut)});if(c()){s.off("mouseup").on("mouseup",function(e){clearTimeout(r);r=setTimeout(function(){t.onSearch(e)},t.options.searchTimeOut)})}}};p.prototype.onSearch=function(t){var i=e.trim(e(t.currentTarget).val());if(this.options.trimOnSearch&&e(t.currentTarget).val()!==i){e(t.currentTarget).val(i)}if(i===this.searchText){return}this.searchText=i;this.options.searchText=i;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",i)};p.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){if(this.options.customSearch!==e.noop){this.options.customSearch.apply(this,[this.searchText]);return}var i=this.searchText&&(this.options.escape?d(this.searchText):this.searchText).toLowerCase();var n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(t,i){for(var r in n){if(e.isArray(n[r])&&e.inArray(t[r],n[r])===-1||!e.isArray(n[r])&&t[r]!==n[r]){return false}}return true}):this.options.data;this.data=i?e.grep(this.data,function(n,o){for(var s=0;s<t.header.fields.length;s++){if(!t.header.searchables[s]){continue}var l=e.isNumeric(t.header.fields[s])?parseInt(t.header.fields[s],10):t.header.fields[s];var d=t.columns[r(t.columns,l)];var u;if(typeof l==="string"){u=n;var h=l.split(".");for(var c=0;c<h.length;c++){u=u[h[c]]}if(d&&d.searchFormatter){u=a(d,t.header.formatters[s],[u,n,o],u)}}else{u=n[l]}if(typeof u==="string"||typeof u==="number"){if(t.options.strictSearch){if((u+"").toLowerCase()===i){return true}}else{if((u+"").toLowerCase().indexOf(i)!==-1){return true}}}}return false}):this.data}};p.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var t=this,n=[],r=false,o,s,a,l,d,u,h,c,f,p=this.getData(),m=this.options.pageList;if(this.options.sidePagination!=="server"){this.options.totalRows=p.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;r=true}else if(this.options.pageSize===this.options.totalRows){var v=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(e.inArray(this.options.formatAllRows().toLowerCase(),v)>-1){r=true}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}n.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){n.push('<span class="page-list">');var g=[i('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',r?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if(typeof this.options.pageList==="string"){var y=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[];e.each(y,function(e,i){m.push(i.toUpperCase()===t.options.formatAllRows().toUpperCase()?t.options.formatAllRows():+i)})}e.each(m,function(e,n){if(!t.options.smartDisplay||e===0||m[e-1]<t.options.totalRows){var o;if(r){o=n===t.options.formatAllRows()?' class="active"':""}else{o=n===t.options.pageSize?' class="active"':""}g.push(i('<li role="menuitem"%s><a href="#">%s</a></li>',o,n))}});g.push("</ul></span>");n.push(this.options.formatRecordsPerPage(g.join("")));n.push("</span>");n.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="#">'+this.options.paginationPreText+"</a></li>");if(this.totalPages<5){s=1;a=this.totalPages}else{s=this.options.pageNumber-2;a=s+4;if(s<1){s=1;a=5}if(a>this.totalPages){a=this.totalPages;s=a-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){n.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="#">',1,"</a>","</li>");s++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){s--}else{n.push('<li class="page-first-separator disabled">','<a href="#">...</a>',"</li>")}a--}}if(this.totalPages>=7){if(this.options.pageNumber>=this.totalPages-2){s--}}if(this.totalPages==6){if(this.options.pageNumber>=this.totalPages-2){a++}}else if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=this.totalPages-3){a++}}for(o=s;o<=a;o++){n.push('<li class="page-number'+(o===this.options.pageNumber?" active":"")+'">','<a href="#">',o,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=this.totalPages-4){n.push('<li class="page-last-separator disabled">','<a href="#">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=this.totalPages-3){n.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="#">',this.totalPages,"</a>","</li>")}}n.push('<li class="page-next"><a href="#">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(n.join(""));if(!this.options.onlyInfoPagination){l=this.$pagination.find(".page-list a");d=this.$pagination.find(".page-first");u=this.$pagination.find(".page-pre");h=this.$pagination.find(".page-next");c=this.$pagination.find(".page-last");f=this.$pagination.find(".page-number");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(m.length<2||this.options.totalRows<=m[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(!this.options.paginationLoop){if(this.options.pageNumber===1){u.addClass("disabled")}if(this.options.pageNumber===this.totalPages){h.addClass("disabled")}}if(r){this.options.pageSize=this.options.formatAllRows()}l.off("click").on("click",e.proxy(this.onPageListChange,this));d.off("click").on("click",e.proxy(this.onPageFirst,this));u.off("click").on("click",e.proxy(this.onPagePre,this));h.off("click").on("click",e.proxy(this.onPageNext,this));c.off("click").on("click",e.proxy(this.onPageLast,this));f.off("click").on("click",e.proxy(this.onPageNumber,this))}};p.prototype.updatePagination=function(t){if(t&&e(t.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};p.prototype.onPageListChange=function(t){var i=e(t.currentTarget);i.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(t);return false};p.prototype.onPageFirst=function(e){this.options.pageNumber=1;this.updatePagination(e);return false};p.prototype.onPagePre=function(e){if(this.options.pageNumber-1===0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(e);return false};p.prototype.onPageNext=function(e){if(this.options.pageNumber+1>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(e);return false};p.prototype.onPageLast=function(e){this.options.pageNumber=this.totalPages;this.updatePagination(e);return false};p.prototype.onPageNumber=function(t){if(this.options.pageNumber===+e(t.currentTarget).text()){return}this.options.pageNumber=+e(t.currentTarget).text();this.updatePagination(t);return false};p.prototype.initRow=function(t,r,o,s){var l=this,u,c=[],f={},p=[],m="",v={},g=[];if(e.inArray(t,this.hiddenRows)>-1){return}f=a(this.options,this.options.rowStyle,[t,r],f);if(f&&f.css){for(u in f.css){p.push(u+": "+f.css[u])}}v=a(this.options,this.options.rowAttributes,[t,r],v);if(v){for(u in v){g.push(i('%s="%s"',u,d(v[u])))}}if(t._data&&!e.isEmptyObject(t._data)){e.each(t._data,function(e,t){if(e==="index"){return}m+=i(' data-%s="%s"',e,t)})}c.push("<tr",i(" %s",g.join(" ")),i(' id="%s"',e.isArray(t)?undefined:t._id),i(' class="%s"',f.classes||(e.isArray(t)?undefined:t._class)),i(' data-index="%s"',r),i(' data-uniqueid="%s"',t[this.options.uniqueId]),i("%s",m),">");if(this.options.cardView){c.push(i('<td colspan="%s"><div class="card-views">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){c.push("<td>",'<a class="detail-icon" href="#">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>")}e.each(this.header.fields,function(o,s){var u="",m=h(t,s,l.options.escape),v="",g="",y={},b="",w=l.header.classes[o],x="",_="",k="",C="",S=l.columns[o];if(l.fromHtml&&typeof m==="undefined"){return}if(!S.visible){return}if(l.options.cardView&&!S.cardVisible){return}if(S.escape){m=d(m)}f=i('style="%s"',p.concat(l.header.styles[o]).join("; "));if(t["_"+s+"_id"]){b=i(' id="%s"',t["_"+s+"_id"])}if(t["_"+s+"_class"]){w=i(' class="%s"',t["_"+s+"_class"])}if(t["_"+s+"_rowspan"]){_=i(' rowspan="%s"',t["_"+s+"_rowspan"])}if(t["_"+s+"_colspan"]){k=i(' colspan="%s"',t["_"+s+"_colspan"])}if(t["_"+s+"_title"]){C=i(' title="%s"',t["_"+s+"_title"])}y=a(l.header,l.header.cellStyles[o],[m,t,r,s],y);if(y.classes){w=i(' class="%s"',y.classes)}if(y.css){var T=[];for(var D in y.css){T.push(D+": "+y.css[D])}f=i('style="%s"',T.concat(l.header.styles[o]).join("; "))}v=a(S,l.header.formatters[o],[m,t,r],m);if(t["_"+s+"_data"]&&!e.isEmptyObject(t["_"+s+"_data"])){e.each(t["_"+s+"_data"],function(e,t){if(e==="index"){return}x+=i(' data-%s="%s"',e,t)})}if(S.checkbox||S.radio){g=S.checkbox?"checkbox":g;g=S.radio?"radio":g;u=[i(l.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',S["class"]||""),"<input"+i(' data-index="%s"',r)+i(' name="%s"',l.options.selectItemName)+i(' type="%s"',g)+i(' value="%s"',t[l.options.idField])+i(' checked="%s"',v===true||(m||v&&v.checked)?"checked":undefined)+i(' disabled="%s"',!S.checkboxEnabled||v&&v.disabled?"disabled":undefined)+" />",l.header.formatters[o]&&typeof v==="string"?v:"",l.options.cardView?"</div>":"</td>"].join("");t[l.header.stateField]=v===true||v&&v.checked}else{v=typeof v==="undefined"||v===null?l.options.undefinedText:v;u=l.options.cardView?['<div class="card-view">',l.options.showHeader?i('<span class="title" %s>%s</span>',f,n(l.columns,"field","title",s)):"",i('<span class="value">%s</span>',v),"</div>"].join(""):[i("<td%s %s %s %s %s %s %s>",b,w,f,x,_,k,C),v,"</td>"].join("");if(l.options.cardView&&l.options.smartDisplay&&v===""){u='<div class="card-view"></div>'}}c.push(u)});if(this.options.cardView){c.push("</div></td>")}c.push("</tr>");return c.join(" ")};p.prototype.initBody=function(t){var n=this,o=[],s=this.getData();this.trigger("pre-body",s);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=e("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=s.length}var l=e(document.createDocumentFragment());var d;for(var u=this.pageFrom-1;u<this.pageTo;u++){var c=s[u];var f=this.initRow(c,u,s,l);d=d||!!f;if(f&&f!==true){l.append(f)}}if(!d){l.append('<tr class="no-records-found">'+i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>")}this.$body.html(l);if(!t){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var o=e(this),s=o.parent(),a=n.data[s.data("index")],l=o[0].cellIndex,d=n.getVisibleFields(),u=d[n.options.detailView&&!n.options.cardView?l-1:l],c=n.columns[r(n.columns,u)],f=h(a,u,n.options.escape);if(o.find(".detail-icon").length){return}n.trigger(t.type==="click"?"click-cell":"dbl-click-cell",u,f,a,o);n.trigger(t.type==="click"?"click-row":"dbl-click-row",a,s,u);if(t.type==="click"&&n.options.clickToSelect&&c.clickToSelect){var p=s.find(i('[name="%s"]',n.options.selectItemName));if(p.length){p[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var t=e(this),r=t.parent().parent(),o=r.data("index"),l=s[o];if(r.next().is("tr.detail-view")){t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailOpen));n.trigger("collapse-row",o,l);r.next().remove()}else{t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailClose));r.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',r.find("td").length));var d=r.next().find("td");var u=a(n.options,n.options.detailFormatter,[o,l,d],"");if(d.length===1){d.append(u)}n.trigger("expand-row",o,l,d)}n.resetView();return false});this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=e(this),r=i.prop("checked"),o=n.data[i.data("index")];if(n.options.maintainSelected&&e(this).is(":radio")){e.each(n.options.data,function(e,t){t[n.header.stateField]=false})}o[n.header.stateField]=r;if(n.options.singleSelect){n.$selectItem.not(this).each(function(){n.data[e(this).data("index")][n.header.stateField]=false});n.$selectItem.filter(":checked").not(this).prop("checked",false)}n.updateSelected();n.trigger(r?"check":"uncheck",o,i)});e.each(this.header.events,function(t,i){if(!i){return}if(typeof i==="string"){i=a(null,i)}var r=n.header.fields[t],o=e.inArray(r,n.getVisibleFields());if(n.options.detailView&&!n.options.cardView){o+=1}for(var s in i){n.$body.find(">tr:not(.no-records-found)").each(function(){var t=e(this),a=t.find(n.options.cardView?".card-view":"td").eq(o),l=s.indexOf(" "),d=s.substring(0,l),u=s.substring(l+1),h=i[s];a.find(u).off(d).on(d,function(e){var i=t.data("index"),o=n.data[i],s=o[r];h.apply(this,[e,s,o,i])})})}});this.updateSelected();this.resetView();this.trigger("post-body",s)};p.prototype.initServer=function(t,i,n){var r=this,o={},s={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},l;if(this.options.pagination){s.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;s.pageNumber=this.options.pageNumber}if(!(n||this.options.url)&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){s={search:s.searchText,sort:s.sortName,order:s.sortOrder};if(this.options.pagination){s.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);s.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize}}if(!e.isEmptyObject(this.filterColumnsPartial)){s.filter=JSON.stringify(this.filterColumnsPartial,null)}o=a(this.options,this.options.queryParams,[s],o);e.extend(o,i||{});if(o===false){return}if(!t){this.$tableLoading.show()}l=e.extend({},a(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(o):o,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e){e=a(r.options,r.options.responseHandler,[e],e);r.load(e);r.trigger("load-success",e);if(!t)r.$tableLoading.hide()},error:function(e){r.trigger("load-error",e.status,e);if(!t)r.$tableLoading.hide()}});if(this.options.ajax){a(this,this.options.ajax,[l],null)}else{if(this._xhr&&this._xhr.readyState!==4){this._xhr.abort()}this._xhr=e.ajax(l)}};p.prototype.initSearchText=function(){if(this.options.search){if(this.options.searchText!==""){var e=this.$toolbar.find(".search input");e.val(this.options.searchText);this.onSearch({currentTarget:e})}}};p.prototype.getCaret=function(){var t=this;e.each(this.$header.find("th"),function(i,n){e(n).find(".sortable").removeClass("desc asc").addClass(e(n).data("field")===t.options.sortName?t.options.sortOrder:"both")})};p.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t);this.$selectItem.each(function(){e(this).closest("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})};p.prototype.updateRows=function(){var t=this;this.$selectItem.each(function(){t.data[e(this).data("index")][t.header.stateField]=e(this).prop("checked")})};p.prototype.resetRows=function(){var t=this;e.each(this.data,function(e,i){t.$selectAll.prop("checked",false);t.$selectItem.prop("checked",false);if(t.header.stateField){i[t.header.stateField]=false}});this.initHiddenRows()};p.prototype.trigger=function(t){var i=Array.prototype.slice.call(arguments,1);t+=".bs.table";this.options[p.EVENTS[t]].apply(this.options,i);this.$el.trigger(e.Event(t),i);this.options.onAll(t,i);this.$el.trigger(e.Event("all.bs.table"),[t,i])};p.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};p.prototype.fitHeader=function(){var t=this,n,r,o,a;if(t.$el.is(":hidden")){t.timeoutId_=setTimeout(e.proxy(t.fitHeader,t),100);return}n=this.$tableBody.get(0);r=n.scrollWidth>n.clientWidth&&n.scrollHeight>n.clientHeight+this.$header.outerHeight()?s():0;this.$el.css("margin-top",-this.$header.outerHeight());o=e(":focus");if(o.length>0){var l=o.parents("th");if(l.length>0){var d=l.attr("data-field");if(d!==undefined){var u=this.$header.find("[data-field='"+d+"']");if(u.length>0){u.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":r}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);a=e(".focus-temp:visible:eq(0)");if(a.length>0){a.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(n){t.$header_.find(i('th[data-field="%s"]',e(this).data("field"))).data(e(this).data())});var h=this.getVisibleFields(),c=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(n){var r=e(this),o=n;if(t.options.detailView&&!t.options.cardView){if(n===0){t.$header_.find("th.detail").find(".fht-cell").width(r.innerWidth())}o=n-1}var s=t.$header_.find(i('th[data-field="%s"]',h[o]));if(s.length>1){s=e(c[r[0].cellIndex])}s.find(".fht-cell").width(r.innerWidth())});this.$tableBody.off("scroll").on("scroll",function(){t.$tableHeader.scrollLeft(e(this).scrollLeft());if(t.options.showFooter&&!t.options.cardView){t.$tableFooter.scrollLeft(e(this).scrollLeft())}});t.trigger("post-header")};p.prototype.resetFooter=function(){var t=this,n=t.getData(),r=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){r.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}e.each(this.columns,function(e,o){var s,l="",d="",u=[],h={},c=i(' class="%s"',o["class"]);if(!o.visible){return}if(t.options.cardView&&!o.cardVisible){return}l=i("text-align: %s; ",o.falign?o.falign:o.align);d=i("vertical-align: %s; ",o.valign);h=a(null,t.options.footerStyle);if(h&&h.css){for(s in h.css){u.push(s+": "+h.css[s])}}r.push("<td",c,i(' style="%s"',l+d+u.concat().join("; ")),">");r.push('<div class="th-inner">');r.push(a(o,o.footerFormatter,[n],"&nbsp;")||"&nbsp;");r.push("</div>");r.push('<div class="fht-cell"></div>');r.push("</div>");r.push("</td>")});this.$tableFooter.find("tr").html(r.join(""));this.$tableFooter.show();clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};p.prototype.fitFooter=function(){var t=this,i,n,r;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100);return}n=this.$el.css("width");r=n>this.$tableBody.width()?s():0;this.$tableFooter.css({"margin-right":r}).find("table").css("width",n).attr("class",this.$el.attr("class"));i=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(t){var n=e(this);i.eq(t).find(".fht-cell").width(n.innerWidth())})};p.prototype.toggleColumn=function(e,t,n){if(e===-1){return}this.columns[e].visible=t;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var r=this.$toolbar.find(".keep-open input").prop("disabled",false);if(n){r.filter(i('[value="%s"]',e)).prop("checked",t)}if(r.filter(":checked").length<=this.options.minimumCountColumns){r.filter(":checked").prop("disabled",true)}}};p.prototype.getVisibleFields=function(){var t=this,i=[];e.each(this.header.fields,function(e,n){var o=t.columns[r(t.columns,n)];if(!o.visible){return}i.push(n)});return i};p.prototype.resetView=function(e){var t=0;if(e&&e.height){this.options.height=e.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var i=this.$toolbar.outerHeight(true),n=this.$pagination.outerHeight(true),r=this.options.height-i-n;this.$tableContainer.css("height",r+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();t+=this.$header.outerHeight()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){t+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",t+"px");this.trigger("reset-view")};p.prototype.getData=function(t){return this.searchText||!e.isEmptyObject(this.filterColumns)||!e.isEmptyObject(this.filterColumnsPartial)?t?this.data.slice(this.pageFrom-1,this.pageTo):this.data:t?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data};p.prototype.load=function(t){var i=false;if(this.options.sidePagination==="server"){this.options.totalRows=t[this.options.totalField];i=t.fixedScroll;t=t[this.options.dataField]}else if(!e.isArray(t)){i=t.fixedScroll;t=t.data}this.initData(t);this.initSearch();this.initPagination();this.initBody(i)};p.prototype.append=function(e){this.initData(e,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.prepend=function(e){this.initData(e,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.remove=function(t){var i=this.options.data.length,n,r;if(!t.hasOwnProperty("field")||!t.hasOwnProperty("values")){return}for(n=i-1;n>=0;n--){r=this.options.data[n];if(!r.hasOwnProperty(t.field)){continue}if(e.inArray(r[t.field],t.values)!==-1){this.options.data.splice(n,1);if(this.options.sidePagination==="server"){this.options.totalRows-=1}}}if(i===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};p.prototype.getRowByUniqueId=function(e){var t=this.options.uniqueId,i=this.options.data.length,n=null,r,o,s;for(r=i-1;r>=0;r--){o=this.options.data[r];if(o.hasOwnProperty(t)){s=o[t]}else if(o._data.hasOwnProperty(t)){s=o._data[t]}else{continue}if(typeof s==="string"){e=e.toString()}else if(typeof s==="number"){if(Number(s)===s&&s%1===0){e=parseInt(e)}else if(s===Number(s)&&s!==0){e=parseFloat(e)}}if(s===e){n=o;break}}return n};p.prototype.removeByUniqueId=function(e){var t=this.options.data.length,i=this.getRowByUniqueId(e);if(i){this.options.data.splice(this.options.data.indexOf(i),1)}if(t===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};p.prototype.updateByUniqueId=function(t){var i=this;var n=e.isArray(t)?t:[t];e.each(n,function(t,n){var r;if(!n.hasOwnProperty("id")||!n.hasOwnProperty("row")){return}r=e.inArray(i.getRowByUniqueId(n.id),i.options.data);if(r===-1){return}e.extend(i.options.data[r],n.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.insertRow=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("row")){return}this.data.splice(e.index,0,e.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.updateRow=function(t){var i=this;var n=e.isArray(t)?t:[t];e.each(n,function(t,n){if(!n.hasOwnProperty("index")||!n.hasOwnProperty("row")){return}e.extend(i.options.data[n.index],n.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.initHiddenRows=function(){this.hiddenRows=[]};p.prototype.showRow=function(e){this.toggleRow(e,true)};p.prototype.hideRow=function(e){this.toggleRow(e,false)};p.prototype.toggleRow=function(t,i){var n,r;if(t.hasOwnProperty("index")){n=this.getData()[t.index]}else if(t.hasOwnProperty("uniqueId")){n=this.getRowByUniqueId(t.uniqueId)}if(!n){return}r=e.inArray(n,this.hiddenRows);if(!i&&r===-1){this.hiddenRows.push(n)}else if(i&&r>-1){this.hiddenRows.splice(r,1)}this.initBody(true)};p.prototype.getHiddenRows=function(t){var i=this,n=this.getData(),r=[];e.each(n,function(t,n){if(e.inArray(n,i.hiddenRows)>-1){r.push(n)}});this.hiddenRows=r;return r};p.prototype.mergeCells=function(t){var i=t.index,n=e.inArray(t.field,this.getVisibleFields()),r=t.rowspan||1,o=t.colspan||1,s,a,l=this.$body.find(">tr"),d;if(this.options.detailView&&!this.options.cardView){n+=1}d=l.eq(i).find(">td").eq(n);if(i<0||n<0||i>=this.data.length){return}for(s=i;s<i+r;s++){for(a=n;a<n+o;a++){l.eq(s).find(">td").eq(a).hide()}}d.attr("rowspan",r).attr("colspan",o).show()};p.prototype.updateCell=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("field")||!e.hasOwnProperty("value")){return}this.data[e.index][e.field]=e.value;if(e.reinit===false){return}this.initSort();this.initBody(true)};p.prototype.getOptions=function(){return this.options};p.prototype.getSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]===true})};p.prototype.getAllSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]})};p.prototype.checkAll=function(){this.checkAll_(true)};p.prototype.uncheckAll=function(){this.checkAll_(false)};p.prototype.checkInvert=function(){var t=this;var i=t.$selectItem.filter(":enabled");var n=i.filter(":checked");i.each(function(){e(this).prop("checked",!e(this).prop("checked"))});t.updateRows();t.updateSelected();t.trigger("uncheck-some",n);n=t.getSelections();t.trigger("check-some",n)};p.prototype.checkAll_=function(e){var t;if(!e){t=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.filter(":enabled").prop("checked",e);this.updateRows();if(e){t=this.getSelections()}this.trigger(e?"check-all":"uncheck-all",t)};p.prototype.check=function(e){this.check_(true,e)};p.prototype.uncheck=function(e){this.check_(false,e)};p.prototype.check_=function(e,t){var n=this.$selectItem.filter(i('[data-index="%s"]',t)).prop("checked",e);this.data[t][this.header.stateField]=e;this.updateSelected();this.trigger(e?"check":"uncheck",this.data[t],n)};p.prototype.checkBy=function(e){this.checkBy_(true,e)};p.prototype.uncheckBy=function(e){this.checkBy_(false,e)};p.prototype.checkBy_=function(t,n){if(!n.hasOwnProperty("field")||!n.hasOwnProperty("values")){return}var r=this,o=[];e.each(this.options.data,function(s,a){if(!a.hasOwnProperty(n.field)){return false}if(e.inArray(a[n.field],n.values)!==-1){var l=r.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',s)).prop("checked",t);a[r.header.stateField]=t;o.push(a);r.trigger(t?"check":"uncheck",a,l)}});this.updateSelected();this.trigger(t?"check-some":"uncheck-some",o)};p.prototype.destroy=function(){this.$el.insertBefore(this.$container);e(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};p.prototype.showLoading=function(){this.$tableLoading.show()};p.prototype.hideLoading=function(){this.$tableLoading.hide()};p.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};p.prototype.refresh=function(e){if(e&&e.url){this.options.url=e.url}if(e&&e.pageNumber){this.options.pageNumber=e.pageNumber}if(e&&e.pageSize){this.options.pageSize=e.pageSize}this.initServer(e&&e.silent,e&&e.query,e&&e.url);this.trigger("refresh",e)};p.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter){this.fitFooter()}};p.prototype.showColumn=function(e){this.toggleColumn(r(this.columns,e),true,true)};p.prototype.hideColumn=function(e){this.toggleColumn(r(this.columns,e),false,true)};p.prototype.getHiddenColumns=function(){return e.grep(this.columns,function(e){return!e.visible})};p.prototype.getVisibleColumns=function(){return e.grep(this.columns,function(e){return e.visible})};p.prototype.toggleAllColumns=function(t){e.each(this.columns,function(e,i){this.columns[e].visible=t});this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var i=this.$toolbar.find(".keep-open input").prop("disabled",false);if(i.filter(":checked").length<=this.options.minimumCountColumns){i.filter(":checked").prop("disabled",true)}}};p.prototype.showAllColumns=function(){this.toggleAllColumns(true)};p.prototype.hideAllColumns=function(){this.toggleAllColumns(false)};p.prototype.filterBy=function(t){this.filterColumns=e.isEmptyObject(t)?{}:t;this.options.pageNumber=1;this.initSearch();this.updatePagination()};p.prototype.scrollTo=function(e){if(typeof e==="string"){e=e==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof e==="number"){this.$tableBody.scrollTop(e)}if(typeof e==="undefined"){return this.$tableBody.scrollTop()}};p.prototype.getScrollPosition=function(){return this.scrollTo()};p.prototype.selectPage=function(e){if(e>0&&e<=this.options.totalPages){this.options.pageNumber=e;this.updatePagination()}};p.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};p.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};p.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody();this.trigger("toggle",this.options.cardView)};p.prototype.refreshOptions=function(t){if(l(this.options,t,true)){return}this.options=e.extend(this.options,t);this.trigger("refresh-options",this.options);this.destroy();this.init()};p.prototype.resetSearch=function(e){var t=this.$toolbar.find(".search input");t.val(e||"");this.onSearch({currentTarget:t})};p.prototype.expandRow_=function(e,t){var n=this.$body.find(i('> tr[data-index="%s"]',t));if(n.next().is("tr.detail-view")===(e?false:true)){n.find("> td > .detail-icon").click()}};p.prototype.expandRow=function(e){this.expandRow_(true,e)};p.prototype.collapseRow=function(e){this.expandRow_(false,e)};p.prototype.expandAllRows=function(t){if(t){var n=this.$body.find(i('> tr[data-index="%s"]',0)),r=this,o=null,s=false,a=-1;if(!n.next().is("tr.detail-view")){n.find("> td > .detail-icon").click();s=true}else if(!n.next().next().is("tr.detail-view")){n.next().find(".detail-icon").click();s=true}if(s){try{a=setInterval(function(){o=r.$body.find("tr.detail-view").last().find(".detail-icon");if(o.length>0){o.click()}else{clearInterval(a)}},1)}catch(e){clearInterval(a)}}}else{var l=this.$body.children();for(var d=0;d<l.length;d++){this.expandRow_(true,e(l[d]).data("index"))}}};p.prototype.collapseAllRows=function(t){if(t){this.expandRow_(false,0)}else{var i=this.$body.children();for(var n=0;n<i.length;n++){this.expandRow_(false,e(i[n]).data("index"))}}};p.prototype.updateFormatText=function(e,t){if(this.options[i("format%s",e)]){if(typeof t==="string"){this.options[i("format%s",e)]=function(){return t}}else if(typeof t==="function"){this.options[i("format%s",e)]=t}}this.initToolbar();this.initPagination();this.initBody()};var m=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];e.fn.bootstrapTable=function(t){var i,n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e(this),o=r.data("bootstrap.table"),s=e.extend({},p.DEFAULTS,r.data(),typeof t==="object"&&t);if(typeof t==="string"){if(e.inArray(t,m)<0){throw new Error("Unknown method: "+t)}if(!o){return}i=o[t].apply(o,n);if(t==="destroy"){r.removeData("bootstrap.table")}}if(!o){r.data("bootstrap.table",o=new p(this,s))}});return typeof i==="undefined"?this:i};e.fn.bootstrapTable.Constructor=p;e.fn.bootstrapTable.defaults=p.DEFAULTS;e.fn.bootstrapTable.columnDefaults=p.COLUMN_DEFAULTS;e.fn.bootstrapTable.locales=p.LOCALES;e.fn.bootstrapTable.methods=m;e.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:r,compareObjects:l,calculateObjectValue:a,getItemField:h,objectKeys:f,isIEBrowser:c};e(function(){e('[data-toggle="table"]').bootstrapTable()})})(jQuery);!function(e){"use strict";var t={};var i=[{base:"A",letters:"Aâ¶ï¼¡ÃÃÃáº¦áº¤áºªáº¨ÃÄÄáº°áº®áº´áº²È¦Ç ÃÇáº¢ÃÇºÇÈÈáº áº¬áº¶á¸ÄÈºâ±¯"},{base:"AA",letters:"ê²"},{base:"AE",letters:"ÃÇ¼Ç¢"},{base:"AO",letters:"ê´"},{base:"AU",letters:"ê¶"},{base:"AV",letters:"ê¸êº"},{base:"AY",letters:"ê¼"},{base:"B",letters:"Bâ·ï¼¢á¸á¸á¸ÉÆÆ"},{base:"C",letters:"Câ¸ï¼£ÄÄÄÄÃá¸ÆÈ»ê¾"},{base:"D",letters:"Dâ¹ï¼¤á¸Äá¸á¸á¸á¸ÄÆÆÆê¹"},{base:"DZ",letters:"Ç±Ç"},{base:"Dz",letters:"Ç²Ç"},{base:"E",letters:"Eâºï¼¥ÃÃÃá»áº¾á»á»áº¼Äá¸á¸ÄÄÃáººÄÈÈáº¸á»È¨á¸Äá¸á¸ÆÆ"},{base:"F",letters:"Fâ»ï¼¦á¸Æê»"},{base:"G",letters:"Gâ¼ï¼§Ç´Äá¸ ÄÄ Ç¦Ä¢Ç¤Æê ê½ê¾"},{base:"H",letters:"Hâ½ï¼¨Ä¤á¸¢á¸¦Èá¸¤á¸¨á¸ªÄ¦â±§â±µê"},{base:"I",letters:"Iâ¾ï¼©ÃÃÃÄ¨ÄªÄ¬Ä°Ãá¸®á»ÇÈÈá»Ä®á¸¬Æ"},{base:"J",letters:"Jâ¿ï¼ªÄ´É"},{base:"K",letters:"Kâï¼«á¸°Ç¨á¸²Ä¶á¸´Æâ±©êêêê¢"},{base:"L",letters:"Lâï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êêê"},{base:"LJ",letters:"Ç"},{base:"Lj",letters:"Ç"},{base:"M",letters:"Mâï¼­á¸¾á¹á¹â±®Æ"},{base:"N",letters:"Nâï¼®Ç¸ÅÃá¹Åá¹Åá¹á¹È Æêê¤"},{base:"NJ",letters:"Ç"},{base:"Nj",letters:"Ç"},{base:"O",letters:"Oâï¼¯ÃÃÃá»á»á»á»Ãá¹È¬á¹Åá¹á¹ÅÈ®È°ÃÈªá»ÅÇÈÈÆ á»á»á» á»á»¢á»á»ÇªÇ¬ÃÇ¾ÆÆêê"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"ê"},{base:"OU",letters:"È¢"},{base:"OE",letters:"ÂÅ"},{base:"oe",letters:"ÂÅ"},{base:"P",letters:"Pâï¼°á¹á¹Æ¤â±£êêê"},{base:"Q",letters:"Qâï¼±êêÉ"},{base:"R",letters:"Râï¼²Åá¹ÅÈÈá¹á¹Åá¹Éâ±¤êê¦ê"},{base:"S",letters:"Sâï¼³áºÅá¹¤Åá¹ Å á¹¦á¹¢á¹¨ÈÅâ±¾ê¨ê"},{base:"T",letters:"Tâï¼´á¹ªÅ¤á¹¬ÈÅ¢á¹°á¹®Å¦Æ¬Æ®È¾ê"},{base:"TZ",letters:"ê¨"},{base:"U",letters:"Uâï¼µÃÃÃÅ¨á¹¸Åªá¹ºÅ¬ÃÇÇÇÇá»¦Å®Å°ÇÈÈÆ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É"},{base:"V",letters:"Vâï¼¶á¹¼á¹¾Æ²êÉ"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâï¼·áºáºÅ´áºáºáºâ±²"},{base:"X",letters:"Xâï¼¸áºáº"},{base:"Y",letters:"Yâï¼¹á»²ÃÅ¶á»¸È²áºÅ¸á»¶á»´Æ³Éá»¾"},{base:"Z",letters:"Zâï¼ºÅ¹áºÅ»Å½áºáºÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâï½áºÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄáº±áº¯áºµáº³È§Ç¡Ã¤Çáº£Ã¥Ç»ÇÈÈáº¡áº­áº·á¸Äâ±¥É"},{base:"aa",letters:"ê³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êµ"},{base:"au",letters:"ê·"},{base:"av",letters:"ê¹ê»"},{base:"ay",letters:"ê½"},{base:"b",letters:"bâï½á¸á¸á¸ÆÆÉ"},{base:"c",letters:"câï½ÄÄÄÄÃ§á¸ÆÈ¼ê¿â"},{base:"d",letters:"dâï½á¸Äá¸á¸á¸á¸ÄÆÉÉêº"},{base:"dz",letters:"Ç³Ç"},{base:"e",letters:"eâï½Ã¨Ã©Ãªá»áº¿á»á»áº½Äá¸á¸ÄÄÃ«áº»ÄÈÈáº¹á»È©á¸Äá¸á¸ÉÉÇ"},{base:"f",letters:"fâï½á¸Æê¼"},{base:"g",letters:"gâï½ÇµÄá¸¡ÄÄ¡Ç§Ä£Ç¥É ê¡áµ¹ê¿"},{base:"h",letters:"hâï½Ä¥á¸£á¸§Èá¸¥á¸©á¸«áºÄ§â±¨â±¶É¥"},{base:"hv",letters:"Æ"},{base:"i",letters:"iâï½Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»ÇÈÈá»Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâï½ÄµÇ°É"},{base:"k",letters:"kâï½á¸±Ç©á¸³Ä·á¸µÆâ±ªêêêê£"},{base:"l",letters:"lâï½ÅÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿ÅÆÉ«â±¡êêê"},{base:"lj",letters:"Ç"},{base:"m",letters:"mâï½á¸¿á¹á¹É±É¯"},{base:"n",letters:"nâï½Ç¹ÅÃ±á¹Åá¹Åá¹á¹ÆÉ²Åêê¥"},{base:"nj",letters:"Ç"},{base:"o",letters:"oâï½Ã²Ã³Ã´á»á»á»á»Ãµá¹È­á¹Åá¹á¹ÅÈ¯È±Ã¶È«á»ÅÇÈÈÆ¡á»á»á»¡á»á»£á»á»Ç«Ç­Ã¸Ç¿ÉêêÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâï½á¹á¹Æ¥áµ½êêê"},{base:"q",letters:"qâ ï½Éêê"},{base:"r",letters:"râ¡ï½Åá¹ÅÈÈá¹á¹Åá¹ÉÉ½êê§ê"},{base:"s",letters:"sâ¢ï½ÃÅá¹¥Åá¹¡Å¡á¹§á¹£á¹©ÈÅÈ¿ê©êáº"},{base:"t",letters:"tâ£ï½á¹«áºÅ¥á¹­ÈÅ£á¹±á¹¯Å§Æ­Êâ±¦ê"},{base:"tz",letters:"ê©"},{base:"u",letters:"uâ¤ï½Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇÇÇÇá»§Å¯Å±ÇÈÈÆ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ"},{base:"v",letters:"vâ¥ï½á¹½á¹¿ÊêÊ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ¦ï½áºáºÅµáºáºáºáºâ±³"},{base:"x",letters:"xâ§ï½áºáº"},{base:"y",letters:"yâ¨ï½á»³Ã½Å·á»¹È³áºÃ¿á»·áºá»µÆ´Éá»¿"},{base:"z",letters:"zâ©ï½ÅºáºÅ¼Å¾áºáºÆ¶È¥Éâ±¬ê£"}];var n=function(){for(var e=0;e<i.length;e++){var n=i[e].letters;for(var r=0;r<n.length;r++){t[n[r]]=i[e].base}}};var r=function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})};e.extend(e.fn.bootstrapTable.defaults,{searchAccentNeutralise:false});var o=e.fn.bootstrapTable.Constructor,s=o.prototype.init,a=o.prototype.initSearch;o.prototype.init=function(){if(this.options.searchAccentNeutralise){n()}s.apply(this,Array.prototype.slice.apply(arguments))};o.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){var i=this.searchText&&this.searchText.toLowerCase();var n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(e,t){for(var i in n){if(e[i]!==n[i]){return false}}return true}):this.options.data;this.data=i?e.grep(this.data,function(n,o){for(var s in n){s=e.isNumeric(s)?parseInt(s,10):s;var a=n[s],l=t.columns[e.fn.bootstrapTable.utils.getFieldIndex(t.columns,s)],d=e.inArray(s,t.header.fields);if(l&&l.searchFormatter){a=e.fn.bootstrapTable.utils.calculateObjectValue(l,t.header.formatters[d],[a,n,o],a)}var u=e.inArray(s,t.header.fields);if(u!==-1&&t.header.searchables[u]&&(typeof a==="string"||typeof a==="number")){if(t.options.searchAccentNeutralise){a=r(a);i=r(i)}if(t.options.strictSearch){if((a+"").toLowerCase()===i){return true}}else{if((a+"").toLowerCase().indexOf(i)!==-1){return true}}}}return false}):this.data}}}(jQuery);(function(e){"use strict";var t={sortOrder:"bs.table.sortOrder",sortName:"bs.table.sortName",pageNumber:"bs.table.pageNumber",pageList:"bs.table.pageList",columns:"bs.table.columns",searchText:"bs.table.searchText",filterControl:"bs.table.filterControl"};var i=function(e){var t=e.$header;if(e.options.height){t=e.$tableHeader}return t};var n=function(e){var t="select, input";if(e.options.height){t="table select, table input"}return t};var r=function(){return!!navigator.cookieEnabled};var o=function(e,t){var i=-1;for(var n=0;n<t.length;n++){if(e.toLowerCase()===t[n].toLowerCase()){i=n;break}}return i};var s=function(e,t,i){if(!e.options.cookie||!r()||e.options.cookieIdTable===""){return}if(o(t,e.options.cookiesEnabled)===-1){return}t=e.options.cookieIdTable+"."+t;switch(e.options.cookieStorage){case"cookieStorage":document.cookie=[t,"=",i,"; expires="+e.options.cookieExpire,e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:"",e.options.cookieSecure?"; secure":""].join("");break;case"localStorage":localStorage.setItem(t,i);break;case"sessionStorage":sessionStorage.setItem(t,i);break;default:return false}return true};var a=function(e,t,i){if(!i){return null}if(o(i,e.options.cookiesEnabled)===-1){return null}i=t+"."+i;switch(e.options.cookieStorage){case"cookieStorage":return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;case"localStorage":return localStorage.getItem(i);case"sessionStorage":return sessionStorage.getItem(i);default:return null}};var l=function(e,t,i){i=t+"."+i;switch(e.options.cookieStorage){case"cookieStorage":document.cookie=[encodeURIComponent(i),"=","; expires=Thu, 01 Jan 1970 00:00:00 GMT",e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:""].join("");break;case"localStorage":localStorage.removeItem(i);break;case"sessionStorage":sessionStorage.removeItem(i);break}return true};var d=function(e){var t=e.replace(/[0-9]*/,"");e=e.replace(/[A-Za-z]{1,2}}/,"");switch(t.toLowerCase()){case"s":e=+e;break;case"mi":e=e*60;break;case"h":e=e*60*60;break;case"d":e=e*24*60*60;break;case"m":e=e*30*24*60*60;break;case"y":e=e*365*24*60*60;break;default:e=undefined;break}return e===undefined?"":"; max-age="+e};var u=function(r){setTimeout(function(){var o=JSON.parse(a(r,r.options.cookieIdTable,t.filterControl));if(!r.options.filterControlValuesLoaded&&o){r.options.filterControlValuesLoaded=true;var s={},l=i(r),d=n(r),u=function(t,i){e(i).each(function(i,n){e(t).val(n.text);s[n.field]=n.text})};l.find(d).each(function(){var t=e(this).closest("[data-field]").data("field"),i=e.grep(o,function(e){return e.field===t});u(this,i)});r.initColumnSearch(s)}},250)};e.extend(e.fn.bootstrapTable.defaults,{cookie:false,cookieExpire:"2h",cookiePath:null,cookieDomain:null,cookieSecure:null,cookieIdTable:"",cookiesEnabled:["bs.table.sortOrder","bs.table.sortName","bs.table.pageNumber","bs.table.pageList","bs.table.columns","bs.table.searchText","bs.table.filterControl"],cookieStorage:"cookieStorage",filterControls:[],filterControlValuesLoaded:false});e.fn.bootstrapTable.methods.push("getCookies");e.fn.bootstrapTable.methods.push("deleteCookie");e.extend(e.fn.bootstrapTable.utils,{setCookie:s,getCookie:a});var h=e.fn.bootstrapTable.Constructor,c=h.prototype.init,f=h.prototype.initTable,p=h.prototype.initServer,m=h.prototype.onSort,v=h.prototype.onPageNumber,g=h.prototype.onPageListChange,y=h.prototype.onPageFirst,b=h.prototype.onPagePre,w=h.prototype.onPageNext,x=h.prototype.onPageLast,_=h.prototype.toggleColumn,k=h.prototype.selectPage,C=h.prototype.onSearch;h.prototype.init=function(){var e=0;this.options.filterControls=[];this.options.filterControlValuesLoaded=false;this.options.cookiesEnabled=typeof this.options.cookiesEnabled==="string"?this.options.cookiesEnabled.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.cookiesEnabled;if(this.options.filterControl){var i=this;this.$el.on("column-search.bs.table",function(e,n,r){var o=true;for(var a=0;a<i.options.filterControls.length;a++){if(i.options.filterControls[a].field===n){i.options.filterControls[a].text=r;o=false;break}}if(o){i.options.filterControls.push({field:n,text:r})}s(i,t.filterControl,JSON.stringify(i.options.filterControls))}).on("post-body.bs.table",u(i))}c.apply(this,Array.prototype.slice.apply(arguments))};h.prototype.initServer=function(){var i=this,n=[],r=function(e){return e.filterControl&&e.filterControl==="select"},o=function(e){return e.filterData&&e.filterData!=="column"},s=function(){var e=JSON.parse(a(i,i.options.cookieIdTable,t.filterControl));return i.options.cookie&&e};n=e.grep(i.columns,function(e){return r(e)&&!o(e)});h.prototype.initServer=p;if(this.options.filterControl&&s()&&n.length===0){return}p.apply(this,Array.prototype.slice.apply(arguments))};h.prototype.initTable=function(){f.apply(this,Array.prototype.slice.apply(arguments));this.initCookie()};h.prototype.initCookie=function(){if(!this.options.cookie){return}if(this.options.cookieIdTable===""||this.options.cookieExpire===""||!r()){throw new Error("Configuration error. Please review the cookieIdTable, cookieExpire properties, if those properties are ok, then this browser does not support the cookies")}var i=a(this,this.options.cookieIdTable,t.sortOrder),n=a(this,this.options.cookieIdTable,t.sortName),o=a(this,this.options.cookieIdTable,t.pageNumber),s=a(this,this.options.cookieIdTable,t.pageList),l=JSON.parse(a(this,this.options.cookieIdTable,t.columns)),d=a(this,this.options.cookieIdTable,t.searchText);this.options.sortOrder=i?i:this.options.sortOrder;this.options.sortName=n?n:this.options.sortName;this.options.pageNumber=o?+o:this.options.pageNumber;this.options.pageSize=s?s===this.options.formatAllRows()?s:+s:this.options.pageSize;this.options.searchText=d?d:"";if(l){e.each(this.columns,function(t,i){i.visible=e.inArray(i.field,l)!==-1})}};h.prototype.onSort=function(){m.apply(this,Array.prototype.slice.apply(arguments));s(this,t.sortOrder,this.options.sortOrder);s(this,t.sortName,this.options.sortName)};h.prototype.onPageNumber=function(){v.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,this.options.pageNumber)};h.prototype.onPageListChange=function(){g.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageList,this.options.pageSize)};h.prototype.onPageFirst=function(){y.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,this.options.pageNumber)};h.prototype.onPagePre=function(){b.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,this.options.pageNumber)};h.prototype.onPageNext=function(){w.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,this.options.pageNumber)};h.prototype.onPageLast=function(){x.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,this.options.pageNumber)};h.prototype.toggleColumn=function(){_.apply(this,Array.prototype.slice.apply(arguments));var i=[];e.each(this.columns,function(e,t){if(t.visible){i.push(t.field)}});s(this,t.columns,JSON.stringify(i))};h.prototype.selectPage=function(e){k.apply(this,Array.prototype.slice.apply(arguments));s(this,t.pageNumber,e)};h.prototype.onSearch=function(){var i=Array.prototype.slice.apply(arguments);C.apply(this,i);if(e(i[0].currentTarget).parent().hasClass("search")){s(this,t.searchText,this.searchText)}};h.prototype.getCookies=function(){var i=this;var n={};e.each(t,function(e,t){n[e]=a(i,i.options.cookieIdTable,t);if(e==="columns"){n[e]=JSON.parse(n[e])}});return n};h.prototype.deleteCookie=function(e){if(e===""||!r()){return}l(this,this.options.cookieIdTable,t[e])}})(jQuery);!function(e){"use strict";var t=e.fn.bootstrapTable.utils.calculateObjectValue,i=e.fn.bootstrapTable.utils.sprintf;var n=function(t){var i=document.createElement("textarea");e(i).html(t);document.body.appendChild(i);i.select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy")}e(i).remove()};e.extend(e.fn.bootstrapTable.defaults,{copyBtn:false,copyWHiddenBtn:false,copyDelemeter:", "});e.fn.bootstrapTable.methods.push("copyColumnsToClipboard","copyColumnsToClipboardWithHidden");var r=e.fn.bootstrapTable.Constructor,o=r.prototype.initToolbar;r.prototype.initToolbar=function(){o.apply(this,Array.prototype.slice.apply(arguments));var e=this,t=this.$toolbar.find(">.btn-group");if(this.options.clickToSelect||this.options.singleSelect){if(this.options.copyBtn){var i="<button class='btn btn-default' id='copyBtn'><span class='glyphicon glyphicon-copy icon-pencil'></span></button>";t.append(i);t.find("#copyBtn").click(function(){e.copyColumnsToClipboard()})}if(this.options.copyWHiddenBtn){var n="<button class='btn btn-default' id='copyWHiddenBtn'><span class='badge'><span class='glyphicon glyphicon-copy icon-pencil'></span></span></button>";t.append(n);t.find("#copyWHiddenBtn").click(function(){e.copyColumnsToClipboardWithHidden()})}}};r.prototype.copyColumnsToClipboard=function(){var i=this,r="",o=this.options.copyDelemeter;e.each(i.getSelections(),function(n,s){e.each(i.options.columns[0],function(e,a){if(a.field!=="state"&&a.field!=="RowNumber"&&a.visible){if(s[a.field]!==null){r+=t(a,i.header.formatters[e],[s[a.field],s,n],s[a.field])}r+=o}});r+="\r\n"});n(r)};r.prototype.copyColumnsToClipboardWithHidden=function(){var i=this,r="",o=this.options.copyDelemeter;e.each(i.getSelections(),function(n,s){e.each(i.options.columns[0],function(e,a){if(a.field!="state"&&a.field!=="RowNumber"){if(s[a.field]!==null){r+=t(a,i.header.formatters[e],[s[a.field],s,n],s[a.field])}r+=o}});r+="\r\n"});n(r)}}(jQuery);(function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{editable:true,onEditableInit:function(){return false},onEditableSave:function(e,t,i,n){return false},onEditableShown:function(e,t,i,n){return false},onEditableHidden:function(e,t,i,n){return false}});e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"editable-init.bs.table":"onEditableInit","editable-save.bs.table":"onEditableSave","editable-shown.bs.table":"onEditableShown","editable-hidden.bs.table":"onEditableHidden"});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initTable,n=t.prototype.initBody;t.prototype.initTable=function(){var t=this;i.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.editable){return}e.each(this.columns,function(i,n){if(!n.editable){return}var r={},o=[],s="editable-";var a=function(e,t){var i=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});if(i.slice(0,s.length)==s){var n=i.replace(s,"data-");r[n]=t}};e.each(t.options,a);n.formatter=n.formatter||function(e,t,i){return e};n._formatter=n._formatter?n._formatter:n.formatter;n.formatter=function(i,s,l){var d=n._formatter?n._formatter(i,s,l):i;e.each(n,a);e.each(r,function(e,t){o.push(" "+e+'="'+t+'"')});var u=false;if(n.editable.hasOwnProperty("noeditFormatter")){u=n.editable.noeditFormatter(i,s,l)}if(u===false){return['<a href="javascript:void(0)"',' data-name="'+n.field+'"',' data-pk="'+s[t.options.idField]+'"',' data-value="'+d+'"',o.join(""),">"+"</a>"].join("")}else{return u}}})};t.prototype.initBody=function(){var t=this;n.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.editable){return}e.each(this.columns,function(i,n){if(!n.editable){return}t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("save").on("save",function(i,r){var o=t.getData(),s=e(this).parents("tr[data-index]").data("index"),a=o[s],l=a[n.field];e(this).data("value",r.submitValue);a[n.field]=r.submitValue;t.trigger("editable-save",n.field,a,l,e(this));t.resetFooter()});t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("shown").on("shown",function(i,r){var o=t.getData(),s=e(this).parents("tr[data-index]").data("index"),a=o[s];t.trigger("editable-shown",n.field,a,e(this),r)});t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("hidden").on("hidden",function(i,r){var o=t.getData(),s=e(this).parents("tr[data-index]").data("index"),a=o[s];t.trigger("editable-hidden",n.field,a,e(this),r)})});this.trigger("editable-init")}})(jQuery);(function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;var i={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"MS-Excel",xlsx:"MS-Excel (OpenXML)",powerpoint:"MS-Powerpoint",pdf:"PDF"};e.extend(e.fn.bootstrapTable.defaults,{showExport:false,exportDataType:"basic",exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{}});e.extend(e.fn.bootstrapTable.defaults.icons,{export:"glyphicon-export icon-share"});e.extend(e.fn.bootstrapTable.locales,{formatExport:function(){return"Export data"}});e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initToolbar;n.prototype.initToolbar=function(){this.showToolbar=this.options.showExport;r.apply(this,Array.prototype.slice.apply(arguments));if(this.options.showExport){var n=this,o=this.$toolbar.find(">.btn-group"),s=o.find("div.export");if(!s.length){s=e(['<div class="export btn-group">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+' dropdown-toggle" aria-label="export type" '+'title="'+this.options.formatExport()+'" '+'data-toggle="dropdown" type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.export),'<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"</ul>","</div>"].join("")).appendTo(o);var a=s.find(".dropdown-menu"),l=this.options.exportTypes;if(typeof this.options.exportTypes==="string"){var d=this.options.exportTypes.slice(1,-1).replace(/ /g,"").split(",");l=[];e.each(d,function(e,t){l.push(t.slice(1,-1))})}e.each(l,function(e,t){if(i.hasOwnProperty(t)){a.append(['<li role="menuitem" data-type="'+t+'">','<a href="javascript:void(0)">',i[t],"</a>","</li>"].join(""))}});a.find("li").click(function(){var t=e(this).data("type"),i=function(){n.$el.tableExport(e.extend({},n.options.exportOptions,{type:t,escape:false}))};if(n.options.exportDataType==="all"&&n.options.pagination){n.$el.one(n.options.sidePagination==="server"?"post-body.bs.table":"page-change.bs.table",function(){i();n.togglePagination()});n.togglePagination()}else if(n.options.exportDataType==="selected"){var r=n.getData(),o=n.getAllSelections();if(n.options.sidePagination==="server"){r={total:n.options.totalRows};r[n.options.dataField]=n.getData();o={total:n.options.totalRows};o[n.options.dataField]=n.getAllSelections()}n.load(o);i();n.load(r)}else{i()}})}}}})(jQuery);(function(e){"use strict";var t=function(t,i){var n={};function r(t,o){if(Object(t)!==t){n[o]=t}else if(e.isArray(t)){for(var s=0,a=t.length;s<a;s++){r(t[s],o?o+i.options.flatSeparator+s:""+s);if(a==0){n[o]=[]}}}else{var l=true;for(var d in t){l=false;r(t[d],o?o+i.options.flatSeparator+d:d)}if(l){n[o]={}}}}r(t,"");return n};var i=function(i,n){var r=[];e.each(!e.isArray(i)?[i]:i,function(e,i){r.push(t(i,n))});return r};e.extend(e.fn.bootstrapTable.defaults,{flat:false,flatSeparator:"."});var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initData;n.prototype.initData=function(e,t){if(this.options.flat){e=i(e?e:this.options.data,this)}r.apply(this,[e,t])}})(jQuery);!function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{multipleSearch:false,delimeter:" "});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initSearch;t.prototype.initSearch=function(){if(this.options.multipleSearch){if(this.searchText===undefined){return}var t=this.searchText.split(this.options.delimeter),n=this,r=e.isEmptyObject(this.filterColumns)?null:this.filterColumns,o=[];if(t.length===1){i.apply(this,Array.prototype.slice.apply(arguments))}else{for(var s=0;s<t.length;s++){var a=t[s].trim();o=a?e.grep(o.length===0?this.options.data:o,function(t,i){for(var r in t){r=e.isNumeric(r)?parseInt(r,10):r;var o=t[r],s=n.columns[e.fn.bootstrapTable.utils.getFieldIndex(n.columns,r)],l=e.inArray(r,n.header.fields);if(s&&s.searchFormatter){o=e.fn.bootstrapTable.utils.calculateObjectValue(s,n.header.formatters[l],[o,t,i],o)}var d=e.inArray(r,n.header.fields);if(d!==-1&&n.header.searchables[d]&&(typeof o==="string"||typeof o==="number")){if(n.options.strictSearch){if((o+"").toLowerCase()===a){return true}}else{if((o+"").toLowerCase().indexOf(a)!==-1){return true}}}}return false}):this.data}this.data=o}}else{i.apply(this,Array.prototype.slice.apply(arguments))}}}(jQuery);(function(e){"use strict";var t=false;var i=function(t){var i=t.$sortModal.selector,n=i.substr(1);if(!e(n).hasClass("modal")){var r='  <div class="modal fade" id="'+n+'" tabindex="-1" role="dialog" aria-labelledby="'+n+'Label" aria-hidden="true">';r+='         <div class="modal-dialog">';r+='             <div class="modal-content">';r+='                 <div class="modal-header">';r+='                     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>';r+='                     <h4 class="modal-title" id="'+n+'Label">'+t.options.formatMultipleSort()+"</h4>";r+="                 </div>";r+='                 <div class="modal-body">';r+='                     <div class="bootstrap-table">';r+='                         <div class="fixed-table-toolbar">';r+='                             <div class="bars">';r+='                                 <div id="toolbar">';r+='                                     <button id="add" type="button" class="btn btn-default"><i class="'+t.options.iconsPrefix+" "+t.options.icons.plus+'"></i> '+t.options.formatAddLevel()+"</button>";r+='                                     <button id="delete" type="button" class="btn btn-default" disabled><i class="'+t.options.iconsPrefix+" "+t.options.icons.minus+'"></i> '+t.options.formatDeleteLevel()+"</button>";r+="                                 </div>";r+="                             </div>";r+="                         </div>";r+='                         <div class="fixed-table-container">';r+='                             <table id="multi-sort" class="table">';r+="                                 <thead>";r+="                                     <tr>";r+="                                         <th></th>";r+='                                         <th><div class="th-inner">'+t.options.formatColumn()+"</div></th>";r+='                                         <th><div class="th-inner">'+t.options.formatOrder()+"</div></th>";r+="                                     </tr>";r+="                                 </thead>";r+="                                 <tbody></tbody>";r+="                             </table>";r+="                         </div>";r+="                     </div>";r+="                 </div>";r+='                 <div class="modal-footer">';r+='                     <button type="button" class="btn btn-default" data-dismiss="modal">'+t.options.formatCancel()+"</button>";r+='                     <button type="button" class="btn btn-primary">'+t.options.formatSort()+"</button>";r+="                 </div>";r+="             </div>";r+="         </div>";r+="     </div>";e("body").append(e(r));t.$sortModal=e(i);var o=t.$sortModal.find("tbody > tr");t.$sortModal.off("click","#add").on("click","#add",function(){var e=t.$sortModal.find(".multi-sort-name:first option").length,i=t.$sortModal.find("tbody tr").length;if(i<e){i++;t.addLevel();t.setButtonStates()}});t.$sortModal.off("click","#delete").on("click","#delete",function(){var e=t.$sortModal.find(".multi-sort-name:first option").length,i=t.$sortModal.find("tbody tr").length;if(i>1&&i<=e){i--;t.$sortModal.find("tbody tr:last").remove();t.setButtonStates()}});t.$sortModal.off("click",".btn-primary").on("click",".btn-primary",function(){var i=t.$sortModal.find("tbody > tr"),n=t.$sortModal.find("div.alert"),r=[],o=[];t.options.sortPriority=e.map(i,function(t){var i=e(t),n=i.find(".multi-sort-name").val(),o=i.find(".multi-sort-order").val();r.push(n);return{sortName:n,sortOrder:o}});var s=r.sort();for(var a=0;a<r.length-1;a++){if(s[a+1]==s[a]){o.push(s[a])}}if(o.length>0){if(n.length===0){n='<div class="alert alert-danger" role="alert"><strong>'+t.options.formatDuplicateAlertTitle()+"</strong> "+t.options.formatDuplicateAlertDescription()+"</div>";e(n).insertBefore(t.$sortModal.find(".bars"))}}else{if(n.length===1){e(n).remove()}t.$sortModal.modal("hide");t.options.sortName="";if(t.options.sidePagination==="server"){t.options.queryParams=function(e){e.multiSort=t.options.sortPriority;return e};t.initServer(t.options.silentSort);return}t.onMultipleSort()}});if(t.options.sortPriority===null||t.options.sortPriority.length===0){if(t.options.sortName){t.options.sortPriority=[{sortName:t.options.sortName,sortOrder:t.options.sortOrder}]}}if(t.options.sortPriority!==null&&t.options.sortPriority.length>0){if(o.length<t.options.sortPriority.length&&typeof t.options.sortPriority==="object"){for(var s=0;s<t.options.sortPriority.length;s++){t.addLevel(s,t.options.sortPriority[s])}}}else{t.addLevel(0)}t.setButtonStates()}};e.extend(e.fn.bootstrapTable.defaults,{showMultiSort:false,sortPriority:null,onMultipleSort:function(){return false}});e.extend(e.fn.bootstrapTable.defaults.icons,{sort:"glyphicon-sort",plus:"glyphicon-plus",minus:"glyphicon-minus"});e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"multiple-sort.bs.table":"onMultipleSort"});e.extend(e.fn.bootstrapTable.locales,{formatMultipleSort:function(){return"Multiple Sort"},formatAddLevel:function(){return"Add Level"},formatDeleteLevel:function(){return"Delete Level"},formatColumn:function(){return"Column"},formatOrder:function(){return"Order"},formatSortBy:function(){return"Sort by"},formatThenBy:function(){return"Then by"},formatSort:function(){return"Sort"},formatCancel:function(){return"Cancel"},formatDuplicateAlertTitle:function(){return"Duplicate(s) detected!"},formatDuplicateAlertDescription:function(){return"Please remove or change any duplicate column."},formatSortOrders:function(){return{asc:"Ascending",desc:"Descending"}}});e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initToolbar;n.prototype.initToolbar=function(){this.showToolbar=true;var n=this,o="#sortModal_"+this.$el.attr("id");this.$sortModal=e(o);r.apply(this,Array.prototype.slice.apply(arguments));if(this.options.showMultiSort){var s=this.$toolbar.find(">.btn-group").first(),a=this.$toolbar.find("div.multi-sort");if(!a.length){a='  <button class="multi-sort btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" data-toggle="modal" data-target="'+o+'" title="'+this.options.formatMultipleSort()+'">';a+='     <i class="'+this.options.iconsPrefix+" "+this.options.icons.sort+'"></i>';a+="</button>";s.append(a);i(n)}this.$el.on("sort.bs.table",function(){t=true});this.$el.on("multiple-sort.bs.table",function(){t=false});this.$el.on("load-success.bs.table",function(){if(!t&&n.options.sortPriority!==null&&typeof n.options.sortPriority==="object"&&n.options.sidePagination!=="server"){n.onMultipleSort()}});this.$el.on("column-switch.bs.table",function(e,t){for(var r=0;r<n.options.sortPriority.length;r++){if(n.options.sortPriority[r].sortName===t){n.options.sortPriority.splice(r,1)}}n.assignSortableArrows();n.$sortModal.remove();i(n)});this.$el.on("reset-view.bs.table",function(){if(!t&&n.options.sortPriority!==null&&typeof n.options.sortPriority==="object"){n.assignSortableArrows()}})}};n.prototype.onMultipleSort=function(){var t=this;var i=function(e,t){return e>t?1:e<t?-1:0};var n=function(n,r){var o=[],s=[];for(var a=0;a<t.options.sortPriority.length;a++){var l=t.options.sortPriority[a].sortOrder==="desc"?-1:1,d=n[t.options.sortPriority[a].sortName],u=r[t.options.sortPriority[a].sortName];if(d===undefined||d===null){d=""}if(u===undefined||u===null){u=""}if(e.isNumeric(d)&&e.isNumeric(u)){d=parseFloat(d);u=parseFloat(u)}if(typeof d!=="string"){d=d.toString()}o.push(l*i(d,u));s.push(l*i(u,d))}return i(o,s)};this.data.sort(function(e,t){return n(e,t)});this.initBody();this.assignSortableArrows();this.trigger("multiple-sort")};n.prototype.addLevel=function(t,i){var n=t===0?this.options.formatSortBy():this.options.formatThenBy();this.$sortModal.find("tbody").append(e("<tr>").append(e("<td>").text(n)).append(e("<td>").append(e('<select class="form-control multi-sort-name">'))).append(e("<td>").append(e('<select class="form-control multi-sort-order">'))));var r=this.$sortModal.find(".multi-sort-name").last(),o=this.$sortModal.find(".multi-sort-order").last();e.each(this.columns,function(e,t){if(t.sortable===false||t.visible===false){return true}r.append('<option value="'+t.field+'">'+t.title+"</option>")});e.each(this.options.formatSortOrders(),function(e,t){o.append('<option value="'+e+'">'+t+"</option>")});if(i!==undefined){r.find('option[value="'+i.sortName+'"]').attr("selected",true);o.find('option[value="'+i.sortOrder+'"]').attr("selected",true)}};n.prototype.assignSortableArrows=function(){var t=this,i=t.$header.find("th");for(var n=0;n<i.length;n++){for(var r=0;r<t.options.sortPriority.length;r++){if(e(i[n]).data("field")===t.options.sortPriority[r].sortName){e(i[n]).find(".sortable").removeClass("desc asc").addClass(t.options.sortPriority[r].sortOrder)}}}};n.prototype.setButtonStates=function(){var e=this.$sortModal.find(".multi-sort-name:first option").length,t=this.$sortModal.find("tbody tr").length;if(t==e){this.$sortModal.find("#add").attr("disabled","disabled")}if(t>1){this.$sortModal.find("#delete").removeAttr("disabled")}if(t<e){this.$sortModal.find("#add").removeAttr("disabled")}if(t==1){this.$sortModal.find("#delete").attr("disabled","disabled")}}})(jQuery);function alphanum(e,t){function i(e){var t=[],i=0,n=-1,r=0,o,s;while(o=(s=e.charAt(i++)).charCodeAt(0)){var a=o===46||o>=48&&o<=57;if(a!==r){t[++n]="";r=a}t[n]+=s}return t}function n(e){if(typeof e==="number"){e=""+e}if(!e){e=""}return e}var r=i(n(e));var o=i(n(t));for(x=0;r[x]&&o[x];x++){if(r[x]!==o[x]){var s=Number(r[x]),a=Number(o[x]);if(s==r[x]&&a==o[x]){return s-a}else{return r[x]>o[x]?1:-1}}}return r.length-o.length}function numericOnly(e,t){function i(e){e=e.replace(new RegExp(/[^0-9]/g),"");return parseInt(e,10)}return i(e)-i(t)}!function(e){"use strict";function t(e){var t=e.$header;if(e.options.height){t=e.$tableHeader}return t}function i(e){return t(e).find("[data-filter-field]")}function n(t){var n=i(t);if(!e.isEmptyObject(t.filterColumnsPartial)){n.each(function(i,n){var r=e(n),o=r.attr("data-filter-field"),s=t.filterColumnsPartial[o];if(r.is("select")){r.val(s).trigger("change")}else{r.val(s)}})}}function r(t,i){var n=false,r,o,s=0;e.each(t.columns,function(t,s){r="hidden";o=[];if(!s.visible){return}if(!s.filter){o.push('<div class="no-filter"></div>')}else{var a=s.filter.class?" "+s.filter.class:"";o.push('<div style="margin: 0px 2px 2px 2px;" class="filter'+a+'">');if(s.searchable){n=true;r="visible"}switch(s.filter.type.toLowerCase()){case"input":o.push('<input type="text" data-filter-field="'+s.field+'" style="width: 100%; visibility:'+r+'">');break;case"select":o.push('<select data-filter-field="'+s.field+'" style="width: 100%; visibility:'+r+'"></select>');break}}e.each(i.children().children(),function(t,i){i=e(i);if(i.data("field")===s.field){i.find(".fht-cell").append(o.join(""));return false}})});if(n){var a=i.find("input"),l=i.find("select");if(a.length>0){a.off("keyup").on("keyup",function(e){clearTimeout(s);s=setTimeout(function(){t.onColumnSearch(e)},t.options.searchTimeOut)});a.off("mouseup").on("mouseup",function(i){var n=e(this),r=n.val();if(r===""){return}setTimeout(function(){var e=n.val();if(e===""){clearTimeout(s);s=setTimeout(function(){t.onColumnSearch(i)},t.options.searchTimeOut)}},1)})}if(l.length>0){l.on("select2:select",function(e){t.onColumnSearch(e)})}}else{i.find(".filter").hide()}}function o(i){var n=t(i);e.each(i.columns,function(e,t){if(t.filter&&t.filter.type==="select"){var r=n.find("select[data-filter-field="+t.field+"]");if(r.length>0&&!r.data().select2){t.filter.data.unshift("");var o={placeholder:"",allowClear:true,data:t.filter.data,dropdownParent:i.$el.closest(".bootstrap-table")};r.select2(o);r.on("select2:unselecting",function(e){e.preventDefault();r.val(null).trigger("change");i.searchText=undefined;i.onColumnSearch(e)})}}})}e.extend(e.fn.bootstrapTable.defaults,{filter:false,filterValues:{}});e.extend(e.fn.bootstrapTable.COLUMN_DEFAULTS,{filter:undefined});var s=e.fn.bootstrapTable.Constructor,a=s.prototype.init,l=s.prototype.initHeader,d=s.prototype.initSearch;s.prototype.init=function(){if(this.options.filter){var t=this;if(!e.isEmptyObject(t.options.filterValues)){t.filterColumnsPartial=t.options.filterValues;t.options.filterValues={}}this.$el.on("reset-view.bs.table",function(){if(!t.options.height){return}if(t.$tableHeader.find("select").length>0||t.$tableHeader.find("input").length>0){return}r(t,t.$tableHeader)}).on("post-header.bs.table",function(){var e=0;o(t);clearTimeout(e);e=setTimeout(function(){n(t)},t.options.searchTimeOut-1e3)}).on("column-switch.bs.table",function(e,i){n(t)})}a.apply(this,Array.prototype.slice.apply(arguments))};s.prototype.initHeader=function(){l.apply(this,Array.prototype.slice.apply(arguments));if(this.options.filter){r(this,this.$header)}};s.prototype.initSearch=function(){d.apply(this,Array.prototype.slice.apply(arguments));var t=this,i=t.filterColumnsPartial;if(t.options.sidePagination==="client"){this.data=e.grep(this.data,function(n,r){for(var o in i){var s=t.columns[e.fn.bootstrapTable.utils.getFieldIndex(t.columns,o)],a=i[o].toLowerCase(),l=n[o];l=e.fn.bootstrapTable.utils.calculateObjectValue(t.header,t.header.formatters[e.inArray(o,t.header.fields)],[l,n,r],l);if(s.filterStrictSearch){if(!(e.inArray(o,t.header.fields)!==-1&&(typeof l==="string"||typeof l==="number")&&l.toString().toLowerCase()===a.toString().toLowerCase())){return false}}else{if(!(e.inArray(o,t.header.fields)!==-1&&(typeof l==="string"||typeof l==="number")&&(l+"").toLowerCase().indexOf(a)!==-1)){return false}}}return true})}};s.prototype.onColumnSearch=function(t){var i=e(t.currentTarget).attr("data-filter-field"),n=e.trim(e(t.currentTarget).val());if(e.isEmptyObject(this.filterColumnsPartial)){this.filterColumnsPartial={}}if(n){this.filterColumnsPartial[i]=n}else{delete this.filterColumnsPartial[i]}this.options.pageNumber=1;this.onSearch(t)};s.prototype.setFilterData=function(i,n){var r=this,o=t(r),s=o.find('select[data-filter-field="'+i+'"]');n.unshift("");s.empty();s.select2({data:n,placeholder:"",allowClear:true,dropdownParent:r.$el.closest(".bootstrap-table")});e.each(this.columns,function(e,t){if(t.field===i){t.filter.data=n;return false}})};s.prototype.setFilterValues=function(e){this.filterColumnsPartial=e};e.fn.bootstrapTable.methods.push("setFilterData");e.fn.bootstrapTable.methods.push("setFilterValues")}(jQuery);(function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;e.extend(e.fn.bootstrapTable.defaults,{stickyHeader:false});var i=e.fn.bootstrapTable.Constructor,n=i.prototype.initHeader;i.prototype.initHeader=function(){var i=this;n.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.stickyHeader){return}var r=this.$tableBody.find("table"),o=r.attr("id"),s=r.attr("id")+"-sticky-header",a=s+"-sticky-header-container",l=s+"_sticky_anchor_begin",d=s+"_sticky_anchor_end";r.before(t('<div id="%s" class="hidden"></div>',a));r.before(t('<div id="%s"></div>',l));r.after(t('<div id="%s"></div>',d));r.find("thead").attr("id",s);this.$stickyHeader=e(e("#"+s).clone(true,true));this.$stickyHeader.removeAttr("id");e(window).on("resize."+o,r,u);e(window).on("scroll."+o,r,u);r.closest(".fixed-table-container").find(".fixed-table-body").on("scroll."+o,r,h);this.$el.on("all.bs.table",function(t){i.$stickyHeader=e(e("#"+s).clone(true,true));i.$stickyHeader.removeAttr("id")});function u(t){var n=t.data;var r=n.find("thead").attr("id");if(n.length<1||e("#"+o).length<1){e(window).off("resize."+o);e(window).off("scroll."+o);n.closest(".fixed-table-container").find(".fixed-table-body").off("scroll."+o);return}var s="0";if(i.options.stickyHeaderOffsetY)s=i.options.stickyHeaderOffsetY.replace("px","");var u=e(window).scrollTop();var c=e("#"+l).offset().top-s;var f=e("#"+d).offset().top-s-e("#"+r).css("height").replace("px","");if(u>c&&u<=f){e.each(i.$stickyHeader.find("tr").eq(0).find("th"),function(t,i){e(i).css("min-width",e("#"+r+" tr").eq(0).find("th").eq(t).css("width"))});e("#"+a).removeClass("hidden").addClass("fix-sticky fixed-table-container");e("#"+a).css("top",s+"px");var p=e('<div style="position:absolute;width:100%;overflow-x:hidden;" />');e("#"+a).html(p.append(i.$stickyHeader));h(t)}else{e("#"+a).removeClass("fix-sticky").addClass("hidden")}}function h(t){var i=t.data;var n=i.find("thead").attr("id");e("#"+a).css("width",+i.closest(".fixed-table-body").css("width").replace("px","")+1);e("#"+a+" thead").parent().scrollLeft(Math.abs(e("#"+n).position().left))}}})(jQuery);"use strict";(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof exports==="object")exports["vis"]=i();else t["vis"]=i()})(this,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:false};e[n].call(r.exports,r,r.exports,i);r.loaded=true;return r.exports}i.m=e;i.c=t;i.p="";return i(0)}([function(e,t,i){"use strict";var n=i(1);n.extend(t,i(87));n.extend(t,i(117));n.extend(t,i(159))},function(e,t,i){"use strict";var n=i(2);var r=h(n);var o=i(55);var s=h(o);var a=i(58);var l=h(a);var d=i(62);var u=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var c=i(82);var f=i(86);t.isNumber=function(e){return e instanceof Number||typeof e=="number"};t.recursiveDOMDelete=function(e){if(e){while(e.hasChildNodes()===true){t.recursiveDOMDelete(e.firstChild);e.removeChild(e.firstChild)}}};t.giveRange=function(e,t,i,n){if(t==e){return.5}else{var r=1/(t-e);return Math.max(0,(n-e)*r)}};t.isString=function(e){return e instanceof String||typeof e=="string"};t.isDate=function(e){if(e instanceof Date){return true}else if(t.isString(e)){var i=p.exec(e);if(i){return true}else if(!isNaN(Date.parse(e))){return true}}return false};t.randomUUID=function(){return f.v4()};t.assignAllKeys=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){if((0,u["default"])(e[i])!=="object"){e[i]=t}}}};t.fillIfDefined=function(e,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;for(var r in e){if(i[r]!==undefined){if((0,u["default"])(i[r])!=="object"){if((i[r]===undefined||i[r]===null)&&e[r]!==undefined&&n===true){delete e[r]}else{e[r]=i[r]}}else{if((0,u["default"])(e[r])==="object"){t.fillIfDefined(e[r],i[r],n)}}}}};t.protoExtend=function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n){e[r]=n[r]}}return e};t.extend=function(e,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n){if(n.hasOwnProperty(r)){e[r]=n[r]}}}return e};t.selectiveExtend=function(e,t,i){if(!Array.isArray(e)){throw new Error("Array with property names expected as first argument")}for(var n=2;n<arguments.length;n++){var r=arguments[n];for(var o=0;o<e.length;o++){var s=e[o];if(r&&r.hasOwnProperty(s)){t[s]=r[s]}}}return t};t.selectiveDeepExtend=function(e,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Array.isArray(n)){throw new TypeError("Arrays are not supported by deepExtend")}for(var o=2;o<arguments.length;o++){var s=arguments[o];for(var a=0;a<e.length;a++){var l=e[a];if(s.hasOwnProperty(l)){if(n[l]&&n[l].constructor===Object){if(i[l]===undefined){i[l]={}}if(i[l].constructor===Object){t.deepExtend(i[l],n[l],false,r)}else{if(n[l]===null&&i[l]!==undefined&&r===true){delete i[l]}else{i[l]=n[l]}}}else if(Array.isArray(n[l])){throw new TypeError("Arrays are not supported by deepExtend")}else{if(n[l]===null&&i[l]!==undefined&&r===true){delete i[l]}else{i[l]=n[l]}}}}}return i};t.selectiveNotDeepExtend=function(e,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Array.isArray(n)){throw new TypeError("Arrays are not supported by deepExtend")}for(var o in n){if(n.hasOwnProperty(o)){if(e.indexOf(o)==-1){if(n[o]&&n[o].constructor===Object){if(i[o]===undefined){i[o]={}}if(i[o].constructor===Object){t.deepExtend(i[o],n[o])}else{if(n[o]===null&&i[o]!==undefined&&r===true){delete i[o]}else{i[o]=n[o]}}}else if(Array.isArray(n[o])){i[o]=[];for(var s=0;s<n[o].length;s++){i[o].push(n[o][s])}}else{if(n[o]===null&&i[o]!==undefined&&r===true){delete i[o]}else{i[o]=n[o]}}}}}return i};t.deepExtend=function(e,i,n,r){for(var o in i){if(i.hasOwnProperty(o)||n===true){if(i[o]&&i[o].constructor===Object){if(e[o]===undefined){e[o]={}}if(e[o].constructor===Object){t.deepExtend(e[o],i[o],n)}else{if(i[o]===null&&e[o]!==undefined&&r===true){delete e[o]}else{e[o]=i[o]}}}else if(Array.isArray(i[o])){e[o]=[];for(var s=0;s<i[o].length;s++){e[o].push(i[o][s])}}else{if(i[o]===null&&e[o]!==undefined&&r===true){delete e[o]}else{e[o]=i[o]}}}}return e};t.equalArray=function(e,t){if(e.length!=t.length)return false;for(var i=0,n=e.length;i<n;i++){if(e[i]!=t[i])return false}return true};t.convert=function(e,i){var n;if(e===undefined){return undefined}if(e===null){return null}if(!i){return e}if(!(typeof i==="string")&&!(i instanceof String)){throw new Error("Type must be a string")}switch(i){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":if(t.isString(e)&&!isNaN(Date.parse(e))){return c(e).valueOf()}else{return Number(e.valueOf())}case"string":case"String":return String(e);case"Date":if(t.isNumber(e)){return new Date(e)}if(e instanceof Date){return new Date(e.valueOf())}else if(c.isMoment(e)){return new Date(e.valueOf())}if(t.isString(e)){n=p.exec(e);if(n){return new Date(Number(n[1]))}else{return c(new Date(e)).toDate()}}else{throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date")}case"Moment":if(t.isNumber(e)){return c(e)}if(e instanceof Date){return c(e.valueOf())}else if(c.isMoment(e)){return c(e)}if(t.isString(e)){n=p.exec(e);if(n){return c(Number(n[1]))}else{return c(e)}}else{throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date")}case"ISODate":if(t.isNumber(e)){return new Date(e)}else if(e instanceof Date){return e.toISOString()}else if(c.isMoment(e)){return e.toDate().toISOString()}else if(t.isString(e)){n=p.exec(e);if(n){return new Date(Number(n[1])).toISOString()}else{return c(e).format()}}else{throw new Error("Cannot convert object of type "+t.getType(e)+" to type ISODate")}case"ASPDate":if(t.isNumber(e)){return"/Date("+e+")/"}else if(e instanceof Date){return"/Date("+e.valueOf()+")/"}else if(t.isString(e)){n=p.exec(e);var r;if(n){r=new Date(Number(n[1])).valueOf()}else{r=new Date(e).valueOf()}return"/Date("+r+")/"}else{throw new Error("Cannot convert object of type "+t.getType(e)+" to type ASPDate")}default:throw new Error('Unknown type "'+i+'"')}};var p=/^\/?Date\((\-?\d+)/i;t.getType=function(e){var t=typeof e==="undefined"?"undefined":(0,u["default"])(e);if(t=="object"){if(e===null){return"null"}if(e instanceof Boolean){return"Boolean"}if(e instanceof Number){return"Number"}if(e instanceof String){return"String"}if(Array.isArray(e)){return"Array"}if(e instanceof Date){return"Date"}return"Object"}else if(t=="number"){return"Number"}else if(t=="boolean"){return"Boolean"}else if(t=="string"){return"String"}else if(t===undefined){return"undefined"}return t};t.copyAndExtendArray=function(e,t){var i=[];for(var n=0;n<e.length;n++){i.push(e[n])}i.push(t);return i};t.copyArray=function(e){var t=[];for(var i=0;i<e.length;i++){t.push(e[i])}return t};t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left};t.getAbsoluteRight=function(e){return e.getBoundingClientRect().right};t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top};t.addClassName=function(e,t){var i=e.className.split(" ");var n=t.split(" ");i=i.concat(n.filter(function(e){return i.indexOf(e)<0}));e.className=i.join(" ")};t.removeClassName=function(e,t){var i=e.className.split(" ");var n=t.split(" ");i=i.filter(function(e){return n.indexOf(e)<0});e.className=i.join(" ")};t.forEach=function(e,t){var i,n;if(Array.isArray(e)){for(i=0,n=e.length;i<n;i++){t(e[i],i,e)}}else{for(i in e){if(e.hasOwnProperty(i)){t(e[i],i,e)}}}};t.toArray=function(e){var t=[];for(var i in e){if(e.hasOwnProperty(i))t.push(e[i])}return t};t.updateProperty=function(e,t,i){if(e[t]!==i){e[t]=i;return true}else{return false}};t.throttle=function(e){var t=false;return function i(){if(!t){t=true;requestAnimationFrame(function(){t=false;e()})}}};t.addEventListener=function(e,t,i,n){if(e.addEventListener){if(n===undefined)n=false;if(t==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){t="DOMMouseScroll"}e.addEventListener(t,i,n)}else{e.attachEvent("on"+t,i)}};t.removeEventListener=function(e,t,i,n){if(e.removeEventListener){if(n===undefined)n=false;if(t==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){t="DOMMouseScroll"}e.removeEventListener(t,i,n)}else{e.detachEvent("on"+t,i)}};t.preventDefault=function(e){if(!e)e=window.event;if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};t.getTarget=function(e){if(!e){e=window.event}var t;if(e.target){t=e.target}else if(e.srcElement){t=e.srcElement}if(t.nodeType!=undefined&&t.nodeType==3){t=t.parentNode}return t};t.hasParent=function(e,t){var i=e;while(i){if(i===t){return true}i=i.parentNode}return false};t.option={};t.option.asBoolean=function(e,t){if(typeof e=="function"){e=e()}if(e!=null){return e!=false}return t||null};t.option.asNumber=function(e,t){if(typeof e=="function"){e=e()}if(e!=null){return Number(e)||t||null}return t||null};t.option.asString=function(e,t){if(typeof e=="function"){e=e()}if(e!=null){return String(e)}return t||null};t.option.asSize=function(e,i){if(typeof e=="function"){e=e()}if(t.isString(e)){return e}else if(t.isNumber(e)){return e+"px"}else{return i||null}};t.option.asElement=function(e,t){if(typeof e=="function"){e=e()}return e||t||null};t.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null};t.overrideOpacity=function(e,i){if(e.indexOf("rgba")!=-1){return e}else if(e.indexOf("rgb")!=-1){var n=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+i+")"}else{var n=t.hexToRGB(e);if(n==null){return e}else{return"rgba("+n.r+","+n.g+","+n.b+","+i+")"}}};t.RGBToHex=function(e,t,i){return"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)};t.parseColor=function(e){var i;if(t.isString(e)===true){if(t.isValidRGB(e)===true){var n=e.substr(4).substr(0,e.length-5).split(",").map(function(e){return parseInt(e)});e=t.RGBToHex(n[0],n[1],n[2])}if(t.isValidHex(e)===true){var r=t.hexToHSV(e);var o={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)};var s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8};var a=t.HSVToHex(s.h,s.s,s.v);var l=t.HSVToHex(o.h,o.s,o.v);i={background:e,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else{i={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}}else{i={};i.background=e.background||undefined;i.border=e.border||undefined;if(t.isString(e.highlight)){i.highlight={border:e.highlight,background:e.highlight}}else{i.highlight={};i.highlight.background=e.highlight&&e.highlight.background||undefined;i.highlight.border=e.highlight&&e.highlight.border||undefined}if(t.isString(e.hover)){i.hover={border:e.hover,background:e.hover}}else{i.hover={};i.hover.background=e.hover&&e.hover.background||undefined;i.hover.border=e.hover&&e.hover.border||undefined}}return i};t.RGBToHSV=function(e,t,i){e=e/255;t=t/255;i=i/255;var n=Math.min(e,Math.min(t,i));var r=Math.max(e,Math.max(t,i));if(n==r){return{h:0,s:0,v:n}}var o=e==n?t-i:i==n?e-t:i-e;var s=e==n?3:i==n?1:5;var a=60*(s-o/(r-n))/360;var l=(r-n)/r;var d=r;return{h:a,s:l,v:d}};var m={split:function e(t){var i={};t.split(";").forEach(function(e){if(e.trim()!=""){var t=e.split(":");var n=t[0].trim();var r=t[1].trim();i[n]=r}});return i},join:function e(t){return(0,l["default"])(t).map(function(e){return e+": "+t[e]}).join("; ")}};t.addCssText=function(e,i){var n=m.split(e.style.cssText);var r=m.split(i);var o=t.extend(n,r);e.style.cssText=m.join(o)};t.removeCssText=function(e,t){var i=m.split(e.style.cssText);var n=m.split(t);for(var r in n){if(n.hasOwnProperty(r)){delete i[r]}}e.style.cssText=m.join(i)};t.HSVToRGB=function(e,t,i){var n,r,o;var s=Math.floor(e*6);var a=e*6-s;var l=i*(1-t);var d=i*(1-a*t);var u=i*(1-(1-a)*t);switch(s%6){case 0:n=i,r=u,o=l;break;case 1:n=d,r=i,o=l;break;case 2:n=l,r=i,o=u;break;case 3:n=l,r=d,o=i;break;case 4:n=u,r=l,o=i;break;case 5:n=i,r=l,o=d;break}return{r:Math.floor(n*255),g:Math.floor(r*255),b:Math.floor(o*255)}};t.HSVToHex=function(e,i,n){var r=t.HSVToRGB(e,i,n);return t.RGBToHex(r.r,r.g,r.b)};t.hexToHSV=function(e){var i=t.hexToRGB(e);return t.RGBToHSV(i.r,i.g,i.b)};t.isValidHex=function(e){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return t};t.isValidRGB=function(e){e=e.replace(" ","");var t=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e);return t};t.isValidRGBA=function(e){e=e.replace(" ","");var t=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e);return t};t.selectiveBridgeObject=function(e,i){if((typeof i==="undefined"?"undefined":(0,u["default"])(i))=="object"){var n=(0,s["default"])(i);for(var r=0;r<e.length;r++){if(i.hasOwnProperty(e[r])){if((0,u["default"])(i[e[r]])=="object"){n[e[r]]=t.bridgeObject(i[e[r]])}}}return n}else{return null}};t.bridgeObject=function(e){if((typeof e==="undefined"?"undefined":(0,u["default"])(e))=="object"){var i=(0,s["default"])(e);for(var n in e){if(e.hasOwnProperty(n)){if((0,u["default"])(e[n])=="object"){i[n]=t.bridgeObject(e[n])}}}return i}else{return null}};t.insertSort=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];for(var r=i;r>0&&t(n,e[r-1])<0;r--){e[r]=e[r-1]}e[r]=n}return e};t.mergeOptions=function(e,t,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};if(t[i]===null){e[i]=(0,s["default"])(r[i])}else{if(t[i]!==undefined){if(typeof t[i]==="boolean"){e[i].enabled=t[i]}else{if(t[i].enabled===undefined){e[i].enabled=true}for(var o in t[i]){if(t[i].hasOwnProperty(o)){e[i][o]=t[i][o]}}}}}};t.binarySearchCustom=function(e,t,i,n){var r=1e4;var o=0;var s=0;var a=e.length-1;while(s<=a&&o<r){var l=Math.floor((s+a)/2);var d=e[l];var u=n===undefined?d[i]:d[i][n];var h=t(u);if(h==0){return l}else if(h==-1){s=l+1}else{a=l-1}o++}return-1};t.binarySearchValue=function(e,t,i,n,r){var o=1e4;var s=0;var a=0;var l=e.length-1;var d,u,h,c;var r=r!=undefined?r:function(e,t){return e==t?0:e<t?-1:1};while(a<=l&&s<o){c=Math.floor(.5*(l+a));d=e[Math.max(0,c-1)][i];u=e[c][i];h=e[Math.min(e.length-1,c+1)][i];if(r(u,t)==0){return c}else if(r(d,t)<0&&r(u,t)>0){return n=="before"?Math.max(0,c-1):c}else if(r(u,t)<0&&r(h,t)>0){return n=="before"?c:Math.min(e.length-1,c+1)}else{if(r(u,t)<0){a=c+1}else{l=c-1}}s++}return-1};t.easingFunctions={linear:function e(t){return t},easeInQuad:function e(t){return t*t},easeOutQuad:function e(t){return t*(2-t)},easeInOutQuad:function e(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function e(t){return t*t*t},easeOutCubic:function e(t){return--t*t*t+1},easeInOutCubic:function e(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function e(t){return t*t*t*t},easeOutQuart:function e(t){return 1- --t*t*t*t},easeInOutQuart:function e(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function e(t){return t*t*t*t*t},easeOutQuint:function e(t){return 1+--t*t*t*t*t},easeInOutQuint:function e(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};t.getScrollBarWidth=function(){var e=document.createElement("p");e.style.width="100%";e.style.height="200px";var t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;if(i==n)n=t.clientWidth;document.body.removeChild(t);return i-n};t.topMost=function(e,t){var i=void 0;if(!Array.isArray(t)){t=[t]}var n=true;var o=false;var s=undefined;try{for(var a=(0,r["default"])(e),l;!(n=(l=a.next()).done);n=true){var d=l.value;if(d){i=d[t[0]];for(var u=1;u<t.length;u++){if(i){i=i[t[u]]}else{continue}}if(typeof i!="undefined"){break}}}}catch(e){o=true;s=e}finally{try{if(!n&&a["return"]){a["return"]()}}finally{if(o){throw s}}}return i}},function(e,t,i){e.exports={default:i(3),__esModule:true}},function(e,t,i){i(4);i(50);e.exports=i(52)},function(e,t,i){i(5);var n=i(16),r=i(20),o=i(8),s=i(47)("toStringTag");for(var a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=a[l],u=n[d],h=u&&u.prototype;if(h&&!h[s])r(h,s,d);o[d]=o.Array}},function(e,t,i){"use strict";var n=i(6),r=i(7),o=i(8),s=i(9);e.exports=i(13)(Array,"Array",function(e,t){this._t=s(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,i=this._i++;if(!e||i>=e.length){this._t=undefined;return r(1)}if(t=="keys")return r(0,i);if(t=="values")return r(0,e[i]);return r(0,[i,e[i]])},"values");o.Arguments=o.Array;n("keys");n("values");n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,i){var n=i(10),r=i(12);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(11);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var n=i(14),r=i(15),o=i(30),s=i(20),a=i(31),l=i(8),d=i(32),u=i(46),h=i(48),c=i(47)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",v="values";var g=function(){return this};e.exports=function(e,t,i,y,b,w,x){d(i,t,y);var _=function(e){if(!f&&e in T)return T[e];switch(e){case m:return function t(){return new i(this,e)};case v:return function t(){return new i(this,e)}}return function t(){return new i(this,e)}};var k=t+" Iterator",C=b==v,S=false,T=e.prototype,D=T[c]||T[p]||b&&T[b],E=D||_(b),O=b?!C?E:_("entries"):undefined,P=t=="Array"?T.entries||D:D,M,A,I;if(P){I=h(P.call(new e));if(I!==Object.prototype){u(I,k,true);if(!n&&!a(I,c))s(I,c,g)}}if(C&&D&&D.name!==v){S=true;E=function e(){return D.call(this)}}if((!n||x)&&(f||S||!T[c])){s(T,c,E)}l[t]=E;l[k]=g;if(b){M={values:C?E:_(v),keys:w?E:_(m),entries:O};if(x)for(A in M){if(!(A in T))o(T,A,M[A])}else r(r.P+r.F*(f||S),t,M)}return M}},function(e,t){e.exports=true},function(e,t,i){var n=i(16),r=i(17),o=i(18),s=i(20),a="prototype";var l=function(e,t,i){var d=e&l.F,u=e&l.G,h=e&l.S,c=e&l.P,f=e&l.B,p=e&l.W,m=u?r:r[t]||(r[t]={}),v=m[a],g=u?n:h?n[t]:(n[t]||{})[a],y,b,w;if(u)i=t;for(y in i){b=!d&&g&&g[y]!==undefined;if(b&&y in m)continue;w=b?g[y]:i[y];m[y]=u&&typeof g[y]!="function"?i[y]:f&&b?o(w,n):p&&g[y]==w?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};t[a]=e[a];return t}(w):c&&typeof w=="function"?o(Function.call,w):w;if(c){(m.virtual||(m.virtual={}))[y]=w;if(e&l.R&&v&&!v[y])s(v,y,w)}}};l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;e.exports=l},function(e,t){var i=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=i},function(e,t){var i=e.exports={version:"2.4.0"};if(typeof __e=="number")__e=i},function(e,t,i){var n=i(19);e.exports=function(e,t,i){n(e);if(t===undefined)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(21),r=i(29);e.exports=i(25)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){e[t]=i;return e}},function(e,t,i){var n=i(22),r=i(24),o=i(28),s=Object.defineProperty;t.f=i(25)?Object.defineProperty:function e(t,i,a){n(t);i=o(i,true);n(a);if(r)try{return s(t,i,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");if("value"in a)t[i]=a.value;return t}},function(e,t,i){var n=i(23);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,i){e.exports=!i(25)&&!i(26)(function(){return Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,i){e.exports=!i(26)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,i){var n=i(23),r=i(16).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){var n=i(23);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&typeof(i=e.toString)=="function"&&!n(r=i.call(e)))return r;if(typeof(i=e.valueOf)=="function"&&!n(r=i.call(e)))return r;if(!t&&typeof(i=e.toString)=="function"&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,i){e.exports=i(20)},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";var n=i(33),r=i(29),o=i(46),s={};i(20)(s,i(47)("iterator"),function(){return this});e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)});o(e,t+" Iterator")}},function(e,t,i){var n=i(22),r=i(34),o=i(44),s=i(41)("IE_PROTO"),a=function(){},l="prototype";var d=function(){var e=i(27)("iframe"),t=o.length,n="<",r=">",s;e.style.display="none";i(45).appendChild(e);e.src="javascript:";s=e.contentWindow.document;s.open();s.write(n+"script"+r+"document.F=Object"+n+"/script"+r);s.close();d=s.F;while(t--)delete d[l][o[t]];return d()};e.exports=Object.create||function e(t,i){var o;if(t!==null){a[l]=n(t);o=new a;a[l]=null;o[s]=t}else o=d();return i===undefined?o:r(o,i)}},function(e,t,i){var n=i(21),r=i(22),o=i(35);e.exports=i(25)?Object.defineProperties:function e(t,i){r(t);var s=o(i),a=s.length,l=0,d;while(a>l)n.f(t,d=s[l++],i[d]);return t}},function(e,t,i){var n=i(36),r=i(44);e.exports=Object.keys||function e(t){return n(t,r)}},function(e,t,i){var n=i(31),r=i(9),o=i(37)(false),s=i(41)("IE_PROTO");e.exports=function(e,t){var i=r(e),a=0,l=[],d;for(d in i)if(d!=s)n(i,d)&&l.push(d);while(t.length>a)if(n(i,d=t[a++])){~o(l,d)||l.push(d)}return l}},function(e,t,i){var n=i(9),r=i(38),o=i(40);e.exports=function(e){return function(t,i,s){var a=n(t),l=r(a.length),d=o(s,l),u;if(e&&i!=i)while(l>d){u=a[d++];if(u!=u)return true}else for(;l>d;d++)if(e||d in a){if(a[d]===i)return e||d||0}return!e&&-1}}},function(e,t,i){var n=i(39),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(39),r=Math.max,o=Math.min;e.exports=function(e,t){e=n(e);return e<0?r(e+t,0):o(e,t)}},function(e,t,i){var n=i(42)("keys"),r=i(43);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(16),r="__core-js_shared__",o=n[r]||(n[r]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){e.exports=i(16).document&&document.documentElement},function(e,t,i){var n=i(21).f,r=i(31),o=i(47)("toStringTag");e.exports=function(e,t,i){if(e&&!r(e=i?e:e.prototype,o))n(e,o,{configurable:true,value:t})}},function(e,t,i){var n=i(42)("wks"),r=i(43),o=i(16).Symbol,s=typeof o=="function";var a=e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:r)("Symbol."+e))};a.store=n},function(e,t,i){var n=i(31),r=i(49),o=i(41)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=r(e);if(n(e,o))return e[o];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?s:null}},function(e,t,i){var n=i(12);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n=i(51)(true);i(13)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t,t=this._i,i;if(t>=e.length)return{value:undefined,done:true};i=n(e,t);this._i+=i.length;return{value:i,done:false}})},function(e,t,i){var n=i(39),r=i(12);e.exports=function(e){return function(t,i){var o=String(r(t)),s=n(i),a=o.length,l,d;if(s<0||s>=a)return e?"":undefined;l=o.charCodeAt(s);return l<55296||l>56319||s+1===a||(d=o.charCodeAt(s+1))<56320||d>57343?e?o.charAt(s):l:e?o.slice(s,s+2):(l-55296<<10)+(d-56320)+65536}}},function(e,t,i){var n=i(22),r=i(53);e.exports=i(17).getIterator=function(e){var t=r(e);if(typeof t!="function")throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(54),r=i(47)("iterator"),o=i(8);e.exports=i(17).getIteratorMethod=function(e){if(e!=undefined)return e[r]||e["@@iterator"]||o[n(e)]}},function(e,t,i){var n=i(11),r=i(47)("toStringTag"),o=n(function(){return arguments}())=="Arguments";var s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,a;return e===undefined?"Undefined":e===null?"Null":typeof(i=s(t=Object(e),r))=="string"?i:o?n(t):(a=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":a}},function(e,t,i){e.exports={default:i(56),__esModule:true}},function(e,t,i){i(57);var n=i(17).Object;e.exports=function e(t,i){return n.create(t,i)}},function(e,t,i){var n=i(15);n(n.S,"Object",{create:i(33)})},function(e,t,i){e.exports={default:i(59),__esModule:true}},function(e,t,i){i(60);e.exports=i(17).Object.keys},function(e,t,i){var n=i(49),r=i(35);i(61)("keys",function(){return function e(t){return r(n(t))}})},function(e,t,i){var n=i(15),r=i(17),o=i(26);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],s={};s[e]=t(i);n(n.S+n.F*o(function(){i(1)}),"Object",s)}},function(e,t,i){"use strict";t.__esModule=true;var n=i(63);var r=l(n);var o=i(66);var s=l(o);var a=typeof s.default==="function"&&typeof r.default==="symbol"?function(e){return typeof e}:function(e){return e&&typeof s.default==="function"&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};function l(e){return e&&e.__esModule?e:{default:e}}t.default=typeof s.default==="function"&&a(r.default)==="symbol"?function(e){return typeof e==="undefined"?"undefined":a(e)}:function(e){return e&&typeof s.default==="function"&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e==="undefined"?"undefined":a(e)}},function(e,t,i){e.exports={default:i(64),__esModule:true}},function(e,t,i){i(50);i(4);e.exports=i(65).f("iterator")},function(e,t,i){t.f=i(47)},function(e,t,i){e.exports={default:i(67),__esModule:true}},function(e,t,i){i(68);i(79);i(80);i(81);e.exports=i(17).Symbol},function(e,t,i){"use strict";var n=i(16),r=i(31),o=i(25),s=i(15),a=i(30),l=i(69).KEY,d=i(26),u=i(42),h=i(46),c=i(43),f=i(47),p=i(65),m=i(70),v=i(71),g=i(72),y=i(75),b=i(22),w=i(9),x=i(28),_=i(29),k=i(33),C=i(76),S=i(78),T=i(21),D=i(35),E=S.f,O=T.f,P=C.f,M=n.Symbol,A=n.JSON,I=A&&A.stringify,F="prototype",R=f("_hidden"),N=f("toPrimitive"),L={}.propertyIsEnumerable,j=u("symbol-registry"),B=u("symbols"),z=u("op-symbols"),$=Object[F],H=typeof M=="function",U=n.QObject;var W=!U||!U[F]||!U[F].findChild;var q=o&&d(function(){return k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(e,t,i){var n=E($,t);if(n)delete $[t];O(e,t,i);if(n&&e!==$)O($,t,n)}:O;var Y=function(e){var t=B[e]=k(M[F]);t._k=e;return t};var V=H&&typeof M.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof M};var G=function e(t,i,n){if(t===$)G(z,i,n);b(t);i=x(i,true);b(n);if(r(B,i)){if(!n.enumerable){if(!r(t,R))O(t,R,_(1,{}));t[R][i]=true}else{if(r(t,R)&&t[R][i])t[R][i]=false;n=k(n,{enumerable:_(0,false)})}return q(t,i,n)}return O(t,i,n)};var X=function e(t,i){b(t);var n=g(i=w(i)),r=0,o=n.length,s;while(o>r)G(t,s=n[r++],i[s]);return t};var Z=function e(t,i){return i===undefined?k(t):X(k(t),i)};var K=function e(t){var i=L.call(this,t=x(t,true));if(this===$&&r(B,t)&&!r(z,t))return false;return i||!r(this,t)||!r(B,t)||r(this,R)&&this[R][t]?i:true};var Q=function e(t,i){t=w(t);i=x(i,true);if(t===$&&r(B,i)&&!r(z,i))return;var n=E(t,i);if(n&&r(B,i)&&!(r(t,R)&&t[R][i]))n.enumerable=true;return n};var J=function e(t){var i=P(w(t)),n=[],o=0,s;while(i.length>o){if(!r(B,s=i[o++])&&s!=R&&s!=l)n.push(s)}return n};var ee=function e(t){var i=t===$,n=P(i?z:w(t)),o=[],s=0,a;while(n.length>s){if(r(B,a=n[s++])&&(i?r($,a):true))o.push(B[a])}return o};if(!H){M=function e(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:undefined);var i=function(e){if(this===$)i.call(z,e);if(r(this,R)&&r(this[R],t))this[R][t]=false;q(this,t,_(1,e))};if(o&&W)q($,t,{configurable:true,set:i});return Y(t)};a(M[F],"toString",function e(){return this._k});S.f=Q;T.f=G;i(77).f=C.f=J;i(74).f=K;i(73).f=ee;if(o&&!i(14)){a($,"propertyIsEnumerable",K,true)}p.f=function(e){return Y(f(e))}}s(s.G+s.W+s.F*!H,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)f(te[ie++]);for(var te=D(f.store),ie=0;te.length>ie;)m(te[ie++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=M(e)},keyFor:function e(t){if(V(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=true},useSimple:function(){W=false}});s(s.S+s.F*!H,"Object",{create:Z,defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});A&&s(s.S+s.F*(!H||d(function(){var e=M();return I([e])!="[null]"||I({a:e})!="{}"||I(Object(e))!="{}"})),"JSON",{stringify:function e(t){if(t===undefined||V(t))return;var i=[t],n=1,r,o;while(arguments.length>n)i.push(arguments[n++]);r=i[1];if(typeof r=="function")o=r;if(o||!y(r))r=function(e,t){if(o)t=o.call(this,e,t);if(!V(t))return t};i[1]=r;return I.apply(A,i)}});M[F][N]||i(20)(M[F],N,M[F].valueOf);h(M,"Symbol");h(Math,"Math",true);h(n.JSON,"JSON",true)},function(e,t,i){var n=i(43)("meta"),r=i(23),o=i(31),s=i(21).f,a=0;var l=Object.isExtensible||function(){return true};var d=!i(26)(function(){return l(Object.preventExtensions({}))});var u=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})};var h=function(e,t){if(!r(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i};var c=function(e,t){if(!o(e,n)){if(!l(e))return true;if(!t)return false;u(e)}return e[n].w};var f=function(e){if(d&&p.NEED&&l(e)&&!o(e,n))u(e);return e};var p=e.exports={KEY:n,NEED:false,fastKey:h,getWeak:c,onFreeze:f}},function(e,t,i){var n=i(16),r=i(17),o=i(14),s=i(65),a=i(21).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});if(e.charAt(0)!="_"&&!(e in t))a(t,e,{value:s.f(e)})}},function(e,t,i){var n=i(35),r=i(9);e.exports=function(e,t){var i=r(e),o=n(i),s=o.length,a=0,l;while(s>a)if(i[l=o[a++]]===t)return l}},function(e,t,i){var n=i(35),r=i(73),o=i(74);e.exports=function(e){var t=n(e),i=r.f;if(i){var s=i(e),a=o.f,l=0,d;while(s.length>l)if(a.call(e,d=s[l++]))t.push(d)}return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(11);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,i){var n=i(9),r=i(77).f,o={}.toString;var s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var a=function(e){try{return r(e)}catch(e){return s.slice()}};e.exports.f=function e(t){return s&&o.call(t)=="[object Window]"?a(t):r(n(t))}},function(e,t,i){var n=i(36),r=i(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,r)}},function(e,t,i){var n=i(74),r=i(29),o=i(9),s=i(28),a=i(31),l=i(24),d=Object.getOwnPropertyDescriptor;t.f=i(25)?d:function e(t,i){t=o(t);i=s(i,true);if(l)try{return d(t,i)}catch(e){}if(a(t,i))return r(!n.f.call(t,i),t[i])}},function(e,t){},function(e,t,i){i(70)("asyncIterator")},function(e,t,i){i(70)("observable")},function(e,t,i){"use strict";e.exports=typeof window!=="undefined"&&window["moment"]||i(83)},function(e,t,i){(function(e){(function(t,i){true?e.exports=i():typeof define==="function"&&define.amd?define(i):t.moment=i()})(this,function(){"use strict";var t;function i(){return t.apply(null,arguments)}function n(e){t=e}function r(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function o(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function s(e){var t;for(t in e){return false}return true}function a(e){return e===void 0}function l(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function d(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u(e,t){var i=[],n;for(n=0;n<e.length;++n){i.push(t(e[n],n))}return i}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var i in t){if(h(t,i)){e[i]=t[i]}}if(h(t,"toString")){e.toString=t.toString}if(h(t,"valueOf")){e.valueOf=t.valueOf}return e}function f(e,t,i,n){return $i(e,t,i,n,true).utc()}function p(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function m(e){if(e._pf==null){e._pf=p()}return e._pf}var v;if(Array.prototype.some){v=Array.prototype.some}else{v=function(e){var t=Object(this);var i=t.length>>>0;for(var n=0;n<i;n++){if(n in t&&e.call(this,t[n],n,t)){return true}}return false}}var g=v;function y(e){if(e._isValid==null){var t=m(e);var i=g.call(t.parsedDateParts,function(e){return e!=null});var n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict){n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=n}else{return n}}return e._isValid}function b(e){var t=f(NaN);if(e!=null){c(m(t),e)}else{m(t).userInvalidated=true}return t}var w=i.momentProperties=[];function x(e,t){var i,n,r;if(!a(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!a(t._i)){e._i=t._i}if(!a(t._f)){e._f=t._f}if(!a(t._l)){e._l=t._l}if(!a(t._strict)){e._strict=t._strict}if(!a(t._tzm)){e._tzm=t._tzm}if(!a(t._isUTC)){e._isUTC=t._isUTC}if(!a(t._offset)){e._offset=t._offset}if(!a(t._pf)){e._pf=m(t)}if(!a(t._locale)){e._locale=t._locale}if(w.length>0){for(i=0;i<w.length;i++){n=w[i];r=t[n];if(!a(r)){e[n]=r}}}return e}var _=false;function k(e){x(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(_===false){_=true;i.updateOffset(this);_=false}}function C(e){return e instanceof k||e!=null&&e._isAMomentObject!=null}function S(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function T(e){var t=+e,i=0;if(t!==0&&isFinite(t)){i=S(t)}return i}function D(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++){if(i&&e[s]!==t[s]||!i&&T(e[s])!==T(t[s])){o++}}return o+r}function E(e){if(i.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function O(e,t){var n=true;return c(function(){if(i.deprecationHandler!=null){i.deprecationHandler(null,e)}if(n){var r=[];var o;for(var s=0;s<arguments.length;s++){o="";if(typeof arguments[s]==="object"){o+="\n["+s+"] ";for(var a in arguments[0]){o+=a+": "+arguments[0][a]+", "}o=o.slice(0,-2)}else{o=arguments[s]}r.push(o)}E(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack);n=false}return t.apply(this,arguments)},t)}var P={};function M(e,t){if(i.deprecationHandler!=null){i.deprecationHandler(e,t)}if(!P[e]){E(t);P[e]=true}}i.suppressDeprecationWarnings=false;i.deprecationHandler=null;function A(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function I(e){var t,i;for(i in e){t=e[i];if(A(t)){this[i]=t}else{this["_"+i]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F(e,t){var i=c({},e),n;for(n in t){if(h(t,n)){if(o(e[n])&&o(t[n])){i[n]={};c(i[n],e[n]);c(i[n],t[n])}else if(t[n]!=null){i[n]=t[n]}else{delete i[n]}}}for(n in e){if(h(e,n)&&!h(t,n)&&o(e[n])){i[n]=c({},i[n])}}return i}function R(e){if(e!=null){this.set(e)}}var N;if(Object.keys){N=Object.keys}else{N=function(e){var t,i=[];for(t in e){if(h(e,t)){i.push(t)}}return i}}var L=N;var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B(e,t,i){var n=this._calendar[e]||this._calendar["sameElse"];return A(n)?n.call(t,i):n}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];if(t||!i){return t}this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var H="Invalid date";function U(){return this._invalidDate}var W="%d";var q=/\d{1,2}/;function Y(e){return this._ordinal.replace("%d",e)}var V={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function G(e,t,i,n){var r=this._relativeTime[i];return A(r)?r(e,t,i,n):r.replace(/%d/i,e)}function X(e,t){var i=this._relativeTime[e>0?"future":"past"];return A(i)?i(t):i.replace(/%s/i,t)}var Z={};function K(e,t){var i=e.toLowerCase();Z[i]=Z[i+"s"]=Z[t]=e}function Q(e){return typeof e==="string"?Z[e]||Z[e.toLowerCase()]:undefined}function J(e){var t={},i,n;for(n in e){if(h(e,n)){i=Q(n);if(i){t[i]=e[n]}}}return t}var ee={};function te(e,t){ee[e]=t}function ie(e){var t=[];for(var i in e){t.push({unit:i,priority:ee[i]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ne(e,t){return function(n){if(n!=null){oe(this,e,n);i.updateOffset(this,t);return this}else{return re(this,e)}}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function oe(e,t,i){if(e.isValid()){e._d["set"+(e._isUTC?"UTC":"")+t](i)}}function se(e){e=Q(e);if(A(this[e])){return this[e]()}return this}function ae(e,t){if(typeof e==="object"){e=J(e);var i=ie(e);for(var n=0;n<i.length;n++){this[i[n].unit](e[i[n].unit])}}else{e=Q(e);if(A(this[e])){return this[e](t)}}return this}function le(e,t,i){var n=""+Math.abs(e),r=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var de=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var ue=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var he={};var ce={};function fe(e,t,i,n){var r=n;if(typeof n==="string"){r=function(){return this[n]()}}if(e){ce[e]=r}if(t){ce[t[0]]=function(){return le(r.apply(this,arguments),t[1],t[2])}}if(i){ce[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)}}}function pe(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function me(e){var t=e.match(de),i,n;for(i=0,n=t.length;i<n;i++){if(ce[t[i]]){t[i]=ce[t[i]]}else{t[i]=pe(t[i])}}return function(i){var r="",o;for(o=0;o<n;o++){r+=A(t[o])?t[o].call(i,e):t[o]}return r}}function ve(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=ge(t,e.localeData());he[t]=he[t]||me(t);return he[t](e)}function ge(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}ue.lastIndex=0;while(i>=0&&ue.test(e)){e=e.replace(ue,n);ue.lastIndex=0;i-=1}return e}var ye=/\d/;var be=/\d\d/;var we=/\d{3}/;var xe=/\d{4}/;var _e=/[+-]?\d{6}/;var ke=/\d\d?/;var Ce=/\d\d\d\d?/;var Se=/\d\d\d\d\d\d?/;var Te=/\d{1,3}/;var De=/\d{1,4}/;var Ee=/[+-]?\d{1,6}/;var Oe=/\d+/;var Pe=/[+-]?\d+/;var Me=/Z|[+-]\d\d:?\d\d/gi;var Ae=/Z|[+-]\d\d(?::?\d\d)?/gi;var Ie=/[+-]?\d+(\.\d{1,3})?/;var Fe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Re={};function Ne(e,t,i){Re[e]=A(t)?t:function(e,n){return e&&i?i:t}}function Le(e,t){if(!h(Re,e)){return new RegExp(je(e))}return Re[e](t._strict,t._locale)}function je(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ze={};function $e(e,t){var i,n=t;if(typeof e==="string"){e=[e]}if(l(t)){n=function(e,i){i[t]=T(e)}}for(i=0;i<e.length;i++){ze[e[i]]=n}}function He(e,t){$e(e,function(e,i,n,r){n._w=n._w||{};t(e,n._w,n,r)})}function Ue(e,t,i){if(t!=null&&h(ze,e)){ze[e](t,i._a,i,e)}}var We=0;var qe=1;var Ye=2;var Ve=3;var Ge=4;var Xe=5;var Ze=6;var Ke=7;var Qe=8;var Je;if(Array.prototype.indexOf){Je=Array.prototype.indexOf}else{Je=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}var et=Je;function tt(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}fe("M",["MM",2],"Mo",function(){return this.month()+1});fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});K("month","M");te("month",8);Ne("M",ke);Ne("MM",ke,be);Ne("MMM",function(e,t){return t.monthsShortRegex(e)});Ne("MMMM",function(e,t){return t.monthsRegex(e)});$e(["M","MM"],function(e,t){t[qe]=T(e)-1});$e(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);if(r!=null){t[qe]=r}else{m(i).invalidMonth=e}});var it=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function rt(e,t){if(!e){return r(this._months)?this._months:this._months["standalone"]}return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||it).test(t)?"format":"standalone"][e.month()]}var ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function st(e,t){if(!e){return r(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[it.test(t)?"format":"standalone"][e.month()]}function at(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){o=f([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase()}}if(i){if(t==="MMM"){r=et.call(this._shortMonthsParse,s);return r!==-1?r:null}else{r=et.call(this._longMonthsParse,s);return r!==-1?r:null}}else{if(t==="MMM"){r=et.call(this._shortMonthsParse,s);if(r!==-1){return r}r=et.call(this._longMonthsParse,s);return r!==-1?r:null}else{r=et.call(this._longMonthsParse,s);if(r!==-1){return r}r=et.call(this._shortMonthsParse,s);return r!==-1?r:null}}}function lt(e,t,i){var n,r,o;if(this._monthsParseExact){return at.call(this,e,t,i)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=f([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){o="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="MMMM"&&this._longMonthsParse[n].test(e)){return n}else if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e)){return n}else if(!i&&this._monthsParse[n].test(e)){return n}}}function dt(e,t){var i;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=T(t)}else{t=e.localeData().monthsParse(t);if(!l(t)){return e}}}i=Math.min(e.date(),tt(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i);return e}function ut(e){if(e!=null){dt(this,e);i.updateOffset(this,true);return this}else{return re(this,"Month")}}function ht(){return tt(this.year(),this.month())}var ct=Fe;function ft(e){if(this._monthsParseExact){if(!h(this,"_monthsRegex")){vt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!h(this,"_monthsShortRegex")){this._monthsShortRegex=ct}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var pt=Fe;function mt(e){if(this._monthsParseExact){if(!h(this,"_monthsRegex")){vt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!h(this,"_monthsRegex")){this._monthsRegex=pt}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function vt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r,o;for(r=0;r<12;r++){o=f([2e3,r]);t.push(this.monthsShort(o,""));i.push(this.months(o,""));n.push(this.months(o,""));n.push(this.monthsShort(o,""))}t.sort(e);i.sort(e);n.sort(e);for(r=0;r<12;r++){t[r]=Be(t[r]);i[r]=Be(i[r])}for(r=0;r<24;r++){n[r]=Be(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}fe("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});fe(0,["YY",2],0,function(){return this.year()%100});fe(0,["YYYY",4],0,"year");fe(0,["YYYYY",5],0,"year");fe(0,["YYYYYY",6,true],0,"year");K("year","y");te("year",1);Ne("Y",Pe);Ne("YY",ke,be);Ne("YYYY",De,xe);Ne("YYYYY",Ee,_e);Ne("YYYYYY",Ee,_e);$e(["YYYYY","YYYYYY"],We);$e("YYYY",function(e,t){t[We]=e.length===2?i.parseTwoDigitYear(e):T(e)});$e("YY",function(e,t){t[We]=i.parseTwoDigitYear(e)});$e("Y",function(e,t){t[We]=parseInt(e,10)});function gt(e){return yt(e)?366:365}function yt(e){return e%4===0&&e%100!==0||e%400===0}i.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)};var bt=ne("FullYear",true);function wt(){return yt(this.year())}function xt(e,t,i,n,r,o,s){var a=new Date(e,t,i,n,r,o,s);if(e<100&&e>=0&&isFinite(a.getFullYear())){a.setFullYear(e)}return a}function _t(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function kt(e,t,i){var n=7+t-i,r=(7+_t(e,0,n).getUTCDay()-t)%7;return-r+n-1}function Ct(e,t,i,n,r){var o=(7+i-n)%7,s=kt(e,n,r),a=1+7*(t-1)+o+s,l,d;if(a<=0){l=e-1;d=gt(l)+a}else if(a>gt(e)){l=e+1;d=a-gt(e)}else{l=e;d=a}return{year:l,dayOfYear:d}}function St(e,t,i){var n=kt(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1,o,s;if(r<1){s=e.year()-1;o=r+Tt(s,t,i)}else if(r>Tt(e.year(),t,i)){o=r-Tt(e.year(),t,i);s=e.year()+1}else{s=e.year();o=r}return{week:o,year:s}}function Tt(e,t,i){var n=kt(e,t,i),r=kt(e+1,t,i);return(gt(e)-n+r)/7}fe("w",["ww",2],"wo","week");fe("W",["WW",2],"Wo","isoWeek");K("week","w");K("isoWeek","W");te("week",5);te("isoWeek",5);Ne("w",ke);Ne("ww",ke,be);Ne("W",ke);Ne("WW",ke,be);He(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=T(e)});function Dt(e){return St(e,this._week.dow,this._week.doy).week}var Et={dow:0,doy:6};function Ot(){return this._week.dow}function Pt(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function At(e){var t=St(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}fe("d",0,"do","day");fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fe("e",0,0,"weekday");fe("E",0,0,"isoWeekday");K("day","d");K("weekday","e");K("isoWeekday","E");te("day",11);te("weekday",11);te("isoWeekday",11);Ne("d",ke);Ne("e",ke);Ne("E",ke);Ne("dd",function(e,t){return t.weekdaysMinRegex(e)});Ne("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ne("dddd",function(e,t){return t.weekdaysRegex(e)});He(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);if(r!=null){t.d=r}else{m(i).invalidWeekday=e}});He(["d","e","E"],function(e,t,i,n){t[n]=T(e)});function It(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function Ft(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Nt(e,t){if(!e){return r(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Lt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function jt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function zt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $t(e,t,i){var n,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){o=f([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase()}}if(i){if(t==="dddd"){r=et.call(this._weekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=et.call(this._shortWeekdaysParse,s);return r!==-1?r:null}else{r=et.call(this._minWeekdaysParse,s);return r!==-1?r:null}}else{if(t==="dddd"){r=et.call(this._weekdaysParse,s);if(r!==-1){return r}r=et.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=et.call(this._minWeekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=et.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=et.call(this._weekdaysParse,s);if(r!==-1){return r}r=et.call(this._minWeekdaysParse,s);return r!==-1?r:null}else{r=et.call(this._minWeekdaysParse,s);if(r!==-1){return r}r=et.call(this._weekdaysParse,s);if(r!==-1){return r}r=et.call(this._shortWeekdaysParse,s);return r!==-1?r:null}}}function Ht(e,t,i){var n,r,o;if(this._weekdaysParseExact){return $t.call(this,e,t,i)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=f([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e)){return n}else if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e)){return n}else if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e)){return n}else if(!i&&this._weekdaysParse[n].test(e)){return n}}}function Ut(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=It(e,this.localeData());return this.add(e-t,"d")}else{return t}}function Wt(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function qt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=Ft(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var Yt=Fe;function Vt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!h(this,"_weekdaysRegex")){this._weekdaysRegex=Yt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var Gt=Fe;function Xt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!h(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Gt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Zt=Fe;function Kt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!h(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Zt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Qt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r=[],o,s,a,l,d;for(o=0;o<7;o++){s=f([2e3,1]).day(o);a=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");d=this.weekdays(s,"");t.push(a);i.push(l);n.push(d);r.push(a);r.push(l);r.push(d)}t.sort(e);i.sort(e);n.sort(e);r.sort(e);for(o=0;o<7;o++){i[o]=Be(i[o]);n[o]=Be(n[o]);r[o]=Be(r[o])}this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Jt(){return this.hours()%12||12}function ei(){return this.hours()||24}fe("H",["HH",2],0,"hour");fe("h",["hh",2],0,Jt);fe("k",["kk",2],0,ei);fe("hmm",0,0,function(){return""+Jt.apply(this)+le(this.minutes(),2)});fe("hmmss",0,0,function(){return""+Jt.apply(this)+le(this.minutes(),2)+le(this.seconds(),2)});fe("Hmm",0,0,function(){return""+this.hours()+le(this.minutes(),2)});fe("Hmmss",0,0,function(){return""+this.hours()+le(this.minutes(),2)+le(this.seconds(),2)});function ti(e,t){fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ti("a",true);ti("A",false);K("hour","h");te("hour",13);function ii(e,t){return t._meridiemParse}Ne("a",ii);Ne("A",ii);Ne("H",ke);Ne("h",ke);Ne("k",ke);Ne("HH",ke,be);Ne("hh",ke,be);Ne("kk",ke,be);Ne("hmm",Ce);Ne("hmmss",Se);Ne("Hmm",Ce);Ne("Hmmss",Se);$e(["H","HH"],Ve);$e(["k","kk"],function(e,t,i){var n=T(e);t[Ve]=n===24?0:n});$e(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e);i._meridiem=e});$e(["h","hh"],function(e,t,i){t[Ve]=T(e);m(i).bigHour=true});$e("hmm",function(e,t,i){var n=e.length-2;t[Ve]=T(e.substr(0,n));t[Ge]=T(e.substr(n));m(i).bigHour=true});$e("hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ve]=T(e.substr(0,n));t[Ge]=T(e.substr(n,2));t[Xe]=T(e.substr(r));m(i).bigHour=true});$e("Hmm",function(e,t,i){var n=e.length-2;t[Ve]=T(e.substr(0,n));t[Ge]=T(e.substr(n))});$e("Hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ve]=T(e.substr(0,n));t[Ge]=T(e.substr(n,2));t[Xe]=T(e.substr(r))});function ni(e){return(e+"").toLowerCase().charAt(0)==="p"}var ri=/[ap]\.?m?\.?/i;function oi(e,t,i){if(e>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var si=ne("Hours",true);var ai={calendar:j,longDateFormat:z,invalidDate:H,ordinal:W,dayOfMonthOrdinalParse:q,relativeTime:V,months:nt,monthsShort:ot,week:Et,weekdays:Rt,weekdaysMin:Bt,weekdaysShort:Lt,meridiemParse:ri};var li={};var di={};var ui;function hi(e){return e?e.toLowerCase().replace("_","-"):e}function ci(e){var t=0,i,n,r,o;while(t<e.length){o=hi(e[t]).split("-");i=o.length;n=hi(e[t+1]);n=n?n.split("-"):null;while(i>0){r=fi(o.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&D(o,n,true)>=i-1){break}i--}t++}return null}function fi(t){var i=null;if(!li[t]&&typeof e!=="undefined"&&e&&e.exports){try{i=ui._abbr;!function e(){var t=new Error('Cannot find module "./locale"');t.code="MODULE_NOT_FOUND";throw t}();pi(i)}catch(e){}}return li[t]}function pi(e,t){var i;if(e){if(a(t)){i=gi(e)}else{i=mi(e,t)}if(i){ui=i}}return ui._abbr}function mi(e,t){if(t!==null){var i=ai;t.abbr=e;if(li[e]!=null){M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");i=li[e]._config}else if(t.parentLocale!=null){if(li[t.parentLocale]!=null){i=li[t.parentLocale]._config}else{if(!di[t.parentLocale]){di[t.parentLocale]=[]}di[t.parentLocale].push({name:e,config:t});return null}}li[e]=new R(F(i,t));if(di[e]){di[e].forEach(function(e){mi(e.name,e.config)})}pi(e);return li[e]}else{delete li[e];return null}}function vi(e,t){if(t!=null){var i,n=ai;if(li[e]!=null){n=li[e]._config}t=F(n,t);i=new R(t);i.parentLocale=li[e];li[e]=i;pi(e)}else{if(li[e]!=null){if(li[e].parentLocale!=null){li[e]=li[e].parentLocale}else if(li[e]!=null){delete li[e]}}}return li[e]}function gi(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return ui}if(!r(e)){t=fi(e);if(t){return t}e=[e]}return ci(e)}function yi(){return L(li)}function bi(e){var t;var i=e._a;if(i&&m(e).overflow===-2){t=i[qe]<0||i[qe]>11?qe:i[Ye]<1||i[Ye]>tt(i[We],i[qe])?Ye:i[Ve]<0||i[Ve]>24||i[Ve]===24&&(i[Ge]!==0||i[Xe]!==0||i[Ze]!==0)?Ve:i[Ge]<0||i[Ge]>59?Ge:i[Xe]<0||i[Xe]>59?Xe:i[Ze]<0||i[Ze]>999?Ze:-1;if(m(e)._overflowDayOfYear&&(t<We||t>Ye)){t=Ye}if(m(e)._overflowWeeks&&t===-1){t=Ke}if(m(e)._overflowWeekday&&t===-1){t=Qe}m(e).overflow=t}return e}var wi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var xi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var _i=/Z|[+-]\d\d(?::?\d\d)?/;var ki=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var Ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Si=/^\/?Date\((\-?\d+)/i;function Ti(e){var t,i,n=e._i,r=wi.exec(n)||xi.exec(n),o,s,a,l;if(r){m(e).iso=true;for(t=0,i=ki.length;t<i;t++){if(ki[t][1].exec(r[1])){s=ki[t][0];o=ki[t][2]!==false;break}}if(s==null){e._isValid=false;return}if(r[3]){for(t=0,i=Ci.length;t<i;t++){if(Ci[t][1].exec(r[3])){a=(r[2]||" ")+Ci[t][0];break}}if(a==null){e._isValid=false;return}}if(!o&&a!=null){e._isValid=false;return}if(r[4]){if(_i.exec(r[4])){l="Z"}else{e._isValid=false;return}}e._f=s+(a||"")+(l||"");Fi(e)}else{e._isValid=false}}var Di=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function Ei(e){var t,i,n,r,o,s;var a={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var l="YXWVUTSRQPONZABCDEFGHIKLM";var d,u;t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");i=Di.exec(t);if(i){n=i[1]?"ddd"+(i[1].length===5?", ":" "):"";r="D MMM "+(i[2].length>10?"YYYY ":"YY ");o="HH:mm"+(i[4]?":ss":"");if(i[1]){var h=new Date(i[2]);var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(i[1].substr(0,3)!==c){m(e).weekdayMismatch=true;e._isValid=false;return}}switch(i[5].length){case 2:if(u===0){d=" +0000"}else{u=l.indexOf(i[5][1].toUpperCase())-12;d=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00"}break;case 4:d=a[i[5]];break;default:d=a[" GMT"]}i[5]=d;e._i=i.splice(1).join("");s=" ZZ";e._f=n+r+o+s;Fi(e);m(e).rfc2822=true}else{e._isValid=false}}function Oi(e){var t=Si.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}Ti(e);if(e._isValid===false){delete e._isValid}else{return}Ei(e);if(e._isValid===false){delete e._isValid}else{return}i.createFromInputFallback(e)}i.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Pi(e,t,i){if(e!=null){return e}if(t!=null){return t}return i}function Mi(e){var t=new Date(i.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function Ai(e){var t,i,n=[],r,o;if(e._d){return}r=Mi(e);if(e._w&&e._a[Ye]==null&&e._a[qe]==null){Ii(e)}if(e._dayOfYear!=null){o=Pi(e._a[We],r[We]);if(e._dayOfYear>gt(o)||e._dayOfYear===0){m(e)._overflowDayOfYear=true}i=_t(o,0,e._dayOfYear);e._a[qe]=i.getUTCMonth();e._a[Ye]=i.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=r[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ve]===24&&e._a[Ge]===0&&e._a[Xe]===0&&e._a[Ze]===0){e._nextDay=true;e._a[Ve]=0}e._d=(e._useUTC?_t:xt).apply(null,n);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ve]=24}}function Ii(e){var t,i,n,r,o,s,a,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){o=1;s=4;i=Pi(t.GG,e._a[We],St(Hi(),1,4).year);n=Pi(t.W,1);r=Pi(t.E,1);if(r<1||r>7){l=true}}else{o=e._locale._week.dow;s=e._locale._week.doy;var d=St(Hi(),o,s);i=Pi(t.gg,e._a[We],d.year);n=Pi(t.w,d.week);if(t.d!=null){r=t.d;if(r<0||r>6){l=true}}else if(t.e!=null){r=t.e+o;if(t.e<0||t.e>6){l=true}}else{r=o}}if(n<1||n>Tt(i,o,s)){m(e)._overflowWeeks=true}else if(l!=null){m(e)._overflowWeekday=true}else{a=Ct(i,n,r,o,s);e._a[We]=a.year;e._dayOfYear=a.dayOfYear}}i.ISO_8601=function(){};i.RFC_2822=function(){};function Fi(e){if(e._f===i.ISO_8601){Ti(e);return}if(e._f===i.RFC_2822){Ei(e);return}e._a=[];m(e).empty=true;var t=""+e._i,n,r,o,s,a,l=t.length,d=0;o=ge(e._f,e._locale).match(de)||[];for(n=0;n<o.length;n++){s=o[n];r=(t.match(Le(s,e))||[])[0];if(r){a=t.substr(0,t.indexOf(r));if(a.length>0){m(e).unusedInput.push(a)}t=t.slice(t.indexOf(r)+r.length);d+=r.length}if(ce[s]){if(r){m(e).empty=false}else{m(e).unusedTokens.push(s)}Ue(s,r,e)}else if(e._strict&&!r){m(e).unusedTokens.push(s)}}m(e).charsLeftOver=l-d;if(t.length>0){m(e).unusedInput.push(t)}if(e._a[Ve]<=12&&m(e).bigHour===true&&e._a[Ve]>0){m(e).bigHour=undefined}m(e).parsedDateParts=e._a.slice(0);m(e).meridiem=e._meridiem;e._a[Ve]=Ri(e._locale,e._a[Ve],e._meridiem);Ai(e);bi(e)}function Ri(e,t,i){var n;if(i==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,i)}else if(e.isPM!=null){n=e.isPM(i);if(n&&t<12){t+=12}if(!n&&t===12){t=0}return t}else{return t}}function Ni(e){var t,i,n,r,o;if(e._f.length===0){m(e).invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){o=0;t=x({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[r];Fi(t);if(!y(t)){continue}o+=m(t).charsLeftOver;o+=m(t).unusedTokens.length*10;m(t).score=o;if(n==null||o<n){n=o;i=t}}c(e,i||t)}function Li(e){if(e._d){return}var t=J(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});Ai(e)}function ji(e){var t=new k(bi(Bi(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function Bi(e){var t=e._i,i=e._f;e._locale=e._locale||gi(e._l);if(t===null||i===undefined&&t===""){return b({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(C(t)){return new k(bi(t))}else if(d(t)){e._d=t}else if(r(i)){Ni(e)}else if(i){Fi(e)}else{zi(e)}if(!y(e)){e._d=null}return e}function zi(e){var t=e._i;if(a(t)){e._d=new Date(i.now())}else if(d(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){Oi(e)}else if(r(t)){e._a=u(t.slice(0),function(e){return parseInt(e,10)});Ai(e)}else if(o(t)){Li(e)}else if(l(t)){e._d=new Date(t)}else{i.createFromInputFallback(e)}}function $i(e,t,i,n,a){var l={};if(i===true||i===false){n=i;i=undefined}if(o(e)&&s(e)||r(e)&&e.length===0){e=undefined}l._isAMomentObject=true;l._useUTC=l._isUTC=a;l._l=i;l._i=e;l._f=t;l._strict=n;return ji(l)}function Hi(e,t,i,n){return $i(e,t,i,n,false)}var Ui=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hi.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return b()}});var Wi=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hi.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return b()}});function qi(e,t){var i,n;if(t.length===1&&r(t[0])){t=t[0]}if(!t.length){return Hi()}i=t[0];for(n=1;n<t.length;++n){if(!t[n].isValid()||t[n][e](i)){i=t[n]}}return i}function Yi(){var e=[].slice.call(arguments,0);return qi("isBefore",e)}function Vi(){var e=[].slice.call(arguments,0);return qi("isAfter",e)}var Gi=function(){return Date.now?Date.now():+new Date};var Xi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Zi(e){for(var t in e){if(!(Xi.indexOf(t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var i=false;for(var n=0;n<Xi.length;++n){if(e[Xi[n]]){if(i){return false}if(parseFloat(e[Xi[n]])!==T(e[Xi[n]])){i=true}}}return true}function Ki(){return this._isValid}function Qi(){return xn(NaN)}function Ji(e){var t=J(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=Zi(t);this._milliseconds=+u+d*1e3+l*6e4+a*1e3*60*60;this._days=+s+o*7;this._months=+r+n*3+i*12;this._data={};this._locale=gi();this._bubble()}function en(e){return e instanceof Ji}function tn(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function nn(e,t){fe(e,0,0,function(){var e=this.utcOffset();var i="+";if(e<0){e=-e;i="-"}return i+le(~~(e/60),2)+t+le(~~e%60,2)})}nn("Z",":");nn("ZZ","");Ne("Z",Ae);Ne("ZZ",Ae);$e(["Z","ZZ"],function(e,t,i){i._useUTC=true;i._tzm=on(Ae,e)});var rn=/([\+\-]|\d\d)/gi;function on(e,t){var i=(t||"").match(e);if(i===null){return null}var n=i[i.length-1]||[];var r=(n+"").match(rn)||["-",0,0];var o=+(r[1]*60)+T(r[2]);return o===0?0:r[0]==="+"?o:-o}function sn(e,t){var n,r;if(t._isUTC){n=t.clone();r=(C(e)||d(e)?e.valueOf():Hi(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);i.updateOffset(n,false);return n}else{return Hi(e).local()}}function an(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}i.updateOffset=function(){};function ln(e,t,n){var r=this._offset||0,o;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=on(Ae,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&t){o=an(this)}this._offset=e;this._isUTC=true;if(o!=null){this.add(o,"m")}if(r!==e){if(!t||this._changeInProgress){Tn(this,xn(e-r,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;i.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?r:an(this)}}function dn(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function un(e){return this.utcOffset(0,e)}function hn(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(an(this),"m")}}return this}function cn(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=on(Me,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function fn(e){if(!this.isValid()){return false}e=e?Hi(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function pn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function mn(){if(!a(this._isDSTShifted)){return this._isDSTShifted}var e={};x(e,this);e=Bi(e);if(e._a){var t=e._isUTC?f(e._a):Hi(e._a);this._isDSTShifted=this.isValid()&&D(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function vn(){return this.isValid()?!this._isUTC:false}function gn(){return this.isValid()?this._isUTC:false}function yn(){return this.isValid()?this._isUTC&&this._offset===0:false}var bn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var wn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function xn(e,t){var i=e,n=null,r,o,s;if(en(e)){i={ms:e._milliseconds,d:e._days,M:e._months}}else if(l(e)){i={};if(t){i[t]=e}else{i.milliseconds=e}}else if(!!(n=bn.exec(e))){r=n[1]==="-"?-1:1;i={y:0,d:T(n[Ye])*r,h:T(n[Ve])*r,m:T(n[Ge])*r,s:T(n[Xe])*r,ms:T(tn(n[Ze]*1e3))*r}}else if(!!(n=wn.exec(e))){r=n[1]==="-"?-1:1;i={y:_n(n[2],r),M:_n(n[3],r),w:_n(n[4],r),d:_n(n[5],r),h:_n(n[6],r),m:_n(n[7],r),s:_n(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){s=Cn(Hi(i.from),Hi(i.to));i={};i.ms=s.milliseconds;i.M=s.months}o=new Ji(i);if(en(e)&&h(e,"_locale")){o._locale=e._locale}return o}xn.fn=Ji.prototype;xn.invalid=Qi;function _n(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function kn(e,t){var i={milliseconds:0,months:0};i.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(i.months,"M").isAfter(t)){--i.months}i.milliseconds=+t-+e.clone().add(i.months,"M");return i}function Cn(e,t){var i;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=sn(t,e);if(e.isBefore(t)){i=kn(e,t)}else{i=kn(t,e);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function Sn(e,t){return function(i,n){var r,o;if(n!==null&&!isNaN(+n)){M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");o=i;i=n;n=o}i=typeof i==="string"?+i:i;r=xn(i,n);Tn(this,r,e);return this}}function Tn(e,t,n,r){var o=t._milliseconds,s=tn(t._days),a=tn(t._months);if(!e.isValid()){return}r=r==null?true:r;if(o){e._d.setTime(e._d.valueOf()+o*n)}if(s){oe(e,"Date",re(e,"Date")+s*n)}if(a){dt(e,re(e,"Month")+a*n)}if(r){i.updateOffset(e,s||a)}}var Dn=Sn(1,"add");var En=Sn(-1,"subtract");function On(e,t){var i=e.diff(t,"days",true);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Pn(e,t){var n=e||Hi(),r=sn(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse";var s=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Hi(n)))}function Mn(){return new k(this)}function An(e,t){var i=C(e)?e:Hi(e);if(!(this.isValid()&&i.isValid())){return false}t=Q(!a(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>i.valueOf()}else{return i.valueOf()<this.clone().startOf(t).valueOf()}}function In(e,t){var i=C(e)?e:Hi(e);if(!(this.isValid()&&i.isValid())){return false}t=Q(!a(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<i.valueOf()}else{return this.clone().endOf(t).valueOf()<i.valueOf()}}function Fn(e,t,i,n){n=n||"()";return(n[0]==="("?this.isAfter(e,i):!this.isBefore(e,i))&&(n[1]===")"?this.isBefore(t,i):!this.isAfter(t,i))}function Rn(e,t){var i=C(e)?e:Hi(e),n;if(!(this.isValid()&&i.isValid())){return false}t=Q(t||"millisecond");if(t==="millisecond"){return this.valueOf()===i.valueOf()}else{n=i.valueOf();return this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()}}function Nn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ln(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function jn(e,t,i){var n,r,o,s;if(!this.isValid()){return NaN}n=sn(e,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;t=Q(t);if(t==="year"||t==="month"||t==="quarter"){s=Bn(this,n);if(t==="quarter"){s=s/3}else if(t==="year"){s=s/12}}else{o=this-n;s=t==="second"?o/1e3:t==="minute"?o/6e4:t==="hour"?o/36e5:t==="day"?(o-r)/864e5:t==="week"?(o-r)/6048e5:o}return i?s:S(s)}function Bn(e,t){var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),r,o;if(t-n<0){r=e.clone().add(i-1,"months");o=(t-n)/(n-r)}else{r=e.clone().add(i+1,"months");o=(t-n)/(r-n)}return-(i+o)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $n(){if(!this.isValid()){return null}var e=this.clone().utc();if(e.year()<0||e.year()>9999){return ve(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(A(Date.prototype.toISOString)){return this.toDate().toISOString()}return ve(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Hn(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var i="["+e+'("]';var n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var r="-MM-DD[T]HH:mm:ss.SSS";var o=t+'[")]';return this.format(i+n+r+o)}function Un(e){if(!e){e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat}var t=ve(this,e);return this.localeData().postformat(t)}function Wn(e,t){if(this.isValid()&&(C(e)&&e.isValid()||Hi(e).isValid())){return xn({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function qn(e){return this.from(Hi(),e)}function Yn(e,t){if(this.isValid()&&(C(e)&&e.isValid()||Hi(e).isValid())){return xn({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Vn(e){return this.to(Hi(),e)}function Gn(e){var t;if(e===undefined){return this._locale._abbr}else{t=gi(e);if(t!=null){this._locale=t}return this}}var Xn=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function Zn(){return this._locale}function Kn(e){e=Q(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Qn(e){e=Q(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function Jn(){return this._d.valueOf()-(this._offset||0)*6e4}function er(){return Math.floor(this.valueOf()/1e3)}function tr(){return new Date(this.valueOf())}function ir(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function nr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function rr(){return this.isValid()?this.toISOString():null}function or(){return y(this)}function sr(){return c({},m(this))}function ar(){return m(this).overflow}function lr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe(0,["gg",2],0,function(){return this.weekYear()%100});fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function dr(e,t){fe(0,[e,e.length],0,t)}dr("gggg","weekYear");dr("ggggg","weekYear");dr("GGGG","isoWeekYear");dr("GGGGG","isoWeekYear");K("weekYear","gg");K("isoWeekYear","GG");te("weekYear",1);te("isoWeekYear",1);Ne("G",Pe);Ne("g",Pe);Ne("GG",ke,be);Ne("gg",ke,be);Ne("GGGG",De,xe);Ne("gggg",De,xe);Ne("GGGGG",Ee,_e);Ne("ggggg",Ee,_e);He(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=T(e)});He(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)});function ur(e){return pr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hr(e){return pr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function cr(){return Tt(this.year(),1,4)}function fr(){var e=this.localeData()._week;return Tt(this.year(),e.dow,e.doy)}function pr(e,t,i,n,r){var o;if(e==null){return St(this,n,r).year}else{o=Tt(e,n,r);if(t>o){t=o}return mr.call(this,e,t,i,n,r)}}function mr(e,t,i,n,r){var o=Ct(e,t,i,n,r),s=_t(o.year,0,o.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}fe("Q",0,"Qo","quarter");K("quarter","Q");te("quarter",7);Ne("Q",ye);$e("Q",function(e,t){t[qe]=(T(e)-1)*3});function vr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date");K("date","D");te("date",9);Ne("D",ke);Ne("DD",ke,be);Ne("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});$e(["D","DD"],Ye);$e("Do",function(e,t){t[Ye]=T(e.match(ke)[0],10)});var gr=ne("Date",true);fe("DDD",["DDDD",3],"DDDo","dayOfYear");K("dayOfYear","DDD");te("dayOfYear",4);Ne("DDD",Te);Ne("DDDD",we);$e(["DDD","DDDD"],function(e,t,i){i._dayOfYear=T(e)});function yr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}fe("m",["mm",2],0,"minute");K("minute","m");te("minute",14);Ne("m",ke);Ne("mm",ke,be);$e(["m","mm"],Ge);var br=ne("Minutes",false);fe("s",["ss",2],0,"second");K("second","s");te("second",15);Ne("s",ke);Ne("ss",ke,be);$e(["s","ss"],Xe);var wr=ne("Seconds",false);fe("S",0,0,function(){return~~(this.millisecond()/100)});fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fe(0,["SSS",3],0,"millisecond");fe(0,["SSSS",4],0,function(){return this.millisecond()*10});fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});K("millisecond","ms");te("millisecond",16);Ne("S",Te,ye);Ne("SS",Te,be);Ne("SSS",Te,we);var xr;for(xr="SSSS";xr.length<=9;xr+="S"){Ne(xr,Oe)}function _r(e,t){t[Ze]=T(("0."+e)*1e3)}for(xr="S";xr.length<=9;xr+="S"){$e(xr,_r)}var kr=ne("Milliseconds",false);fe("z",0,0,"zoneAbbr");fe("zz",0,0,"zoneName");function Cr(){return this._isUTC?"UTC":""}function Sr(){return this._isUTC?"Coordinated Universal Time":""}var Tr=k.prototype;Tr.add=Dn;Tr.calendar=Pn;Tr.clone=Mn;Tr.diff=jn;Tr.endOf=Qn;Tr.format=Un;Tr.from=Wn;Tr.fromNow=qn;Tr.to=Yn;Tr.toNow=Vn;Tr.get=se;Tr.invalidAt=ar;Tr.isAfter=An;Tr.isBefore=In;Tr.isBetween=Fn;Tr.isSame=Rn;Tr.isSameOrAfter=Nn;Tr.isSameOrBefore=Ln;Tr.isValid=or;Tr.lang=Xn;Tr.locale=Gn;Tr.localeData=Zn;Tr.max=Wi;Tr.min=Ui;Tr.parsingFlags=sr;Tr.set=ae;Tr.startOf=Kn;Tr.subtract=En;Tr.toArray=ir;Tr.toObject=nr;Tr.toDate=tr;Tr.toISOString=$n;Tr.inspect=Hn;Tr.toJSON=rr;Tr.toString=zn;Tr.unix=er;Tr.valueOf=Jn;Tr.creationData=lr;Tr.year=bt;Tr.isLeapYear=wt;Tr.weekYear=ur;Tr.isoWeekYear=hr;Tr.quarter=Tr.quarters=vr;Tr.month=ut;Tr.daysInMonth=ht;Tr.week=Tr.weeks=Mt;Tr.isoWeek=Tr.isoWeeks=At;Tr.weeksInYear=fr;Tr.isoWeeksInYear=cr;Tr.date=gr;Tr.day=Tr.days=Ut;Tr.weekday=Wt;Tr.isoWeekday=qt;Tr.dayOfYear=yr;Tr.hour=Tr.hours=si;Tr.minute=Tr.minutes=br;Tr.second=Tr.seconds=wr;Tr.millisecond=Tr.milliseconds=kr;Tr.utcOffset=ln;Tr.utc=un;Tr.local=hn;Tr.parseZone=cn;Tr.hasAlignedHourOffset=fn;Tr.isDST=pn;Tr.isLocal=vn;Tr.isUtcOffset=gn;Tr.isUtc=yn;Tr.isUTC=yn;Tr.zoneAbbr=Cr;Tr.zoneName=Sr;Tr.dates=O("dates accessor is deprecated. Use date instead.",gr);Tr.months=O("months accessor is deprecated. Use month instead",ut);Tr.years=O("years accessor is deprecated. Use year instead",bt);Tr.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dn);Tr.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",mn);function Dr(e){return Hi(e*1e3)}function Er(){return Hi.apply(null,arguments).parseZone()}function Or(e){return e}var Pr=R.prototype;Pr.calendar=B;Pr.longDateFormat=$;Pr.invalidDate=U;Pr.ordinal=Y;Pr.preparse=Or;Pr.postformat=Or;Pr.relativeTime=G;Pr.pastFuture=X;Pr.set=I;Pr.months=rt;Pr.monthsShort=st;Pr.monthsParse=lt;Pr.monthsRegex=mt;Pr.monthsShortRegex=ft;Pr.week=Dt;Pr.firstDayOfYear=Pt;Pr.firstDayOfWeek=Ot;Pr.weekdays=Nt;Pr.weekdaysMin=zt;Pr.weekdaysShort=jt;Pr.weekdaysParse=Ht;Pr.weekdaysRegex=Vt;Pr.weekdaysShortRegex=Xt;Pr.weekdaysMinRegex=Kt;Pr.isPM=ni;Pr.meridiem=oi;function Mr(e,t,i,n){var r=gi();var o=f().set(n,t);return r[i](o,e)}function Ar(e,t,i){if(l(e)){t=e;e=undefined}e=e||"";if(t!=null){return Mr(e,t,i,"month")}var n;var r=[];for(n=0;n<12;n++){r[n]=Mr(e,n,i,"month")}return r}function Ir(e,t,i,n){if(typeof e==="boolean"){if(l(t)){i=t;t=undefined}t=t||""}else{t=e;i=t;e=false;if(l(t)){i=t;t=undefined}t=t||""}var r=gi(),o=e?r._week.dow:0;if(i!=null){return Mr(t,(i+o)%7,n,"day")}var s;var a=[];for(s=0;s<7;s++){a[s]=Mr(t,(s+o)%7,n,"day")}return a}function Fr(e,t){return Ar(e,t,"months")}function Rr(e,t){return Ar(e,t,"monthsShort")}function Nr(e,t,i){return Ir(e,t,i,"weekdays")}function Lr(e,t,i){return Ir(e,t,i,"weekdaysShort")}function jr(e,t,i){return Ir(e,t,i,"weekdaysMin")}pi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=T(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});i.lang=O("moment.lang is deprecated. Use moment.locale instead.",pi);i.langData=O("moment.langData is deprecated. Use moment.localeData instead.",gi);var Br=Math.abs;function zr(){var e=this._data;this._milliseconds=Br(this._milliseconds);this._days=Br(this._days);this._months=Br(this._months);e.milliseconds=Br(e.milliseconds);e.seconds=Br(e.seconds);e.minutes=Br(e.minutes);e.hours=Br(e.hours);e.months=Br(e.months);e.years=Br(e.years);return this}function $r(e,t,i,n){var r=xn(t,i);e._milliseconds+=n*r._milliseconds;e._days+=n*r._days;e._months+=n*r._months;return e._bubble()}function Hr(e,t){return $r(this,e,t,1)}function Ur(e,t){return $r(this,e,t,-1)}function Wr(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function qr(){var e=this._milliseconds;var t=this._days;var i=this._months;var n=this._data;var r,o,s,a,l;if(!(e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0)){e+=Wr(Vr(i)+t)*864e5;t=0;i=0}n.milliseconds=e%1e3;r=S(e/1e3);n.seconds=r%60;o=S(r/60);n.minutes=o%60;s=S(o/60);n.hours=s%24;t+=S(s/24);l=S(Yr(t));i+=l;t-=Wr(Vr(l));a=S(i/12);i%=12;n.days=t;n.months=i;n.years=a;return this}function Yr(e){return e*4800/146097}function Vr(e){return e*146097/4800}function Gr(e){if(!this.isValid()){return NaN}var t;var i;var n=this._milliseconds;e=Q(e);if(e==="month"||e==="year"){t=this._days+n/864e5;i=this._months+Yr(t);return e==="month"?i:i/12}else{t=this._days+Math.round(Vr(this._months));switch(e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}}function Xr(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+T(this._months/12)*31536e6}function Zr(e){return function(){return this.as(e)}}var Kr=Zr("ms");var Qr=Zr("s");var Jr=Zr("m");var eo=Zr("h");var to=Zr("d");var io=Zr("w");var no=Zr("M");var ro=Zr("y");function oo(e){e=Q(e);return this.isValid()?this[e+"s"]():NaN}function so(e){return function(){return this.isValid()?this._data[e]:NaN}}var ao=so("milliseconds");var lo=so("seconds");var uo=so("minutes");var ho=so("hours");var co=so("days");var fo=so("months");var po=so("years");function mo(){return S(this.days()/7)}var vo=Math.round;var go={ss:44,s:45,m:45,h:22,d:26,M:11};function yo(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function bo(e,t,i){var n=xn(e).abs();var r=vo(n.as("s"));var o=vo(n.as("m"));var s=vo(n.as("h"));var a=vo(n.as("d"));var l=vo(n.as("M"));var d=vo(n.as("y"));var u=r<=go.ss&&["s",r]||r<go.s&&["ss",r]||o<=1&&["m"]||o<go.m&&["mm",o]||s<=1&&["h"]||s<go.h&&["hh",s]||a<=1&&["d"]||a<go.d&&["dd",a]||l<=1&&["M"]||l<go.M&&["MM",l]||d<=1&&["y"]||["yy",d];u[2]=t;u[3]=+e>0;u[4]=i;return yo.apply(null,u)}function wo(e){if(e===undefined){return vo}if(typeof e==="function"){vo=e;return true}return false}function xo(e,t){if(go[e]===undefined){return false}if(t===undefined){return go[e]}go[e]=t;if(e==="s"){go.ss=t-1}return true}function _o(e){if(!this.isValid()){return this.localeData().invalidDate()}var t=this.localeData();var i=bo(this,!e,t);if(e){i=t.pastFuture(+this,i)}return t.postformat(i)}var ko=Math.abs;function Co(){if(!this.isValid()){return this.localeData().invalidDate()}var e=ko(this._milliseconds)/1e3;var t=ko(this._days);var i=ko(this._months);var n,r,o;n=S(e/60);r=S(n/60);e%=60;n%=60;o=S(i/12);i%=12;var s=o;var a=i;var l=t;var d=r;var u=n;var h=e;var c=this.asSeconds();if(!c){return"P0D"}return(c<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(d||u||h?"T":"")+(d?d+"H":"")+(u?u+"M":"")+(h?h+"S":"")}var So=Ji.prototype;So.isValid=Ki;So.abs=zr;So.add=Hr;So.subtract=Ur;So.as=Gr;So.asMilliseconds=Kr;So.asSeconds=Qr;So.asMinutes=Jr;So.asHours=eo;So.asDays=to;So.asWeeks=io;So.asMonths=no;So.asYears=ro;So.valueOf=Xr;So._bubble=qr;So.get=oo;So.milliseconds=ao;So.seconds=lo;So.minutes=uo;So.hours=ho;So.days=co;So.weeks=mo;So.months=fo;So.years=po;So.humanize=_o;So.toISOString=Co;So.toString=Co;So.toJSON=Co;So.locale=Gn;So.localeData=Zn;So.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Co);So.lang=Xn;fe("X",0,0,"unix");fe("x",0,0,"valueOf");Ne("x",Pe);Ne("X",Ie);$e("X",function(e,t,i){i._d=new Date(parseFloat(e,10)*1e3)});$e("x",function(e,t,i){i._d=new Date(T(e))});i.version="2.18.1";n(Hi);i.fn=Tr;i.min=Yi;i.max=Vi;i.now=Gi;i.utc=f;i.unix=Dr;i.months=Fr;i.isDate=d;i.locale=pi;i.invalid=b;i.duration=xn;i.isMoment=C;i.weekdays=Nr;i.parseZone=Er;i.localeData=gi;i.isDuration=en;i.monthsShort=Rr;i.weekdaysMin=jr;i.defineLocale=mi;i.updateLocale=vi;i.locales=yi;i.weekdaysShort=Lr;i.normalizeUnits=Q;i.relativeTimeRounding=wo;i.relativeTimeThreshold=xo;i.calendarFormat=On;i.prototype=Tr;return i})}).call(t,i(84)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];e.webpackPolyfill=1}return e}},function(e,t){function i(e){throw new Error("Cannot find module '"+e+"'.")}i.keys=function(){return[]};i.resolve=i;e.exports=i;i.id=85},function(e,t){(function(t){"use strict";var i;var n=typeof window!=="undefined"?window:typeof t!=="undefined"?t:null;if(n&&n.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);i=function e(){crypto.getRandomValues(r);return r}}if(!i){var o=new Array(16);i=function e(){for(var t=0,i;t<16;t++){if((t&3)===0)i=Math.random()*4294967296;o[t]=i>>>((t&3)<<3)&255}return o}}var s=[];var a={};for(var l=0;l<256;l++){s[l]=(l+256).toString(16).substr(1);a[s[l]]=l}function d(e,t,i){var n=t&&i||0,r=0;t=t||[];e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){if(r<16){t[n+r++]=a[e]}});while(r<16){t[n+r++]=0}return t}function u(e,t){var i=t||0,n=s;return n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]}var h=i();var c=[h[0]|1,h[1],h[2],h[3],h[4],h[5]];var f=(h[6]<<8|h[7])&16383;var p=0,m=0;function v(e,t,i){var n=t&&i||0;var r=t||[];e=e||{};var o=e.clockseq!==undefined?e.clockseq:f;var s=e.msecs!==undefined?e.msecs:(new Date).getTime();var a=e.nsecs!==undefined?e.nsecs:m+1;var l=s-p+(a-m)/1e4;if(l<0&&e.clockseq===undefined){o=o+1&16383}if((l<0||s>p)&&e.nsecs===undefined){a=0}if(a>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}p=s;m=a;f=o;s+=122192928e5;var d=((s&268435455)*1e4+a)%4294967296;r[n++]=d>>>24&255;r[n++]=d>>>16&255;r[n++]=d>>>8&255;r[n++]=d&255;var h=s/4294967296*1e4&268435455;r[n++]=h>>>8&255;r[n++]=h&255;r[n++]=h>>>24&15|16;r[n++]=h>>>16&255;r[n++]=o>>>8|128;r[n++]=o&255;var v=e.node||c;for(var g=0;g<6;g++){r[n+g]=v[g]}return t?t:u(r)}function g(e,t,n){var r=t&&n||0;if(typeof e=="string"){t=e=="binary"?new Array(16):null;e=null}e=e||{};var o=e.random||(e.rng||i)();o[6]=o[6]&15|64;o[8]=o[8]&63|128;if(t){for(var s=0;s<16;s++){t[r+s]=o[s]}}return t||u(o)}var y=g;y.v1=v;y.v4=g;y.parse=d;y.unparse=u;e.exports=y}).call(t,function(){return this}())},function(e,t,i){"use strict";t.util=i(1);t.DOMutil=i(88);t.DataSet=i(89);t.DataView=i(93);t.Queue=i(92);t.Graph3d=i(94);t.graph3d={Camera:i(102),Filter:i(107),Point2d:i(101),Point3d:i(100),Slider:i(108),StepNumber:i(109)};t.moment=i(82);t.Hammer=i(113);t.keycharm=i(116)},function(e,t){"use strict";t.prepareElements=function(e){for(var t in e){if(e.hasOwnProperty(t)){e[t].redundant=e[t].used;e[t].used=[]}}};t.cleanupElements=function(e){for(var t in e){if(e.hasOwnProperty(t)){if(e[t].redundant){for(var i=0;i<e[t].redundant.length;i++){e[t].redundant[i].parentNode.removeChild(e[t].redundant[i])}e[t].redundant=[]}}}};t.resetElements=function(e){t.prepareElements(e);t.cleanupElements(e);t.prepareElements(e)};t.getSVGElement=function(e,t,i){var n;if(t.hasOwnProperty(e)){if(t[e].redundant.length>0){n=t[e].redundant[0];t[e].redundant.shift()}else{n=document.createElementNS("http://www.w3.org/2000/svg",e);i.appendChild(n)}}else{n=document.createElementNS("http://www.w3.org/2000/svg",e);t[e]={used:[],redundant:[]};i.appendChild(n)}t[e].used.push(n);return n};t.getDOMElement=function(e,t,i,n){var r;if(t.hasOwnProperty(e)){if(t[e].redundant.length>0){r=t[e].redundant[0];t[e].redundant.shift()}else{r=document.createElement(e);if(n!==undefined){i.insertBefore(r,n)}else{i.appendChild(r)}}}else{r=document.createElement(e);t[e]={used:[],redundant:[]};if(n!==undefined){i.insertBefore(r,n)}else{i.appendChild(r)}}t[e].used.push(r);return r};t.drawPoint=function(e,i,n,r,o,s){var a;if(n.style=="circle"){a=t.getSVGElement("circle",r,o);a.setAttributeNS(null,"cx",e);a.setAttributeNS(null,"cy",i);a.setAttributeNS(null,"r",.5*n.size)}else{a=t.getSVGElement("rect",r,o);a.setAttributeNS(null,"x",e-.5*n.size);a.setAttributeNS(null,"y",i-.5*n.size);a.setAttributeNS(null,"width",n.size);a.setAttributeNS(null,"height",n.size)}if(n.styles!==undefined){a.setAttributeNS(null,"style",n.styles)}a.setAttributeNS(null,"class",n.className+" vis-point");if(s){var l=t.getSVGElement("text",r,o);if(s.xOffset){e=e+s.xOffset}if(s.yOffset){i=i+s.yOffset}if(s.content){l.textContent=s.content}if(s.className){l.setAttributeNS(null,"class",s.className+" vis-label")}l.setAttributeNS(null,"x",e);l.setAttributeNS(null,"y",i)}return a};t.drawBar=function(e,i,n,r,o,s,a,l){if(r!=0){if(r<0){r*=-1;i-=r}var d=t.getSVGElement("rect",s,a);d.setAttributeNS(null,"x",e-.5*n);d.setAttributeNS(null,"y",i);d.setAttributeNS(null,"width",n);d.setAttributeNS(null,"height",r);d.setAttributeNS(null,"class",o);if(l){d.setAttributeNS(null,"style",l)}}}},function(e,t,i){"use strict";var n=i(90);var r=d(n);var o=i(62);var s=d(o);var a=i(58);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(1);var h=i(92);function c(e,t){if(e&&!Array.isArray(e)){t=e;e=null}this._options=t||{};this._data={};this.length=0;this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type){var i=(0,l["default"])(this._options.type);for(var n=0,r=i.length;n<r;n++){var o=i[n];var s=this._options.type[o];if(s=="Date"||s=="ISODate"||s=="ASPDate"){this._type[o]="Date"}else{this._type[o]=s}}}if(this._options.convert){throw new Error('Option "convert" is deprecated. Use "type" instead.')}this._subscribers={};if(e){this.add(e)}this.setOptions(t)}c.prototype.setOptions=function(e){if(e&&e.queue!==undefined){if(e.queue===false){if(this._queue){this._queue.destroy();delete this._queue}}else{if(!this._queue){this._queue=h.extend(this,{replace:["add","update","remove"]})}if((0,s["default"])(e.queue)==="object"){this._queue.setOptions(e.queue)}}}};c.prototype.on=function(e,t){var i=this._subscribers[e];if(!i){i=[];this._subscribers[e]=i}i.push({callback:t})};c.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")};c.prototype.off=function(e,t){var i=this._subscribers[e];if(i){this._subscribers[e]=i.filter(function(e){return e.callback!=t})}};c.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")};c.prototype._trigger=function(e,t,i){if(e=="*"){throw new Error("Cannot trigger event *")}var n=[];if(e in this._subscribers){n=n.concat(this._subscribers[e])}if("*"in this._subscribers){n=n.concat(this._subscribers["*"])}for(var r=0,o=n.length;r<o;r++){var s=n[r];if(s.callback){s.callback(e,t,i||null)}}};c.prototype.add=function(e,t){var i=[],n,r=this;if(Array.isArray(e)){for(var o=0,a=e.length;o<a;o++){n=r._addItem(e[o]);i.push(n)}}else if(e&&(typeof e==="undefined"?"undefined":(0,s["default"])(e))==="object"){n=r._addItem(e);i.push(n)}else{throw new Error("Unknown dataType")}if(i.length){this._trigger("add",{items:i},t)}return i};c.prototype.update=function(e,t){var i=[];var n=[];var r=[];var o=[];var a=this;var l=a._fieldId;var d=function e(t){var s=t[l];if(a._data[s]){var d=u.extend({},a._data[s]);s=a._updateItem(t);n.push(s);o.push(t);r.push(d)}else{s=a._addItem(t);i.push(s)}};if(Array.isArray(e)){for(var h=0,c=e.length;h<c;h++){if(e[h]&&(0,s["default"])(e[h])==="object"){d(e[h])}else{console.warn("Ignoring input item, which is not an object at index "+h)}}}else if(e&&(typeof e==="undefined"?"undefined":(0,s["default"])(e))==="object"){d(e)}else{throw new Error("Unknown dataType")}if(i.length){this._trigger("add",{items:i},t)}if(n.length){var f={items:n,oldData:r,data:o};this._trigger("update",f,t)}return i.concat(n)};c.prototype.get=function(e){var t=this;var i,n,r;var o=u.getType(arguments[0]);if(o=="String"||o=="Number"){i=arguments[0];r=arguments[1]}else if(o=="Array"){n=arguments[0];r=arguments[1]}else{r=arguments[0]}var s;if(r&&r.returnType){var a=["Array","Object"];s=a.indexOf(r.returnType)==-1?"Array":r.returnType}else{s="Array"}var d=r&&r.type||this._options.type;var h=r&&r.filter;var c=[],f,p,m,v,g;if(i!=undefined){f=t._getItem(i,d);if(f&&h&&!h(f)){f=null}}else if(n!=undefined){for(v=0,g=n.length;v<g;v++){f=t._getItem(n[v],d);if(!h||h(f)){c.push(f)}}}else{p=(0,l["default"])(this._data);for(v=0,g=p.length;v<g;v++){m=p[v];f=t._getItem(m,d);if(!h||h(f)){c.push(f)}}}if(r&&r.order&&i==undefined){this._sort(c,r.order)}if(r&&r.fields){var y=r.fields;if(i!=undefined){f=this._filterFields(f,y)}else{for(v=0,g=c.length;v<g;v++){c[v]=this._filterFields(c[v],y)}}}if(s=="Object"){var b={},w;for(v=0,g=c.length;v<g;v++){w=c[v];b[w.id]=w}return b}else{if(i!=undefined){return f}else{return c}}};c.prototype.getIds=function(e){var t=this._data,i=e&&e.filter,n=e&&e.order,r=e&&e.type||this._options.type,o=(0,l["default"])(t),s,a,d,u,h,c=[];if(i){if(n){h=[];for(s=0,a=o.length;s<a;s++){d=o[s];u=this._getItem(d,r);if(i(u)){h.push(u)}}this._sort(h,n);for(s=0,a=h.length;s<a;s++){c.push(h[s][this._fieldId])}}else{for(s=0,a=o.length;s<a;s++){d=o[s];u=this._getItem(d,r);if(i(u)){c.push(u[this._fieldId])}}}}else{if(n){h=[];for(s=0,a=o.length;s<a;s++){d=o[s];h.push(t[d])}this._sort(h,n);for(s=0,a=h.length;s<a;s++){c.push(h[s][this._fieldId])}}else{for(s=0,a=o.length;s<a;s++){d=o[s];u=t[d];c.push(u[this._fieldId])}}}return c};c.prototype.getDataSet=function(){return this};c.prototype.forEach=function(e,t){var i=t&&t.filter,n=t&&t.type||this._options.type,r=this._data,o=(0,l["default"])(r),s,a,d,u;if(t&&t.order){var h=this.get(t);for(s=0,a=h.length;s<a;s++){d=h[s];u=d[this._fieldId];e(d,u)}}else{for(s=0,a=o.length;s<a;s++){u=o[s];d=this._getItem(u,n);if(!i||i(d)){e(d,u)}}}};c.prototype.map=function(e,t){var i=t&&t.filter,n=t&&t.type||this._options.type,r=[],o=this._data,s=(0,l["default"])(o),a,d,u,h;for(a=0,d=s.length;a<d;a++){u=s[a];h=this._getItem(u,n);if(!i||i(h)){r.push(e(h,u))}}if(t&&t.order){this._sort(r,t.order)}return r};c.prototype._filterFields=function(e,t){if(!e){return e}var i={},n=(0,l["default"])(e),r=n.length,o,s;if(Array.isArray(t)){for(o=0;o<r;o++){s=n[o];if(t.indexOf(s)!=-1){i[s]=e[s]}}}else{for(o=0;o<r;o++){s=n[o];if(t.hasOwnProperty(s)){i[t[s]]=e[s]}}}return i};c.prototype._sort=function(e,t){if(u.isString(t)){var i=t;e.sort(function(e,t){var n=e[i];var r=t[i];return n>r?1:n<r?-1:0})}else if(typeof t==="function"){e.sort(t)}else{throw new TypeError("Order must be a function or a string")}};c.prototype.remove=function(e,t){var i=[],n=[],r=[],o,s,a,l;r=Array.isArray(e)?e:[e];for(o=0,s=r.length;o<s;o++){l=this._remove(r[o]);if(l){a=l[this._fieldId];if(a!=undefined){i.push(a);n.push(l)}}}if(i.length){this._trigger("remove",{items:i,oldData:n},t)}return i};c.prototype._remove=function(e){var t,i;if(u.isNumber(e)||u.isString(e)){i=e}else if(e&&(typeof e==="undefined"?"undefined":(0,s["default"])(e))==="object"){i=e[this._fieldId]}if(i!==undefined&&this._data[i]){t=this._data[i];delete this._data[i];this.length--;return t}return null};c.prototype.clear=function(e){var t,i;var n=(0,l["default"])(this._data);var r=[];for(t=0,i=n.length;t<i;t++){r.push(this._data[n[t]])}this._data={};this.length=0;this._trigger("remove",{items:n,oldData:r},e);return n};c.prototype.max=function(e){var t=this._data,i=(0,l["default"])(t),n=null,r=null,o,s;for(o=0,s=i.length;o<s;o++){var a=i[o];var d=t[a];var u=d[e];if(u!=null&&(!n||u>r)){n=d;r=u}}return n};c.prototype.min=function(e){var t=this._data,i=(0,l["default"])(t),n=null,r=null,o,s;for(o=0,s=i.length;o<s;o++){var a=i[o];var d=t[a];var u=d[e];if(u!=null&&(!n||u<r)){n=d;r=u}}return n};c.prototype.distinct=function(e){var t=this._data;var i=(0,l["default"])(t);var n=[];var r=this._options.type&&this._options.type[e]||null;var o=0;var s,a,d;for(s=0,d=i.length;s<d;s++){var h=i[s];var c=t[h];var f=c[e];var p=false;for(a=0;a<o;a++){if(n[a]==f){p=true;break}}if(!p&&f!==undefined){n[o]=f;o++}}if(r){for(s=0,d=n.length;s<d;s++){n[s]=u.convert(n[s],r)}}return n};c.prototype._addItem=function(e){var t=e[this._fieldId];if(t!=undefined){if(this._data[t]){throw new Error("Cannot add item: item with id "+t+" already exists")}}else{t=u.randomUUID();e[this._fieldId]=t}var i={},n=(0,l["default"])(e),r,o;for(r=0,o=n.length;r<o;r++){var s=n[r];var a=this._type[s];i[s]=u.convert(e[s],a)}this._data[t]=i;this.length++;return t};c.prototype._getItem=function(e,t){var i,n,r,o;var s=this._data[e];if(!s){return null}var a={},d=(0,l["default"])(s);if(t){for(r=0,o=d.length;r<o;r++){i=d[r];n=s[i];a[i]=u.convert(n,t[i])}}else{for(r=0,o=d.length;r<o;r++){i=d[r];n=s[i];a[i]=n}}if(!a[this._fieldId]){a[this._fieldId]=s.id}return a};c.prototype._updateItem=function(e){var t=e[this._fieldId];if(t==undefined){throw new Error("Cannot update item: item has no id (item: "+(0,r["default"])(e)+")")}var i=this._data[t];if(!i){throw new Error("Cannot update item: no item with id "+t+" found")}var n=(0,l["default"])(e);for(var o=0,s=n.length;o<s;o++){var a=n[o];var d=this._type[a];i[a]=u.convert(e[a],d)}return t};e.exports=c},function(e,t,i){e.exports={default:i(91),__esModule:true}},function(e,t,i){var n=i(17),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function e(t){return r.stringify.apply(r,arguments)}},function(e,t){"use strict";function i(e){this.delay=null;this.max=Infinity;this._queue=[];this._timeout=null;this._extended=null;this.setOptions(e)}i.prototype.setOptions=function(e){if(e&&typeof e.delay!=="undefined"){this.delay=e.delay}if(e&&typeof e.max!=="undefined"){this.max=e.max}this._flushIfNeeded()};i.extend=function(e,t){var n=new i(t);if(e.flush!==undefined){throw new Error("Target object already has a property flush")}e.flush=function(){n.flush()};var r=[{name:"flush",original:undefined}];if(t&&t.replace){for(var o=0;o<t.replace.length;o++){var s=t.replace[o];r.push({name:s,original:e[s]});n.replace(e,s)}}n._extended={object:e,methods:r};return n};i.prototype.destroy=function(){this.flush();if(this._extended){var e=this._extended.object;var t=this._extended.methods;for(var i=0;i<t.length;i++){var n=t[i];if(n.original){e[n.name]=n.original}else{delete e[n.name]}}this._extended=null}};i.prototype.replace=function(e,t){var i=this;var n=e[t];if(!n){throw new Error("Method "+t+" undefined")}e[t]=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}i.queue({args:e,fn:n,context:this})}};i.prototype.queue=function(e){if(typeof e==="function"){this._queue.push({fn:e})}else{this._queue.push(e)}this._flushIfNeeded()};i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max){this.flush()}clearTimeout(this._timeout);if(this.queue.length>0&&typeof this.delay==="number"){var e=this;this._timeout=setTimeout(function(){e.flush()},this.delay)}};i.prototype.flush=function(){while(this._queue.length>0){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}};e.exports=i},function(e,t,i){"use strict";var n=i(58);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(89);function l(e,t){this._data=null;this._ids={};this.length=0;this._options=t||{};this._fieldId="id";this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)};this.setData(e)}l.prototype.setData=function(e){var t,i,n,r,o;if(this._data){if(this._data.off){this._data.off("*",this.listener)}t=this._data.getIds({filter:this._options&&this._options.filter});o=[];for(n=0,r=t.length;n<r;n++){o.push(this._data._data[t[n]])}this._ids={};this.length=0;this._trigger("remove",{items:t,oldData:o})}this._data=e;if(this._data){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";t=this._data.getIds({filter:this._options&&this._options.filter});for(n=0,r=t.length;n<r;n++){i=t[n];this._ids[i]=true}this.length=t.length;this._trigger("add",{items:t});if(this._data.on){this._data.on("*",this.listener)}}};l.prototype.refresh=function(){var e,t,i;var n=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,r["default"])(this._ids),s={},a=[],l=[],d=[];for(t=0,i=n.length;t<i;t++){e=n[t];s[e]=true;if(!this._ids[e]){a.push(e);this._ids[e]=true}}for(t=0,i=o.length;t<i;t++){e=o[t];if(!s[e]){l.push(e);d.push(this._data._data[e]);delete this._ids[e]}}this.length+=a.length-l.length;if(a.length){this._trigger("add",{items:a})}if(l.length){this._trigger("remove",{items:l,oldData:d})}};l.prototype.get=function(e){var t=this;var i,n,r;var o=s.getType(arguments[0]);if(o=="String"||o=="Number"||o=="Array"){i=arguments[0];n=arguments[1];r=arguments[2]}else{n=arguments[0];r=arguments[1]}var a=s.extend({},this._options,n);if(this._options.filter&&n&&n.filter){a.filter=function(e){return t._options.filter(e)&&n.filter(e)}}var l=[];if(i!=undefined){l.push(i)}l.push(a);l.push(r);return this._data&&this._data.get.apply(this._data,l)};l.prototype.getIds=function(e){var t;if(this._data){var i=this._options.filter;var n;if(e&&e.filter){if(i){n=function t(n){return i(n)&&e.filter(n)}}else{n=e.filter}}else{n=i}t=this._data.getIds({filter:n,order:e&&e.order})}else{t=[]}return t};l.prototype.map=function(e,t){var i=[];if(this._data){var n=this._options.filter;var r;if(t&&t.filter){if(n){r=function e(i){return n(i)&&t.filter(i)}}else{r=t.filter}}else{r=n}i=this._data.map(e,{filter:r,order:t&&t.order})}else{i=[]}return i};l.prototype.getDataSet=function(){var e=this;while(e instanceof l){e=e._data}return e||null};l.prototype._onEvent=function(e,t,i){var n,r,o,s;var a=t&&t.items;var l=[],d=[],u=[],h=[],c=[],f=[];if(a&&this._data){switch(e){case"add":for(n=0,r=a.length;n<r;n++){o=a[n];s=this.get(o);if(s){this._ids[o]=true;l.push(o)}}break;case"update":for(n=0,r=a.length;n<r;n++){o=a[n];s=this.get(o);if(s){if(this._ids[o]){d.push(o);c.push(t.data[n]);h.push(t.oldData[n])}else{this._ids[o]=true;l.push(o)}}else{if(this._ids[o]){delete this._ids[o];u.push(o);f.push(t.oldData[n])}else{}}}break;case"remove":for(n=0,r=a.length;n<r;n++){o=a[n];if(this._ids[o]){delete this._ids[o];u.push(o);f.push(t.oldData[n])}}break}this.length+=l.length-u.length;if(l.length){this._trigger("add",{items:l},i)}if(d.length){this._trigger("update",{items:d,oldData:h,data:c},i)}if(u.length){this._trigger("remove",{items:u,oldData:f},i)}}};l.prototype.on=a.prototype.on;l.prototype.off=a.prototype.off;l.prototype._trigger=a.prototype._trigger;l.prototype.subscribe=l.prototype.on;l.prototype.unsubscribe=l.prototype.off;e.exports=l},function(e,t,i){"use strict";var n=i(95);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(99);var a=i(89);var l=i(93);var d=i(1);var u=i(100);var h=i(101);var c=i(102);var f=i(107);var p=i(108);var m=i(109);var v=i(110);var g=i(111);var y=i(112);x.STYLE=g.STYLE;var b=undefined;var w={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function e(t){return t},yValueLabel:function e(t){return t},zValueLabel:function e(t){return t},showXAxis:true,showYAxis:true,showZAxis:true,showGrid:true,showPerspective:true,showShadow:false,keepAspectRatio:true,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:b,animationInterval:1e3,animationPreload:false,animationAutoStart:b,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:x.STYLE.DOT,tooltip:false,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},showLegend:b,backgroundColor:b,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:b,yBarWidth:b,valueMin:b,valueMax:b,xMin:b,xMax:b,xStep:b,yMin:b,yMax:b,yStep:b,zMin:b,zMax:b,zStep:b};function x(e,t,i){if(!(this instanceof x)){throw new SyntaxError("Constructor must be called with the new operator")}this.containerElement=e;this.dataGroup=new y;this.dataPoints=null;this.create();g.setDefaults(w,this);this.colX=undefined;this.colY=undefined;this.colZ=undefined;this.colValue=undefined;this.colFilter=undefined;this.setOptions(i);if(t){this.setData(t)}}s(x.prototype);x.prototype._setScale=function(){this.scale=new u(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range());if(this.keepAspectRatio){if(this.scale.x<this.scale.y){this.scale.y=this.scale.x}else{this.scale.x=this.scale.y}}this.scale.z*=this.verticalRatio;if(this.valueRange!==undefined){this.scale.value=1/this.valueRange.range()}var e=this.xRange.center()*this.scale.x;var t=this.yRange.center()*this.scale.y;var i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(e,t,i)};x.prototype._convert3Dto2D=function(e){var t=this._convertPointToTranslation(e);return this._convertTranslationToScreen(t)};x.prototype._convertPointToTranslation=function(e){var t=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=e.x*this.scale.x,r=e.y*this.scale.y,o=e.z*this.scale.z,s=t.x,a=t.y,l=t.z,d=Math.sin(i.x),h=Math.cos(i.x),c=Math.sin(i.y),f=Math.cos(i.y),p=Math.sin(i.z),m=Math.cos(i.z),v=f*(p*(r-a)+m*(n-s))-c*(o-l),g=d*(f*(o-l)+c*(p*(r-a)+m*(n-s)))+h*(m*(r-a)-p*(n-s)),y=h*(f*(o-l)+c*(p*(r-a)+m*(n-s)))-d*(m*(r-a)-p*(n-s));return new u(v,g,y)};x.prototype._convertTranslationToScreen=function(e){var t=this.eye.x,i=this.eye.y,n=this.eye.z,r=e.x,o=e.y,s=e.z;var a;var l;if(this.showPerspective){a=(r-t)*(n/s);l=(o-i)*(n/s)}else{a=r*-(n/this.camera.getArmLength());l=o*-(n/this.camera.getArmLength())}return new h(this.currentXCenter+a*this.frame.canvas.clientWidth,this.currentYCenter-l*this.frame.canvas.clientWidth)};x.prototype._calcTranslations=function(e){for(var t=0;t<e.length;t++){var i=e[t];i.trans=this._convertPointToTranslation(i.point);i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}var r=function e(t,i){return i.dist-t.dist};e.sort(r)};x.prototype._checkValueField=function(e){var t=this.style===x.STYLE.BARCOLOR||this.style===x.STYLE.BARSIZE||this.style===x.STYLE.DOTCOLOR||this.style===x.STYLE.DOTSIZE;if(!t){return}if(this.colValue===undefined){throw new Error("Expected data to have "+" field 'style' "+" for graph style '"+this.style+"'")}if(e[0][this.colValue]===undefined){throw new Error("Expected data to have "+" field '"+this.colValue+"' "+" for graph style '"+this.style+"'")}};x.prototype._initializeData=function(e,t){this.dataGroup.initializeData(this,e,t);this.xRange=this.dataGroup.xRange;this.yRange=this.dataGroup.yRange;this.zRange=this.dataGroup.zRange;this.valueRange=this.dataGroup.valueRange;this.xStep=this.dataGroup.xStep;this.yStep=this.dataGroup.yStep;this.zStep=this.dataGroup.zStep;this.xBarWidth=this.dataGroup.xBarWidth;this.yBarWidth=this.dataGroup.yBarWidth;this.colX=this.dataGroup.colX;this.colY=this.dataGroup.colY;this.colZ=this.dataGroup.colZ;this.colValue=this.dataGroup.colValue;var i=this.dataGroup.getDataTable();if(i[0].hasOwnProperty("filter")){this.colFilter="filter";var n=this;if(this.dataFilter===undefined){this.dataFilter=new f(this.dataGroup,this.colFilter,this);this.dataFilter.setOnLoadCallback(function(){n.redraw()})}}this._setScale()};x.prototype.getDataPoints=function(e){var t=[];for(var i=0;i<e.length;i++){var n=new u;n.x=e[i][this.colX]||0;n.y=e[i][this.colY]||0;n.z=e[i][this.colZ]||0;n.data=e[i];if(this.colValue!==undefined){n.value=e[i][this.colValue]||0}var r={};r.point=n;r.bottom=new u(n.x,n.y,this.zRange.min);r.trans=undefined;r.screen=undefined;t.push(r)}return t};x.prototype._getDataPoints=function(e){var t,i,n,r,o,s;var a=[];if(this.style===x.STYLE.GRID||this.style===x.STYLE.SURFACE){var l=this.dataGroup.getDistinctValues(this.colX,e);var d=this.dataGroup.getDistinctValues(this.colY,e);a=this.getDataPoints(e);var u=[];for(n=0;n<a.length;n++){o=a[n];var h=l.indexOf(o.point.x);var c=d.indexOf(o.point.y);if(u[h]===undefined){u[h]=[]}u[h][c]=o}for(t=0;t<u.length;t++){for(i=0;i<u[t].length;i++){if(u[t][i]){u[t][i].pointRight=t<u.length-1?u[t+1][i]:undefined;u[t][i].pointTop=i<u[t].length-1?u[t][i+1]:undefined;u[t][i].pointCross=t<u.length-1&&i<u[t].length-1?u[t+1][i+1]:undefined}}}}else{this._checkValueField(e);a=this.getDataPoints(e);if(this.style===x.STYLE.LINE){for(n=0;n<a.length;n++){if(n>0){a[n-1].pointNext=a[n]}}}}return a};x.prototype.create=function(){while(this.containerElement.hasChildNodes()){this.containerElement.removeChild(this.containerElement.firstChild)}this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);{var e=document.createElement("DIV");e.style.color="red";e.style.fontWeight="bold";e.style.padding="10px";e.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(e)}this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var t=this;var i=function e(i){t._onMouseDown(i)};var n=function e(i){t._onTouchStart(i)};var r=function e(i){t._onWheel(i)};var o=function e(i){t._onTooltip(i)};var s=function e(i){t._onClick(i)};d.addEventListener(this.frame.canvas,"mousedown",i);d.addEventListener(this.frame.canvas,"touchstart",n);d.addEventListener(this.frame.canvas,"mousewheel",r);d.addEventListener(this.frame.canvas,"mousemove",o);d.addEventListener(this.frame.canvas,"click",s);this.containerElement.appendChild(this.frame)};x.prototype._setSize=function(e,t){this.frame.style.width=e;this.frame.style.height=t;this._resizeCanvas()};x.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-2*10+"px"};x.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()};x.prototype.animationStop=function(){if(!this.frame.filter||!this.frame.filter.slider)return;this.frame.filter.slider.stop()};x.prototype._resizeCenter=function(){if(this.xCenter.charAt(this.xCenter.length-1)==="%"){this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth}else{this.currentXCenter=parseFloat(this.xCenter)}if(this.yCenter.charAt(this.yCenter.length-1)==="%"){this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight)}else{this.currentYCenter=parseFloat(this.yCenter)}};x.prototype.getCameraPosition=function(){var e=this.camera.getArmRotation();e.distance=this.camera.getArmLength();return e};x.prototype._readData=function(e){this._initializeData(e,this.style);if(this.dataFilter){this.dataPoints=this.dataFilter._getDataPoints()}else{this.dataPoints=this._getDataPoints(this.dataGroup.getDataTable())}this._redrawFilter()};x.prototype.setData=function(e){this._readData(e);this.redraw();if(this.animationAutoStart&&this.dataFilter){this.animationStart()}};x.prototype.setOptions=function(e){var t=undefined;this.animationStop();g.setOptions(e,this);this.setPointDrawingMethod();this._setSize(this.width,this.height);this.dataGroup.reload();if(this.animationAutoStart&&this.dataFilter){this.animationStart()}};x.prototype.setPointDrawingMethod=function(){var e=undefined;switch(this.style){case x.STYLE.BAR:e=x.prototype._redrawBarGraphPoint;break;case x.STYLE.BARCOLOR:e=x.prototype._redrawBarColorGraphPoint;break;case x.STYLE.BARSIZE:e=x.prototype._redrawBarSizeGraphPoint;break;case x.STYLE.DOT:e=x.prototype._redrawDotGraphPoint;break;case x.STYLE.DOTLINE:e=x.prototype._redrawDotLineGraphPoint;break;case x.STYLE.DOTCOLOR:e=x.prototype._redrawDotColorGraphPoint;break;case x.STYLE.DOTSIZE:e=x.prototype._redrawDotSizeGraphPoint;break;case x.STYLE.SURFACE:e=x.prototype._redrawSurfaceGraphPoint;break;case x.STYLE.GRID:e=x.prototype._redrawGridGraphPoint;break;case x.STYLE.LINE:e=x.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method "+"for graph style '"+this.style+"'")}this._pointDrawingMethod=e};x.prototype.redraw=function(){if(this.dataPoints===undefined){throw new Error("Graph data not initialized")}this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();this._redrawDataGraph();this._redrawInfo();this._redrawLegend()};x.prototype._getContext=function(){var e=this.frame.canvas;var t=e.getContext("2d");t.lineJoin="round";t.lineCap="round";return t};x.prototype._redrawClear=function(){var e=this.frame.canvas;var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)};x.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio};x.prototype._getLegendWidth=function(){var e;if(this.style===x.STYLE.DOTSIZE){var t=this._dotSize();e=t*this.dotSizeMaxFraction}else if(this.style===x.STYLE.BARSIZE){e=this.xBarWidth}else{e=20}return e};x.prototype._redrawLegend=function(){if(this.showLegend!==true){return}if(this.style===x.STYLE.LINE||this.style===x.STYLE.BARSIZE){return}var e=this.style===x.STYLE.BARSIZE||this.style===x.STYLE.DOTSIZE;var t=this.style===x.STYLE.DOTSIZE||this.style===x.STYLE.DOTCOLOR||this.style===x.STYLE.BARCOLOR;var i=Math.max(this.frame.clientHeight*.25,100);var n=this.margin;var r=this._getLegendWidth();var o=this.frame.clientWidth-this.margin;var s=o-r;var a=n+i;var l=this._getContext();l.lineWidth=1;l.font="14px arial";if(e===false){var d=0;var u=i;var c;for(c=d;c<u;c++){var f=(c-d)/(u-d);var p=f*240;var v=this._hsv2rgb(p,1,1);l.strokeStyle=v;l.beginPath();l.moveTo(s,n+c);l.lineTo(o,n+c);l.stroke()}l.strokeStyle=this.axisColor;l.strokeRect(s,n,r,i)}else{var g;if(this.style===x.STYLE.DOTSIZE){g=r*(this.dotSizeMinFraction/this.dotSizeMaxFraction)}else if(this.style===x.STYLE.BARSIZE){}l.strokeStyle=this.axisColor;l.fillStyle=this.dataColor.fill;l.beginPath();l.moveTo(s,n);l.lineTo(o,n);l.lineTo(s+g,a);l.lineTo(s,a);l.closePath();l.fill();l.stroke()}var y=5;var b=t?this.valueRange.min:this.zRange.min;var w=t?this.valueRange.max:this.zRange.max;var _=new m(b,w,(w-b)/5,true);_.start(true);var c;var k;var C;while(!_.end()){c=a-(_.getCurrent()-b)/(w-b)*i;k=new h(s-y,c);C=new h(s,c);this._line(l,k,C);l.textAlign="right";l.textBaseline="middle";l.fillStyle=this.axisColor;l.fillText(_.getCurrent(),s-2*y,c);_.next()}l.textAlign="right";l.textBaseline="top";var S=this.legendLabel;l.fillText(S,o,a+this.margin)};x.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var e={visible:this.showAnimationControls};var t=new p(this.frame.filter,e);this.frame.filter.slider=t;this.frame.filter.style.padding="10px";t.setValues(this.dataFilter.values);t.setPlayInterval(this.animationInterval);var i=this;var n=function e(){var n=t.getIndex();i.dataFilter.selectValue(n);i.dataPoints=i.dataFilter._getDataPoints();i.redraw()};t.setOnChangeCallback(n)}else{this.frame.filter.slider=undefined}};x.prototype._redrawSlider=function(){if(this.frame.filter.slider!==undefined){this.frame.filter.slider.redraw()}};x.prototype._redrawInfo=function(){if(this.dataFilter){var e=this._getContext();e.font="14px arial";e.lineStyle="gray";e.fillStyle="gray";e.textAlign="left";e.textBaseline="top";var t=this.margin;var i=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),t,i)}};x.prototype._line=function(e,t,i,n){if(n!==undefined){e.strokeStyle=n}e.beginPath();e.moveTo(t.x,t.y);e.lineTo(i.x,i.y);e.stroke()};x.prototype.drawAxisLabelX=function(e,t,i,n,r){if(r===undefined){r=0}var o=this._convert3Dto2D(t);if(Math.cos(n*2)>0){e.textAlign="center";e.textBaseline="top";o.y+=r}else if(Math.sin(n*2)<0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText(i,o.x,o.y)};x.prototype.drawAxisLabelY=function(e,t,i,n,r){if(r===undefined){r=0}var o=this._convert3Dto2D(t);if(Math.cos(n*2)<0){e.textAlign="center";e.textBaseline="top";o.y+=r}else if(Math.sin(n*2)>0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText(i,o.x,o.y)};x.prototype.drawAxisLabelZ=function(e,t,i,n){if(n===undefined){n=0}var r=this._convert3Dto2D(t);e.textAlign="right";e.textBaseline="middle";e.fillStyle=this.axisColor;e.fillText(i,r.x-n,r.y)};x.prototype._line3d=function(e,t,i,n){var r=this._convert3Dto2D(t);var o=this._convert3Dto2D(i);this._line(e,r,o,n)};x.prototype._redrawAxis=function(){var e=this._getContext(),t,i,n,r,o,s,a,l,d,c,f;e.font=24/this.camera.getArmLength()+"px arial";var p=.025/this.scale.x;var v=.025/this.scale.y;var g=5/this.camera.getArmLength();var y=this.camera.getArmRotation().horizontal;var b=new h(Math.cos(y),Math.sin(y));var w=this.xRange;var x=this.yRange;var _=this.zRange;e.lineWidth=1;r=this.defaultXStep===undefined;n=new m(w.min,w.max,this.xStep,r);n.start(true);while(!n.end()){var k=n.getCurrent();if(this.showGrid){t=new u(k,x.min,_.min);i=new u(k,x.max,_.min);this._line3d(e,t,i,this.gridColor)}else if(this.showXAxis){t=new u(k,x.min,_.min);i=new u(k,x.min+p,_.min);this._line3d(e,t,i,this.axisColor);t=new u(k,x.max,_.min);i=new u(k,x.max-p,_.min);this._line3d(e,t,i,this.axisColor)}if(this.showXAxis){a=b.x>0?x.min:x.max;var C=new u(k,a,_.min);var S="  "+this.xValueLabel(k)+"  ";this.drawAxisLabelX(e,C,S,y,g)}n.next()}e.lineWidth=1;r=this.defaultYStep===undefined;n=new m(x.min,x.max,this.yStep,r);n.start(true);while(!n.end()){var T=n.getCurrent();if(this.showGrid){t=new u(w.min,T,_.min);i=new u(w.max,T,_.min);this._line3d(e,t,i,this.gridColor)}else if(this.showYAxis){t=new u(w.min,T,_.min);i=new u(w.min+v,T,_.min);this._line3d(e,t,i,this.axisColor);t=new u(w.max,T,_.min);i=new u(w.max-v,T,_.min);this._line3d(e,t,i,this.axisColor)}if(this.showYAxis){s=b.y>0?w.min:w.max;C=new u(s,T,_.min);var S="  "+this.yValueLabel(T)+"  ";this.drawAxisLabelY(e,C,S,y,g)}n.next()}if(this.showZAxis){e.lineWidth=1;r=this.defaultZStep===undefined;n=new m(_.min,_.max,this.zStep,r);n.start(true);s=b.x>0?w.min:w.max;a=b.y<0?x.min:x.max;while(!n.end()){var D=n.getCurrent();var E=new u(s,a,D);var O=this._convert3Dto2D(E);i=new h(O.x-g,O.y);this._line(e,O,i,this.axisColor);var S=this.zValueLabel(D)+" ";this.drawAxisLabelZ(e,E,S,5);n.next()}e.lineWidth=1;t=new u(s,a,_.min);i=new u(s,a,_.max);this._line3d(e,t,i,this.axisColor)}if(this.showXAxis){var P;var M;e.lineWidth=1;P=new u(w.min,x.min,_.min);M=new u(w.max,x.min,_.min);this._line3d(e,P,M,this.axisColor);P=new u(w.min,x.max,_.min);M=new u(w.max,x.max,_.min);this._line3d(e,P,M,this.axisColor)}if(this.showYAxis){e.lineWidth=1;t=new u(w.min,x.min,_.min);i=new u(w.min,x.max,_.min);this._line3d(e,t,i,this.axisColor);t=new u(w.max,x.min,_.min);i=new u(w.max,x.max,_.min);this._line3d(e,t,i,this.axisColor)}var A=this.xLabel;if(A.length>0&&this.showXAxis){f=.1/this.scale.y;s=(w.max+3*w.min)/4;a=b.x>0?x.min-f:x.max+f;o=new u(s,a,_.min);this.drawAxisLabelX(e,o,A,y)}var I=this.yLabel;if(I.length>0&&this.showYAxis){c=.1/this.scale.x;s=b.y>0?w.min-c:w.max+c;a=(x.max+3*x.min)/4;o=new u(s,a,_.min);this.drawAxisLabelY(e,o,I,y)}var F=this.zLabel;if(F.length>0&&this.showZAxis){d=30;s=b.x>0?w.min:w.max;a=b.y<0?x.min:x.max;l=(_.max+3*_.min)/4;o=new u(s,a,l);this.drawAxisLabelZ(e,o,F,d)}};x.prototype._hsv2rgb=function(e,t,i){var n,r,o,s,a,l;s=i*t;a=Math.floor(e/60);l=s*(1-Math.abs(e/60%2-1));switch(a){case 0:n=s;r=l;o=0;break;case 1:n=l;r=s;o=0;break;case 2:n=0;r=s;o=l;break;case 3:n=0;r=l;o=s;break;case 4:n=l;r=0;o=s;break;case 5:n=s;r=0;o=l;break;default:n=0;r=0;o=0;break}return"RGB("+parseInt(n*255)+","+parseInt(r*255)+","+parseInt(o*255)+")"};x.prototype._getStrokeWidth=function(e){if(e!==undefined){if(this.showPerspective){return 1/-e.trans.z*this.dataColor.strokeWidth}else{return-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth}}return this.dataColor.strokeWidth};x.prototype._redrawBar=function(e,t,i,n,r,o){var s,a,l;var d=this;var h=t.point;var c=this.zRange.min;var f=[{point:new u(h.x-i,h.y-n,h.z)},{point:new u(h.x+i,h.y-n,h.z)},{point:new u(h.x+i,h.y+n,h.z)},{point:new u(h.x-i,h.y+n,h.z)}];var p=[{point:new u(h.x-i,h.y-n,c)},{point:new u(h.x+i,h.y-n,c)},{point:new u(h.x+i,h.y+n,c)},{point:new u(h.x-i,h.y+n,c)}];f.forEach(function(e){e.screen=d._convert3Dto2D(e.point)});p.forEach(function(e){e.screen=d._convert3Dto2D(e.point)});var m=[{corners:f,center:u.avg(p[0].point,p[2].point)},{corners:[f[0],f[1],p[1],p[0]],center:u.avg(p[1].point,p[0].point)},{corners:[f[1],f[2],p[2],p[1]],center:u.avg(p[2].point,p[1].point)},{corners:[f[2],f[3],p[3],p[2]],center:u.avg(p[3].point,p[2].point)},{corners:[f[3],f[0],p[0],p[3]],center:u.avg(p[0].point,p[3].point)}];t.surfaces=m;for(a=0;a<m.length;a++){l=m[a];var v=this._convertPointToTranslation(l.center);l.dist=this.showPerspective?v.length():-v.z}m.sort(function(e,t){var i=t.dist-e.dist;if(i)return i;if(e.corners===f)return 1;if(t.corners===f)return-1;return 0});e.lineWidth=this._getStrokeWidth(t);e.strokeStyle=o;e.fillStyle=r;for(a=2;a<m.length;a++){l=m[a];this._polygon(e,l.corners)}};x.prototype._polygon=function(e,t,i,n){if(t.length<2){return}if(i!==undefined){e.fillStyle=i}if(n!==undefined){e.strokeStyle=n}e.beginPath();e.moveTo(t[0].screen.x,t[0].screen.y);for(var r=1;r<t.length;++r){var o=t[r];e.lineTo(o.screen.x,o.screen.y)}e.closePath();e.fill();e.stroke()};x.prototype._drawCircle=function(e,t,i,n,r){var o=this._calcRadius(t,r);e.lineWidth=this._getStrokeWidth(t);e.strokeStyle=n;e.fillStyle=i;e.beginPath();e.arc(t.screen.x,t.screen.y,o,0,Math.PI*2,true);e.fill();e.stroke()};x.prototype._getColorsRegular=function(e){var t=(1-(e.point.z-this.zRange.min)*this.scale.z/this.verticalRatio)*240;var i=this._hsv2rgb(t,1,1);var n=this._hsv2rgb(t,1,.8);return{fill:i,border:n}};x.prototype._getColorsColor=function(e){var t,i;if(typeof e.point.value==="string"){t=e.point.value;i=e.point.value}else{var n=(1-(e.point.value-this.valueRange.min)*this.scale.value)*240;t=this._hsv2rgb(n,1,1);i=this._hsv2rgb(n,1,.8)}return{fill:t,border:i}};x.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}};x.prototype._calcRadius=function(e,t){if(t===undefined){t=this._dotSize()}var i;if(this.showPerspective){i=t/-e.trans.z}else{i=t*-(this.eye.z/this.camera.getArmLength())}if(i<0){i=0}return i};x.prototype._redrawBarGraphPoint=function(e,t){var i=this.xBarWidth/2;var n=this.yBarWidth/2;var r=this._getColorsRegular(t);this._redrawBar(e,t,i,n,r.fill,r.border)};x.prototype._redrawBarColorGraphPoint=function(e,t){var i=this.xBarWidth/2;var n=this.yBarWidth/2;var r=this._getColorsColor(t);this._redrawBar(e,t,i,n,r.fill,r.border)};x.prototype._redrawBarSizeGraphPoint=function(e,t){var i=(t.point.value-this.valueRange.min)/this.valueRange.range();var n=this.xBarWidth/2*(i*.8+.2);var r=this.yBarWidth/2*(i*.8+.2);var o=this._getColorsSize();this._redrawBar(e,t,n,r,o.fill,o.border)};x.prototype._redrawDotGraphPoint=function(e,t){var i=this._getColorsRegular(t);this._drawCircle(e,t,i.fill,i.border)};x.prototype._redrawDotLineGraphPoint=function(e,t){var i=this._convert3Dto2D(t.bottom);e.lineWidth=1;this._line(e,i,t.screen,this.gridColor);this._redrawDotGraphPoint(e,t)};x.prototype._redrawDotColorGraphPoint=function(e,t){var i=this._getColorsColor(t);this._drawCircle(e,t,i.fill,i.border)};x.prototype._redrawDotSizeGraphPoint=function(e,t){var i=this._dotSize();var n=(t.point.value-this.valueRange.min)/this.valueRange.range();var r=i*this.dotSizeMinFraction;var o=i*this.dotSizeMaxFraction-r;var s=r+o*n;var a=this._getColorsSize();this._drawCircle(e,t,a.fill,a.border,s)};x.prototype._redrawSurfaceGraphPoint=function(e,t){var i=t.pointRight;var n=t.pointTop;var r=t.pointCross;if(t===undefined||i===undefined||n===undefined||r===undefined){return}var o=true;var s;var a;var l;if(this.showGrayBottom||this.showShadow){var d=u.subtract(r.trans,t.trans);var h=u.subtract(n.trans,i.trans);var c=u.crossProduct(d,h);var f=c.length();o=c.z>0}if(o){var p=(t.point.z+i.point.z+n.point.z+r.point.z)/4;var m=(1-(p-this.zRange.min)*this.scale.z/this.verticalRatio)*240;var v=1;var g;if(this.showShadow){g=Math.min(1+c.x/f/2,1);s=this._hsv2rgb(m,v,g);a=s}else{g=1;s=this._hsv2rgb(m,v,g);a=this.axisColor}}else{s="gray";a=this.axisColor}e.lineWidth=this._getStrokeWidth(t);var y=[t,i,r,n];this._polygon(e,y,s,a)};x.prototype._drawGridLine=function(e,t,i){if(t===undefined||i===undefined){return}var n=(t.point.z+i.point.z)/2;var r=(1-(n-this.zRange.min)*this.scale.z/this.verticalRatio)*240;e.lineWidth=this._getStrokeWidth(t)*2;e.strokeStyle=this._hsv2rgb(r,1,1);this._line(e,t.screen,i.screen)};x.prototype._redrawGridGraphPoint=function(e,t){this._drawGridLine(e,t,t.pointRight);this._drawGridLine(e,t,t.pointTop)};x.prototype._redrawLineGraphPoint=function(e,t){if(t.pointNext===undefined){return}e.lineWidth=this._getStrokeWidth(t);e.strokeStyle=this.dataColor.stroke;this._line(e,t.screen,t.pointNext.screen)};x.prototype._redrawDataGraph=function(){var e=this._getContext();var t;if(this.dataPoints===undefined||this.dataPoints.length<=0)return;this._calcTranslations(this.dataPoints);for(t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}};x.prototype._storeMousePosition=function(e){this.startMouseX=_(e);this.startMouseY=k(e);this._startCameraOffset=this.camera.getOffset()};x.prototype._onMouseDown=function(e){e=e||window.event;if(this.leftButtonDown){this._onMouseUp(e)}this.leftButtonDown=e.which?e.which===1:e.button===1;if(!this.leftButtonDown&&!this.touchDown)return;this._storeMousePosition(e);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)};this.onmouseup=function(e){t._onMouseUp(e)};d.addEventListener(document,"mousemove",t.onmousemove);d.addEventListener(document,"mouseup",t.onmouseup);d.preventDefault(e)};x.prototype._onMouseMove=function(e){this.moving=true;e=e||window.event;var t=parseFloat(_(e))-this.startMouseX;var i=parseFloat(k(e))-this.startMouseY;if(e&&e.ctrlKey===true){var n=this.frame.clientWidth*.5;var r=this.frame.clientHeight*.5;var o=(this._startCameraOffset.x||0)-t/n*this.camera.armLength*.8;var s=(this._startCameraOffset.y||0)+i/r*this.camera.armLength*.8;this.camera.setOffset(o,s);this._storeMousePosition(e)}else{var a=this.startArmRotation.horizontal+t/200;var l=this.startArmRotation.vertical+i/200;var u=4;var h=Math.sin(u/360*2*Math.PI);if(Math.abs(Math.sin(a))<h){a=Math.round(a/Math.PI)*Math.PI-.001}if(Math.abs(Math.cos(a))<h){a=(Math.round(a/Math.PI-.5)+.5)*Math.PI-.001}if(Math.abs(Math.sin(l))<h){l=Math.round(l/Math.PI)*Math.PI}if(Math.abs(Math.cos(l))<h){l=(Math.round(l/Math.PI-.5)+.5)*Math.PI}this.camera.setArmRotation(a,l)}this.redraw();var c=this.getCameraPosition();this.emit("cameraPositionChange",c);d.preventDefault(e)};x.prototype._onMouseUp=function(e){this.frame.style.cursor="auto";this.leftButtonDown=false;d.removeEventListener(document,"mousemove",this.onmousemove);d.removeEventListener(document,"mouseup",this.onmouseup);d.preventDefault(e)};x.prototype._onClick=function(e){if(!this.onclick_callback)return;if(!this.moving){var t=this.frame.getBoundingClientRect();var i=_(e)-t.left;var n=k(e)-t.top;var r=this._dataPointFromXY(i,n);if(r)this.onclick_callback(r.point.data)}else{this.moving=false}d.preventDefault(e)};x.prototype._onTooltip=function(e){var t=300;var i=this.frame.getBoundingClientRect();var n=_(e)-i.left;var r=k(e)-i.top;if(!this.showTooltip){return}if(this.tooltipTimeout){clearTimeout(this.tooltipTimeout)}if(this.leftButtonDown){this._hideTooltip();return}if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(n,r);if(o!==this.tooltip.dataPoint){if(o){this._showTooltip(o)}else{this._hideTooltip()}}}else{var s=this;this.tooltipTimeout=setTimeout(function(){s.tooltipTimeout=null;var e=s._dataPointFromXY(n,r);if(e){s._showTooltip(e)}},t)}};x.prototype._onTouchStart=function(e){this.touchDown=true;var t=this;this.ontouchmove=function(e){t._onTouchMove(e)};this.ontouchend=function(e){t._onTouchEnd(e)};d.addEventListener(document,"touchmove",t.ontouchmove);d.addEventListener(document,"touchend",t.ontouchend);this._onMouseDown(e)};x.prototype._onTouchMove=function(e){this._onMouseMove(e)};x.prototype._onTouchEnd=function(e){this.touchDown=false;d.removeEventListener(document,"touchmove",this.ontouchmove);d.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(e)};x.prototype._onWheel=function(e){if(!e)e=window.event;var t=0;if(e.wheelDelta){t=e.wheelDelta/120}else if(e.detail){t=-e.detail/3}if(t){var i=this.camera.getArmLength();var n=i*(1-t/10);this.camera.setArmLength(n);this.redraw();this._hideTooltip()}var r=this.getCameraPosition();this.emit("cameraPositionChange",r);d.preventDefault(e)};x.prototype._insideTriangle=function(e,t){var i=t[0],n=t[1],r=t[2];function o(e){return e>0?1:e<0?-1:0}var s=o((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x));var a=o((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x));var l=o((i.x-r.x)*(e.y-r.y)-(i.y-r.y)*(e.x-r.x));return(s==0||a==0||s==a)&&(a==0||l==0||a==l)&&(s==0||l==0||s==l)};x.prototype._dataPointFromXY=function(e,t){var i,n=100,r=null,o=null,s=null,a=new h(e,t);if(this.style===x.STYLE.BAR||this.style===x.STYLE.BARCOLOR||this.style===x.STYLE.BARSIZE){for(i=this.dataPoints.length-1;i>=0;i--){r=this.dataPoints[i];var l=r.surfaces;if(l){for(var d=l.length-1;d>=0;d--){var u=l[d];var c=u.corners;var f=[c[0].screen,c[1].screen,c[2].screen];var p=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,f)||this._insideTriangle(a,p)){return r}}}}}else{for(i=0;i<this.dataPoints.length;i++){r=this.dataPoints[i];var m=r.screen;if(m){var v=Math.abs(e-m.x);var g=Math.abs(t-m.y);var y=Math.sqrt(v*v+g*g);if((s===null||y<s)&&y<n){s=y;o=r}}}}return o};x.prototype.hasBars=function(e){return e==x.STYLE.BAR||e==x.STYLE.BARCOLOR||e==x.STYLE.BARSIZE};x.prototype._showTooltip=function(e){var t,i,n;if(!this.tooltip){t=document.createElement("div");(0,r["default"])(t.style,{},this.tooltipStyle.content);t.style.position="absolute";i=document.createElement("div");(0,r["default"])(i.style,{},this.tooltipStyle.line);i.style.position="absolute";n=document.createElement("div");(0,r["default"])(n.style,{},this.tooltipStyle.dot);n.style.position="absolute";this.tooltip={dataPoint:null,dom:{content:t,line:i,dot:n}}}else{t=this.tooltip.dom.content;i=this.tooltip.dom.line;n=this.tooltip.dom.dot}this._hideTooltip();this.tooltip.dataPoint=e;if(typeof this.showTooltip==="function"){t.innerHTML=this.showTooltip(e.point)}else{t.innerHTML="<table>"+"<tr><td>"+this.xLabel+":</td><td>"+e.point.x+"</td></tr>"+"<tr><td>"+this.yLabel+":</td><td>"+e.point.y+"</td></tr>"+"<tr><td>"+this.zLabel+":</td><td>"+e.point.z+"</td></tr>"+"</table>"}t.style.left="0";t.style.top="0";this.frame.appendChild(t);this.frame.appendChild(i);this.frame.appendChild(n);var o=t.offsetWidth;var s=t.offsetHeight;var a=i.offsetHeight;var l=n.offsetWidth;var d=n.offsetHeight;var u=e.screen.x-o/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-o);i.style.left=e.screen.x+"px";i.style.top=e.screen.y-a+"px";t.style.left=u+"px";t.style.top=e.screen.y-a-s+"px";n.style.left=e.screen.x-l/2+"px";n.style.top=e.screen.y-d/2+"px"};x.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var e in this.tooltip.dom){if(this.tooltip.dom.hasOwnProperty(e)){var t=this.tooltip.dom[e];if(t&&t.parentNode){t.parentNode.removeChild(t)}}}}};function _(e){if("clientX"in e)return e.clientX;return e.targetTouches[0]&&e.targetTouches[0].clientX||0}function k(e){if("clientY"in e)return e.clientY;return e.targetTouches[0]&&e.targetTouches[0].clientY||0}x.prototype.setCameraPosition=function(e){g.setCameraPosition(e,this);this.redraw()};x.prototype.setSize=function(e,t){this._setSize(e,t);this.redraw()};e.exports=x},function(e,t,i){e.exports={default:i(96),__esModule:true}},function(e,t,i){i(97);e.exports=i(17).Object.assign},function(e,t,i){var n=i(15);n(n.S+n.F,"Object",{assign:i(98)})},function(e,t,i){"use strict";var n=i(35),r=i(73),o=i(74),s=i(49),a=i(10),l=Object.assign;e.exports=!l||i(26)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";e[i]=7;n.split("").forEach(function(e){t[e]=e});return l({},e)[i]!=7||Object.keys(l({},t)).join("")!=n})?function e(t,i){var l=s(t),d=arguments.length,u=1,h=r.f,c=o.f;while(d>u){var f=a(arguments[u++]),p=h?n(f).concat(h(f)):n(f),m=p.length,v=0,g;while(m>v)if(c.call(f,g=p[v++]))l[g]=f[g]}return l}:l},function(e,t){e.exports=i;function i(e){if(e)return n(e)}function n(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};i.prototype.once=function(e,t){var i=this;this._callbacks=this._callbacks||{};function n(){i.off(e,n);t.apply(this,arguments)}n.fn=t;this.on(e,n);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var i=this._callbacks[e];if(!i)return this;if(1==arguments.length){delete this._callbacks[e];return this}var n;for(var r=0;r<i.length;r++){n=i[r];if(n===t||n.fn===t){i.splice(r,1);break}}return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n){i[n].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){"use strict";function i(e,t,i){this.x=e!==undefined?e:0;this.y=t!==undefined?t:0;this.z=i!==undefined?i:0}i.subtract=function(e,t){var n=new i;n.x=e.x-t.x;n.y=e.y-t.y;n.z=e.z-t.z;return n};i.add=function(e,t){var n=new i;n.x=e.x+t.x;n.y=e.y+t.y;n.z=e.z+t.z;return n};i.avg=function(e,t){return new i((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)};i.crossProduct=function(e,t){var n=new i;n.x=e.y*t.z-e.z*t.y;n.y=e.z*t.x-e.x*t.z;n.z=e.x*t.y-e.y*t.x;return n};i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};e.exports=i},function(e,t){"use strict";function i(e,t){this.x=e!==undefined?e:0;this.y=t!==undefined?t:0}e.exports=i},function(e,t,i){"use strict";var n=i(103);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(100);function a(){this.armLocation=new s;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraOffset=new s;this.offsetMultiplier=.6;this.cameraLocation=new s;this.cameraRotation=new s(.5*Math.PI,0,0);this.calculateCameraOrientation()}a.prototype.setOffset=function(e,t){var i=Math.abs,n=r["default"],o=this.offsetMultiplier,s=this.armLength*o;if(i(e)>s){e=n(e)*s}if(i(t)>s){t=n(t)*s}this.cameraOffset.x=e;this.cameraOffset.y=t;this.calculateCameraOrientation()};a.prototype.getOffset=function(e,t){return this.cameraOffset};a.prototype.setArmLocation=function(e,t,i){this.armLocation.x=e;this.armLocation.y=t;this.armLocation.z=i;this.calculateCameraOrientation()};a.prototype.setArmRotation=function(e,t){if(e!==undefined){this.armRotation.horizontal=e}if(t!==undefined){this.armRotation.vertical=t;if(this.armRotation.vertical<0)this.armRotation.vertical=0;if(this.armRotation.vertical>.5*Math.PI)this.armRotation.vertical=.5*Math.PI}if(e!==undefined||t!==undefined){this.calculateCameraOrientation()}};a.prototype.getArmRotation=function(){var e={};e.horizontal=this.armRotation.horizontal;e.vertical=this.armRotation.vertical;return e};a.prototype.setArmLength=function(e){if(e===undefined)return;this.armLength=e;if(this.armLength<.71)this.armLength=.71;if(this.armLength>5)this.armLength=5;this.setOffset(this.cameraOffset.x,this.cameraOffset.y);this.calculateCameraOrientation()};a.prototype.getArmLength=function(){return this.armLength};a.prototype.getCameraLocation=function(){return this.cameraLocation};a.prototype.getCameraRotation=function(){return this.cameraRotation};a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal;var e=this.cameraRotation.x;var t=this.cameraRotation.y;var i=this.cameraRotation.z;var n=this.cameraOffset.x;var r=this.cameraOffset.y;var o=Math.sin,s=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*s(i)+r*-o(i)*s(e);this.cameraLocation.y=this.cameraLocation.y+n*o(i)+r*s(i)*s(e);this.cameraLocation.z=this.cameraLocation.z+r*o(e)};e.exports=a},function(e,t,i){e.exports={default:i(104),__esModule:true}},function(e,t,i){i(105);e.exports=i(17).Math.sign},function(e,t,i){var n=i(15);n(n.S,"Math",{sign:i(106)})},function(e,t){e.exports=Math.sign||function e(t){return(t=+t)==0||t!=t?t:t<0?-1:1}},function(e,t,i){"use strict";var n=i(93);function r(e,t,i){this.data=e.getDataSet();this.column=t;this.graph=i;this.index=undefined;this.value=undefined;this.values=e.getDistinctValues(this.column);if(this.values.length>0){this.selectValue(0)}this.dataPoints=[];this.loaded=false;this.onLoadCallback=undefined;if(i.animationPreload){this.loaded=false;this.loadInBackground()}else{this.loaded=true}}r.prototype.isLoaded=function(){return this.loaded};r.prototype.getLoadedProgress=function(){var e=this.values.length;var t=0;while(this.dataPoints[t]){t++}return Math.round(t/e*100)};r.prototype.getLabel=function(){return this.graph.filterLabel};r.prototype.getColumn=function(){return this.column};r.prototype.getSelectedValue=function(){if(this.index===undefined)return undefined;return this.values[this.index]};r.prototype.getValues=function(){return this.values};r.prototype.getValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");return this.values[e]};r.prototype._getDataPoints=function(e){if(e===undefined)e=this.index;if(e===undefined)return[];var t;if(this.dataPoints[e]){t=this.dataPoints[e]}else{var i={};i.column=this.column;i.value=this.values[e];var r=new n(this.data,{filter:function e(t){return t[i.column]==i.value}}).get();t=this.graph._getDataPoints(r);this.dataPoints[e]=t}return t};r.prototype.setOnLoadCallback=function(e){this.onLoadCallback=e};r.prototype.selectValue=function(e){if(e>=this.values.length)throw new Error("Index out of range");this.index=e;this.value=this.values[e]};r.prototype.loadInBackground=function(e){if(e===undefined)e=0;var t=this.graph.frame;if(e<this.values.length){var i=this._getDataPoints(e);if(t.progress===undefined){t.progress=document.createElement("DIV");t.progress.style.position="absolute";t.progress.style.color="gray";t.appendChild(t.progress)}var n=this.getLoadedProgress();t.progress.innerHTML="Loading animation... "+n+"%";t.progress.style.bottom=60+"px";t.progress.style.left=10+"px";var r=this;setTimeout(function(){r.loadInBackground(e+1)},10);this.loaded=false}else{this.loaded=true;if(t.progress!==undefined){t.removeChild(t.progress);t.progress=undefined}if(this.onLoadCallback)this.onLoadCallback()}};e.exports=r},function(e,t,i){"use strict";var n=i(1);function r(e,t){if(e===undefined){throw new Error("No container element defined")}this.container=e;this.visible=t&&t.visible!=undefined?t.visible:true;if(this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(e){i._onMouseDown(e)};this.frame.prev.onclick=function(e){i.prev(e)};this.frame.play.onclick=function(e){i.togglePlay(e)};this.frame.next.onclick=function(e){i.next(e)}}this.onChangeCallback=undefined;this.values=[];this.index=undefined;this.playTimeout=undefined;this.playInterval=1e3;this.playLoop=true}r.prototype.prev=function(){var e=this.getIndex();if(e>0){e--;this.setIndex(e)}};r.prototype.next=function(){var e=this.getIndex();if(e<this.values.length-1){e++;this.setIndex(e)}};r.prototype.playNext=function(){var e=new Date;var t=this.getIndex();if(t<this.values.length-1){t++;this.setIndex(t)}else if(this.playLoop){t=0;this.setIndex(t)}var i=new Date;var n=i-e;var r=Math.max(this.playInterval-n,0);var o=this;this.playTimeout=setTimeout(function(){o.playNext()},r)};r.prototype.togglePlay=function(){if(this.playTimeout===undefined){this.play()}else{this.stop()}};r.prototype.play=function(){if(this.playTimeout)return;this.playNext();if(this.frame){this.frame.play.value="Stop"}};r.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=undefined;if(this.frame){this.frame.play.value="Play"}};r.prototype.setOnChangeCallback=function(e){this.onChangeCallback=e};r.prototype.setPlayInterval=function(e){this.playInterval=e};r.prototype.getPlayInterval=function(e){return this.playInterval};r.prototype.setPlayLoop=function(e){this.playLoop=e};r.prototype.onChange=function(){if(this.onChangeCallback!==undefined){this.onChangeCallback()}};r.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var e=this.indexToLeft(this.index);this.frame.slide.style.left=e+"px"}};r.prototype.setValues=function(e){this.values=e;if(this.values.length>0)this.setIndex(0);else this.index=undefined};r.prototype.setIndex=function(e){if(e<this.values.length){this.index=e;this.redraw();this.onChange()}else{throw new Error("Index out of range")}};r.prototype.getIndex=function(){return this.index};r.prototype.get=function(){return this.values[this.index]};r.prototype._onMouseDown=function(e){var t=e.which?e.which===1:e.button===1;if(!t)return;this.startClientX=e.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var i=this;this.onmousemove=function(e){i._onMouseMove(e)};this.onmouseup=function(e){i._onMouseUp(e)};n.addEventListener(document,"mousemove",this.onmousemove);n.addEventListener(document,"mouseup",this.onmouseup);n.preventDefault(e)};r.prototype.leftToIndex=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var i=e-3;var n=Math.round(i/t*(this.values.length-1));if(n<0)n=0;if(n>this.values.length-1)n=this.values.length-1;return n};r.prototype.indexToLeft=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var i=e/(this.values.length-1)*t;var n=i+3;return n};r.prototype._onMouseMove=function(e){var t=e.clientX-this.startClientX;var i=this.startSlideX+t;var r=this.leftToIndex(i);this.setIndex(r);n.preventDefault()};r.prototype._onMouseUp=function(e){this.frame.style.cursor="auto";n.removeEventListener(document,"mousemove",this.onmousemove);n.removeEventListener(document,"mouseup",this.onmouseup);n.preventDefault()};e.exports=r},function(e,t){"use strict";function i(e,t,i,n){this._start=0;this._end=0;this._step=1;this.prettyStep=true;this.precision=5;this._current=0;this.setRange(e,t,i,n)}i.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};i.prototype.setRange=function(e,t,i,n){if(!this.isNumeric(e)){throw new Error("Parameter 'start' is not numeric; value: "+e)}if(!this.isNumeric(t)){throw new Error("Parameter 'end' is not numeric; value: "+e)}if(!this.isNumeric(i)){throw new Error("Parameter 'step' is not numeric; value: "+e)}this._start=e?e:0;this._end=t?t:0;this.setStep(i,n)};i.prototype.setStep=function(e,t){if(e===undefined||e<=0)return;if(t!==undefined)this.prettyStep=t;if(this.prettyStep===true)this._step=i.calculatePrettyStep(e);else this._step=e};i.calculatePrettyStep=function(e){var t=function e(t){return Math.log(t)/Math.LN10};var i=Math.pow(10,Math.round(t(e))),n=2*Math.pow(10,Math.round(t(e/2))),r=5*Math.pow(10,Math.round(t(e/5)));var o=i;if(Math.abs(n-e)<=Math.abs(o-e))o=n;if(Math.abs(r-e)<=Math.abs(o-e))o=r;if(o<=0){o=1}return o};i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};i.prototype.getStep=function(){return this._step};i.prototype.start=function(e){if(e===undefined){e=false}this._current=this._start-this._start%this._step;if(e){if(this.getCurrent()<this._start){this.next()}}};i.prototype.next=function(){this._current+=this._step};i.prototype.end=function(){return this._current>this._end};e.exports=i},function(e,t){"use strict";function i(){this.min=undefined;this.max=undefined}i.prototype.adjust=function(e){if(e===undefined)return;if(this.min===undefined||this.min>e){this.min=e}if(this.max===undefined||this.max<e){this.max=e}};i.prototype.combine=function(e){this.add(e.min);this.add(e.max)};i.prototype.expand=function(e){if(e===undefined){return}var t=this.min-e;var i=this.max+e;if(t>i){throw new Error("Passed expansion value makes range invalid")}this.min=t;this.max=i};i.prototype.range=function(){return this.max-this.min};i.prototype.center=function(){return(this.min+this.max)/2};e.exports=i},function(e,t,i){"use strict";var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(102);var l=i(100);var d={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};var u={dot:d.DOT,"dot-line":d.DOTLINE,"dot-color":d.DOTCOLOR,"dot-size":d.DOTSIZE,line:d.LINE,grid:d.GRID,surface:d.SURFACE,bar:d.BAR,"bar-color":d.BARCOLOR,"bar-size":d.BARSIZE};var h=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"];var c=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"];var f=undefined;function p(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function m(e){if(e===undefined||e===""||typeof e!="string"){return e}return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t){if(e===undefined||e===""){return t}return e+m(t)}function g(e,t,i,n){var r;var o;for(var s in i){r=i[s];o=v(n,r);t[o]=e[r]}}function y(e,t,i,n){var r;var o;for(var s in i){r=i[s];if(e[r]===undefined)continue;o=v(n,r);t[o]=e[r]}}function b(e,t){if(e===undefined||p(e)){throw new Error("No DEFAULTS passed")}if(t===undefined){throw new Error("No dst passed")}f=e;g(e,t,h);g(e,t,c,"default");x(e,t);t.margin=10;t.showGrayBottom=false;t.showTooltip=false;t.onclick_callback=null;t.eye=new l(0,0,-1)}function w(e,t){if(e===undefined){return}if(t===undefined){throw new Error("No dst passed")}if(f===undefined||p(f)){throw new Error("DEFAULTS not set for module Settings")}y(e,t,h);y(e,t,c,"default");x(e,t)}function x(e,t){if(e.backgroundColor!==undefined){T(e.backgroundColor,t)}D(e.dataColor,t);S(e.style,t);_(e.showLegend,t);E(e.cameraPosition,t);if(e.tooltip!==undefined){t.showTooltip=e.tooltip}if(e.onclick!=undefined){t.onclick_callback=e.onclick}if(e.tooltipStyle!==undefined){s.selectiveDeepExtend(["tooltipStyle"],t,e)}}function _(e,t){if(e===undefined){var i=f.showLegend===undefined;if(i){var n=t.style===d.DOTCOLOR||t.style===d.DOTSIZE;t.showLegend=n}else{}}else{t.showLegend=e}}function k(e){var t=u[e];if(t===undefined){return-1}return t}function C(e){var t=false;for(var i in d){if(d[i]===e){t=true;break}}return t}function S(e,t){if(e===undefined){return}var i;if(typeof e==="string"){i=k(e);if(i===-1){throw new Error("Style '"+e+"' is invalid")}}else{if(!C(e)){throw new Error("Style '"+e+"' is invalid")}i=e}t.style=i}function T(e,t){var i="white";var n="gray";var o=1;if(typeof e==="string"){i=e;n="none";o=0}else if((typeof e==="undefined"?"undefined":(0,r["default"])(e))==="object"){if(e.fill!==undefined)i=e.fill;if(e.stroke!==undefined)n=e.stroke;if(e.strokeWidth!==undefined)o=e.strokeWidth}else{throw new Error("Unsupported type of backgroundColor")}t.frame.style.backgroundColor=i;t.frame.style.borderColor=n;t.frame.style.borderWidth=o+"px";t.frame.style.borderStyle="solid"}function D(e,t){if(e===undefined){return}if(t.dataColor===undefined){t.dataColor={}}if(typeof e==="string"){t.dataColor.fill=e;t.dataColor.stroke=e}else{if(e.fill){t.dataColor.fill=e.fill}if(e.stroke){t.dataColor.stroke=e.stroke}if(e.strokeWidth!==undefined){t.dataColor.strokeWidth=e.strokeWidth}}}function E(e,t){var i=e;if(i===undefined){return}if(t.camera===undefined){t.camera=new a}t.camera.setArmRotation(i.horizontal,i.vertical);t.camera.setArmLength(i.distance)}e.exports.STYLE=d;e.exports.setDefaults=b;e.exports.setOptions=w;e.exports.setCameraPosition=E},function(e,t,i){"use strict";var n=i(89);var r=i(93);var o=i(100);var s=i(110);function a(){this.dataTable=null}a.prototype.initializeData=function(e,t,i){if(this.dataSet){this.dataSet.off("*",this._onChange)}if(t===undefined)return;if(Array.isArray(t)){t=new n(t)}var o;if(t instanceof n||t instanceof r){o=t.get()}else{throw new Error("Array, DataSet, or DataView expected")}if(o.length==0)return;this.dataSet=t;this.dataTable=o;var s=this;this._onChange=function(){e.setData(s.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";var a=e.hasBars(i);if(a){if(e.defaultXBarWidth!==undefined){this.xBarWidth=e.defaultXBarWidth}else{this.xBarWidth=this.getSmallestDifference(o,this.colX)||1}if(e.defaultYBarWidth!==undefined){this.yBarWidth=e.defaultYBarWidth}else{this.yBarWidth=this.getSmallestDifference(o,this.colY)||1}}this._initializeRange(o,this.colX,e,a);this._initializeRange(o,this.colY,e,a);this._initializeRange(o,this.colZ,e,false);if(o[0].hasOwnProperty("style")){this.colValue="style";var l=this.getColumnRange(o,this.colValue);this._setRangeDefaults(l,e.defaultValueMin,e.defaultValueMax);this.valueRange=l}};a.prototype._collectRangeSettings=function(e,t){var i=["x","y","z"].indexOf(e);if(i==-1){throw new Error("Column '"+e+"' invalid")}var n=e.toUpperCase();return{barWidth:this[e+"BarWidth"],min:t["default"+n+"Min"],max:t["default"+n+"Max"],step:t["default"+n+"Step"],range_label:e+"Range",step_label:e+"Step"}};a.prototype._initializeRange=function(e,t,i,n){var r=5;var o=this._collectRangeSettings(t,i);var s=this.getColumnRange(e,t);if(n&&t!="z"){s.expand(o.barWidth/2)}this._setRangeDefaults(s,o.min,o.max);this[o.range_label]=s;this[o.step_label]=o.step!==undefined?o.step:s.range()/r};a.prototype.getDistinctValues=function(e,t){if(t===undefined){t=this.dataTable}var i=[];for(var n=0;n<t.length;n++){var r=t[n][e]||0;if(i.indexOf(r)===-1){i.push(r)}}return i.sort(function(e,t){return e-t})};a.prototype.getSmallestDifference=function(e,t){var i=this.getDistinctValues(e,t);var n=null;for(var r=1;r<i.length;r++){var o=i[r]-i[r-1];if(n==null||n>o){n=o}}return n};a.prototype.getColumnRange=function(e,t){var i=new s;for(var n=0;n<e.length;n++){var r=e[n][t];i.adjust(r)}return i};a.prototype.getNumberOfRows=function(){return this.dataTable.length};a.prototype._setRangeDefaults=function(e,t,i){if(t!==undefined){e.min=t}if(i!==undefined){e.max=i}if(e.max<=e.min)e.max=e.min+1};a.prototype.getDataTable=function(){return this.dataTable};a.prototype.getDataSet=function(){return this.dataSet};a.prototype.reload=function(){if(this.dataTable){this.setData(this.dataTable)}};e.exports=a},function(e,t,i){"use strict";if(typeof window!=="undefined"){var n=i(114);var r=window["Hammer"]||i(115);e.exports=n(r,{preventDefault:"mouse"})}else{e.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}}},function(e,t,i){var n,r,o;"use strict";(function(i){if(true){!(r=[],n=i,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof t==="object"){e.exports=i()}else{window.propagating=i()}})(function(){var e=null;return function t(i,n){var r=n||{preventDefault:false};if(i.Manager){var o=i;var s=function(e,i){var n=Object.create(r);if(i)o.assign(n,i);return t(new o(e,n),n)};o.assign(s,o);s.Manager=function(e,i){var n=Object.create(r);if(i)o.assign(n,i);return t(new o.Manager(e,n),n)};return s}var a=Object.create(i);var l=i.element;if(!l.hammer)l.hammer=[];l.hammer.push(a);i.on("hammer.input",function(t){if(r.preventDefault===true||r.preventDefault===t.pointerType){t.preventDefault()}if(t.isFirst){e=t.target}});a._handlers={};a.on=function(e,t){d(e).forEach(function(e){var n=a._handlers[e];if(!n){a._handlers[e]=n=[];i.on(e,u)}n.push(t)});return a};a.off=function(e,t){d(e).forEach(function(e){var n=a._handlers[e];if(n){n=t?n.filter(function(e){return e!==t}):[];if(n.length>0){a._handlers[e]=n}else{i.off(e,u);delete a._handlers[e]}}});return a};a.emit=function(t,n){e=n.target;i.emit(t,n)};a.destroy=function(){var e=i.element.hammer;var t=e.indexOf(a);if(t!==-1)e.splice(t,1);if(!e.length)delete i.element.hammer;a._handlers={};i.destroy()};function d(e){return e.match(/[^ ]+/g)}function u(t){if(t.type!=="hammer.input"){if(!t.srcEvent._handled){t.srcEvent._handled={}}if(t.srcEvent._handled[t.type]){return}else{t.srcEvent._handled[t.type]=true}}var i=false;t.stopPropagation=function(){i=true};var n=t.srcEvent.stopPropagation.bind(t.srcEvent);if(typeof n=="function"){t.srcEvent.stopPropagation=function(){n();t.stopPropagation()}}t.firstTarget=e;var r=e;while(r&&!i){var o=r.hammer;if(o){var s;for(var a=0;a<o.length;a++){s=o[a]._handlers[t.type];if(s)for(var l=0;l<s.length&&!i;l++){s[l](t)}}}r=r.parentNode}}return a}})},function(e,t,i){var n;(function(r,o,s,a){"use strict";var l=["","webkit","Moz","MS","ms","o"];var d=o.createElement("div");var u="function";var h=Math.round;var c=Math.abs;var f=Date.now;function p(e,t,i){return setTimeout(_(e,i),t)}function m(e,t,i){if(Array.isArray(e)){v(e,i[t],i);return true}return false}function v(e,t,i){var n;if(!e){return}if(e.forEach){e.forEach(t,i)}else if(e.length!==a){n=0;while(n<e.length){t.call(i,e[n],n,e);n++}}else{for(n in e){e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}}}function g(e,t,i){var n="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace");var i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var o=r.console&&(r.console.warn||r.console.log);if(o){o.call(r.console,n,i)}return e.apply(this,arguments)}}var y;if(typeof Object.assign!=="function"){y=function e(t){if(t===a||t===null){throw new TypeError("Cannot convert undefined or null to object")}var i=Object(t);for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&r!==null){for(var o in r){if(r.hasOwnProperty(o)){i[o]=r[o]}}}}return i}}else{y=Object.assign}var b=g(function e(t,i,n){var r=Object.keys(i);var o=0;while(o<r.length){if(!n||n&&t[r[o]]===a){t[r[o]]=i[r[o]]}o++}return t},"extend","Use `assign`.");var w=g(function e(t,i){return b(t,i,true)},"merge","Use `assign`.");function x(e,t,i){var n=t.prototype,r;r=e.prototype=Object.create(n);r.constructor=e;r._super=n;if(i){y(r,i)}}function _(e,t){return function i(){return e.apply(t,arguments)}}function k(e,t){if(typeof e==u){return e.apply(t?t[0]||a:a,t)}return e}function C(e,t){return e===a?t:e}function S(e,t,i){v(O(t),function(t){e.addEventListener(t,i,false)})}function T(e,t,i){v(O(t),function(t){e.removeEventListener(t,i,false)})}function D(e,t){while(e){if(e==t){return true}e=e.parentNode}return false}function E(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function P(e,t,i){if(e.indexOf&&!i){return e.indexOf(t)}else{var n=0;while(n<e.length){if(i&&e[n][i]==t||!i&&e[n]===t){return n}n++}return-1}}function M(e){return Array.prototype.slice.call(e,0)}function A(e,t,i){var n=[];var r=[];var o=0;while(o<e.length){var s=t?e[o][t]:e[o];if(P(r,s)<0){n.push(e[o])}r[o]=s;o++}if(i){if(!t){n=n.sort()}else{n=n.sort(function e(i,n){return i[t]>n[t]})}}return n}function I(e,t){var i,n;var r=t[0].toUpperCase()+t.slice(1);var o=0;while(o<l.length){i=l[o];n=i?i+r:t;if(n in e){return n}o++}return a}var F=1;function R(){return F++}function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var L=/mobile|tablet|ip(ad|hone|od)|android/i;var j="ontouchstart"in r;var B=I(r,"PointerEvent")!==a;var z=j&&L.test(navigator.userAgent);var $="touch";var H="pen";var U="mouse";var W="kinect";var q=25;var Y=1;var V=2;var G=4;var X=8;var Z=1;var K=2;var Q=4;var J=8;var ee=16;var te=K|Q;var ie=J|ee;var ne=te|ie;var re=["x","y"];var oe=["clientX","clientY"];function se(e,t){var i=this;this.manager=e;this.callback=t;this.element=e.element;this.target=e.options.inputTarget;this.domHandler=function(t){if(k(e.options.enable,[e])){i.handler(t)}};this.init()}se.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler);this.evTarget&&S(this.target,this.evTarget,this.domHandler);this.evWin&&S(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler);this.evTarget&&T(this.target,this.evTarget,this.domHandler);this.evWin&&T(N(this.element),this.evWin,this.domHandler)}};function ae(e){var t;var i=e.options.inputClass;if(i){t=i}else if(B){t=Ee}else if(z){t=Ne}else if(!j){t=ke}else{t=ze}return new t(e,le)}function le(e,t,i){var n=i.pointers.length;var r=i.changedPointers.length;var o=t&Y&&n-r===0;var s=t&(G|X)&&n-r===0;i.isFirst=!!o;i.isFinal=!!s;if(o){e.session={}}i.eventType=t;de(e,i);e.emit("hammer.input",i);e.recognize(i);e.session.prevInput=i}function de(e,t){var i=e.session;var n=t.pointers;var r=n.length;if(!i.firstInput){i.firstInput=ce(t)}if(r>1&&!i.firstMultiple){i.firstMultiple=ce(t)}else if(r===1){i.firstMultiple=false}var o=i.firstInput;var s=i.firstMultiple;var a=s?s.center:o.center;var l=t.center=fe(n);t.timeStamp=f();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=ge(a,l);t.distance=ve(a,l);ue(i,t);t.offsetDirection=me(t.deltaX,t.deltaY);var d=pe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x;t.overallVelocityY=d.y;t.overallVelocity=c(d.x)>c(d.y)?d.x:d.y;t.scale=s?be(s.pointers,n):1;t.rotation=s?ye(s.pointers,n):0;t.maxPointers=!i.prevInput?t.pointers.length:t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers;he(i,t);var u=e.element;if(D(t.srcEvent.target,u)){u=t.srcEvent.target}t.target=u}function ue(e,t){var i=t.center;var n=e.offsetDelta||{};var r=e.prevDelta||{};var o=e.prevInput||{};if(t.eventType===Y||o.eventType===G){r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0};n=e.offsetDelta={x:i.x,y:i.y}}t.deltaX=r.x+(i.x-n.x);t.deltaY=r.y+(i.y-n.y)}function he(e,t){var i=e.lastInterval||t,n=t.timeStamp-i.timeStamp,r,o,s,l;if(t.eventType!=X&&(n>q||i.velocity===a)){var d=t.deltaX-i.deltaX;var u=t.deltaY-i.deltaY;var h=pe(n,d,u);o=h.x;s=h.y;r=c(h.x)>c(h.y)?h.x:h.y;l=me(d,u);e.lastInterval=t}else{r=i.velocity;o=i.velocityX;s=i.velocityY;l=i.direction}t.velocity=r;t.velocityX=o;t.velocityY=s;t.direction=l}function ce(e){var t=[];var i=0;while(i<e.pointers.length){t[i]={clientX:h(e.pointers[i].clientX),clientY:h(e.pointers[i].clientY)};i++}return{timeStamp:f(),pointers:t,center:fe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function fe(e){var t=e.length;if(t===1){return{x:h(e[0].clientX),y:h(e[0].clientY)}}var i=0,n=0,r=0;while(r<t){i+=e[r].clientX;n+=e[r].clientY;r++}return{x:h(i/t),y:h(n/t)}}function pe(e,t,i){return{x:t/e||0,y:i/e||0}}function me(e,t){if(e===t){return Z}if(c(e)>=c(t)){return e<0?K:Q}return t<0?J:ee}function ve(e,t,i){if(!i){i=re}var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function ge(e,t,i){if(!i){i=re}var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.atan2(r,n)*180/Math.PI}function ye(e,t){return ge(t[1],t[0],oe)+ge(e[1],e[0],oe)}function be(e,t){return ve(t[0],t[1],oe)/ve(e[0],e[1],oe)}var we={mousedown:Y,mousemove:V,mouseup:G};var xe="mousedown";var _e="mousemove mouseup";function ke(){this.evEl=xe;this.evWin=_e;this.pressed=false;se.apply(this,arguments)}x(ke,se,{handler:function e(t){var i=we[t.type];if(i&Y&&t.button===0){this.pressed=true}if(i&V&&t.which!==1){i=G}if(!this.pressed){return}if(i&G){this.pressed=false}this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:U,srcEvent:t})}});var Ce={pointerdown:Y,pointermove:V,pointerup:G,pointercancel:X,pointerout:X};var Se={2:$,3:H,4:U,5:W};var Te="pointerdown";var De="pointermove pointerup pointercancel";if(r.MSPointerEvent&&!r.PointerEvent){Te="MSPointerDown";De="MSPointerMove MSPointerUp MSPointerCancel"}function Ee(){this.evEl=Te;this.evWin=De;se.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}x(Ee,se,{handler:function e(t){var i=this.store;var n=false;var r=t.type.toLowerCase().replace("ms","");var o=Ce[r];var s=Se[t.pointerType]||t.pointerType;var a=s==$;var l=P(i,t.pointerId,"pointerId");if(o&Y&&(t.button===0||a)){if(l<0){i.push(t);l=i.length-1}}else if(o&(G|X)){n=true}if(l<0){return}i[l]=t;this.callback(this.manager,o,{pointers:i,changedPointers:[t],pointerType:s,srcEvent:t});if(n){i.splice(l,1)}}});var Oe={touchstart:Y,touchmove:V,touchend:G,touchcancel:X};var Pe="touchstart";var Me="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=Pe;this.evWin=Me;this.started=false;se.apply(this,arguments)}x(Ae,se,{handler:function e(t){var i=Oe[t.type];if(i===Y){this.started=true}if(!this.started){return}var n=Ie.call(this,t,i);if(i&(G|X)&&n[0].length-n[1].length===0){this.started=false}this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:$,srcEvent:t})}});function Ie(e,t){var i=M(e.touches);var n=M(e.changedTouches);if(t&(G|X)){i=A(i.concat(n),"identifier",true)}return[i,n]}var Fe={touchstart:Y,touchmove:V,touchend:G,touchcancel:X};var Re="touchstart touchmove touchend touchcancel";function Ne(){this.evTarget=Re;this.targetIds={};se.apply(this,arguments)}x(Ne,se,{handler:function e(t){var i=Fe[t.type];var n=Le.call(this,t,i);if(!n){return}this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:$,srcEvent:t})}});function Le(e,t){var i=M(e.touches);var n=this.targetIds;if(t&(Y|V)&&i.length===1){n[i[0].identifier]=true;return[i,i]}var r,o,s=M(e.changedTouches),a=[],l=this.target;o=i.filter(function(e){return D(e.target,l)});if(t===Y){r=0;while(r<o.length){n[o[r].identifier]=true;r++}}r=0;while(r<s.length){if(n[s[r].identifier]){a.push(s[r])}if(t&(G|X)){delete n[s[r].identifier]}r++}if(!a.length){return}return[A(o.concat(a),"identifier",true),a]}var je=2500;var Be=25;function ze(){se.apply(this,arguments);var e=_(this.handler,this);this.touch=new Ne(this.manager,e);this.mouse=new ke(this.manager,e);this.primaryTouch=null;this.lastTouches=[]}x(ze,se,{handler:function e(t,i,n){var r=n.pointerType==$,o=n.pointerType==U;if(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents){return}if(r){$e.call(this,i,n)}else if(o&&Ue.call(this,n)){return}this.callback(t,i,n)},destroy:function e(){this.touch.destroy();this.mouse.destroy()}});function $e(e,t){if(e&Y){this.primaryTouch=t.changedPointers[0].identifier;He.call(this,t)}else if(e&(G|X)){He.call(this,t)}}function He(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;var r=function(){var e=n.indexOf(i);if(e>-1){n.splice(e,1)}};setTimeout(r,je)}}function Ue(e){var t=e.srcEvent.clientX,i=e.srcEvent.clientY;for(var n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n];var o=Math.abs(t-r.x),s=Math.abs(i-r.y);if(o<=Be&&s<=Be){return true}}return false}var We=I(d.style,"touchAction");var qe=We!==a;var Ye="compute";var Ve="auto";var Ge="manipulation";var Xe="none";var Ze="pan-x";var Ke="pan-y";var Qe=tt();function Je(e,t){this.manager=e;this.set(t)}Je.prototype={set:function(e){if(e==Ye){e=this.compute()}if(qe&&this.manager.element.style&&Qe[e]){this.manager.element.style[We]=e}this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];v(this.manager.recognizers,function(t){if(k(t.options.enable,[t])){e=e.concat(t.getTouchAction())}});return et(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent;var i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var n=this.actions;var r=E(n,Xe)&&!Qe[Xe];var o=E(n,Ke)&&!Qe[Ke];var s=E(n,Ze)&&!Qe[Ze];if(r){var a=e.pointers.length===1;var l=e.distance<2;var d=e.deltaTime<250;if(a&&l&&d){return}}if(s&&o){return}if(r||o&&i&te||s&&i&ie){return this.preventSrc(t)}},preventSrc:function(e){this.manager.session.prevented=true;e.preventDefault()}};function et(e){if(E(e,Xe)){return Xe}var t=E(e,Ze);var i=E(e,Ke);if(t&&i){return Xe}if(t||i){return t?Ze:Ke}if(E(e,Ge)){return Ge}return Ve}function tt(){if(!qe){return false}var e={};var t=r.CSS&&r.CSS.supports;["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?r.CSS.supports("touch-action",i):true});return e}var it=1;var nt=2;var rt=4;var ot=8;var st=ot;var at=16;var lt=32;function dt(e){this.options=y({},this.defaults,e||{});this.id=R();this.manager=null;this.options.enable=C(this.options.enable,true);this.state=it;this.simultaneous={};this.requireFail=[]}dt.prototype={defaults:{},set:function(e){y(this.options,e);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(e){if(m(e,"recognizeWith",this)){return this}var t=this.simultaneous;e=ct(e,this);if(!t[e.id]){t[e.id]=e;e.recognizeWith(this)}return this},dropRecognizeWith:function(e){if(m(e,"dropRecognizeWith",this)){return this}e=ct(e,this);delete this.simultaneous[e.id];return this},requireFailure:function(e){if(m(e,"requireFailure",this)){return this}var t=this.requireFail;e=ct(e,this);if(P(t,e)===-1){t.push(e);e.requireFailure(this)}return this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this)){return this}e=ct(e,this);var t=P(this.requireFail,e);if(t>-1){this.requireFail.splice(t,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this;var i=this.state;function n(i){t.manager.emit(i,e)}if(i<ot){n(t.options.event+ut(i))}n(t.options.event);if(e.additionalEvent){n(e.additionalEvent)}if(i>=ot){n(t.options.event+ut(i))}},tryEmit:function(e){if(this.canEmit()){return this.emit(e)}this.state=lt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(lt|it))){return false}e++}return true},recognize:function(e){var t=y({},e);if(!k(this.options.enable,[this,t])){this.reset();this.state=lt;return}if(this.state&(st|at|lt)){this.state=it}this.state=this.process(t);if(this.state&(nt|rt|ot|at)){this.tryEmit(t)}},process:function(e){},getTouchAction:function(){},reset:function(){}};function ut(e){if(e&at){return"cancel"}else if(e&ot){return"end"}else if(e&rt){return"move"}else if(e&nt){return"start"}return""}function ht(e){if(e==ee){return"down"}else if(e==J){return"up"}else if(e==K){return"left"}else if(e==Q){return"right"}return""}function ct(e,t){var i=t.manager;if(i){return i.get(e)}return e}function ft(){dt.apply(this,arguments)}x(ft,dt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state;var i=e.eventType;var n=t&(nt|rt);var r=this.attrTest(e);if(n&&(i&X||!r)){return t|at}else if(n||r){if(i&G){return t|ot}else if(!(t&nt)){return nt}return t|rt}return lt}});function pt(){ft.apply(this,arguments);this.pX=null;this.pY=null}x(pt,ft,{defaults:{event:"pan",threshold:10,pointers:1,direction:ne},getTouchAction:function(){var e=this.options.direction;var t=[];if(e&te){t.push(Ke)}if(e&ie){t.push(Ze)}return t},directionTest:function(e){var t=this.options;var i=true;var n=e.distance;var r=e.direction;var o=e.deltaX;var s=e.deltaY;if(!(r&t.direction)){if(t.direction&te){r=o===0?Z:o<0?K:Q;i=o!=this.pX;n=Math.abs(e.deltaX)}else{r=s===0?Z:s<0?J:ee;i=s!=this.pY;n=Math.abs(e.deltaY)}}e.direction=r;return i&&n>t.threshold&&r&t.direction},attrTest:function(e){return ft.prototype.attrTest.call(this,e)&&(this.state&nt||!(this.state&nt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX;this.pY=e.deltaY;var t=ht(e.direction);if(t){e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function mt(){ft.apply(this,arguments)}x(mt,ft,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&nt)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function vt(){dt.apply(this,arguments);this._timer=null;this._input=null}x(vt,dt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ve]},process:function(e){var t=this.options;var i=e.pointers.length===t.pointers;var n=e.distance<t.threshold;var r=e.deltaTime>t.time;this._input=e;if(!n||!i||e.eventType&(G|X)&&!r){this.reset()}else if(e.eventType&Y){this.reset();this._timer=p(function(){this.state=st;this.tryEmit()},t.time,this)}else if(e.eventType&G){return st}return lt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==st){return}if(e&&e.eventType&G){this.manager.emit(this.options.event+"up",e)}else{this._input.timeStamp=f();this.manager.emit(this.options.event,this._input)}}});function gt(){ft.apply(this,arguments)}x(gt,ft,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&nt)}});function yt(){ft.apply(this,arguments)}x(yt,ft,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:te|ie,pointers:1},getTouchAction:function(){return pt.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction;var i;if(t&(te|ie)){i=e.overallVelocity}else if(t&te){i=e.overallVelocityX}else if(t&ie){i=e.overallVelocityY}return this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&c(i)>this.options.velocity&&e.eventType&G},emit:function(e){var t=ht(e.offsetDirection);if(t){this.manager.emit(this.options.event+t,e)}this.manager.emit(this.options.event,e)}});function bt(){dt.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}x(bt,dt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ge]},process:function(e){var t=this.options;var i=e.pointers.length===t.pointers;var n=e.distance<t.threshold;var r=e.deltaTime<t.time;this.reset();if(e.eventType&Y&&this.count===0){return this.failTimeout()}if(n&&r&&i){if(e.eventType!=G){return this.failTimeout()}var o=this.pTime?e.timeStamp-this.pTime<t.interval:true;var s=!this.pCenter||ve(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp;this.pCenter=e.center;if(!s||!o){this.count=1}else{this.count+=1}this._input=e;var a=this.count%t.taps;if(a===0){if(!this.hasRequireFailures()){return st}else{this._timer=p(function(){this.state=st;this.tryEmit()},t.interval,this);return nt}}}return lt},failTimeout:function(){this._timer=p(function(){this.state=lt},this.options.interval,this);return lt},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==st){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function wt(e,t){t=t||{};t.recognizers=C(t.recognizers,wt.defaults.preset);return new kt(e,t)}wt.VERSION="2.0.7";wt.defaults={domEvents:false,touchAction:Ye,enable:true,inputTarget:null,inputClass:null,preset:[[gt,{enable:false}],[mt,{enable:false},["rotate"]],[yt,{direction:te}],[pt,{direction:te},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[vt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xt=1;var _t=2;function kt(e,t){this.options=y({},wt.defaults,t||{});this.options.inputTarget=this.options.inputTarget||e;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=e;this.input=ae(this);this.touchAction=new Je(this,this.options.touchAction);Ct(this,true);v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]);e[3]&&t.requireFailure(e[3])},this)}kt.prototype={set:function(e){y(this.options,e);if(e.touchAction){this.touchAction.update()}if(e.inputTarget){this.input.destroy();this.input.target=e.inputTarget;this.input.init()}return this},stop:function(e){this.session.stopped=e?_t:xt},recognize:function(e){var t=this.session;if(t.stopped){return}this.touchAction.preventDefaults(e);var i;var n=this.recognizers;var r=t.curRecognizer;if(!r||r&&r.state&st){r=t.curRecognizer=null}var o=0;while(o<n.length){i=n[o];if(t.stopped!==_t&&(!r||i==r||i.canRecognizeWith(r))){i.recognize(e)}else{i.reset()}if(!r&&i.state&(nt|rt|ot)){r=t.curRecognizer=i}o++}},get:function(e){if(e instanceof dt){return e}var t=this.recognizers;for(var i=0;i<t.length;i++){if(t[i].options.event==e){return t[i]}}return null},add:function(e){if(m(e,"add",this)){return this}var t=this.get(e.options.event);if(t){this.remove(t)}this.recognizers.push(e);e.manager=this;this.touchAction.update();return e},remove:function(e){if(m(e,"remove",this)){return this}e=this.get(e);if(e){var t=this.recognizers;var i=P(t,e);if(i!==-1){t.splice(i,1);this.touchAction.update()}}return this},on:function(e,t){if(e===a){return}if(t===a){return}var i=this.handlers;v(O(e),function(e){i[e]=i[e]||[];i[e].push(t)});return this},off:function(e,t){if(e===a){return}var i=this.handlers;v(O(e),function(e){if(!t){delete i[e]}else{i[e]&&i[e].splice(P(i[e],t),1)}});return this},emit:function(e,t){if(this.options.domEvents){St(e,t)}var i=this.handlers[e]&&this.handlers[e].slice();if(!i||!i.length){return}t.type=e;t.preventDefault=function(){t.srcEvent.preventDefault()};var n=0;while(n<i.length){i[n](t);n++}},destroy:function(){this.element&&Ct(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function Ct(e,t){var i=e.element;if(!i.style){return}var n;v(e.options.cssProps,function(r,o){n=I(i.style,o);if(t){e.oldCssProps[n]=i.style[n];i.style[n]=r}else{i.style[n]=e.oldCssProps[n]||""}});if(!t){e.oldCssProps={}}}function St(e,t){var i=o.createEvent("Event");i.initEvent(e,true,true);i.gesture=t;t.target.dispatchEvent(i)}y(wt,{INPUT_START:Y,INPUT_MOVE:V,INPUT_END:G,INPUT_CANCEL:X,STATE_POSSIBLE:it,STATE_BEGAN:nt,STATE_CHANGED:rt,STATE_ENDED:ot,STATE_RECOGNIZED:st,STATE_CANCELLED:at,STATE_FAILED:lt,DIRECTION_NONE:Z,DIRECTION_LEFT:K,DIRECTION_RIGHT:Q,DIRECTION_UP:J,DIRECTION_DOWN:ee,DIRECTION_HORIZONTAL:te,DIRECTION_VERTICAL:ie,DIRECTION_ALL:ne,Manager:kt,Input:se,TouchAction:Je,TouchInput:Ne,MouseInput:ke,PointerEventInput:Ee,TouchMouseInput:ze,SingleTouchInput:Ae,Recognizer:dt,AttrRecognizer:ft,Tap:bt,Pan:pt,Swipe:yt,Pinch:mt,Rotate:gt,Press:vt,on:S,off:T,each:v,merge:w,extend:b,assign:y,inherit:x,bindFn:_,prefixed:I});var Tt=typeof r!=="undefined"?r:typeof self!=="undefined"?self:{};Tt.Hammer=wt;if(true){!(n=function(){return wt}.call(t,i,t,e),n!==a&&(e.exports=n))}else if(typeof e!="undefined"&&e.exports){e.exports=wt}else{r[s]=wt}})(window,document,"Hammer")},function(e,t,i){var n,r,o;"use strict";(function(i,s){if(true){!(r=[],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof t==="object"){e.exports=s()}else{i.keycharm=s()}})(this,function(){function e(e){var t=e&&e.preventDefault||false;var i=e&&e.container||window;var n={};var r={keydown:{},keyup:{}};var o={};var s;for(s=97;s<=122;s++){o[String.fromCharCode(s)]={code:65+(s-97),shift:false}}for(s=65;s<=90;s++){o[String.fromCharCode(s)]={code:s,shift:true}}for(s=0;s<=9;s++){o[""+s]={code:48+s,shift:false}}for(s=1;s<=12;s++){o["F"+s]={code:111+s,shift:false}}for(s=0;s<=9;s++){o["num"+s]={code:96+s,shift:false}}o["num*"]={code:106,shift:false};o["num+"]={code:107,shift:false};o["num-"]={code:109,shift:false};o["num/"]={code:111,shift:false};o["num."]={code:110,shift:false};o["left"]={code:37,shift:false};o["up"]={code:38,shift:false};o["right"]={code:39,shift:false};o["down"]={code:40,shift:false};o["space"]={code:32,shift:false};o["enter"]={code:13,shift:false};o["shift"]={code:16,shift:undefined};o["esc"]={code:27,shift:false};o["backspace"]={code:8,shift:false};o["tab"]={code:9,shift:false};o["ctrl"]={code:17,shift:false};o["alt"]={code:18,shift:false};o["delete"]={code:46,shift:false};o["pageup"]={code:33,shift:false};o["pagedown"]={code:34,shift:false};o["="]={code:187,shift:false};o["-"]={code:189,shift:false};o["]"]={code:221,shift:false};o["["]={code:219,shift:false};var a=function(e){d(e,"keydown")};var l=function(e){d(e,"keyup")};var d=function(e,i){if(r[i][e.keyCode]!==undefined){var n=r[i][e.keyCode];for(var o=0;o<n.length;o++){if(n[o].shift===undefined){n[o].fn(e)}else if(n[o].shift==true&&e.shiftKey==true){n[o].fn(e)}else if(n[o].shift==false&&e.shiftKey==false){n[o].fn(e)}}if(t==true){e.preventDefault()}}};n.bind=function(e,t,i){if(i===undefined){i="keydown"}if(o[e]===undefined){throw new Error("unsupported key: "+e)}if(r[i][o[e].code]===undefined){r[i][o[e].code]=[]}r[i][o[e].code].push({fn:t,shift:o[e].shift})};n.bindAll=function(e,t){if(t===undefined){t="keydown"}for(var i in o){if(o.hasOwnProperty(i)){n.bind(i,e,t)}}};n.getKey=function(e){for(var t in o){if(o.hasOwnProperty(t)){if(e.shiftKey==true&&o[t].shift==true&&e.keyCode==o[t].code){return t}else if(e.shiftKey==false&&o[t].shift==false&&e.keyCode==o[t].code){return t}else if(e.keyCode==o[t].code&&t=="shift"){return t}}}return"unknown key, currently not supported"};n.unbind=function(e,t,i){if(i===undefined){i="keydown"}if(o[e]===undefined){throw new Error("unsupported key: "+e)}if(t!==undefined){var n=[];var s=r[i][o[e].code];if(s!==undefined){for(var a=0;a<s.length;a++){if(!(s[a].fn==t&&s[a].shift==o[e].shift)){n.push(r[i][o[e].code][a])}}}r[i][o[e].code]=n}else{r[i][o[e].code]=[]}};n.reset=function(){r={keydown:{},keyup:{}}};n.destroy=function(){r={keydown:{},keyup:{}};i.removeEventListener("keydown",a,true);i.removeEventListener("keyup",l,true)};i.addEventListener("keydown",a,true);i.addEventListener("keyup",l,true);return n}return e})},function(e,t,i){"use strict";t.util=i(1);t.DOMutil=i(88);t.DataSet=i(89);t.DataView=i(93);t.Queue=i(92);t.Timeline=i(118);t.Graph2d=i(149);t.timeline={Core:i(123),DateUtil:i(122),Range:i(119),stack:i(127),TimeStep:i(125),components:{items:{Item:i(129),BackgroundItem:i(133),BoxItem:i(131),PointItem:i(132),RangeItem:i(128)},BackgroundGroup:i(130),Component:i(121),CurrentTime:i(144),CustomTime:i(142),DataAxis:i(151),DataScale:i(152),GraphGroup:i(153),Group:i(126),ItemSet:i(124),Legend:i(157),LineGraph:i(150),TimeAxis:i(140)}};t.moment=i(82);t.Hammer=i(113);t.keycharm=i(116)},function(e,t,i){"use strict";var n=i(99);var r=i(113);var o=i(82);var s=i(1);var a=i(89);var l=i(93);var d=i(119);var u=i(123);var h=i(140);var c=i(144);var f=i(142);var p=i(124);var m=i(145).printStyle;var v=i(146).allOptions;var g=i(146).configureOptions;var y=i(147)["default"];var b=i(145)["default"];function w(e,t,i,n){if(!(this instanceof w)){throw new SyntaxError("Constructor must be called with the new operator")}if(!(Array.isArray(i)||i instanceof a||i instanceof l)&&i instanceof Object){var r=n;n=i;i=r}if(n&&n.throttleRedraw){console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.')}var u=this;this.defaultOptions={start:null,end:null,autoResize:true,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null};this.options=s.deepExtend({},this.defaultOptions);this._create(e);if(!n||n&&typeof n.rtl=="undefined"){var f,m=this.dom.root;while(!f&&m){f=window.getComputedStyle(m,null).direction;m=m.parentElement}this.options.rtl=f&&f.toLowerCase()=="rtl"}else{this.options.rtl=n.rtl}this.options.rollingMode=n&&n.rollingMode;this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function e(){return u.timeAxis.step.scale},getStep:function e(){return u.timeAxis.step.step},toScreen:u._toScreen.bind(u),toGlobalScreen:u._toGlobalScreen.bind(u),toTime:u._toTime.bind(u),toGlobalTime:u._toGlobalTime.bind(u)}};this.range=new d(this.body,this.options);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new h(this.body,this.options);this.timeAxis2=null;this.components.push(this.timeAxis);this.currentTime=new c(this.body,this.options);this.components.push(this.currentTime);this.itemSet=new p(this.body,this.options);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;this.dom.root.onclick=function(e){u.emit("click",u.getEventProperties(e))};this.dom.root.ondblclick=function(e){u.emit("doubleClick",u.getEventProperties(e))};this.dom.root.oncontextmenu=function(e){u.emit("contextmenu",u.getEventProperties(e))};this.dom.root.onmouseover=function(e){u.emit("mouseOver",u.getEventProperties(e))};if(window.PointerEvent){this.dom.root.onpointerdown=function(e){u.emit("mouseDown",u.getEventProperties(e))};this.dom.root.onpointermove=function(e){u.emit("mouseMove",u.getEventProperties(e))};this.dom.root.onpointerup=function(e){u.emit("mouseUp",u.getEventProperties(e))}}else{this.dom.root.onmousemove=function(e){u.emit("mouseMove",u.getEventProperties(e))};this.dom.root.onmousedown=function(e){u.emit("mouseDown",u.getEventProperties(e))};this.dom.root.onmouseup=function(e){u.emit("mouseUp",u.getEventProperties(e))}}this.fitDone=false;this.on("changed",function(){if(this.itemsData==null||this.options.rollingMode)return;if(!u.fitDone){u.fitDone=true;if(u.options.start!=undefined||u.options.end!=undefined){if(u.options.start==undefined||u.options.end==undefined){var e=u.getItemRange()}var t=u.options.start!=undefined?u.options.start:e.min;var i=u.options.end!=undefined?u.options.end:e.max;u.setWindow(t,i,{animation:false})}else{u.fit({animation:false})}}});if(n){this.setOptions(n)}if(i){this.setGroups(i)}if(t){this.setItems(t)}this._redraw()}w.prototype=new u;w.prototype._createConfigurator=function(){return new y(this,this.dom.container,g)};w.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:true});this._redraw()};w.prototype.setOptions=function(e){var t=b.validate(e,v);if(t===true){console.log("%cErrors have been found in the supplied options object.",m)}u.prototype.setOptions.call(this,e);if("type"in e){if(e.type!==this.options.type){this.options.type=e.type;var i=this.itemsData;if(i){var n=this.getSelection();this.setItems(null);this.setItems(i);this.setSelection(n)}}}};w.prototype.setItems=function(e){var t;if(!e){t=null}else if(e instanceof a||e instanceof l){t=e}else{t=new a(e,{type:{start:"Date",end:"Date"}})}this.itemsData=t;this.itemSet&&this.itemSet.setItems(t)};w.prototype.setGroups=function(e){var t;if(!e){t=null}else{var i=function e(t){return t.visible!==false};if(e instanceof a||e instanceof l){t=new l(e,{filter:i})}else{t=new a(e.filter(i))}}this.groupsData=t;this.itemSet.setGroups(t)};w.prototype.setData=function(e){if(e&&e.groups){this.setGroups(e.groups)}if(e&&e.items){this.setItems(e.items)}};w.prototype.setSelection=function(e,t){this.itemSet&&this.itemSet.setSelection(e);if(t&&t.focus){this.focus(e,t)}};w.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};w.prototype.focus=function(e,t){if(!this.itemsData||e==undefined)return;var i=Array.isArray(e)?e:[e];var n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}});var r=null;var o=null;n.forEach(function(e){var t=e.start.valueOf();var i="end"in e?e.end.valueOf():e.start.valueOf();if(r===null||t<r){r=t}if(o===null||i>o){o=i}});if(r!==null&&o!==null){var s=(r+o)/2;var a=Math.max(this.range.end-this.range.start,(o-r)*1.1);var l=t&&t.animation!==undefined?t.animation:true;this.range.setRange(s-a/2,s+a/2,{animation:l})}};w.prototype.fit=function(e){var t=e&&e.animation!==undefined?e.animation:true;var i;var n=this.itemsData&&this.itemsData.getDataSet();if(n.length===1&&n.get()[0].end===undefined){i=this.getDataRange();this.moveTo(i.min.valueOf(),{animation:t})}else{i=this.getItemRange();this.range.setRange(i.min,i.max,{animation:t})}};w.prototype.getItemRange=function(){var e=this.getDataRange();var t=e.min!==null?e.min.valueOf():null;var i=e.max!==null?e.max.valueOf():null;var n=null;var r=null;if(t!=null&&i!=null){var o=function e(t){return s.convert(t.data.start,"Date").valueOf()};var a=function e(t){var i=t.data.end!=undefined?t.data.end:t.data.start;return s.convert(i,"Date").valueOf()};var l=i-t;if(l<=0){l=10}var d=l/this.props.center.width;s.forEach(this.itemSet.items,function(e){if(e.groupShowing){e.show();e.repositionX()}var s=o(e);var l=a(e);if(this.options.rtl){var u=s-(e.getWidthRight()+10)*d;var h=l+(e.getWidthLeft()+10)*d}else{var u=s-(e.getWidthLeft()+10)*d;var h=l+(e.getWidthRight()+10)*d}if(u<t){t=u;n=e}if(h>i){i=h;r=e}}.bind(this));if(n&&r){var u=n.getWidthLeft()+10;var h=r.getWidthRight()+10;var c=this.props.center.width-u-h;if(c>0){if(this.options.rtl){t=o(n)-h*l/c;i=a(r)+u*l/c}else{t=o(n)-u*l/c;i=a(r)+h*l/c}}}}return{min:t!=null?new Date(t):null,max:i!=null?new Date(i):null}};w.prototype.getDataRange=function(){var e=null;var t=null;var i=this.itemsData&&this.itemsData.getDataSet();if(i){i.forEach(function(i){var n=s.convert(i.start,"Date").valueOf();var r=s.convert(i.end!=undefined?i.end:i.start,"Date").valueOf();if(e===null||n<e){e=n}if(t===null||r>t){t=r}})}return{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}};w.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX;var i=e.center?e.center.y:e.clientY;if(this.options.rtl){var n=s.getAbsoluteRight(this.dom.centerContainer)-t}else{var n=t-s.getAbsoluteLeft(this.dom.centerContainer)}var r=i-s.getAbsoluteTop(this.dom.centerContainer);var o=this.itemSet.itemFromTarget(e);var a=this.itemSet.groupFromTarget(e);var l=f.customTimeFromTarget(e);var d=this.itemSet.options.snap||null;var u=this.body.util.getScale();var h=this.body.util.getStep();var c=this._toTime(n);var p=d?d(c,u,h):c;var m=s.getTarget(e);var v=null;if(o!=null){v="item"}else if(l!=null){v="custom-time"}else if(s.hasParent(m,this.timeAxis.dom.foreground)){v="axis"}else if(this.timeAxis2&&s.hasParent(m,this.timeAxis2.dom.foreground)){v="axis"}else if(s.hasParent(m,this.itemSet.dom.labelSet)){v="group-label"}else if(s.hasParent(m,this.currentTime.bar)){v="current-time"}else if(s.hasParent(m,this.dom.center)){v="background"}return{event:e,item:o?o.id:null,group:a?a.groupId:null,what:v,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:n,y:r,time:c,snappedTime:p}};w.prototype.toggleRollingMode=function(){if(this.range.rolling){this.range.stopRolling()}else{if(this.options.rollingMode==undefined){this.setOptions(this.options)}this.range.startRolling()}};e.exports=w},function(e,t,i){"use strict";var n=i(58);var r=d(n);var o=i(90);var s=d(o);var a=i(62);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(1);var h=i(120);var c=i(82);var f=i(121);var p=i(122);function m(e,t){var i=c().hours(0).minutes(0).seconds(0).milliseconds(0);var n=i.clone().add(-3,"days").valueOf();var r=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=undefined;if(t===undefined){this.start=n;this.end=r}else{this.start=t.start||n;this.end=t.end||r}this.rolling=false;this.body=e;this.deltaDifference=0;this.scaleOffset=0;this.startToFront=false;this.endToFront=true;this.defaultOptions={rtl:false,start:null,end:null,moment:c,direction:"horizontal",moveable:true,zoomable:true,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:false,offset:.5}};this.options=u.extend({},this.defaultOptions);this.props={touch:{}};this.animationTimer=null;this.body.emitter.on("panstart",this._onDragStart.bind(this));this.body.emitter.on("panmove",this._onDrag.bind(this));this.body.emitter.on("panend",this._onDragEnd.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this));this.setOptions(t)}m.prototype=new f;m.prototype.setOptions=function(e){if(e){var t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];u.selectiveExtend(t,this.options,e);if(e.rollingMode&&e.rollingMode.follow){this.startRolling()}if("start"in e||"end"in e){this.setRange(e.start,e.end)}}};function v(e){if(e!="horizontal"&&e!="vertical"){throw new TypeError('Unknown direction "'+e+'". '+'Choose "horizontal" or "vertical".')}}m.prototype.startRolling=function(){var e=this;function t(){e.stopRolling();e.rolling=true;var i=e.end-e.start;var n=u.convert(new Date,"Date").valueOf();var r=n-i*e.options.rollingMode.offset;var o=n+i*(1-e.options.rollingMode.offset);var s=e.options&&e.options.animation!==undefined?e.options.animation:true;var a={animation:false};e.setRange(r,o,a);var l=e.conversion(e.body.domProps.center.width).scale;var i=1/l/10;if(i<30)i=30;if(i>1e3)i=1e3;e.body.dom.rollingModeBtn.style.visibility="hidden";e.currentTimeTimer=setTimeout(t,i)}t()};m.prototype.stopRolling=function(){if(this.currentTimeTimer!==undefined){clearTimeout(this.currentTimeTimer);this.rolling=false;this.body.dom.rollingModeBtn.style.visibility="visible"}};m.prototype.setRange=function(e,t,i,n){if(!i){i={}}if(i.byUser!==true){i.byUser=false}var o=this;var a=e!=undefined?u.convert(e,"Date").valueOf():null;var d=t!=undefined?u.convert(t,"Date").valueOf():null;this._cancelAnimation();this.millisecondsPerPixelCache=undefined;if(i.animation){var h=this.start;var c=this.end;var f=(0,l["default"])(i.animation)==="object"&&"duration"in i.animation?i.animation.duration:500;var m=(0,l["default"])(i.animation)==="object"&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad";var v=u.easingFunctions[m];if(!v){throw new Error("Unknown easing function "+(0,s["default"])(m)+". "+"Choose from: "+(0,r["default"])(u.easingFunctions).join(", "))}var g=(new Date).valueOf();var y=false;var b=function e(){if(!o.props.touch.dragging){var t=(new Date).valueOf();var r=t-g;var s=v(r/f);var l=r>f;var u=l||a===null?a:h+(a-h)*s;var m=l||d===null?d:c+(d-c)*s;w=o._applyRange(u,m);p.updateHiddenDates(o.options.moment,o.body,o.options.hiddenDates);y=y||w;var b={start:new Date(o.start),end:new Date(o.end),byUser:i.byUser,event:i.event};if(w){o.body.emitter.emit("rangechange",b)}if(l){if(y){o.body.emitter.emit("rangechanged",b);if(n){return n()}}}else{o.animationTimer=setTimeout(e,20)}}};return b()}else{var w=this._applyRange(a,d);p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if(w){var x={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};this.body.emitter.emit("rangechange",x);clearTimeout(o.timeoutID);o.timeoutID=setTimeout(function(){o.body.emitter.emit("rangechanged",x)},200);if(n){return n()}}}};m.prototype.getMillisecondsPerPixel=function(){if(this.millisecondsPerPixelCache===undefined){this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth}return this.millisecondsPerPixelCache};m.prototype._cancelAnimation=function(){if(this.animationTimer){clearTimeout(this.animationTimer);this.animationTimer=null}};m.prototype._applyRange=function(e,t){var i=e!=null?u.convert(e,"Date").valueOf():this.start,n=t!=null?u.convert(t,"Date").valueOf():this.end,r=this.options.max!=null?u.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?u.convert(this.options.min,"Date").valueOf():null,s;if(isNaN(i)||i===null){throw new Error('Invalid start "'+e+'"')}if(isNaN(n)||n===null){throw new Error('Invalid end "'+t+'"')}if(n<i){n=i}if(o!==null){if(i<o){s=o-i;i+=s;n+=s;if(r!=null){if(n>r){n=r}}}}if(r!==null){if(n>r){s=n-r;i-=s;n-=s;if(o!=null){if(i<o){i=o}}}}if(this.options.zoomMin!==null){var a=parseFloat(this.options.zoomMin);if(a<0){a=0}if(n-i<a){var l=.5;if(this.end-this.start===a&&i>=this.start-l&&n<=this.end){i=this.start;n=this.end}else{s=a-(n-i);i-=s/2;n+=s/2}}}if(this.options.zoomMax!==null){var d=parseFloat(this.options.zoomMax);if(d<0){d=0}if(n-i>d){if(this.end-this.start===d&&i<this.start&&n>this.end){i=this.start;n=this.end}else{s=n-i-d;i+=s/2;n-=s/2}}}var h=this.start!=i||this.end!=n;if(!(i>=this.start&&i<=this.end||n>=this.start&&n<=this.end)&&!(this.start>=i&&this.start<=n||this.end>=i&&this.end<=n)){this.body.emitter.emit("checkRangedItems")}this.start=i;this.end=n;return h};m.prototype.getRange=function(){return{start:this.start,end:this.end}};m.prototype.conversion=function(e,t){return m.conversion(this.start,this.end,e,t)};m.conversion=function(e,t,i,n){if(n===undefined){n=0}if(i!=0&&t-e!=0){return{offset:e,scale:i/(t-e-n)}}else{return{offset:0,scale:1}}};m.prototype._onDragStart=function(e){this.deltaDifference=0;this.previousDelta=0;if(!this.options.moveable)return;if(!this._isInsideRange(e))return;if(!this.props.touch.allowDragging)return;this.stopRolling();this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.dragging=true;if(this.body.dom.root){this.body.dom.root.style.cursor="move"}};m.prototype._onDrag=function(e){if(!e)return;if(!this.props.touch.dragging)return;if(!this.options.moveable)return;if(!this.props.touch.allowDragging)return;var t=this.options.direction;v(t);var i=t=="horizontal"?e.deltaX:e.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;var r=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);n-=r;var o=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;if(this.options.rtl){var s=i/o*n}else{var s=-i/o*n}var a=this.props.touch.start+s;var l=this.props.touch.end+s;var d=p.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,true);var u=p.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,true);if(d!=a||u!=l){this.deltaDifference+=i;this.props.touch.start=d;this.props.touch.end=u;this._onDrag(e);return}this.previousDelta=i;this._applyRange(a,l);var h=new Date(this.start);var c=new Date(this.end);this.body.emitter.emit("rangechange",{start:h,end:c,byUser:true,event:e});this.body.emitter.emit("panmove")};m.prototype._onDragEnd=function(e){if(!this.props.touch.dragging)return;if(!this.options.moveable)return;if(!this.props.touch.allowDragging)return;this.props.touch.dragging=false;if(this.body.dom.root){this.body.dom.root.style.cursor="auto"}this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:true,event:e})};m.prototype._onMouseWheel=function(e){var t=0;if(e.wheelDelta){t=e.wheelDelta/120}else if(e.detail){t=-e.detail/3}if(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable){if(this.options.horizontalScroll){e.preventDefault();var i=t*(this.end-this.start)/20;var n=this.start-i;var r=this.end-i;var o={animation:false,byUser:true,event:e};this.setRange(n,r,o)}return}if(!(this.options.zoomable&&this.options.moveable))return;if(!this._isInsideRange(e))return;if(t){var s;if(t<0){s=1-t/5}else{s=1/(1+t/5)}var a;if(this.rolling){a=this.start+(this.end-this.start)*this.options.rollingMode.offset}else{var l=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);a=this._pointerToDate(l)}this.zoom(s,a,t,e);e.preventDefault()}};m.prototype._onTouch=function(e){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=true;this.props.touch.center=null;this.scaleOffset=0;this.deltaDifference=0};m.prototype._onPinch=function(e){if(!(this.options.zoomable&&this.options.moveable))return;this.props.touch.allowDragging=false;if(!this.props.touch.center){this.props.touch.center=this.getPointer(e.center,this.body.dom.center)}this.stopRolling();var t=1/(e.scale+this.scaleOffset);var i=this._pointerToDate(this.props.touch.center);var n=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i);var o=n-r;var s=i-r+(this.props.touch.start-(i-r))*t;var a=i+o+(this.props.touch.end-(i+o))*t;this.startToFront=1-t<=0;this.endToFront=t-1<=0;var l=p.snapAwayFromHidden(this.body.hiddenDates,s,1-t,true);var d=p.snapAwayFromHidden(this.body.hiddenDates,a,t-1,true);if(l!=s||d!=a){this.props.touch.start=l;this.props.touch.end=d;this.scaleOffset=1-e.scale;s=l;a=d}var u={animation:false,byUser:true,event:e};this.setRange(s,a,u);this.startToFront=false;this.endToFront=true};m.prototype._isInsideRange=function(e){var t=e.center?e.center.x:e.clientX;if(this.options.rtl){var i=t-u.getAbsoluteLeft(this.body.dom.centerContainer)}else{var i=u.getAbsoluteRight(this.body.dom.centerContainer)-t}var n=this.body.util.toTime(i);return n>=this.start&&n<=this.end};m.prototype._pointerToDate=function(e){var t;var i=this.options.direction;v(i);if(i=="horizontal"){return this.body.util.toTime(e.x).valueOf()}else{var n=this.body.domProps.center.height;t=this.conversion(n);return e.y/t.scale+t.offset}};m.prototype.getPointer=function(e,t){if(this.options.rtl){return{x:u.getAbsoluteRight(t)-e.x,y:e.y-u.getAbsoluteTop(t)}}else{return{x:e.x-u.getAbsoluteLeft(t),y:e.y-u.getAbsoluteTop(t)}}};m.prototype.zoom=function(e,t,i,n){if(t==null){t=(this.start+this.end)/2}var r=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,t);var s=r-o;var a=t-o+(this.start-(t-o))*e;var l=t+s+(this.end-(t+s))*e;this.startToFront=i>0?false:true;this.endToFront=-i>0?false:true;var d=p.snapAwayFromHidden(this.body.hiddenDates,a,i,true);var u=p.snapAwayFromHidden(this.body.hiddenDates,l,-i,true);if(d!=a||u!=l){a=d;l=u}var h={animation:false,byUser:true,event:n};this.setRange(a,l,h);this.startToFront=false;this.endToFront=true};m.prototype.move=function(e){var t=this.end-this.start;var i=this.start+t*e;var n=this.end+t*e;this.start=i;this.end=n};m.prototype.moveTo=function(e){var t=(this.start+this.end)/2;var i=t-e;var n=this.start-i;var r=this.end-i;var o={animation:false,byUser:true,event:null};this.setRange(n,r,o)};e.exports=m},function(e,t,i){"use strict";var n=i(113);t.onTouch=function(e,t){t.inputHandler=function(e){if(e.isFirst){t(e)}};e.on("hammer.input",t.inputHandler)};t.onRelease=function(e,t){t.inputHandler=function(e){if(e.isFinal){t(e)}};return e.on("hammer.input",t.inputHandler)};t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)};t.offRelease=t.offTouch;t.disablePreventDefaultVertically=function(e){var t="pan-y";e.getTouchAction=function(){return[t]};return e}},function(e,t,i){"use strict";var n=i(1);function r(e,t){this.options=null;this.props=null}r.prototype.setOptions=function(e){if(e){n.extend(this.options,e)}};r.prototype.redraw=function(){return false};r.prototype.destroy=function(){};r.prototype._isResized=function(){var e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return e};e.exports=r},function(e,t){"use strict";t.convertHiddenOptions=function(e,i,n){if(n&&!Array.isArray(n)){return t.convertHiddenOptions(e,i,[n])}i.hiddenDates=[];if(n){if(Array.isArray(n)==true){for(var r=0;r<n.length;r++){if(n[r].repeat===undefined){var o={};o.start=e(n[r].start).toDate().valueOf();o.end=e(n[r].end).toDate().valueOf();i.hiddenDates.push(o)}}i.hiddenDates.sort(function(e,t){return e.start-t.start})}}};t.updateHiddenDates=function(e,i,n){if(n&&!Array.isArray(n)){return t.updateHiddenDates(e,i,[n])}if(n&&i.domProps.centerContainer.width!==undefined){t.convertHiddenOptions(e,i,n);var r=e(i.range.start);var o=e(i.range.end);var s=i.range.end-i.range.start;var a=s/i.domProps.centerContainer.width;for(var l=0;l<n.length;l++){if(n[l].repeat!==undefined){var d=e(n[l].start);var u=e(n[l].end);if(d._d=="Invalid Date"){throw new Error("Supplied start date is not valid: "+n[l].start)}if(u._d=="Invalid Date"){throw new Error("Supplied end date is not valid: "+n[l].end)}var h=u-d;if(h>=4*a){var c=0;var f=o.clone();switch(n[l].repeat){case"daily":if(d.day()!=u.day()){c=1}d.dayOfYear(r.dayOfYear());d.year(r.year());d.subtract(7,"days");u.dayOfYear(r.dayOfYear());u.year(r.year());u.subtract(7-c,"days");f.add(1,"weeks");break;case"weekly":var p=u.diff(d,"days");var m=d.day();d.date(r.date());d.month(r.month());d.year(r.year());u=d.clone();d.day(m);u.day(m);u.add(p,"days");d.subtract(1,"weeks");u.subtract(1,"weeks");f.add(1,"weeks");break;case"monthly":if(d.month()!=u.month()){c=1}d.month(r.month());d.year(r.year());d.subtract(1,"months");u.month(r.month());u.year(r.year());u.subtract(1,"months");u.add(c,"months");f.add(1,"months");break;case"yearly":if(d.year()!=u.year()){c=1}d.year(r.year());d.subtract(1,"years");u.year(r.year());u.subtract(1,"years");u.add(c,"years");f.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat);return}while(d<f){i.hiddenDates.push({start:d.valueOf(),end:u.valueOf()});switch(n[l].repeat){case"daily":d.add(1,"days");u.add(1,"days");break;case"weekly":d.add(1,"weeks");u.add(1,"weeks");break;case"monthly":d.add(1,"months");u.add(1,"months");break;case"yearly":d.add(1,"y");u.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat);return}}i.hiddenDates.push({start:d.valueOf(),end:u.valueOf()})}}}t.removeDuplicates(i);var v=t.isHidden(i.range.start,i.hiddenDates);var g=t.isHidden(i.range.end,i.hiddenDates);var y=i.range.start;var b=i.range.end;if(v.hidden==true){y=i.range.startToFront==true?v.startDate-1:v.endDate+1}if(g.hidden==true){b=i.range.endToFront==true?g.startDate-1:g.endDate+1}if(v.hidden==true||g.hidden==true){i.range._applyRange(y,b)}}};t.removeDuplicates=function(e){var t=e.hiddenDates;var i=[];for(var n=0;n<t.length;n++){for(var r=0;r<t.length;r++){if(n!=r&&t[r].remove!=true&&t[n].remove!=true){if(t[r].start>=t[n].start&&t[r].end<=t[n].end){t[r].remove=true}else if(t[r].start>=t[n].start&&t[r].start<=t[n].end){t[n].end=t[r].end;t[r].remove=true}else if(t[r].end>=t[n].start&&t[r].end<=t[n].end){t[n].start=t[r].start;t[r].remove=true}}}}for(var n=0;n<t.length;n++){if(t[n].remove!==true){i.push(t[n])}}e.hiddenDates=i;e.hiddenDates.sort(function(e,t){return e.start-t.start})};t.printDates=function(e){for(var t=0;t<e.length;t++){console.log(t,new Date(e[t].start),new Date(e[t].end),e[t].start,e[t].end,e[t].remove)}};t.stepOverHiddenDates=function(e,t,i){var n=false;var r=t.current.valueOf();for(var o=0;o<t.hiddenDates.length;o++){var s=t.hiddenDates[o].start;var a=t.hiddenDates[o].end;if(r>=s&&r<a){n=true;break}}if(n==true&&r<t._end.valueOf()&&r!=i){var l=e(i);var d=e(a);if(l.year()!=d.year()){t.switchedYear=true}else if(l.month()!=d.month()){t.switchedMonth=true}else if(l.dayOfYear()!=d.dayOfYear()){t.switchedDay=true}t.current=d}};t.toScreen=function(e,i,n){if(e.body.hiddenDates.length==0){var r=e.range.conversion(n);return(i.valueOf()-r.offset)*r.scale}else{var o=t.isHidden(i,e.body.hiddenDates);if(o.hidden==true){i=o.startDate}var s=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);if(i<e.range.start){var r=e.range.conversion(n,s);var a=t.getHiddenDurationBeforeStart(e.body.hiddenDates,i,r.offset);i=e.options.moment(i).toDate().valueOf();i=i+a;return-(r.offset-i.valueOf())*r.scale}else if(i>e.range.end){var l={start:e.range.start,end:i};i=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,l,i);var r=e.range.conversion(n,s);return(i.valueOf()-r.offset)*r.scale}else{i=t.correctTimeForHidden(e.options.moment,e.body.hiddenDates,e.range,i);var r=e.range.conversion(n,s);return(i.valueOf()-r.offset)*r.scale}}};t.toTime=function(e,i,n){if(e.body.hiddenDates.length==0){var r=e.range.conversion(n);return new Date(i/r.scale+r.offset)}else{var o=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);var s=e.range.end-e.range.start-o;var a=s*i/n;var l=t.getAccumulatedHiddenDuration(e.body.hiddenDates,e.range,a);var d=new Date(l+a+e.range.start);return d}};t.getHiddenDurationBetween=function(e,t,i){var n=0;for(var r=0;r<e.length;r++){var o=e[r].start;var s=e[r].end;if(o>=t&&s<i){n+=s-o}}return n};t.getHiddenDurationBeforeStart=function(e,t,i){var n=0;for(var r=0;r<e.length;r++){var o=e[r].start;var s=e[r].end;if(o>=t&&s<=i){n+=s-o}}return n};t.correctTimeForHidden=function(e,i,n,r){r=e(r).toDate().valueOf();r-=t.getHiddenDurationBefore(e,i,n,r);return r};t.getHiddenDurationBefore=function(e,t,i,n){var r=0;n=e(n).toDate().valueOf();for(var o=0;o<t.length;o++){var s=t[o].start;var a=t[o].end;if(s>=i.start&&a<i.end){if(n>=a){r+=a-s}}}return r};t.getAccumulatedHiddenDuration=function(e,t,i){var n=0;var r=0;var o=t.start;for(var s=0;s<e.length;s++){var a=e[s].start;var l=e[s].end;if(a>=t.start&&l<t.end){r+=a-o;o=l;if(r>=i){break}else{n+=l-a}}}return n};t.snapAwayFromHidden=function(e,i,n,r){var o=t.isHidden(i,e);if(o.hidden==true){if(n<0){if(r==true){return o.startDate-(o.endDate-i)-1}else{return o.startDate-1}}else{if(r==true){return o.endDate+(i-o.startDate)+1}else{return o.endDate+1}}}else{return i}};t.isHidden=function(e,t){for(var i=0;i<t.length;i++){var n=t[i].start;var r=t[i].end;if(e>=n&&e<r){return{hidden:true,startDate:n,endDate:r}}}return{hidden:false,startDate:n,endDate:r}}},function(e,t,i){"use strict";var n=i(90);var r=a(n);var o=i(62);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(99);var d=i(113);var u=i(120);var h=i(1);var c=i(89);var f=i(93);var p=i(119);var m=i(124);var v=i(140);var g=i(141);var y=i(122);var b=i(142);function w(){}l(w.prototype);w.prototype._create=function(e){this.dom={};this.dom.container=e;this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.rollingModeBtn=document.createElement("div");this.dom.root.className="vis-timeline";this.dom.background.className="vis-panel vis-background";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical";this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal";this.dom.centerContainer.className="vis-panel vis-center";this.dom.leftContainer.className="vis-panel vis-left";this.dom.rightContainer.className="vis-panel vis-right";this.dom.top.className="vis-panel vis-top";this.dom.bottom.className="vis-panel vis-bottom";this.dom.left.className="vis-content";this.dom.center.className="vis-content";this.dom.right.className="vis-content";this.dom.shadowTop.className="vis-shadow vis-top";this.dom.shadowBottom.className="vis-shadow vis-bottom";this.dom.shadowTopLeft.className="vis-shadow vis-top";this.dom.shadowBottomLeft.className="vis-shadow vis-bottom";this.dom.shadowTopRight.className="vis-shadow vis-top";this.dom.shadowBottomRight.className="vis-shadow vis-bottom";this.dom.rollingModeBtn.className="vis-rolling-mode-btn";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.rollingModeBtn);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.on("rangechange",function(){if(this.initialDrawDone===true){this._redraw()}}.bind(this));this.on("touch",this._onTouch.bind(this));this.on("panmove",this._onDrag.bind(this));var t=this;this._origRedraw=this._redraw.bind(this);this._redraw=h.throttle(this._origRedraw);this.on("_change",function(e){if(t.itemSet&&t.itemSet.initialItemSetDrawn&&e&&e.queue==true){t._redraw()}else{t._origRedraw()}});this.hammer=new d(this.dom.root);var i=this.hammer.get("pinch").set({enable:true});u.disablePreventDefaultVertically(i);this.hammer.get("pan").set({threshold:5,direction:d.DIRECTION_HORIZONTAL});this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];n.forEach(function(e){var i=function i(n){if(t.isActive()){t.emit(e,n)}};t.hammer.on(e,i);t.listeners[e]=i});u.onTouch(this.hammer,function(e){t.emit("touch",e)}.bind(this));u.onRelease(this.hammer,function(e){t.emit("release",e)}.bind(this));function r(e){if(this.isActive()){this.emit("mousewheel",e)}if(!this.options.verticalScroll||this.options.horizontalScroll)return;if(!this.options.zoomKey||e[this.options.zoomKey])return;e.preventDefault();var t=0;if(e.wheelDelta){t=e.wheelDelta/120}else if(e.detail){t=-e.detail/3}var i=this.props.scrollTop;var n=i+t*120;if(this.isActive()){this._setScrollTop(n);this._redraw();this.emit("scroll",e)}}if(this.dom.centerContainer.addEventListener){this.dom.centerContainer.addEventListener("mousewheel",r.bind(this),false);this.dom.centerContainer.addEventListener("DOMMouseScroll",r.bind(this),false)}else{this.dom.centerContainer.attachEvent("onmousewheel",r.bind(this))}function o(e){if(!t.options.verticalScroll)return;e.preventDefault();if(t.isActive()){var i=-e.target.scrollTop;t._setScrollTop(i);t._redraw();t.emit("scrollSide",e)}}this.dom.left.parentNode.addEventListener("scroll",o.bind(this));this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var s=false;function a(e){if(e.preventDefault){e.preventDefault()}if(!e.target.className.indexOf("vis")>-1)return;if(s)return;e.dataTransfer.dropEffect="move";s=true;return false}function l(e){if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}try{var i=JSON.parse(e.dataTransfer.getData("text"));if(!i.content)return}catch(e){return false}s=false;e.center={x:e.clientX,y:e.clientY};t.itemSet._onAddItem(e);t.emit("drop",t.getEventProperties(e));return false}this.dom.center.addEventListener("dragover",a.bind(this),false);this.dom.center.addEventListener("drop",l.bind(this),false);this.customTimes=[];this.touch={};this.redrawCount=0;this.initialDrawDone=false;if(!e)throw new Error("No container provided");e.appendChild(this.dom.root)};w.prototype.setOptions=function(e){if(e){var t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];h.selectiveExtend(t,this.options,e);this.dom.rollingModeBtn.style.visibility="hidden";if(this.options.rtl){this.dom.container.style.direction="rtl";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}if(this.options.verticalScroll){if(this.options.rtl){this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll"}else{this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"}}this.options.orientation={item:undefined,axis:undefined};if("orientation"in e){if(typeof e.orientation==="string"){this.options.orientation={item:e.orientation,axis:e.orientation}}else if((0,s["default"])(e.orientation)==="object"){if("item"in e.orientation){this.options.orientation.item=e.orientation.item}if("axis"in e.orientation){this.options.orientation.axis=e.orientation.axis}}}if(this.options.orientation.axis==="both"){if(!this.timeAxis2){var i=this.timeAxis2=new v(this.body);i.setOptions=function(e){var t=e?h.extend({},e):{};t.orientation="top";v.prototype.setOptions.call(i,t)};this.components.push(i)}}else{if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);if(n!==-1){this.components.splice(n,1)}this.timeAxis2.destroy();this.timeAxis2=null}}if(typeof e.drawPoints=="function"){e.drawPoints={onRender:e.drawPoints}}if("hiddenDates"in this.options){y.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates)}if("clickToUse"in e){if(e.clickToUse){if(!this.activator){this.activator=new g(this.dom.root)}}else{if(this.activator){this.activator.destroy();delete this.activator}}}if("showCustomTime"in e){throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])")}this._initAutoResize()}this.components.forEach(function(t){return t.setOptions(e)});if("configure"in e){if(!this.configurator){this.configurator=this._createConfigurator()}this.configurator.setOptions(e.configure);var r=h.deepExtend({},this.options);this.components.forEach(function(e){h.deepExtend(r,e.options)});this.configurator.setModuleOptions({global:r})}this._redraw()};w.prototype.isActive=function(){return!this.activator||this.activator.active};w.prototype.destroy=function(){this.setItems(null);this.setGroups(null);this.off();this._stopAutoResize();if(this.dom.root.parentNode){this.dom.root.parentNode.removeChild(this.dom.root)}this.dom=null;if(this.activator){this.activator.destroy();delete this.activator}for(var e in this.listeners){if(this.listeners.hasOwnProperty(e)){delete this.listeners[e]}}this.listeners=null;this.hammer=null;this.components.forEach(function(e){return e.destroy()});this.body=null};w.prototype.setCustomTime=function(e,t){var i=this.customTimes.filter(function(e){return t===e.options.id});if(i.length===0){throw new Error("No custom time bar found with id "+(0,r["default"])(t))}if(i.length>0){i[0].setCustomTime(e)}};w.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(t.length===0){throw new Error("No custom time bar found with id "+(0,r["default"])(e))}return t[0].getCustomTime()};w.prototype.setCustomTimeTitle=function(e,t){var i=this.customTimes.filter(function(e){return e.options.id===t});if(i.length===0){throw new Error("No custom time bar found with id "+(0,r["default"])(t))}if(i.length>0){return i[0].setCustomTitle(e)}};w.prototype.getEventProperties=function(e){return{event:e}};w.prototype.addCustomTime=function(e,t){var i=e!==undefined?h.convert(e,"Date").valueOf():new Date;var n=this.customTimes.some(function(e){return e.options.id===t});if(n){throw new Error("A custom time with id "+(0,r["default"])(t)+" already exists")}var o=new b(this.body,h.extend({},this.options,{time:i,id:t}));this.customTimes.push(o);this.components.push(o);this._redraw();return t};w.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(t.length===0){throw new Error("No custom time bar found with id "+(0,r["default"])(e))}t.forEach(function(e){this.customTimes.splice(this.customTimes.indexOf(e),1);this.components.splice(this.components.indexOf(e),1);e.destroy()}.bind(this))};w.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};w.prototype.fit=function(e,t){var i=this.getDataRange();if(i.min===null&&i.max===null){return}var n=i.max-i.min;var r=new Date(i.min.valueOf()-n*.01);var o=new Date(i.max.valueOf()+n*.01);var s=e&&e.animation!==undefined?e.animation:true;this.range.setRange(r,o,{animation:s},t)};w.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")};w.prototype.setWindow=function(e,t,i,n){if(typeof arguments[2]=="function"){n=arguments[2];i={}}var r;if(arguments.length==1){var o=arguments[0];r=o.animation!==undefined?o.animation:true;this.range.setRange(o.start,o.end,{animation:r})}else if(arguments.length==2&&typeof arguments[1]=="function"){var o=arguments[0];n=arguments[1];r=o.animation!==undefined?o.animation:true;this.range.setRange(o.start,o.end,{animation:r},n)}else{r=i&&i.animation!==undefined?i.animation:true;this.range.setRange(e,t,{animation:r},n)}};w.prototype.moveTo=function(e,t,i){if(typeof arguments[1]=="function"){i=arguments[1];t={}}var n=this.range.end-this.range.start;var r=h.convert(e,"Date").valueOf();var o=r-n/2;var s=r+n/2;var a=t&&t.animation!==undefined?t.animation:true;this.range.setRange(o,s,{animation:a},i)};w.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}};w.prototype.zoomIn=function(e,t,i){if(!e||e<0||e>1)return;if(typeof arguments[1]=="function"){i=arguments[1];t={}}var n=this.getWindow();var r=n.start.valueOf();var o=n.end.valueOf();var s=o-r;var a=s/(1+e);var l=(s-a)/2;var d=r+l;var u=o-l;this.setWindow(d,u,t,i)};w.prototype.zoomOut=function(e,t,i){if(!e||e<0||e>1)return;if(typeof arguments[1]=="function"){i=arguments[1];t={}}var n=this.getWindow();var r=n.start.valueOf();var o=n.end.valueOf();var s=o-r;var a=r-s*e/2;var l=o+s*e/2;this.setWindow(a,l,t,i)};w.prototype.redraw=function(){this._redraw()};w.prototype._redraw=function(){this.redrawCount++;var e=false;var t=this.options;var i=this.props;var n=this.dom;if(!n||!n.container||n.root.offsetWidth==0)return;y.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if(t.orientation=="top"){h.addClassName(n.root,"vis-top");h.removeClassName(n.root,"vis-bottom")}else{h.removeClassName(n.root,"vis-top");h.addClassName(n.root,"vis-bottom")}n.root.style.maxHeight=h.option.asSize(t.maxHeight,"");n.root.style.minHeight=h.option.asSize(t.minHeight,"");n.root.style.width=h.option.asSize(t.width,"");i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2;i.border.right=i.border.left;i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2;i.border.bottom=i.border.top;i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight;i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth;if(n.centerContainer.clientHeight===0){i.border.left=i.border.top;i.border.right=i.border.left}if(n.root.clientHeight===0){i.borderRootWidth=i.borderRootHeight}i.center.height=n.center.offsetHeight;i.left.height=n.left.offsetHeight;i.right.height=n.right.offsetHeight;i.top.height=n.top.clientHeight||-i.border.top;i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var r=Math.max(i.left.height,i.center.height,i.right.height);var o=i.top.height+r+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;n.root.style.height=h.option.asSize(t.height,o+"px");i.root.height=n.root.offsetHeight;i.background.height=i.root.height-i.borderRootHeight;var s=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=s;i.leftContainer.height=s;i.rightContainer.height=i.leftContainer.height;i.root.width=n.root.offsetWidth;i.background.width=i.root.width-i.borderRootWidth;if(!this.initialDrawDone){i.scrollbarWidth=h.getScrollBarWidth()}if(t.verticalScroll){if(t.rtl){i.left.width=n.leftContainer.clientWidth||-i.border.left;i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right}else{i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left;i.right.width=n.rightContainer.clientWidth||-i.border.right}}else{i.left.width=n.leftContainer.clientWidth||-i.border.left;i.right.width=n.rightContainer.clientWidth||-i.border.right}this._setDOM();var a=this._updateScrollTop();if(t.orientation.item!="top"){a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)}n.center.style.top=a+"px";var l=i.scrollTop==0?"hidden":"";var u=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l;n.shadowBottom.style.visibility=u;n.shadowTopLeft.style.visibility=l;n.shadowBottomLeft.style.visibility=u;n.shadowTopRight.style.visibility=l;n.shadowBottomRight.style.visibility=u;if(t.verticalScroll){n.rightContainer.className="vis-panel vis-right vis-vertical-scroll";n.leftContainer.className="vis-panel vis-left vis-vertical-scroll";n.shadowTopRight.style.visibility="hidden";n.shadowBottomRight.style.visibility="hidden";n.shadowTopLeft.style.visibility="hidden";n.shadowBottomLeft.style.visibility="hidden";n.left.style.top="0px";n.right.style.top="0px"}if(!t.verticalScroll||i.center.height<i.centerContainer.height){n.left.style.top=a+"px";n.right.style.top=a+"px";n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)"+"vis-vertical-scroll"+"(?:\\s|$)")," ");n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)"+"vis-vertical-scroll"+"(?:\\s|$)")," ");i.left.width=n.leftContainer.clientWidth||-i.border.left;i.right.width=n.rightContainer.clientWidth||-i.border.right;this._setDOM()}var c=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:c?d.DIRECTION_ALL:d.DIRECTION_HORIZONTAL});this.components.forEach(function(t){e=t.redraw()||e});var f=5;if(e){if(this.redrawCount<f){this.body.emitter.emit("_change");return}else{console.log("WARNING: infinite loop in redraw?")}}else{this.redrawCount=0}this.initialDrawDone=true;this.body.emitter.emit("changed")};w.prototype._setDOM=function(){var e=this.props;var t=this.dom;e.leftContainer.width=e.left.width;e.rightContainer.width=e.right.width;var i=e.root.width-e.left.width-e.right.width-e.borderRootWidth;e.center.width=i;e.centerContainer.width=i;e.top.width=i;e.bottom.width=i;t.background.style.height=e.background.height+"px";t.backgroundVertical.style.height=e.background.height+"px";t.backgroundHorizontal.style.height=e.centerContainer.height+"px";t.centerContainer.style.height=e.centerContainer.height+"px";t.leftContainer.style.height=e.leftContainer.height+"px";t.rightContainer.style.height=e.rightContainer.height+"px";t.background.style.width=e.background.width+"px";t.backgroundVertical.style.width=e.centerContainer.width+"px";t.backgroundHorizontal.style.width=e.background.width+"px";t.centerContainer.style.width=e.center.width+"px";t.top.style.width=e.top.width+"px";t.bottom.style.width=e.bottom.width+"px";t.background.style.left="0";t.background.style.top="0";t.backgroundVertical.style.left=e.left.width+e.border.left+"px";t.backgroundVertical.style.top="0";t.backgroundHorizontal.style.left="0";t.backgroundHorizontal.style.top=e.top.height+"px";t.centerContainer.style.left=e.left.width+"px";t.centerContainer.style.top=e.top.height+"px";t.leftContainer.style.left="0";t.leftContainer.style.top=e.top.height+"px";t.rightContainer.style.left=e.left.width+e.center.width+"px";t.rightContainer.style.top=e.top.height+"px";t.top.style.left=e.left.width+"px";t.top.style.top="0";t.bottom.style.left=e.left.width+"px";t.bottom.style.top=e.top.height+e.centerContainer.height+"px";t.center.style.left="0";t.left.style.left="0";t.right.style.left="0"};w.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")};w.prototype.setCurrentTime=function(e){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}this.currentTime.setCurrentTime(e)};w.prototype.getCurrentTime=function(){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}return this.currentTime.getCurrentTime()};w.prototype._toTime=function(e){return y.toTime(this,e,this.props.center.width)};w.prototype._toGlobalTime=function(e){return y.toTime(this,e,this.props.root.width)};w.prototype._toScreen=function(e){return y.toScreen(this,e,this.props.center.width)};w.prototype._toGlobalScreen=function(e){return y.toScreen(this,e,this.props.root.width)};w.prototype._initAutoResize=function(){if(this.options.autoResize==true){this._startAutoResize()}else{this._stopAutoResize()}};w.prototype._startAutoResize=function(){var e=this;this._stopAutoResize();this._onResize=function(){if(e.options.autoResize!=true){e._stopAutoResize();return}if(e.dom.root){if(e.dom.root.offsetWidth!=e.props.lastWidth||e.dom.root.offsetHeight!=e.props.lastHeight){e.props.lastWidth=e.dom.root.offsetWidth;e.props.lastHeight=e.dom.root.offsetHeight;e.props.scrollbarWidth=h.getScrollBarWidth();e.body.emitter.emit("_change")}}};h.addEventListener(window,"resize",this._onResize);if(e.dom.root){e.props.lastWidth=e.dom.root.offsetWidth;e.props.lastHeight=e.dom.root.offsetHeight}this.watchTimer=setInterval(this._onResize,1e3)};w.prototype._stopAutoResize=function(){if(this.watchTimer){clearInterval(this.watchTimer);this.watchTimer=undefined}if(this._onResize){h.removeEventListener(window,"resize",this._onResize);this._onResize=null}};w.prototype._onTouch=function(e){this.touch.allowDragging=true;this.touch.initialScrollTop=this.props.scrollTop};w.prototype._onPinch=function(e){this.touch.allowDragging=false};w.prototype._onDrag=function(e){if(!e)return;if(!this.touch.allowDragging)return;var t=e.deltaY;var i=this._getScrollTop();var n=this._setScrollTop(this.touch.initialScrollTop+t);if(this.options.verticalScroll){this.dom.left.parentNode.scrollTop=-this.props.scrollTop;this.dom.right.parentNode.scrollTop=-this.props.scrollTop}if(n!=i){this.emit("verticalDrag")}};w.prototype._setScrollTop=function(e){this.props.scrollTop=e;this._updateScrollTop();return this.props.scrollTop};w.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);if(e!=this.props.scrollTopMin){if(this.options.orientation.item!="top"){this.props.scrollTop+=e-this.props.scrollTopMin}this.props.scrollTopMin=e}if(this.props.scrollTop>0)this.props.scrollTop=0;if(this.props.scrollTop<e)this.props.scrollTop=e;if(this.options.verticalScroll){this.dom.left.parentNode.scrollTop=-this.props.scrollTop;this.dom.right.parentNode.scrollTop=-this.props.scrollTop}return this.props.scrollTop};w.prototype._getScrollTop=function(){return this.props.scrollTop};w.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")};e.exports=w},function(e,t,i){"use strict";var n=i(55);var r=a(n);var o=i(62);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(113);var d=i(1);var u=i(89);var h=i(93);var c=i(125);var f=i(121);var p=i(126);var m=i(130);var v=i(131);var g=i(132);var y=i(128);var b=i(133);var w=i(134)["default"];var x="__ungrouped__";var _="__background__";function k(e,t){this.body=e;this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:true,stackSubgroups:true,groupOrderSwap:function e(t,i,n){var r=i.order;i.order=t.order;t.order=r},groupOrder:"order",selectable:true,multiselect:false,itemsAlwaysDraggable:{item:false,range:false},editable:{updateTime:false,updateGroup:false,add:false,remove:false,overrideItems:false},groupEditable:{order:false,add:false,remove:false},snap:c.snap,onAdd:function e(t,i){i(t)},onUpdate:function e(t,i){i(t)},onMove:function e(t,i){i(t)},onRemove:function e(t,i){i(t)},onMoving:function e(t,i){i(t)},onAddGroup:function e(t,i){i(t)},onMoveGroup:function e(t,i){i(t)},onRemoveGroup:function e(t,i){i(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:true,tooltip:{followMouse:false,overflowMethod:"flip"},tooltipOnItemUpdateTime:false};this.options=d.extend({},this.defaultOptions);this.options.rtl=t.rtl;this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime};this.dom={};this.props={};this.hammer=null;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function e(t,n,r){i._onAdd(n.items)},update:function e(t,n,r){i._onUpdate(n.items)},remove:function e(t,n,r){i._onRemove(n.items)}};this.groupListeners={add:function e(t,n,r){i._onAddGroups(n.items)},update:function e(t,n,r){i._onUpdateGroups(n.items)},remove:function e(t,n,r){i._onRemoveGroups(n.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.popup=null;this.touchParams={};this.groupTouchParams={};this._create();this.setOptions(t)}k.prototype=new f;k.types={background:b,box:v,range:y,point:g};k.prototype._create=function(){var e=document.createElement("div");e.className="vis-itemset";e["timeline-itemset"]=this;this.dom.frame=e;var t=document.createElement("div");t.className="vis-background";e.appendChild(t);this.dom.background=t;var i=document.createElement("div");i.className="vis-foreground";e.appendChild(i);this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis";this.dom.axis=n;var r=document.createElement("div");r.className="vis-labelset";this.dom.labelSet=r;this._updateUngrouped();var o=new m(_,null,this);o.show();this.groups[_]=o;this.hammer=new l(this.body.dom.centerContainer);this.hammer.on("hammer.input",function(e){if(e.isFirst){this._onTouch(e)}}.bind(this));this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:l.DIRECTION_HORIZONTAL});this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("press",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));if(this.options.rtl){this.groupHammer=new l(this.body.dom.rightContainer)}else{this.groupHammer=new l(this.body.dom.leftContainer)}this.groupHammer.on("tap",this._onGroupClick.bind(this));this.groupHammer.on("panstart",this._onGroupDragStart.bind(this));this.groupHammer.on("panmove",this._onGroupDrag.bind(this));this.groupHammer.on("panend",this._onGroupDragEnd.bind(this));this.groupHammer.get("pan").set({threshold:5,direction:l.DIRECTION_VERTICAL});this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this));this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this));this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this));this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this));this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this));this.show()};k.prototype.setOptions=function(e){if(e){var t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];d.selectiveExtend(t,this.options,e);if("itemsAlwaysDraggable"in e){if(typeof e.itemsAlwaysDraggable==="boolean"){this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable;this.options.itemsAlwaysDraggable.range=false}else if((0,s["default"])(e.itemsAlwaysDraggable)==="object"){d.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable);if(!this.options.itemsAlwaysDraggable.item){this.options.itemsAlwaysDraggable.range=false}}}if("orientation"in e){if(typeof e.orientation==="string"){this.options.orientation.item=e.orientation==="top"?"top":"bottom"}else if((0,s["default"])(e.orientation)==="object"&&"item"in e.orientation){this.options.orientation.item=e.orientation.item}}if("margin"in e){if(typeof e.margin==="number"){this.options.margin.axis=e.margin;this.options.margin.item.horizontal=e.margin;this.options.margin.item.vertical=e.margin}else if((0,s["default"])(e.margin)==="object"){d.selectiveExtend(["axis"],this.options.margin,e.margin);if("item"in e.margin){if(typeof e.margin.item==="number"){this.options.margin.item.horizontal=e.margin.item;this.options.margin.item.vertical=e.margin.item}else if((0,s["default"])(e.margin.item)==="object"){d.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)}}}}if("editable"in e){if(typeof e.editable==="boolean"){this.options.editable.updateTime=e.editable;this.options.editable.updateGroup=e.editable;this.options.editable.add=e.editable;this.options.editable.remove=e.editable;this.options.editable.overrideItems=false}else if((0,s["default"])(e.editable)==="object"){d.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)}}if("groupEditable"in e){if(typeof e.groupEditable==="boolean"){this.options.groupEditable.order=e.groupEditable;this.options.groupEditable.add=e.groupEditable;this.options.groupEditable.remove=e.groupEditable}else if((0,s["default"])(e.groupEditable)==="object"){d.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable)}}var i=function(t){var i=e[t];if(i){if(!(i instanceof Function)){throw new Error("option "+t+" must be a function "+t+"(item, callback)")}this.options[t]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i);this.markDirty()}};k.prototype.markDirty=function(e){this.groupIds=[];if(e&&e.refreshItems){d.forEach(this.items,function(e){e.dirty=true;if(e.displayed)e.redraw()})}};k.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null};k.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}if(this.dom.axis.parentNode){this.dom.axis.parentNode.removeChild(this.dom.axis)}if(this.dom.labelSet.parentNode){this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}};k.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}if(!this.dom.axis.parentNode){this.body.dom.backgroundVertical.appendChild(this.dom.axis)}if(!this.dom.labelSet.parentNode){if(this.options.rtl){this.body.dom.right.appendChild(this.dom.labelSet)}else{this.body.dom.left.appendChild(this.dom.labelSet)}}};k.prototype.setSelection=function(e){var t,i,n,r;if(e==undefined)e=[];if(!Array.isArray(e))e=[e];for(t=0,i=this.selection.length;t<i;t++){n=this.selection[t];r=this.items[n];if(r)r.unselect()}this.selection=[];for(t=0,i=e.length;t<i;t++){n=e[t];r=this.items[n];if(r){this.selection.push(n);r.select()}}};k.prototype.getSelection=function(){return this.selection.concat([])};k.prototype.getVisibleItems=function(){var e=this.body.range.getRange();if(this.options.rtl){var t=this.body.util.toScreen(e.start);var i=this.body.util.toScreen(e.end)}else{var i=this.body.util.toScreen(e.start);var t=this.body.util.toScreen(e.end)}var n=[];for(var r in this.groups){if(this.groups.hasOwnProperty(r)){var o=this.groups[r];var s=o.isVisible?o.visibleItems:[];for(var a=0;a<s.length;a++){var l=s[a];if(this.options.rtl){if(l.right<i&&l.right+l.width>t){n.push(l.id)}}else{if(l.left<t&&l.left+l.width>i){n.push(l.id)}}}}}return n};k.prototype._deselect=function(e){var t=this.selection;for(var i=0,n=t.length;i<n;i++){if(t[i]==e){t.splice(i,1);break}}};k.prototype.redraw=function(){var e=this.options.margin,t=this.body.range,i=d.option.asSize,n=this.options,r=n.orientation.item,o=false,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;if(this.options.rtl){this.props.right=this.body.domProps.right.width+this.body.domProps.border.right}else{this.props.left=this.body.domProps.left.width+this.body.domProps.border.left}s.className="vis-itemset";o=this._orderGroups()||o;var a=t.end-t.start;var l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;var u=t.start!=this.lastRangeStart;var h=n.stack!=this.lastStack;var c=n.stackSubgroups!=this.lastStackSubgroups;var f=l||u||h||c;this.lastVisibleInterval=a;this.lastRangeStart=t.start;this.lastStack=n.stack;this.lastStackSubgroups=n.stackSubgroups;this.props.lastWidth=this.props.width;var p=this._firstGroup();var m={item:e.item,axis:e.axis};var v={item:e.item,axis:e.item.vertical/2};var g=0;var y=e.axis+e.item.vertical;this.groups[_].redraw(t,v,f);d.forEach(this.groups,function(e){var i=e==p?m:v;var n=e.redraw(t,i,f);o=n||o;g+=e.height});g=Math.max(g,y);s.style.height=i(g);this.props.width=s.offsetWidth;this.props.height=g;this.dom.axis.style.top=i(r=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);if(this.options.rtl){this.dom.axis.style.right="0"}else{this.dom.axis.style.left="0"}this.initialItemSetDrawn=true;o=this._isResized()||o;return o};k.prototype._firstGroup=function(){var e=this.options.orientation.item=="top"?0:this.groupIds.length-1;var t=this.groupIds[e];var i=this.groups[t]||this.groups[x];return i||null};k.prototype._updateUngrouped=function(){var e=this.groups[x];var t=this.groups[_];var i,n;if(this.groupsData){if(e){e.hide();delete this.groups[x];for(n in this.items){if(this.items.hasOwnProperty(n)){i=this.items[n];i.parent&&i.parent.remove(i);var r=this._getGroupId(i.data);var o=this.groups[r];o&&o.add(i)||i.hide()}}}}else{if(!e){var s=null;var a=null;e=new p(s,a,this);this.groups[x]=e;for(n in this.items){if(this.items.hasOwnProperty(n)){i=this.items[n];e.add(i)}}e.show()}}};k.prototype.getLabelSet=function(){return this.dom.labelSet};k.prototype.setItems=function(e){var t=this,i,n=this.itemsData;if(!e){this.itemsData=null}else if(e instanceof u||e instanceof h){this.itemsData=e}else{throw new TypeError("Data must be an instance of DataSet or DataView")}if(n){d.forEach(this.itemListeners,function(e,t){n.off(t,e)});i=n.getIds();this._onRemove(i)}if(this.itemsData){var r=this.id;d.forEach(this.itemListeners,function(e,i){t.itemsData.on(i,e,r)});i=this.itemsData.getIds();this._onAdd(i);this._updateUngrouped()}this.body.emitter.emit("_change",{queue:true})};k.prototype.getItems=function(){return this.itemsData};k.prototype.setGroups=function(e){var t=this,i;if(this.groupsData){d.forEach(this.groupListeners,function(e,i){t.groupsData.off(i,e)});i=this.groupsData.getIds();this.groupsData=null;this._onRemoveGroups(i)}if(!e){this.groupsData=null}else if(e instanceof u||e instanceof h){this.groupsData=e}else{throw new TypeError("Data must be an instance of DataSet or DataView")}if(this.groupsData){var n=this.groupsData;if(this.groupsData instanceof h){n=this.groupsData.getDataSet()}n.get().forEach(function(e){if(e.nestedGroups){e.nestedGroups.forEach(function(t){var i=n.get(t);i.nestedInGroup=e.id;if(e.showNested==false){i.visible=false}n.update(i)})}});var r=this.id;d.forEach(this.groupListeners,function(e,i){t.groupsData.on(i,e,r)});i=this.groupsData.getIds();this._onAddGroups(i)}this._updateUngrouped();this._order();this.body.emitter.emit("_change",{queue:true})};k.prototype.getGroups=function(){return this.groupsData};k.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet(),n=this.items[e];if(t){this.options.onRemove(t,function(t){if(t){i.remove(e)}})}};k.prototype._getType=function(e){return e.type||this.options.type||(e.end?"range":"box")};k.prototype._getGroupId=function(e){var t=this._getType(e);if(t=="background"&&e.group==undefined){return _}else{return this.groupsData?e.group:x}};k.prototype._onUpdate=function(e){var t=this;e.forEach(function(e){var i=t.itemsData.get(e,t.itemOptions);var n=t.items[e];var r=i?t._getType(i):null;var o=k.types[r];var s;if(n){if(!o||!(n instanceof o)){s=n.selected;t._removeItem(n);n=null}else{t._updateItem(n,i)}}if(!n&&i){if(o){n=new o(i,t.conversion,t.options);n.id=e;t._addItem(n);if(s){this.selection.push(e);n.select()}}else if(r=="rangeoverflow"){throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: '+".vis-item.vis-range .vis-item-content {overflow: visible;}")}else{throw new TypeError('Unknown item type "'+r+'"')}}}.bind(this));this._order();this.body.emitter.emit("_change",{queue:true})};k.prototype._onAdd=k.prototype._onUpdate;k.prototype._onRemove=function(e){var t=0;var i=this;e.forEach(function(e){var n=i.items[e];if(n){t++;i._removeItem(n)}});if(t){this._order();this.body.emitter.emit("_change",{queue:true})}};k.prototype._order=function(){d.forEach(this.groups,function(e){e.order()})};k.prototype._onUpdateGroups=function(e){this._onAddGroups(e)};k.prototype._onAddGroups=function(e){var t=this;e.forEach(function(e){var i=t.groupsData.get(e);var n=t.groups[e];if(!n){if(e==x||e==_){throw new Error("Illegal group id. "+e+" is a reserved id.")}var o=(0,r["default"])(t.options);d.extend(o,{height:null});n=new p(e,i,t);t.groups[e]=n;for(var s in t.items){if(t.items.hasOwnProperty(s)){var a=t.items[s];if(a.data.group==e){n.add(a)}}}n.order();n.show()}else{n.setData(i)}});this.body.emitter.emit("_change",{queue:true})};k.prototype._onRemoveGroups=function(e){var t=this.groups;e.forEach(function(e){var i=t[e];if(i){i.hide();delete t[e]}});this.markDirty();this.body.emitter.emit("_change",{queue:true})};k.prototype._orderGroups=function(){if(this.groupsData){var e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);var t=!d.equalArray(e,this.groupIds);if(t){var i=this.groups;e.forEach(function(e){i[e].hide()});e.forEach(function(e){i[e].show()});this.groupIds=e}return t}else{return false}};k.prototype._orderNestedGroups=function(e){var t=[];e.forEach(function(e){var i=this.groupsData.get(e);if(!i.nestedInGroup){t.push(e)}if(i.nestedGroups){var n=this.groupsData.get({filter:function t(i){return i.nestedInGroup==e},order:this.options.groupOrder});var r=n.map(function(e){return e.id});t=t.concat(r)}},this);return t};k.prototype._addItem=function(e){this.items[e.id]=e;var t=this._getGroupId(e.data);var i=this.groups[t];if(!i){e.groupShowing=false}else if(i&&i.data&&i.data.showNested){e.groupShowing=true}if(i)i.add(e)};k.prototype._updateItem=function(e,t){e.setData(t);var i=this._getGroupId(e.data);var n=this.groups[i];if(!n){e.groupShowing=false}else if(n&&n.data&&n.data.showNested){e.groupShowing=true}};k.prototype._removeItem=function(e){e.hide();delete this.items[e.id];var t=this.selection.indexOf(e.id);if(t!=-1)this.selection.splice(t,1);e.parent&&e.parent.remove(e)};k.prototype._constructByEndArray=function(e){var t=[];for(var i=0;i<e.length;i++){if(e[i]instanceof y){t.push(e[i])}}return t};k.prototype._onTouch=function(e){this.touchParams.item=this.itemFromTarget(e);this.touchParams.dragLeftItem=e.target.dragLeftItem||false;this.touchParams.dragRightItem=e.target.dragRightItem||false;this.touchParams.itemProps=null};k.prototype._getGroupIndex=function(e){for(var t=0;t<this.groupIds.length;t++){if(e==this.groupIds[t])return t}};k.prototype._onDragStart=function(e){if(this.touchParams.itemIsDragging){return}var t=this.touchParams.item||null;var i=this;var n;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup){return}if(t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems){return}var r=this.touchParams.dragLeftItem;var o=this.touchParams.dragRightItem;this.touchParams.itemIsDragging=true;this.touchParams.selectedItem=t;if(r){n={item:r,initialX:e.center.x,dragLeft:true,data:this._cloneItemData(t.data)};this.touchParams.itemProps=[n]}else if(o){n={item:o,initialX:e.center.x,dragRight:true,data:this._cloneItemData(t.data)};this.touchParams.itemProps=[n]}else{if(this.groupIds.length<1){this.redraw()}var s=this._getGroupIndex(t.data.group);var a=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=a.map(function(t){var n=i.items[t];var r=i._getGroupIndex(n.data.group);return{item:n,initialX:e.center.x,groupOffset:s-r,data:this._cloneItemData(n.data)}}.bind(this))}e.stopPropagation()}else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)){this._onDragStartAddItem(e)}};k.prototype._onDragStartAddItem=function(e){var t=this.options.snap||null;if(this.options.rtl){var i=d.getAbsoluteRight(this.dom.frame);var n=i-e.center.x+10}else{var i=d.getAbsoluteLeft(this.dom.frame);var n=e.center.x-i-10}var r=this.body.util.toTime(n);var o=this.body.util.getScale();var s=this.body.util.getStep();var a=t?t(r,o,s):r;var l=a;var u={type:"range",start:a,end:l,content:"new item"};var h=d.randomUUID();u[this.itemsData._fieldId]=h;var c=this.groupFromTarget(e);if(c){u.group=c.groupId}var f=new y(u,this.conversion,this.options);f.id=h;f.data=this._cloneItemData(u);this._addItem(f);this.touchParams.selectedItem=f;var p={item:f,initialX:e.center.x,data:f.data};if(this.options.rtl){p.dragLeft=true}else{p.dragRight=true}this.touchParams.itemProps=[p];e.stopPropagation()};k.prototype._onDrag=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t=this;var i=this.options.snap||null;if(this.options.rtl){var n=this.body.dom.root.offsetLeft+this.body.domProps.right.width}else{var n=this.body.dom.root.offsetLeft+this.body.domProps.left.width}var r=this.body.util.getScale();var o=this.body.util.getStep();var s=this.touchParams.selectedItem;var a=(this.options.editable.overrideItems||s.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&s.editable!=null&&s.editable.updateGroup;var l=null;if(a&&s){if(s.data.group!=undefined){var u=t.groupFromTarget(e);if(u){l=this._getGroupIndex(u.groupId)}}}this.touchParams.itemProps.forEach(function(u){var h=t.body.util.toTime(e.center.x-n);var c=t.body.util.toTime(u.initialX-n);if(this.options.rtl){var f=-(h-c)}else{var f=h-c}var p=this._cloneItemData(u.item.data);if(u.item.editable!=null&&!u.item.editable.updateTime&&!u.item.editable.updateGroup&&!t.options.editable.overrideItems){return}var m=(this.options.editable.overrideItems||s.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&s.editable!=null&&s.editable.updateTime;if(m){if(u.dragLeft){if(this.options.rtl){if(p.end!=undefined){var v=d.convert(u.data.end,"Date");var g=new Date(v.valueOf()+f);p.end=i?i(g,r,o):g}}else{if(p.start!=undefined){var y=d.convert(u.data.start,"Date");var b=new Date(y.valueOf()+f);p.start=i?i(b,r,o):b}}}else if(u.dragRight){if(this.options.rtl){if(p.start!=undefined){var y=d.convert(u.data.start,"Date");var b=new Date(y.valueOf()+f);p.start=i?i(b,r,o):b}}else{if(p.end!=undefined){var v=d.convert(u.data.end,"Date");var g=new Date(v.valueOf()+f);p.end=i?i(g,r,o):g}}}else{if(p.start!=undefined){var y=d.convert(u.data.start,"Date").valueOf();var b=new Date(y+f);if(p.end!=undefined){var v=d.convert(u.data.end,"Date");var w=v.valueOf()-y.valueOf();p.start=i?i(b,r,o):b;p.end=new Date(p.start.valueOf()+w)}else{p.start=i?i(b,r,o):b}}}}if(a&&!u.dragLeft&&!u.dragRight&&l!=null){if(p.group!=undefined){var x=l-u.groupOffset;x=Math.max(0,x);x=Math.min(t.groupIds.length-1,x);p.group=t.groupIds[x]}}p=this._cloneItemData(p);t.options.onMoving(p,function(e){if(e){u.item.setData(this._cloneItemData(e,"Date"))}}.bind(this))}.bind(this));this.body.emitter.emit("_change")}};k.prototype._moveToGroup=function(e,t){var i=this.groups[t];if(i&&i.groupId!=e.data.group){var n=e.parent;n.remove(e);n.order();e.data.group=i.groupId;i.add(e);i.order()}};k.prototype._onDragEnd=function(e){this.touchParams.itemIsDragging=false;if(this.touchParams.itemProps){e.stopPropagation();var t=this;var i=this.itemsData.getDataSet();var n=this.touchParams.itemProps;this.touchParams.itemProps=null;n.forEach(function(e){var n=e.item.id;var r=t.itemsData.get(n,t.itemOptions)!=null;if(!r){t.options.onAdd(e.item.data,function(i){t._removeItem(e.item);if(i){t.itemsData.getDataSet().add(i)}t.body.emitter.emit("_change")})}else{var o=this._cloneItemData(e.item.data);t.options.onMove(o,function(r){if(r){r[i._fieldId]=n;i.update(r)}else{e.item.setData(e.data);t.body.emitter.emit("_change")}})}}.bind(this))}};k.prototype._onGroupClick=function(e){var t=this.groupFromTarget(e);if(!t||!t.nestedGroups)return;var i=this.groupsData;if(this.groupsData instanceof h){i=this.groupsData.getDataSet()}t.showNested=!t.showNested;var n=i.get(t.nestedGroups).map(function(e){if(e.visible==undefined){e.visible=true}e.visible=!!t.showNested;return e});i.update(n);if(t.showNested){d.removeClassName(t.dom.label,"collapsed");d.addClassName(t.dom.label,"expanded")}else{d.removeClassName(t.dom.label,"expanded");var r=this.options.rtl?"collapsed-rtl":"collapsed";d.addClassName(t.dom.label,r)}};k.prototype._onGroupDragStart=function(e){if(this.options.groupEditable.order){this.groupTouchParams.group=this.groupFromTarget(e);if(this.groupTouchParams.group){e.stopPropagation();this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})}}};k.prototype._onGroupDrag=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this.groupsData;if(this.groupsData instanceof h){t=this.groupsData.getDataSet()}var i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top;var r=e.center?e.center.y:e.clientY;var o=d.getAbsoluteTop(i.dom.foreground);var s=this.groupTouchParams.group.height;if(n){if(o+s<r){return}}else{var a=i.height;if(o+a-s>r){return}}}if(i&&i!=this.groupTouchParams.group){var l=t.get(i.groupId);var u=t.get(this.groupTouchParams.group.groupId);if(u&&l){this.options.groupOrderSwap(u,l,t);t.update(u);t.update(l)}var c=t.getIds({order:this.options.groupOrder});if(!d.equalArray(c,this.groupTouchParams.originalOrder)){var f=this.groupTouchParams.originalOrder;var p=this.groupTouchParams.group.groupId;var m=Math.min(f.length,c.length);var v=0;var g=0;var y=0;while(v<m){while(v+g<m&&v+y<m&&c[v+g]==f[v+y]){v++}if(v+g>=m){break}if(c[v+g]==p){g=1;continue}else if(f[v+y]==p){y=1;continue}else{var b=c.indexOf(f[v+y]);var w=t.get(c[v+g]);var x=t.get(f[v+y]);this.options.groupOrderSwap(w,x,t);t.update(w);t.update(x);var _=c[v+g];c[v+g]=f[v+y];c[b]=_;v++}}}}}};k.prototype._onGroupDragEnd=function(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();var t=this;var i=t.groupTouchParams.group.groupId;var n=t.groupsData.getDataSet();var r=d.extend({},n.get(i));t.options.onMoveGroup(r,function(e){if(e){e[n._fieldId]=i;n.update(e)}else{var r=n.getIds({order:t.options.groupOrder});if(!d.equalArray(r,t.groupTouchParams.originalOrder)){var o=t.groupTouchParams.originalOrder;var s=Math.min(o.length,r.length);var a=0;while(a<s){while(a<s&&r[a]==o[a]){a++}if(a>=s){break}var l=r.indexOf(o[a]);var u=n.get(r[a]);var h=n.get(o[a]);t.options.groupOrderSwap(u,h,n);n.update(u);n.update(h);var c=r[a];r[a]=o[a];r[l]=c;a++}}}});t.body.emitter.emit("groupDragged",{groupId:i})}};k.prototype._onSelectItem=function(e){if(!this.options.selectable)return;var t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey);var i=e.srcEvent&&e.srcEvent.shiftKey;if(t||i){this._onMultiSelectItem(e);return}var n=this.getSelection();var r=this.itemFromTarget(e);var o=r?[r.id]:[];this.setSelection(o);var s=this.getSelection();if(s.length>0||n.length>0){this.body.emitter.emit("select",{items:s,event:e})}};k.prototype._onMouseOver=function(e){var t=this.itemFromTarget(e);if(!t)return;var i=this.itemFromRelatedTarget(e);if(t===i){return}var n=t.getTitle();if(this.options.showTooltips&&n){if(this.popup==null){this.popup=new w(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")}this.popup.setText(n);var r=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-d.getAbsoluteLeft(r)+r.offsetLeft,e.clientY-d.getAbsoluteTop(r)+r.offsetTop);this.popup.show()}else{if(this.popup!=null){this.popup.hide()}}this.body.emitter.emit("itemover",{item:t.id,event:e})};k.prototype._onMouseOut=function(e){var t=this.itemFromTarget(e);if(!t)return;var i=this.itemFromRelatedTarget(e);if(t===i){return}if(this.popup!=null){this.popup.hide()}this.body.emitter.emit("itemout",{item:t.id,event:e})};k.prototype._onMouseMove=function(e){var t=this.itemFromTarget(e);if(!t)return;if(this.options.showTooltips&&this.options.tooltip.followMouse){if(this.popup){if(!this.popup.hidden){var i=this.body.dom.centerContainer;this.popup.setPosition(e.clientX-d.getAbsoluteLeft(i)+i.offsetLeft,e.clientY-d.getAbsoluteTop(i)+i.offsetTop);this.popup.show()}}}};k.prototype._onMouseWheel=function(e){if(this.touchParams.itemIsDragging){this._onDragEnd(e)}};k.prototype._onUpdateItem=function(e){if(!this.options.selectable)return;if(!this.options.editable.add)return;var t=this;if(e){var i=t.itemsData.get(e.id);this.options.onUpdate(i,function(e){if(e){t.itemsData.getDataSet().update(e)}})}};k.prototype._onAddItem=function(e){if(!this.options.selectable)return;if(!this.options.editable.add)return;var t=this;var i=this.options.snap||null;var n=this.itemFromTarget(e);if(!n){if(this.options.rtl){var r=d.getAbsoluteRight(this.dom.frame);var o=r-e.center.x}else{var r=d.getAbsoluteLeft(this.dom.frame);var o=e.center.x-r}var s=this.body.util.toTime(o);var a=this.body.util.getScale();var l=this.body.util.getStep();var u;if(e.type=="drop"){u=JSON.parse(e.dataTransfer.getData("text"));u.content=u.content?u.content:"new item";u.start=u.start?u.start:i?i(s,a,l):s;u.type=u.type||"box";u[this.itemsData._fieldId]=u.id||d.randomUUID();if(u.type=="range"&&!u.end){var h=this.body.util.toTime(o+this.props.width/5);u.end=i?i(h,a,l):h}}else{u={start:i?i(s,a,l):s,content:"new item"};u[this.itemsData._fieldId]=d.randomUUID();if(this.options.type==="range"){var h=this.body.util.toTime(o+this.props.width/5);u.end=i?i(h,a,l):h}}var c=this.groupFromTarget(e);if(c){u.group=c.groupId}u=this._cloneItemData(u);this.options.onAdd(u,function(i){if(i){t.itemsData.getDataSet().add(i);if(e.type=="drop"){t.setSelection([i.id])}}})}};k.prototype._onMultiSelectItem=function(e){if(!this.options.selectable)return;var t=this.itemFromTarget(e);if(t){var i=this.options.multiselect?this.getSelection():[];var n=e.srcEvent&&e.srcEvent.shiftKey||false;if(n&&this.options.multiselect){var r=this.itemsData.get(t.id).group;var o=undefined;if(this.options.multiselectPerGroup){if(i.length>0){o=this.itemsData.get(i[0]).group}}if(!this.options.multiselectPerGroup||o==undefined||o==r){i.push(t.id)}var s=k._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==r){i=[];for(var a in this.items){if(this.items.hasOwnProperty(a)){var l=this.items[a];var d=l.data.start;var u=l.data.end!==undefined?l.data.end:d;if(d>=s.min&&u<=s.max&&(!this.options.multiselectPerGroup||o==this.itemsData.get(l.id).group)&&!(l instanceof b)){i.push(l.id)}}}}}else{var h=i.indexOf(t.id);if(h==-1){i.push(t.id)}else{i.splice(h,1)}}this.setSelection(i);this.body.emitter.emit("select",{items:this.getSelection(),event:e})}};k._getItemRange=function(e){var t=null;var i=null;e.forEach(function(e){if(i==null||e.start<i){i=e.start}if(e.end!=undefined){if(t==null||e.end>t){t=e.end}}else{if(t==null||e.start>t){t=e.start}}});return{min:i,max:t}};k.prototype.itemFromElement=function(e){var t=e;while(t){if(t.hasOwnProperty("timeline-item")){return t["timeline-item"]}t=t.parentNode}return null};k.prototype.itemFromTarget=function(e){return this.itemFromElement(e.target)};k.prototype.itemFromRelatedTarget=function(e){return this.itemFromElement(e.relatedTarget)};k.prototype.groupFromTarget=function(e){var t=e.center?e.center.y:e.clientY;var i=this.groupIds;if(i.length<=0&&this.groupsData){i=this.groupsData.getIds({order:this.options.groupOrder})}for(var n=0;n<i.length;n++){var r=i[n];var o=this.groups[r];var s=o.dom.foreground;var a=d.getAbsoluteTop(s);if(t>a&&t<a+s.offsetHeight){return o}if(this.options.orientation.item==="top"){if(n===this.groupIds.length-1&&t>a){return o}}else{if(n===0&&t<a+s.offset){return o}}}return null};k.itemSetFromTarget=function(e){var t=e.target;while(t){if(t.hasOwnProperty("timeline-itemset")){return t["timeline-itemset"]}t=t.parentNode}return null};k.prototype._cloneItemData=function(e,t){var i=d.extend({},e);if(!t){t=this.itemsData.getDataSet()._options.type}if(i.start!=undefined){i.start=d.convert(i.start,t&&t.start||"Date")}if(i.end!=undefined){i.end=d.convert(i.end,t&&t.end||"Date")}return i};e.exports=k},function(e,t,i){"use strict";var n=i(82);var r=i(122);var o=i(1);function s(e,t,i,r){this.moment=n;this.current=this.moment();this._start=this.moment();this._end=this.moment();this.autoScale=true;this.scale="day";this.step=1;this.setRange(e,t,i);this.switchedDay=false;this.switchedMonth=false;this.switchedYear=false;if(Array.isArray(r)){this.hiddenDates=r}else if(r!=undefined){this.hiddenDates=[r]}else{this.hiddenDates=[]}this.format=s.FORMAT}s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};s.prototype.setMoment=function(e){this.moment=e;this.current=this.moment(this.current.valueOf());this._start=this.moment(this._start.valueOf());this._end=this.moment(this._end.valueOf())};s.prototype.setFormat=function(e){var t=o.deepExtend({},s.FORMAT);this.format=o.deepExtend(t,e)};s.prototype.setRange=function(e,t,i){if(!(e instanceof Date)||!(t instanceof Date)){throw"No legal start or end date in method setRange"}this._start=e!=undefined?this.moment(e.valueOf()):new Date;this._end=t!=undefined?this.moment(t.valueOf()):new Date;if(this.autoScale){this.setMinimumStep(i)}};s.prototype.start=function(){this.current=this._start.clone();this.roundToMinor()};s.prototype.roundToMinor=function(){if(this.scale=="week"){this.current.weekday(0)}switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step));this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(this.step!=1){switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break;default:break}}};s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};s.prototype.next=function(){var e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");if(this.current.month()<6){this.current.subtract(this.current.hours()%this.step,"hour")}else{if(this.current.hours()%this.step!==0){this.current.add(this.step-this.current.hours()%this.step,"hour")}}break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0){this.current.weekday(0);this.current.add(this.step,"week")}else{var t=this.current.clone();t.add(1,"week");if(t.isSame(this.current,"month")){this.current.add(this.step,"week")}else{this.current.add(this.step,"week");this.current.date(1)}}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break;default:break}if(this.step!=1){switch(this.scale){case"millisecond":if(this.current.milliseconds()>0&&this.current.milliseconds()<this.step)this.current.milliseconds(0);break;case"second":if(this.current.seconds()>0&&this.current.seconds()<this.step)this.current.seconds(0);break;case"minute":if(this.current.minutes()>0&&this.current.minutes()<this.step)this.current.minutes(0);break;case"hour":if(this.current.hours()>0&&this.current.hours()<this.step)this.current.hours(0);break;case"weekday":case"day":if(this.current.date()<this.step+1)this.current.date(1);break;case"week":if(this.current.week()<this.step)this.current.week(1);break;case"month":if(this.current.month()<this.step)this.current.month(0);break;case"year":break;default:break}}if(this.current.valueOf()==e){this.current=this._end.clone()}this.switchedDay=false;this.switchedMonth=false;this.switchedYear=false;r.stepOverHiddenDates(this.moment,this,e)};s.prototype.getCurrent=function(){return this.current};s.prototype.setScale=function(e){if(e&&typeof e.scale=="string"){this.scale=e.scale;this.step=e.step>0?e.step:1;this.autoScale=false}};s.prototype.setAutoScale=function(e){this.autoScale=e};s.prototype.setMinimumStep=function(e){if(e==undefined){return}var t=1e3*60*60*24*30*12;var i=1e3*60*60*24*30;var n=1e3*60*60*24;var r=1e3*60*60;var o=1e3*60;var s=1e3;var a=1;if(t*1e3>e){this.scale="year";this.step=1e3}if(t*500>e){this.scale="year";this.step=500}if(t*100>e){this.scale="year";this.step=100}if(t*50>e){this.scale="year";this.step=50}if(t*10>e){this.scale="year";this.step=10}if(t*5>e){this.scale="year";this.step=5}if(t>e){this.scale="year";this.step=1}if(i*3>e){this.scale="month";this.step=3}if(i>e){this.scale="month";this.step=1}if(n*5>e){this.scale="day";this.step=5}if(n*2>e){this.scale="day";this.step=2}if(n>e){this.scale="day";this.step=1}if(n/2>e){this.scale="weekday";this.step=1}if(r*4>e){this.scale="hour";this.step=4}if(r>e){this.scale="hour";this.step=1}if(o*15>e){this.scale="minute";this.step=15}if(o*10>e){this.scale="minute";this.step=10}if(o*5>e){this.scale="minute";this.step=5}if(o>e){this.scale="minute";this.step=1}if(s*15>e){this.scale="second";this.step=15}if(s*10>e){this.scale="second";this.step=10}if(s*5>e){this.scale="second";this.step=5}if(s>e){this.scale="second";this.step=1}if(a*200>e){this.scale="millisecond";this.step=200}if(a*100>e){this.scale="millisecond";this.step=100}if(a*50>e){this.scale="millisecond";this.step=50}if(a*10>e){this.scale="millisecond";this.step=10}if(a*5>e){this.scale="millisecond";this.step=5}if(a>e){this.scale="millisecond";this.step=1}};s.snap=function(e,t,i){var r=n(e);if(t=="year"){var o=r.year()+Math.round(r.month()/12);r.year(Math.round(o/i)*i);r.month(0);r.date(0);r.hours(0);r.minutes(0);r.seconds(0);r.milliseconds(0)}else if(t=="month"){if(r.date()>15){r.date(1);r.add(1,"month")}else{r.date(1)}r.hours(0);r.minutes(0);r.seconds(0);r.milliseconds(0)}else if(t=="week"){if(r.weekday()>2){r.weekday(0);r.add(1,"week")}else{r.weekday(0)}r.hours(0);r.minutes(0);r.seconds(0);r.milliseconds(0)}else if(t=="day"){switch(i){case 5:case 2:r.hours(Math.round(r.hours()/24)*24);break;default:r.hours(Math.round(r.hours()/12)*12);break}r.minutes(0);r.seconds(0);r.milliseconds(0)}else if(t=="weekday"){switch(i){case 5:case 2:r.hours(Math.round(r.hours()/12)*12);break;default:r.hours(Math.round(r.hours()/6)*6);break}r.minutes(0);r.seconds(0);r.milliseconds(0)}else if(t=="hour"){switch(i){case 4:r.minutes(Math.round(r.minutes()/60)*60);break;default:r.minutes(Math.round(r.minutes()/30)*30);break}r.seconds(0);r.milliseconds(0)}else if(t=="minute"){switch(i){case 15:case 10:r.minutes(Math.round(r.minutes()/5)*5);r.seconds(0);break;case 5:r.seconds(Math.round(r.seconds()/60)*60);break;default:r.seconds(Math.round(r.seconds()/30)*30);break}r.milliseconds(0)}else if(t=="second"){switch(i){case 15:case 10:r.seconds(Math.round(r.seconds()/5)*5);r.milliseconds(0);break;case 5:r.milliseconds(Math.round(r.milliseconds()/1e3)*1e3);break;default:r.milliseconds(Math.round(r.milliseconds()/500)*500);break}}else if(t=="millisecond"){var s=i>5?i/2:1;r.milliseconds(Math.round(r.milliseconds()/s)*s)}return r};s.prototype.isMajor=function(){if(this.switchedYear==true){switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return true;default:return false}}else if(this.switchedMonth==true){switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return true;default:return false}}else if(this.switchedDay==true){switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return true;default:return false}}var e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return false;default:return false}};s.prototype.getLabelMinor=function(e){if(e==undefined){e=this.current}if(e instanceof Date){e=this.moment(e)}if(typeof this.format.minorLabels==="function"){return this.format.minorLabels(e,this.scale,this.step)}var t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&e.weekday()!==0){return""}default:return t&&t.length>0?this.moment(e).format(t):""}};s.prototype.getLabelMajor=function(e){if(e==undefined){e=this.current}if(e instanceof Date){e=this.moment(e)}if(typeof this.format.majorLabels==="function"){return this.format.majorLabels(e,this.scale,this.step)}var t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""};s.prototype.getClassName=function(){var e=this.moment;var t=this.moment(this.current);var i=t.locale?t.locale("en"):t.lang("en");var n=this.step;var r=[];function o(e){return e/n%2==0?" vis-even":" vis-odd"}function s(t){if(t.isSame(new Date,"day")){return" vis-today"}if(t.isSame(e().add(1,"day"),"day")){return" vis-tomorrow"}if(t.isSame(e().add(-1,"day"),"day")){return" vis-yesterday"}return""}function a(e){return e.isSame(new Date,"week")?" vis-current-week":""}function l(e){return e.isSame(new Date,"month")?" vis-current-month":""}function d(e){return e.isSame(new Date,"year")?" vis-current-year":""}switch(this.scale){case"millisecond":r.push(s(i));r.push(o(i.milliseconds()));break;case"second":r.push(s(i));r.push(o(i.seconds()));break;case"minute":r.push(s(i));r.push(o(i.minutes()));break;case"hour":r.push("vis-h"+i.hours()+this.step==4?"-h"+(i.hours()+4):"");r.push(s(i));r.push(o(i.hours()));break;case"weekday":r.push("vis-"+i.format("dddd").toLowerCase());r.push(s(i));r.push(a(i));r.push(o(i.date()));break;case"day":r.push("vis-day"+i.date());r.push("vis-"+i.format("MMMM").toLowerCase());r.push(s(i));r.push(l(i));r.push(this.step<=2?s(i):"");r.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():"");r.push(o(i.date()-1));break;case"week":r.push("vis-week"+i.format("w"));r.push(a(i));r.push(o(i.week()));break;case"month":r.push("vis-"+i.format("MMMM").toLowerCase());r.push(l(i));r.push(o(i.month()));break;case"year":r.push("vis-year"+i.year());r.push(d(i));r.push(o(i.year()));break}return r.filter(String).join(" ")};e.exports=s},function(e,t,i){"use strict";var n=i(58);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(127);var l=i(128);function d(e,t,i){this.groupId=e;this.subgroups={};this.subgroupIndex=0;this.subgroupOrderer=t&&t.subgroupOrder;this.itemSet=i;this.isVisible=null;this.stackDirty=true;if(t&&t.nestedGroups){this.nestedGroups=t.nestedGroups;if(t.showNested==false){this.showNested=false}else{this.showNested=true}}this.nestedInGroup=null;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.itemsInRange=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=false;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=true});this._create();this.setData(t)}d.prototype._create=function(){var e=document.createElement("div");if(this.itemSet.options.groupEditable.order){e.className="vis-label draggable"}else{e.className="vis-label"}this.dom.label=e;var t=document.createElement("div");t.className="vis-inner";e.appendChild(t);this.dom.inner=t;var i=document.createElement("div");i.className="vis-group";i["timeline-group"]=this;this.dom.foreground=i;this.dom.background=document.createElement("div");this.dom.background.className="vis-group";this.dom.axis=document.createElement("div");this.dom.axis.className="vis-group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.style.position="absolute";this.dom.marker.innerHTML="";this.dom.background.appendChild(this.dom.marker)};d.prototype.setData=function(e){var t;var i;if(this.itemSet.options&&this.itemSet.options.groupTemplate){i=this.itemSet.options.groupTemplate.bind(this);t=i(e,this.dom.inner)}else{t=e&&e.content}if(t instanceof Element){this.dom.inner.appendChild(t);while(this.dom.inner.firstChild){this.dom.inner.removeChild(this.dom.inner.firstChild)}this.dom.inner.appendChild(t)}else if(t instanceof Object){i(e,this.dom.inner)}else if(t!==undefined&&t!==null){this.dom.inner.innerHTML=t}else{this.dom.inner.innerHTML=this.groupId||""}this.dom.label.title=e&&e.title||"";if(!this.dom.inner.firstChild){s.addClassName(this.dom.inner,"vis-hidden")}else{s.removeClassName(this.dom.inner,"vis-hidden")}if(e&&e.nestedGroups){if(!this.nestedGroups||this.nestedGroups!=e.nestedGroups){this.nestedGroups=e.nestedGroups}if(e.showNested!==undefined||this.showNested===undefined){if(e.showNested==false){this.showNested=false}else{this.showNested=true}}s.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";if(this.showNested){s.removeClassName(this.dom.label,n);s.addClassName(this.dom.label,"expanded")}else{s.removeClassName(this.dom.label,"expanded");s.addClassName(this.dom.label,n)}}else if(this.nestedGroups){this.nestedGroups=null;var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";s.removeClassName(this.dom.label,n);s.removeClassName(this.dom.label,"expanded");s.removeClassName(this.dom.label,"vis-nesting-group")}if(e&&e.nestedInGroup){s.addClassName(this.dom.label,"vis-nested-group");if(this.itemSet.options&&this.itemSet.options.rtl){this.dom.inner.style.paddingRight="30px"}else{this.dom.inner.style.paddingLeft="30px"}}var r=e&&e.className||null;if(r!=this.className){if(this.className){s.removeClassName(this.dom.label,this.className);s.removeClassName(this.dom.foreground,this.className);s.removeClassName(this.dom.background,this.className);s.removeClassName(this.dom.axis,this.className)}s.addClassName(this.dom.label,r);s.addClassName(this.dom.foreground,r);s.addClassName(this.dom.background,r);s.addClassName(this.dom.axis,r);this.className=r}if(this.style){s.removeCssText(this.dom.label,this.style);this.style=null}if(e&&e.style){s.addCssText(this.dom.label,e.style);this.style=e.style}};d.prototype.getLabelWidth=function(){return this.props.label.width};d.prototype.redraw=function(e,t,i){var n=false;var r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight){this.lastMarkerHeight=r;s.forEach(this.items,function(e){e.dirty=true;if(e.displayed)e.redraw()});i=true}this._calculateSubGroupHeights(t);var o=this.dom.foreground;this.top=o.offsetTop;this.right=o.offsetLeft;this.width=o.offsetWidth;var l=this.isVisible;this.isVisible=this._isGroupVisible(e,t);var d=i||this.stackDirty||this.isVisible&&!l;this._updateSubgroupsSizes();if(d){if(typeof this.itemSet.options.order==="function"){var u=this;var h=false;s.forEach(this.items,function(e){if(!e.displayed){e.redraw();u.visibleItems.push(e)}e.repositionX(h)});var c=this.orderedItems.byStart.slice().sort(function(e,t){return u.itemSet.options.order(e.data,t.data)});a.stack(c,t,true);this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e)}else{this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e);if(this.itemSet.options.stack){a.stack(this.visibleItems,t,true)}else{a.nostack(this.visibleItems,t,this.subgroups,this.itemSet.options.stackSubgroups)}}this.stackDirty=false}var f=this._calculateHeight(t);var o=this.dom.foreground;this.top=o.offsetTop;this.right=o.offsetLeft;this.width=o.offsetWidth;n=s.updateProperty(this,"height",f)||n;n=s.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n;n=s.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n;this.dom.background.style.height=f+"px";this.dom.foreground.style.height=f+"px";this.dom.label.style.height=f+"px";for(var p=0,m=this.visibleItems.length;p<m;p++){var v=this.visibleItems[p];v.repositionY(t);if(!this.isVisible&&this.groupId!="__background__"){if(v.displayed)v.hide()}}if(!this.isVisible&&this.height){return n=false}return n};d.prototype._calculateSubGroupHeights=function(e){if((0,r["default"])(this.subgroups).length>0){var t=this;this.resetSubgroups();s.forEach(this.visibleItems,function(i){if(i.data.subgroup!==undefined){t.subgroups[i.data.subgroup].height=Math.max(t.subgroups[i.data.subgroup].height,i.height+e.item.vertical);t.subgroups[i.data.subgroup].visible=true}})}};d.prototype._isGroupVisible=function(e,t){var i=this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop;return i};d.prototype._calculateHeight=function(e){var t;var i=this.visibleItems;if(i.length>0){var n=i[0].top;var r=i[0].top+i[0].height;s.forEach(i,function(e){n=Math.min(n,e.top);r=Math.max(r,e.top+e.height)});if(n>e.axis){var o=n-e.axis;r-=o;s.forEach(i,function(e){e.top-=o})}t=r+e.item.vertical/2}else{t=0}t=Math.max(t,this.props.label.height);return t};d.prototype.show=function(){if(!this.dom.label.parentNode){this.itemSet.dom.labelSet.appendChild(this.dom.label)}if(!this.dom.foreground.parentNode){this.itemSet.dom.foreground.appendChild(this.dom.foreground)}if(!this.dom.background.parentNode){this.itemSet.dom.background.appendChild(this.dom.background)}if(!this.dom.axis.parentNode){this.itemSet.dom.axis.appendChild(this.dom.axis)}};d.prototype.hide=function(){var e=this.dom.label;if(e.parentNode){e.parentNode.removeChild(e)}var t=this.dom.foreground;if(t.parentNode){t.parentNode.removeChild(t)}var i=this.dom.background;if(i.parentNode){i.parentNode.removeChild(i)}var n=this.dom.axis;if(n.parentNode){n.parentNode.removeChild(n)}};d.prototype.add=function(e){this.items[e.id]=e;e.setParent(this);this.stackDirty=true;if(e.data.subgroup!==undefined){this._addToSubgroup(e);this.orderSubgroups()}if(this.visibleItems.indexOf(e)==-1){var t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}};d.prototype._addToSubgroup=function(e,t){t=t||e.data.subgroup;if(t!=undefined&&this.subgroups[t]===undefined){this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end,visible:false,index:this.subgroupIndex,items:[]};this.subgroupIndex++}if(new Date(e.data.start)<new Date(this.subgroups[t].start)){this.subgroups[t].start=e.data.start}if(new Date(e.data.end)>new Date(this.subgroups[t].end)){this.subgroups[t].end=e.data.end}this.subgroups[t].items.push(e)};d.prototype._updateSubgroupsSizes=function(){var e=this;if(e.subgroups){for(var t in e.subgroups){var i=e.subgroups[t].items[0].data.start;var n=e.subgroups[t].items[0].data.end-1;e.subgroups[t].items.forEach(function(e){if(new Date(e.data.start)<new Date(i)){i=e.data.start}if(new Date(e.data.end)>new Date(n)){n=e.data.end}});e.subgroups[t].start=i;e.subgroups[t].end=new Date(n-1)}}};d.prototype.orderSubgroups=function(){if(this.subgroupOrderer!==undefined){var e=[];if(typeof this.subgroupOrderer=="string"){for(var t in this.subgroups){e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]})}e.sort(function(e,t){return e.sortField-t.sortField})}else if(typeof this.subgroupOrderer=="function"){for(var t in this.subgroups){e.push(this.subgroups[t].items[0].data)}e.sort(this.subgroupOrderer)}if(e.length>0){for(var i=0;i<e.length;i++){this.subgroups[e[i].subgroup].index=i}}}};d.prototype.resetSubgroups=function(){for(var e in this.subgroups){if(this.subgroups.hasOwnProperty(e)){this.subgroups[e].visible=false;this.subgroups[e].height=0}}};d.prototype.remove=function(e){delete this.items[e.id];e.setParent(null);this.stackDirty=true;var t=this.visibleItems.indexOf(e);if(t!=-1)this.visibleItems.splice(t,1);if(e.data.subgroup!==undefined){this._removeFromSubgroup(e);this.orderSubgroups()}};d.prototype._removeFromSubgroup=function(e,t){t=t||e.data.subgroup;if(t!=undefined){var i=this.subgroups[t];if(i){var n=i.items.indexOf(e);if(n>=0){i.items.splice(n,1);if(!i.items.length){delete this.subgroups[t]}else{this._updateSubgroupsSizes()}}}}};d.prototype.removeFromDataSet=function(e){this.itemSet.removeItem(e.id)};d.prototype.order=function(){var e=s.toArray(this.items);var t=[];var i=[];for(var n=0;n<e.length;n++){if(e[n].data.end!==undefined){i.push(e[n])}t.push(e[n])}this.orderedItems={byStart:t,byEnd:i};a.orderByStart(this.orderedItems.byStart);a.orderByEnd(this.orderedItems.byEnd)};d.prototype._updateItemsInRange=function(e,t,i){var n=[];var r={};var o=(i.end-i.start)/4;var a=i.start-o;var l=i.end+o;var d=function e(t){if(t<a){return-1}else if(t<=l){return 0}else{return 1}};if(t.length>0){for(var u=0;u<t.length;u++){this._checkIfVisibleWithReference(t[u],n,r,i)}}var h=s.binarySearchCustom(e.byStart,d,"data","start");this._traceVisible(h,e.byStart,n,r,function(e){return e.data.start<a||e.data.start>l});if(this.checkRangedItems==true){this.checkRangedItems=false;for(u=0;u<e.byEnd.length;u++){this._checkIfVisibleWithReference(e.byEnd[u],n,r,i)}}else{var c=s.binarySearchCustom(e.byEnd,d,"data","end");this._traceVisible(c,e.byEnd,n,r,function(e){return e.data.end<a||e.data.end>l})}for(var u=0;u<n.length;u++){var f=n[u];if(!f.displayed)f.show();f.repositionX()}return n};d.prototype._traceVisible=function(e,t,i,n,r){if(e!=-1){for(var o=e;o>=0;o--){var s=t[o];if(r(s)){break}else{if(n[s.id]===undefined){n[s.id]=true;i.push(s)}}}for(var o=e+1;o<t.length;o++){var s=t[o];if(r(s)){break}else{if(n[s.id]===undefined){n[s.id]=true;i.push(s)}}}}};d.prototype._checkIfVisible=function(e,t,i){if(e.isVisible(i)){if(!e.displayed)e.show();e.repositionX();t.push(e)}else{if(e.displayed)e.hide()}};d.prototype._checkIfVisibleWithReference=function(e,t,i,n){if(e.isVisible(n)){if(i[e.id]===undefined){i[e.id]=true;t.push(e)}}else{if(e.displayed)e.hide()}};d.prototype.changeSubgroup=function(e,t,i){this._removeFromSubgroup(e,t);this._addToSubgroup(e,i);this.orderSubgroups()};e.exports=d},function(e,t){"use strict";var i=.001;t.orderByStart=function(e){e.sort(function(e,t){return e.data.start-t.data.start})};t.orderByEnd=function(e){e.sort(function(e,t){var i="end"in e.data?e.data.end:e.data.start,n="end"in t.data?t.data.end:t.data.start;return i-n})};t.stack=function(e,i,n){if(n){for(var r=0;r<e.length;r++){e[r].top=null}}for(var r=0;r<e.length;r++){var o=e[r];if(o.stack&&o.top===null){o.top=i.axis;do{var s=null;for(var a=0,l=e.length;a<l;a++){var d=e[a];if(d.top!==null&&d!==o&&d.stack&&t.collision(o,d,i.item,d.options.rtl)){s=d;break}}if(s!=null){o.top=s.top+s.height+i.item.vertical}}while(s)}}};t.nostack=function(e,i,n,r){for(var o=0;o<e.length;o++){if(e[o].data.subgroup==undefined){e[o].top=i.item.vertical}else if(e[o].data.subgroup!==undefined&&r){var s=0;for(var a in n){if(n.hasOwnProperty(a)){if(n[a].visible==true&&n[a].index<n[e[o].data.subgroup].index){s+=n[a].height;n[e[o].data.subgroup].top=s}}}e[o].top=s+.5*i.item.vertical}}if(!r){t.stackSubgroups(e,i,n)}};t.stackSubgroups=function(e,i,n){for(var r in n){if(n.hasOwnProperty(r)){n[r].top=0;do{var o=null;for(var s in n){if(n[s].top!==null&&s!==r&&n[r].index>n[s].index&&t.collisionByTimes(n[r],n[s])){o=n[s];break}}if(o!=null){n[r].top=o.top+o.height}}while(o)}}for(var a=0;a<e.length;a++){if(e[a].data.subgroup!==undefined){e[a].top=n[e[a].data.subgroup].top+.5*i.item.vertical}}};t.collision=function(e,t,n,r){if(r){return e.right-n.horizontal+i<t.right+t.width&&e.right+e.width+n.horizontal-i>t.right&&e.top-n.vertical+i<t.top+t.height&&e.top+e.height+n.vertical-i>t.top}else{return e.left-n.horizontal+i<t.left+t.width&&e.left+e.width+n.horizontal-i>t.left&&e.top-n.vertical+i<t.top+t.height&&e.top+e.height+n.vertical-i>t.top}};t.collisionByTimes=function(e,t){return e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top||t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top}},function(e,t,i){"use strict";var n=i(113);var r=i(129);function o(e,t,i){this.props={content:{width:0}};this.overflow=false;this.options=i;if(e){if(e.start==undefined){throw new Error('Property "start" missing in item '+e.id)}if(e.end==undefined){throw new Error('Property "end" missing in item '+e.id)}}r.call(this,e,t,i)}o.prototype=new r(null,null,null);o.prototype.baseClassName="vis-item vis-range";o.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start};o.prototype.redraw=function(){var e=this.dom;if(!e){this.dom={};e=this.dom;e.box=document.createElement("div");e.frame=document.createElement("div");e.frame.className="vis-item-overflow";e.box.appendChild(e.frame);e.visibleFrame=document.createElement("div");e.visibleFrame.className="vis-item-visible-frame";e.box.appendChild(e.visibleFrame);e.content=document.createElement("div");e.content.className="vis-item-content";e.frame.appendChild(e.content);e.box["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t){throw new Error("Cannot redraw item: parent has no foreground container element")}t.appendChild(e.box)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var i=this.editable.updateTime||this.editable.updateGroup;var n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");e.box.className=this.baseClassName+n;this.overflow=window.getComputedStyle(e.frame).overflow!=="hidden";this.dom.content.style.maxWidth="none";this.props.content.width=this.dom.content.offsetWidth;this.height=this.dom.box.offsetHeight;this.dom.content.style.maxWidth="";this.dirty=false}this._repaintOnItemUpdateTimeTooltip(e.box);this._repaintDeleteButton(e.box);this._repaintDragCenter();this._repaintDragLeft();this._repaintDragRight()};o.prototype.show=function(){if(!this.displayed){this.redraw()}};o.prototype.hide=function(){if(this.displayed){var e=this.dom.box;if(e.parentNode){e.parentNode.removeChild(e)}this.displayed=false}};o.prototype.repositionX=function(e){var t=this.parent.width;var i=this.conversion.toScreen(this.data.start);var n=this.conversion.toScreen(this.data.end);var r=this.data.align===undefined?this.options.align:this.data.align;var o;var s;if(e===undefined||e===true){if(i<-t){i=-t}if(n>2*t){n=2*t}}var a=Math.max(n-i+.5,1);if(this.overflow){if(this.options.rtl){this.right=i}else{this.left=i}this.width=a+this.props.content.width;s=this.props.content.width}else{if(this.options.rtl){this.right=i}else{this.left=i}this.width=a;s=Math.min(n-i,this.props.content.width)}if(this.options.rtl){this.dom.box.style.right=this.right+"px"}else{this.dom.box.style.left=this.left+"px"}this.dom.box.style.width=a+"px";switch(r){case"left":if(this.options.rtl){this.dom.content.style.right="0"}else{this.dom.content.style.left="0"}break;case"right":if(this.options.rtl){this.dom.content.style.right=Math.max(a-s,0)+"px"}else{this.dom.content.style.left=Math.max(a-s,0)+"px"}break;case"center":if(this.options.rtl){this.dom.content.style.right=Math.max((a-s)/2,0)+"px"}else{this.dom.content.style.left=Math.max((a-s)/2,0)+"px"}break;default:if(this.overflow){if(n>0){o=Math.max(-i,0)}else{o=-s}}else{if(i<0){o=-i}else{o=0}}if(this.options.rtl){this.dom.content.style.right=o+"px"}else{this.dom.content.style.left=o+"px";this.dom.content.style.width="calc(100% - "+o+"px)"}}};o.prototype.repositionY=function(){var e=this.options.orientation.item;var t=this.dom.box;if(e=="top"){t.style.top=this.top+"px"}else{t.style.top=this.parent.height-this.top-this.height+"px"}};o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var e=document.createElement("div");e.className="vis-drag-left";e.dragLeftItem=this;this.dom.box.appendChild(e);this.dom.dragLeft=e}else if(!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft){if(this.dom.dragLeft.parentNode){this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft)}this.dom.dragLeft=null}};o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var e=document.createElement("div");e.className="vis-drag-right";e.dragRightItem=this;this.dom.box.appendChild(e);this.dom.dragRight=e}else if(!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight){if(this.dom.dragRight.parentNode){this.dom.dragRight.parentNode.removeChild(this.dom.dragRight)}this.dom.dragRight=null}};e.exports=o},function(e,t,i){"use strict";var n=i(62);var r=a(n);var o=i(58);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(113);var d=i(1);var u=i(82);function h(e,t,i){this.id=null;this.parent=null;this.data=e;this.dom=null;this.conversion=t||{};this.options=i||{};this.selected=false;this.displayed=false;this.groupShowing=true;this.dirty=true;this.top=null;this.right=null;this.left=null;this.width=null;this.height=null;this.editable=null;this._updateEditStatus()}h.prototype.stack=true;h.prototype.select=function(){this.selected=true;this.dirty=true;if(this.displayed)this.redraw()};h.prototype.unselect=function(){this.selected=false;this.dirty=true;if(this.displayed)this.redraw()};h.prototype.setData=function(e){var t=e.group!=undefined&&this.data.group!=e.group;if(t&&this.parent!=null){this.parent.itemSet._moveToGroup(this,e.group)}this.parent.stackDirty=true;var i=e.subgroup!=undefined&&this.data.subgroup!=e.subgroup;if(i&&this.parent!=null){this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup)}this.data=e;this._updateEditStatus();this.dirty=true;if(this.displayed)this.redraw()};h.prototype.setParent=function(e){if(this.displayed){this.hide();this.parent=e;if(this.parent){this.show()}}else{this.parent=e}};h.prototype.isVisible=function(e){return false};h.prototype.show=function(){return false};h.prototype.hide=function(){return false};h.prototype.redraw=function(){};h.prototype.repositionX=function(){};h.prototype.repositionY=function(){};h.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var e=this;var t=document.createElement("div");t.className="vis-drag-center";t.dragCenterItem=this;var i=new l(t);i.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})});i.on("doubletap",function(t){t.stopPropagation();e.parent.itemSet._onUpdateItem(e);e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})});if(this.dom.box){if(this.dom.dragLeft){this.dom.box.insertBefore(t,this.dom.dragLeft)}else{this.dom.box.appendChild(t)}}else if(this.dom.point){this.dom.point.appendChild(t)}this.dom.dragCenter=t}else if(!this.selected&&this.dom.dragCenter){if(this.dom.dragCenter.parentNode){this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter)}this.dom.dragCenter=null}};h.prototype._repaintDeleteButton=function(e){var t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){var i=this;var n=document.createElement("div");if(this.options.rtl){n.className="vis-delete-rtl"}else{n.className="vis-delete"}n.title="Delete this item";new l(n).on("tap",function(e){e.stopPropagation();i.parent.removeFromDataSet(i)});e.appendChild(n);this.dom.deleteButton=n}else if(!this.selected&&this.dom.deleteButton){if(this.dom.deleteButton.parentNode){this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton)}this.dom.deleteButton=null}};h.prototype._repaintOnItemUpdateTimeTooltip=function(e){if(!this.options.tooltipOnItemUpdateTime)return;var t=(this.options.editable.updateTime||this.data.editable===true)&&this.data.editable!==false;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){var i=this;var n=document.createElement("div");n.className="vis-onUpdateTime-tooltip";e.appendChild(n);this.dom.onItemUpdateTimeTooltip=n}else if(!this.selected&&this.dom.onItemUpdateTimeTooltip){if(this.dom.onItemUpdateTimeTooltip.parentNode){this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip)}this.dom.onItemUpdateTimeTooltip=null}if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden";if(this.options.rtl){this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right}else{this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left}var r=50;var o=this.parent.itemSet.body.domProps.scrollTop;var s;if(this.options.orientation.item=="top"){s=this.top}else{s=this.parent.height-this.top-this.height}var a=s+this.parent.top-r<-o;if(a){this.dom.onItemUpdateTimeTooltip.style.bottom="";this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"}else{this.dom.onItemUpdateTimeTooltip.style.top="";this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"}var l;var d;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){d=this.options.tooltipOnItemUpdateTime.template.bind(this);l=d(this.data)}else{l="start: "+u(this.data.start).format("MM/DD/YYYY hh:mm");if(this.data.end){l+="<br> end: "+u(this.data.end).format("MM/DD/YYYY hh:mm")}}this.dom.onItemUpdateTimeTooltip.innerHTML=l}};h.prototype._updateContents=function(e){var t;var i;var n;var r;var o=this.parent.itemSet.itemsData.get(this.id);var s=this.dom.box||this.dom.point;var a=s.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){r=this.options.visibleFrameTemplate.bind(this);n=r(o,s)}else{n=""}if(a){if(n instanceof Object&&!(n instanceof Element)){r(o,a)}else{var l=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n);if(l){if(n instanceof Element){a.innerHTML="";a.appendChild(n)}else if(n!=undefined){a.innerHTML=n}else{if(!(this.data.type=="background"&&this.data.content===undefined)){throw new Error('Property "content" missing in item '+this.id)}}this.itemVisibleFrameContent=n}}}if(this.options.template){i=this.options.template.bind(this);t=i(o,e,this.data)}else{t=this.data.content}if(t instanceof Object&&!(t instanceof Element)){i(o,e)}else{var l=this._contentToString(this.content)!==this._contentToString(t);if(l){if(t instanceof Element){e.innerHTML="";e.appendChild(t)}else if(t!=undefined){e.innerHTML=t}else{if(!(this.data.type=="background"&&this.data.content===undefined)){throw new Error('Property "content" missing in item '+this.id)}}this.content=t}}};h.prototype._updateDataAttributes=function(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var t=[];if(Array.isArray(this.options.dataAttributes)){t=this.options.dataAttributes}else if(this.options.dataAttributes=="all"){t=(0,s["default"])(this.data)}else{return}for(var i=0;i<t.length;i++){var n=t[i];var r=this.data[n];if(r!=null){e.setAttribute("data-"+n,r)}else{e.removeAttribute("data-"+n)}}}};h.prototype._updateStyle=function(e){if(this.style){d.removeCssText(e,this.style);this.style=null}if(this.data.style){d.addCssText(e,this.data.style);this.style=this.data.style}};h.prototype._contentToString=function(e){if(typeof e==="string")return e;if(e&&"outerHTML"in e)return e.outerHTML;return e};h.prototype._updateEditStatus=function(){if(this.options){if(typeof this.options.editable==="boolean"){this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}}else if((0,r["default"])(this.options.editable)==="object"){this.editable={};d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable)}}if(!this.options||!this.options.editable||this.options.editable.overrideItems!==true){if(this.data){if(typeof this.data.editable==="boolean"){this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}}else if((0,r["default"])(this.data.editable)==="object"){this.editable={};d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)}}}};h.prototype.getWidthLeft=function(){return 0};h.prototype.getWidthRight=function(){return 0};h.prototype.getTitle=function(){return this.data.title};e.exports=h},function(e,t,i){"use strict";var n=i(55);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(126);function l(e,t,i){a.call(this,e,t,i);this.width=0;this.height=0;this.top=0;this.left=0}l.prototype=(0,r["default"])(a.prototype);l.prototype.redraw=function(e,t,i){var n=false;this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";for(var r=0,o=this.visibleItems.length;r<o;r++){var s=this.visibleItems[r];s.repositionY(t)}return n};l.prototype.show=function(){if(!this.dom.background.parentNode){this.itemSet.dom.background.appendChild(this.dom.background)}};e.exports=l},function(e,t,i){"use strict";var n=i(129);var r=i(1);function o(e,t,i){this.props={dot:{width:0,height:0},line:{width:0,height:0}};this.options=i;if(e){if(e.start==undefined){throw new Error('Property "start" missing in item '+e)}}n.call(this,e,t,i)}o.prototype=new n(null,null,null);o.prototype.isVisible=function(e){var t;var i=this.options.align;var n=this.width*e.getMillisecondsPerPixel();if(i=="right"){t=this.data.start.getTime()>e.start&&this.data.start.getTime()-n<e.end}else if(i=="left"){t=this.data.start.getTime()+n>e.start&&this.data.start.getTime()<e.end}else{t=this.data.start.getTime()+n/2>e.start&&this.data.start.getTime()-n/2<e.end}return t};o.prototype.redraw=function(){var e=this.dom;if(!e){this.dom={};e=this.dom;e.box=document.createElement("DIV");e.content=document.createElement("DIV");e.content.className="vis-item-content";e.box.appendChild(e.content);e.line=document.createElement("DIV");e.line.className="vis-line";e.dot=document.createElement("DIV");e.dot.className="vis-dot";e.box["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.box)}if(!e.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(e.line)}if(!e.dot.parentNode){var n=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(e.dot)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var r=this.editable.updateTime||this.editable.updateGroup;var o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(r?" vis-editable":" vis-readonly");e.box.className="vis-item vis-box"+o;e.line.className="vis-item vis-line"+o;e.dot.className="vis-item vis-dot"+o;var s=e.box.style.right;var a=e.box.style.left;if(this.options.rtl){e.box.style.right="0px"}else{e.box.style.left="0px"}this.props.dot.height=e.dot.offsetHeight;this.props.dot.width=e.dot.offsetWidth;this.props.line.width=e.line.offsetWidth;this.width=e.box.offsetWidth;this.height=e.box.offsetHeight;if(this.options.rtl){e.box.style.right=s}else{e.box.style.left=a}this.dirty=false}this._repaintOnItemUpdateTimeTooltip(e.box);this._repaintDragCenter();this._repaintDeleteButton(e.box)};o.prototype.show=function(){if(!this.displayed){this.redraw()}};o.prototype.hide=function(){if(this.displayed){var e=this.dom;if(e.box.parentNode)e.box.parentNode.removeChild(e.box);if(e.line.parentNode)e.line.parentNode.removeChild(e.line);if(e.dot.parentNode)e.dot.parentNode.removeChild(e.dot);this.displayed=false}};o.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);var t=this.options.align;if(t=="right"){if(this.options.rtl){this.right=e-this.width;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=e-this.props.line.width+"px";this.dom.dot.style.right=e-this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=e-this.width;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=e-this.props.line.width+"px";this.dom.dot.style.left=e-this.props.line.width/2-this.props.dot.width/2+"px"}}else if(t=="left"){if(this.options.rtl){this.right=e;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=e+"px";this.dom.dot.style.right=e+this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=e;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=e+"px";this.dom.dot.style.left=e+this.props.line.width/2-this.props.dot.width/2+"px"}}else{if(this.options.rtl){this.right=e-this.width/2;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=e-this.props.line.width+"px";this.dom.dot.style.right=e-this.props.dot.width/2+"px"}else{this.left=e-this.width/2;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=e-this.props.line.width/2+"px";this.dom.dot.style.left=e-this.props.dot.width/2+"px"}}};o.prototype.repositionY=function(){var e=this.options.orientation.item;var t=this.dom.box;var i=this.dom.line;var n=this.dom.dot;if(e=="top"){t.style.top=(this.top||0)+"px";i.style.top="0";i.style.height=this.parent.top+this.top+1+"px";i.style.bottom=""}else{var r=this.parent.itemSet.props.height;var o=r-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px";i.style.top=r-o+"px";i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"};o.prototype.getWidthLeft=function(){return this.width/2};o.prototype.getWidthRight=function(){return this.width/2};e.exports=o},function(e,t,i){"use strict";var n=i(129);function r(e,t,i){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}};this.options=i;if(e){if(e.start==undefined){throw new Error('Property "start" missing in item '+e)}}n.call(this,e,t,i)}r.prototype=new n(null,null,null);r.prototype.isVisible=function(e){var t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end};r.prototype.redraw=function(){var e=this.dom;if(!e){this.dom={};e=this.dom;e.point=document.createElement("div");e.content=document.createElement("div");e.content.className="vis-item-content";e.point.appendChild(e.content);e.dot=document.createElement("div");e.point.appendChild(e.dot);e.point["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!e.point.parentNode){var t=this.parent.dom.foreground;if(!t){throw new Error("Cannot redraw item: parent has no foreground container element")}t.appendChild(e.point)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.point);this._updateStyle(this.dom.point);var i=this.editable.updateTime||this.editable.updateGroup;var n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");e.point.className="vis-item vis-point"+n;e.dot.className="vis-item vis-dot"+n;this.props.dot.width=e.dot.offsetWidth;this.props.dot.height=e.dot.offsetHeight;this.props.content.height=e.content.offsetHeight;if(this.options.rtl){e.content.style.marginRight=2*this.props.dot.width+"px"}else{e.content.style.marginLeft=2*this.props.dot.width+"px"}this.width=e.point.offsetWidth;this.height=e.point.offsetHeight;e.dot.style.top=(this.height-this.props.dot.height)/2+"px";if(this.options.rtl){e.dot.style.right=this.props.dot.width/2+"px"}else{e.dot.style.left=this.props.dot.width/2+"px"}this.dirty=false}this._repaintOnItemUpdateTimeTooltip(e.point);this._repaintDragCenter();this._repaintDeleteButton(e.point)};r.prototype.show=function(){if(!this.displayed){this.redraw()}};r.prototype.hide=function(){if(this.displayed){if(this.dom.point.parentNode){this.dom.point.parentNode.removeChild(this.dom.point)}this.displayed=false}};r.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);if(this.options.rtl){this.right=e-this.props.dot.width;this.dom.point.style.right=this.right+"px"}else{this.left=e-this.props.dot.width;this.dom.point.style.left=this.left+"px"}};r.prototype.repositionY=function(){var e=this.options.orientation.item;var t=this.dom.point;if(e=="top"){t.style.top=this.top+"px"}else{t.style.top=this.parent.height-this.top-this.height+"px"}};r.prototype.getWidthLeft=function(){return this.props.dot.width};r.prototype.getWidthRight=function(){return this.props.dot.width};e.exports=r},function(e,t,i){"use strict";var n=i(113);var r=i(129);var o=i(130);var s=i(128);function a(e,t,i){this.props={content:{width:0}};this.overflow=false;if(e){if(e.start==undefined){throw new Error('Property "start" missing in item '+e.id)}if(e.end==undefined){throw new Error('Property "end" missing in item '+e.id)}}r.call(this,e,t,i)}a.prototype=new r(null,null,null);a.prototype.baseClassName="vis-item vis-background";a.prototype.stack=false;a.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start};a.prototype.redraw=function(){var e=this.dom;if(!e){this.dom={};e=this.dom;e.box=document.createElement("div");e.frame=document.createElement("div");e.frame.className="vis-item-overflow";e.box.appendChild(e.frame);e.content=document.createElement("div");e.content.className="vis-item-content";e.frame.appendChild(e.content);this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!e.box.parentNode){var t=this.parent.dom.background;if(!t){throw new Error("Cannot redraw item: parent has no background container element")}t.appendChild(e.box)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.content);this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");e.box.className=this.baseClassName+i;this.overflow=window.getComputedStyle(e.content).overflow!=="hidden";this.props.content.width=this.dom.content.offsetWidth;this.height=0;this.dirty=false}};a.prototype.show=s.prototype.show;a.prototype.hide=s.prototype.hide;a.prototype.repositionX=s.prototype.repositionX;a.prototype.repositionY=function(e){var t;var i=this.options.orientation.item;if(this.data.subgroup!==undefined){var n=this.data.subgroup;var r=this.parent.subgroups;var s=r[n].index;this.dom.box.style.height=this.parent.subgroups[n].height+"px";if(i=="top"){this.dom.box.style.top=this.parent.top+this.parent.subgroups[n].top+"px"}else{this.dom.box.style.top=this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px"}this.dom.box.style.bottom=""}else{if(this.parent instanceof o){t=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height);this.dom.box.style.bottom=i=="bottom"?"0":"";this.dom.box.style.top=i=="top"?"0":""}else{t=this.parent.height;this.dom.box.style.top=this.parent.top+"px";this.dom.box.style.bottom=""}}this.dom.box.style.height=t+"px"};e.exports=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i){(0,r["default"])(this,e);this.container=t;this.overflowMethod=i||"cap";this.x=0;this.y=0;this.padding=5;this.hidden=false;this.frame=document.createElement("div");this.frame.className="vis-tooltip";this.container.appendChild(this.frame)}(0,s["default"])(e,[{key:"setPosition",value:function e(t,i){this.x=parseInt(t);this.y=parseInt(i)}},{key:"setText",value:function e(t){if(t instanceof Element){this.frame.innerHTML="";this.frame.appendChild(t)}else{this.frame.innerHTML=t}}},{key:"show",value:function e(t){if(t===undefined){t=true}if(t===true){var i=this.frame.clientHeight;var n=this.frame.clientWidth;var r=this.frame.parentNode.clientHeight;var o=this.frame.parentNode.clientWidth;var s=0,a=0;if(this.overflowMethod=="flip"){var l=false,d=true;if(this.y-i<this.padding){d=false}if(this.x+n>o-this.padding){l=true}if(l){s=this.x-n}else{s=this.x}if(d){a=this.y-i}else{a=this.y}}else{a=this.y-i;if(a+i+this.padding>r){a=r-i-this.padding}if(a<this.padding){a=this.padding}s=this.x;if(s+n+this.padding>o){s=o-n-this.padding}if(s<this.padding){s=this.padding}}this.frame.style.left=s+"px";this.frame.style.top=a+"px";this.frame.style.visibility="visible";this.hidden=false}else{this.hide()}}},{key:"hide",value:function e(){this.hidden=true;this.frame.style.visibility="hidden"}},{key:"destroy",value:function e(){this.frame.parentNode.removeChild(this.frame)}}]);return e}();t["default"]=l},function(e,t){"use strict";t.__esModule=true;t.default=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}},function(e,t,i){"use strict";t.__esModule=true;var n=i(137);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;(0,r.default)(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}()},function(e,t,i){e.exports={default:i(138),__esModule:true}},function(e,t,i){i(139);var n=i(17).Object;e.exports=function e(t,i,r){return n.defineProperty(t,i,r)}},function(e,t,i){var n=i(15);n(n.S+n.F*!i(25),"Object",{defineProperty:i(21).f})},function(e,t,i){"use strict";var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(121);var l=i(125);var d=i(122);var u=i(82);function h(e,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:true,showMajorLabels:true,maxMinorChars:7,format:l.FORMAT,moment:u,timeAxis:null};this.options=s.extend({},this.defaultOptions);this.body=e;this._create();this.setOptions(t)}h.prototype=new a;h.prototype.setOptions=function(e){if(e){s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e);s.selectiveDeepExtend(["format"],this.options,e);if("orientation"in e){if(typeof e.orientation==="string"){this.options.orientation.axis=e.orientation}else if((0,r["default"])(e.orientation)==="object"&&"axis"in e.orientation){this.options.orientation.axis=e.orientation.axis}}if("locale"in e){if(typeof u.locale==="function"){u.locale(e.locale)}else{u.lang(e.locale)}}}};h.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="vis-time-axis vis-foreground";this.dom.background.className="vis-time-axis vis-background"};h.prototype.destroy=function(){if(this.dom.foreground.parentNode){this.dom.foreground.parentNode.removeChild(this.dom.foreground)}if(this.dom.background.parentNode){this.dom.background.parentNode.removeChild(this.dom.background)}this.body=null};h.prototype.redraw=function(){var e=this.props;var t=this.dom.foreground;var i=this.dom.background;var n=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom;var r=t.parentNode!==n;this._calculateCharSize();var o=this.options.showMinorLabels&&this.options.orientation.axis!=="none";var s=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=o?e.minorCharHeight:0;e.majorLabelHeight=s?e.majorCharHeight:0;e.height=e.minorLabelHeight+e.majorLabelHeight;e.width=t.offsetWidth;e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height);e.minorLineWidth=1;e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight;e.majorLineWidth=1;var a=t.nextSibling;var l=i.nextSibling;t.parentNode&&t.parentNode.removeChild(t);i.parentNode&&i.parentNode.removeChild(i);t.style.height=this.props.height+"px";this._repaintLabels();if(a){n.insertBefore(t,a)}else{n.appendChild(t)}if(l){this.body.dom.backgroundVertical.insertBefore(i,l)}else{this.body.dom.backgroundVertical.appendChild(i)}return this._isResized()||r};h.prototype._repaintLabels=function(){var e=this.options.orientation.axis;var t=s.convert(this.body.range.start,"Number");var i=s.convert(this.body.range.end,"Number");var n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();var r=n-d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);r-=this.body.util.toTime(0).valueOf();var o=new l(new Date(t),new Date(i),r,this.body.hiddenDates);o.setMoment(this.options.moment);if(this.options.format){o.setFormat(this.options.format)}if(this.options.timeAxis){o.setScale(this.options.timeAxis)}this.step=o;var a=this.dom;a.redundant.lines=a.lines;a.redundant.majorTexts=a.majorTexts;a.redundant.minorTexts=a.minorTexts;a.lines=[];a.majorTexts=[];a.minorTexts=[];var u;var h;var f;var p;var m,v;var g;var y=0,b;var w;var x;var _=undefined;var k=0;var C=1e3;var S;o.start();h=o.getCurrent();p=this.body.util.toScreen(h);while(o.hasNext()&&k<C){k++;m=o.isMajor();S=o.getClassName();x=o.getLabelMinor();u=h;f=p;o.next();h=o.getCurrent();v=o.isMajor();p=this.body.util.toScreen(h);b=y;y=p-f;switch(o.scale){case"week":g=true;break;default:g=y>=b*.4;break}if(this.options.showMinorLabels&&g){var T=this._repaintMinorText(f,x,e,S);T.style.width=y+"px"}if(m&&this.options.showMajorLabels){if(f>0){if(_==undefined){_=f}T=this._repaintMajorText(f,o.getLabelMajor(),e,S)}w=this._repaintMajorLine(f,y,e,S)}else{if(g){w=this._repaintMinorLine(f,y,e,S)}else{if(w){w.style.width=parseInt(w.style.width)+y+"px"}}}}if(k===C&&!c){console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+C+" lines.");c=true}if(this.options.showMajorLabels){var D=this.body.util.toTime(0),E=o.getLabelMajor(D),O=E.length*(this.props.majorCharWidth||10)+10;if(_==undefined||O<_){this._repaintMajorText(0,E,e,S)}}s.forEach(this.dom.redundant,function(e){while(e.length){var t=e.pop();if(t&&t.parentNode){t.parentNode.removeChild(t)}}})};h.prototype._repaintMinorText=function(e,t,i,n){var r=this.dom.redundant.minorTexts.shift();if(!r){var o=document.createTextNode("");r=document.createElement("div");r.appendChild(o);this.dom.foreground.appendChild(r)}this.dom.minorTexts.push(r);r.innerHTML=t;r.style.top=i=="top"?this.props.majorLabelHeight+"px":"0";if(this.options.rtl){r.style.left="";r.style.right=e+"px"}else{r.style.left=e+"px"}r.className="vis-text vis-minor "+n;return r};h.prototype._repaintMajorText=function(e,t,i,n){var r=this.dom.redundant.majorTexts.shift();if(!r){var o=document.createElement("div");r=document.createElement("div");r.appendChild(o);this.dom.foreground.appendChild(r)}r.childNodes[0].innerHTML=t;r.className="vis-text vis-major "+n;r.style.top=i=="top"?"0":this.props.minorLabelHeight+"px";if(this.options.rtl){r.style.left="";r.style.right=e+"px"}else{r.style.left=e+"px"}this.dom.majorTexts.push(r);return r};h.prototype._repaintMinorLine=function(e,t,i,n){var r=this.dom.redundant.lines.shift();if(!r){r=document.createElement("div");this.dom.background.appendChild(r)}this.dom.lines.push(r);var o=this.props;if(i=="top"){r.style.top=o.majorLabelHeight+"px"}else{r.style.top=this.body.domProps.top.height+"px"}r.style.height=o.minorLineHeight+"px";if(this.options.rtl){r.style.left="";r.style.right=e-o.minorLineWidth/2+"px";r.className="vis-grid vis-vertical-rtl vis-minor "+n}else{r.style.left=e-o.minorLineWidth/2+"px";r.className="vis-grid vis-vertical vis-minor "+n}r.style.width=t+"px";return r};h.prototype._repaintMajorLine=function(e,t,i,n){var r=this.dom.redundant.lines.shift();if(!r){r=document.createElement("div");this.dom.background.appendChild(r)}this.dom.lines.push(r);var o=this.props;if(i=="top"){r.style.top="0"}else{r.style.top=this.body.domProps.top.height+"px"}if(this.options.rtl){r.style.left="";r.style.right=e-o.majorLineWidth/2+"px";r.className="vis-grid vis-vertical-rtl vis-major "+n}else{r.style.left=e-o.majorLineWidth/2+"px";r.className="vis-grid vis-vertical vis-major "+n}r.style.height=o.majorLineHeight+"px";r.style.width=t+"px";return r};h.prototype._calculateCharSize=function(){if(!this.dom.measureCharMinor){this.dom.measureCharMinor=document.createElement("DIV");this.dom.measureCharMinor.className="vis-text vis-minor vis-measure";this.dom.measureCharMinor.style.position="absolute";this.dom.measureCharMinor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMinor)}this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;if(!this.dom.measureCharMajor){this.dom.measureCharMajor=document.createElement("DIV");this.dom.measureCharMajor.className="vis-text vis-major vis-measure";this.dom.measureCharMajor.style.position="absolute";this.dom.measureCharMajor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMajor)}this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var c=false;e.exports=h},function(e,t,i){"use strict";var n=i(116);var r=i(99);var o=i(113);var s=i(1);function a(e){this.active=false;this.dom={container:e};this.dom.overlay=document.createElement("div");this.dom.overlay.className="vis-overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=o(this.dom.overlay);this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(e){t.hammer.on(e,function(e){e.stopPropagation()})});if(document&&document.body){this.onClick=function(i){if(!l(i.target,e)){t.deactivate()}};document.body.addEventListener("click",this.onClick)}if(this.keycharm!==undefined){this.keycharm.destroy()}this.keycharm=n();this.escListener=this.deactivate.bind(this)}r(a.prototype);a.current=null;a.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);if(this.onClick){document.body.removeEventListener("click",this.onClick)}this.hammer.destroy();this.hammer=null};a.prototype.activate=function(){if(a.current){a.current.deactivate()}a.current=this;this.active=true;this.dom.overlay.style.display="none";s.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};a.prototype.deactivate=function(){this.active=false;this.dom.overlay.style.display="";s.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};a.prototype._onTapOverlay=function(e){this.activate();e.stopPropagation()};function l(e,t){while(e){if(e===t){return true}e=e.parentNode}return false}e.exports=a},function(e,t,i){"use strict";var n=i(113);var r=i(1);var o=i(121);var s=i(82);var a=i(143);function l(e,t){this.body=e;this.defaultOptions={moment:s,locales:a,locale:"en",id:undefined,title:undefined};this.options=r.extend({},this.defaultOptions);if(t&&t.time){this.customTime=t.time}else{this.customTime=new Date}this.eventParams={};this.setOptions(t);this._create()}l.prototype=new o;l.prototype.setOptions=function(e){if(e){r.selectiveExtend(["moment","locale","locales","id"],this.options,e)}};l.prototype._create=function(){var e=document.createElement("div");e["custom-time"]=this;e.className="vis-custom-time "+(this.options.id||"");e.style.position="absolute";e.style.top="0px";e.style.height="100%";this.bar=e;var t=document.createElement("div");t.style.position="relative";t.style.top="0px";t.style.left="-10px";t.style.height="100%";t.style.width="20px";function i(e){this.body.range._onMouseWheel(e)}if(t.addEventListener){t.addEventListener("mousewheel",i.bind(this),false);t.addEventListener("DOMMouseScroll",i.bind(this),false)}else{t.attachEvent("onmousewheel",i.bind(this))}e.appendChild(t);this.hammer=new n(t);this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})};l.prototype.destroy=function(){this.hide();this.hammer.destroy();this.hammer=null;this.body=null};l.prototype.redraw=function(){var e=this.body.dom.backgroundVertical;if(this.bar.parentNode!=e){if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}e.appendChild(this.bar)}var t=this.body.util.toScreen(this.customTime);var i=this.options.locales[this.options.locale];if(!i){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization");this.warned=true}i=this.options.locales["en"]}var n=this.options.title;if(n===undefined){n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1)}else if(typeof n==="function"){n=n.call(this.customTime)}this.bar.style.left=t+"px";this.bar.title=n;return false};l.prototype.hide=function(){if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}};l.prototype.setCustomTime=function(e){this.customTime=r.convert(e,"Date");this.redraw()};l.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};l.prototype.setCustomTitle=function(e){this.options.title=e};l.prototype._onDragStart=function(e){this.eventParams.dragging=true;this.eventParams.customTime=this.customTime;e.stopPropagation()};l.prototype._onDrag=function(e){if(!this.eventParams.dragging)return;var t=this.body.util.toScreen(this.eventParams.customTime)+e.deltaX;var i=this.body.util.toTime(t);this.setCustomTime(i);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e});e.stopPropagation()};l.prototype._onDragEnd=function(e){if(!this.eventParams.dragging)return;this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e});e.stopPropagation()};l.customTimeFromTarget=function(e){var t=e.target;while(t){if(t.hasOwnProperty("custom-time")){return t["custom-time"]}t=t.parentNode}return null};e.exports=l},function(e,t){"use strict";t["en"]={current:"current",time:"time"};t["en_EN"]=t["en"];t["en_US"]=t["en"];t["it"]={current:"attuale",time:"tempo"};t["it_IT"]=t["it"];t["it_CH"]=t["it"];t["nl"]={current:"huidige",time:"tijd"};t["nl_NL"]=t["nl"];t["nl_BE"]=t["nl"];t["de"]={current:"Aktuelle",time:"Zeit"};t["de_DE"]=t["de"];t["fr"]={current:"actuel",time:"heure"};t["fr_FR"]=t["fr"];t["fr_CA"]=t["fr"];t["fr_BE"]=t["fr"];t["es"]={current:"corriente",time:"hora"};t["es_ES"]=t["es"]},function(e,t,i){"use strict";var n=i(1);var r=i(121);var o=i(82);var s=i(143);function a(e,t){this.body=e;this.defaultOptions={rtl:false,showCurrentTime:true,moment:o,locales:s,locale:"en"};this.options=n.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(t)}a.prototype=new r;a.prototype._create=function(){var e=document.createElement("div");e.className="vis-current-time";e.style.position="absolute";e.style.top="0px";e.style.height="100%";this.bar=e};a.prototype.destroy=function(){this.options.showCurrentTime=false;this.redraw();this.body=null};a.prototype.setOptions=function(e){if(e){n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,e)}};a.prototype.redraw=function(){if(this.options.showCurrentTime){var e=this.body.dom.backgroundVertical;if(this.bar.parentNode!=e){if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}e.appendChild(this.bar);this.start()}var t=this.options.moment((new Date).valueOf()+this.offset);var i=this.body.util.toScreen(t);var n=this.options.locales[this.options.locale];if(!n){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization");this.warned=true}n=this.options.locales["en"]}var r=n.current+" "+n.time+": "+t.format("dddd, MMMM Do YYYY, H:mm:ss");r=r.charAt(0).toUpperCase()+r.substring(1);if(this.options.rtl){this.bar.style.right=i+"px"}else{this.bar.style.left=i+"px"}this.bar.title=r}else{if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}this.stop()}return false};a.prototype.start=function(){var e=this;function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale;var n=1/i/10;if(n<30)n=30;if(n>1e3)n=1e3;e.redraw();e.body.emitter.emit("currentTimeTick");e.currentTimeTimer=setTimeout(t,n)}t()};a.prototype.stop=function(){if(this.currentTimeTimer!==undefined){clearTimeout(this.currentTimeTimer);delete this.currentTimeTimer}};a.prototype.setCurrentTime=function(e){var t=n.convert(e,"Date").valueOf();var i=(new Date).valueOf();this.offset=t-i;this.redraw()};a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};e.exports=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printStyle=undefined;var n=i(90);var r=f(n);var o=i(62);var s=f(o);var a=i(58);var l=f(a);var d=i(135);var u=f(d);var h=i(136);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=i(1);var m=false;var v=void 0;var g="background: #FFeeee; color: #dd0000";var y=function(){function e(){(0,u["default"])(this,e)}(0,c["default"])(e,null,[{key:"validate",value:function t(i,n,r){m=false;v=n;var o=n;if(r!==undefined){o=n[r]}e.parse(i,o,[]);return m}},{key:"parse",value:function t(i,n,r){for(var o in i){if(i.hasOwnProperty(o)){e.check(o,i,n,r)}}}},{key:"check",value:function t(i,n,r,o){if(r[i]===undefined&&r.__any__===undefined){e.getSuggestion(i,r,o)}else if(r[i]===undefined&&r.__any__!==undefined){if(e.getType(n[i])==="object"&&r["__any__"].__type__!==undefined){e.checkFields(i,n,r,"__any__",r["__any__"].__type__,o)}else{e.checkFields(i,n,r,"__any__",r["__any__"],o)}}else{if(r[i].__type__!==undefined){e.checkFields(i,n,r,i,r[i].__type__,o)}else{e.checkFields(i,n,r,i,r[i],o)}}}},{key:"checkFields",value:function t(i,n,r,o,s,a){var d=e.getType(n[i]);var u=s[d];if(u!==undefined){if(e.getType(u)==="array"){if(u.indexOf(n[i])===-1){console.log('%cInvalid option detected in "'+i+'".'+" Allowed values are:"+e.print(u)+' not "'+n[i]+'". '+e.printLocation(a,i),g);m=true}else if(d==="object"&&o!=="__any__"){a=p.copyAndExtendArray(a,i);e.parse(n[i],r[o],a)}}else if(d==="object"&&o!=="__any__"){a=p.copyAndExtendArray(a,i);e.parse(n[i],r[o],a)}}else if(s["any"]===undefined){console.log('%cInvalid type received for "'+i+'". Expected: '+e.print((0,l["default"])(s))+". Received ["+d+'] "'+n[i]+'"'+e.printLocation(a,i),g);m=true}}},{key:"getType",value:function e(t){var i=typeof t==="undefined"?"undefined":(0,s["default"])(t);if(i==="object"){if(t===null){return"null"}if(t instanceof Boolean){return"boolean"}if(t instanceof Number){return"number"}if(t instanceof String){return"string"}if(Array.isArray(t)){return"array"}if(t instanceof Date){return"date"}if(t.nodeType!==undefined){return"dom"}if(t._isAMomentObject===true){return"moment"}return"object"}else if(i==="number"){return"number"}else if(i==="boolean"){return"boolean"}else if(i==="string"){return"string"}else if(i===undefined){return"undefined"}return i}},{key:"getSuggestion",value:function t(i,n,r){var o=e.findInOptions(i,n,r,false);var s=e.findInOptions(i,v,[],true);var a=8;var d=4;if(o.indexMatch!==undefined){console.log('%cUnknown option detected: "'+i+'" in '+e.printLocation(o.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n',g)}else if(s.distance<=d&&o.distance>s.distance){console.log('%cUnknown option detected: "'+i+'" in '+e.printLocation(o.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""),g)}else if(o.distance<=a){console.log('%cUnknown option detected: "'+i+'". Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,i),g)}else{console.log('%cUnknown option detected: "'+i+'". Did you mean one of these: '+e.print((0,l["default"])(n))+e.printLocation(r,i),g)}m=true}},{key:"findInOptions",value:function t(i,n,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var s=1e9;var a="";var l=[];var d=i.toLowerCase();var u=undefined;for(var h in n){var c=void 0;if(n[h].__type__!==undefined&&o===true){var f=e.findInOptions(i,n[h],p.copyAndExtendArray(r,h));if(s>f.distance){a=f.closestMatch;l=f.path;s=f.distance;u=f.indexMatch}}else{if(h.toLowerCase().indexOf(d)!==-1){u=h}c=e.levenshteinDistance(i,h);if(s>c){a=h;l=p.copyArray(r);s=c}}}return{closestMatch:a,path:l,distance:s,indexMatch:u}}},{key:"printLocation",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Problem value found at: \n";var r="\n\n"+n+"options = {\n";for(var o=0;o<t.length;o++){for(var s=0;s<o+1;s++){r+="  "}r+=t[o]+": {\n"}for(var a=0;a<t.length+1;a++){r+="  "}r+=i+"\n";for(var l=0;l<t.length+1;l++){for(var d=0;d<t.length-l;d++){r+="  "}r+="}\n"}return r+"\n\n"}},{key:"print",value:function e(t){return(0,r["default"])(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function e(t,i){if(t.length===0)return i.length;if(i.length===0)return t.length;var n=[];var r;for(r=0;r<=i.length;r++){n[r]=[r]}var o;for(o=0;o<=t.length;o++){n[0][o]=o}for(r=1;r<=i.length;r++){for(o=1;o<=t.length;o++){if(i.charAt(r-1)==t.charAt(o-1)){n[r][o]=n[r-1][o-1]}else{n[r][o]=Math.min(n[r-1][o-1]+1,Math.min(n[r][o-1]+1,n[r-1][o]+1))}}}return n[i.length][t.length]}}]);return e}();t["default"]=y;t.printStyle=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="string";var n="boolean";var r="number";var o="array";var s="date";var a="object";var l="dom";var d="moment";var u="any";var h={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:l},__type__:{object:a,boolean:n,function:"function"}},align:{string:i},rtl:{boolean:n,undefined:"undefined"},rollingMode:{follow:{boolean:n},offset:{number:r,undefined:"undefined"},__type__:{object:a}},verticalScroll:{boolean:n,undefined:"undefined"},horizontalScroll:{boolean:n,undefined:"undefined"},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},dataAttributes:{string:i,array:o},editable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},updateGroup:{boolean:n,undefined:"undefined"},updateTime:{boolean:n,undefined:"undefined"},overrideItems:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:a}},end:{number:r,date:s,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},__type__:{object:a}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},order:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:a}},groupOrderSwap:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:s,number:r,string:i,moment:d},end:{date:s,number:r,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:o}},itemsAlwaysDraggable:{item:{boolean:n,undefined:"undefined"},range:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:a}},locale:{string:i},locales:{__any__:{any:u},__type__:{object:a}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:a,number:r}},__type__:{object:a,number:r}},max:{date:s,number:r,string:i,moment:d},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:s,number:r,string:i,moment:d},minHeight:{number:r,string:i},moveable:{boolean:n},multiselect:{boolean:n},multiselectPerGroup:{boolean:n},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{boolean:n},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},stack:{boolean:n},stackSubgroups:{boolean:n},snap:{function:"function",null:"null"},start:{date:s,number:r,string:i,moment:d},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:n},tooltip:{followMouse:{boolean:n},overflowMethod:{string:["cap","flip"]},__type__:{object:a}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:n,object:a}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:a}};var c={global:{align:["center","left","right"],direction:false,autoResize:true,clickToUse:false,editable:{add:false,remove:false,updateGroup:false,updateTime:false},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:false,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:false,multiselect:false,multiselectPerGroup:false,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:true,showCurrentTime:false,showMajorLabels:true,showMinorLabels:true,stack:true,stackSubgroups:true,start:"",showTooltips:true,tooltip:{followMouse:false,overflowMethod:"flip"},tooltipOnItemUpdateTime:false,type:["box","point","range","background"],width:"100%",zoomable:true,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};t.allOptions=h;t.configureOptions=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(90);var r=h(n);var o=i(62);var s=h(o);var a=i(135);var l=h(a);var d=i(136);var u=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var c=i(1);var f=i(148)["default"];var p=function(){function e(t,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,l["default"])(this,e);this.parent=t;this.changedOptions=[];this.container=i;this.allowCreation=false;this.options={};this.initialized=false;this.popupCounter=0;this.defaultOptions={enabled:false,filter:true,container:undefined,showButton:true};c.extend(this.options,this.defaultOptions);this.configureOptions=n;this.moduleOptions={};this.domElements=[];this.popupDiv={};this.popupLimit=5;this.popupHistory={};this.colorPicker=new f(r);this.wrapper=undefined}(0,u["default"])(e,[{key:"setOptions",value:function e(t){if(t!==undefined){this.popupHistory={};this._removePopup();var i=true;if(typeof t==="string"){this.options.filter=t}else if(t instanceof Array){this.options.filter=t.join()}else if((typeof t==="undefined"?"undefined":(0,s["default"])(t))==="object"){if(t.container!==undefined){this.options.container=t.container}if(t.filter!==undefined){this.options.filter=t.filter}if(t.showButton!==undefined){this.options.showButton=t.showButton}if(t.enabled!==undefined){i=t.enabled}}else if(typeof t==="boolean"){this.options.filter=true;i=t}else if(typeof t==="function"){this.options.filter=t;i=true}if(this.options.filter===false){i=false}this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function e(t){this.moduleOptions=t;if(this.options.enabled===true){this._clean();if(this.options.container!==undefined){this.container=this.options.container}this._create()}}},{key:"_create",value:function e(){var t=this;this._clean();this.changedOptions=[];var i=this.options.filter;var n=0;var r=false;for(var o in this.configureOptions){if(this.configureOptions.hasOwnProperty(o)){this.allowCreation=false;r=false;if(typeof i==="function"){r=i(o,[]);r=r||this._handleObject(this.configureOptions[o],[o],true)}else if(i===true||i.indexOf(o)!==-1){r=true}if(r!==false){this.allowCreation=true;if(n>0){this._makeItem([])}this._makeHeader(o);this._handleObject(this.configureOptions[o],[o])}n++}}if(this.options.showButton===true){var s=document.createElement("div");s.className="vis-configuration vis-config-button";s.innerHTML="generate options";s.onclick=function(){t._printOptions()};s.onmouseover=function(){s.className="vis-configuration vis-config-button hover"};s.onmouseout=function(){s.className="vis-configuration vis-config-button"};this.optionsContainer=document.createElement("div");this.optionsContainer.className="vis-configuration vis-config-option-container";this.domElements.push(this.optionsContainer);this.domElements.push(s)}this._push()}},{key:"_push",value:function e(){this.wrapper=document.createElement("div");this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++){this.wrapper.appendChild(this.domElements[t])}this._showPopupIfNeeded()}},{key:"_clean",value:function e(){for(var t=0;t<this.domElements.length;t++){this.wrapper.removeChild(this.domElements[t])}if(this.wrapper!==undefined){this.container.removeChild(this.wrapper);this.wrapper=undefined}this.domElements=[];this._removePopup()}},{key:"_getValue",value:function e(t){var i=this.moduleOptions;for(var n=0;n<t.length;n++){if(i[t[n]]!==undefined){i=i[t[n]]}else{i=undefined;break}}return i}},{key:"_makeItem",value:function e(t){if(this.allowCreation===true){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++){r[o-1]=arguments[o]}r.forEach(function(e){i.appendChild(e)});this.domElements.push(i);return this.domElements.length}return 0}},{key:"_makeHeader",value:function e(t){var i=document.createElement("div");i.className="vis-configuration vis-config-header";i.innerHTML=t;this._makeItem([],i)}},{key:"_makeLabel",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=document.createElement("div");r.className="vis-configuration vis-config-label vis-config-s"+i.length;if(n===true){r.innerHTML="<i><b>"+t+":</b></i>"}else{r.innerHTML=t+":"}return r}},{key:"_makeDropdown",value:function e(t,i,n){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var o=0;if(i!==undefined){if(t.indexOf(i)!==-1){o=t.indexOf(i)}}for(var s=0;s<t.length;s++){var a=document.createElement("option");a.value=t[s];if(s===o){a.selected="selected"}a.innerHTML=t[s];r.appendChild(a)}var l=this;r.onchange=function(){l._update(this.value,n)};var d=this._makeLabel(n[n.length-1],n);this._makeItem(n,d,r)}},{key:"_makeRange",value:function e(t,i,n){var r=t[0];var o=t[1];var s=t[2];var a=t[3];var l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range";l.min=o;l.max=s}catch(e){}l.step=a;var d="";var u=0;if(i!==undefined){var h=1.2;if(i<0&&i*h<o){l.min=Math.ceil(i*h);u=l.min;d="range increased"}else if(i/h<o){l.min=Math.ceil(i/h);u=l.min;d="range increased"}if(i*h>s&&s!==1){l.max=Math.ceil(i*h);u=l.max;d="range increased"}l.value=i}else{l.value=r}var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput";c.value=l.value;var f=this;l.onchange=function(){c.value=this.value;f._update(Number(this.value),n)};l.oninput=function(){c.value=this.value};var p=this._makeLabel(n[n.length-1],n);var m=this._makeItem(n,p,l,c);if(d!==""&&this.popupHistory[m]!==u){this.popupHistory[m]=u;this._setupPopup(d,m)}}},{key:"_setupPopup",value:function e(t,i){var n=this;if(this.initialized===true&&this.allowCreation===true&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup";r.className="vis-configuration-popup";r.innerHTML=t;r.onclick=function(){n._removePopup()};this.popupCounter+=1;this.popupDiv={html:r,index:i}}}},{key:"_removePopup",value:function e(){if(this.popupDiv.html!==undefined){this.popupDiv.html.parentNode.removeChild(this.popupDiv.html);clearTimeout(this.popupDiv.hideTimeout);clearTimeout(this.popupDiv.deleteTimeout);this.popupDiv={}}}},{key:"_showPopupIfNeeded",value:function e(){var t=this;if(this.popupDiv.html!==undefined){var i=this.domElements[this.popupDiv.index];var n=i.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px";this.popupDiv.html.style.top=n.top-30+"px";document.body.appendChild(this.popupDiv.html);this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500);this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function e(t,i,n){var r=document.createElement("input");r.type="checkbox";r.className="vis-configuration vis-config-checkbox";r.checked=t;if(i!==undefined){r.checked=i;if(i!==t){if((typeof t==="undefined"?"undefined":(0,s["default"])(t))==="object"){if(i!==t.enabled){this.changedOptions.push({path:n,value:i})}}else{this.changedOptions.push({path:n,value:i})}}}var o=this;r.onchange=function(){o._update(this.checked,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}},{key:"_makeTextInput",value:function e(t,i,n){var r=document.createElement("input");r.type="text";r.className="vis-configuration vis-config-text";r.value=i;if(i!==t){this.changedOptions.push({path:n,value:i})}var o=this;r.onchange=function(){o._update(this.value,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,r)}},{key:"_makeColorField",value:function e(t,i,n){var r=this;var o=t[1];var s=document.createElement("div");i=i===undefined?o:i;if(i!=="none"){s.className="vis-configuration vis-config-colorBlock";s.style.backgroundColor=i}else{s.className="vis-configuration vis-config-colorBlock none"}i=i===undefined?o:i;s.onclick=function(){r._showColorPicker(i,s,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}},{key:"_showColorPicker",value:function e(t,i,n){var r=this;i.onclick=function(){};this.colorPicker.insertTo(i);this.colorPicker.show();this.colorPicker.setColor(t);this.colorPicker.setUpdateCallback(function(e){var t="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";i.style.backgroundColor=t;r._update(t,n)});this.colorPicker.setCloseCallback(function(){i.onclick=function(){r._showColorPicker(t,i,n)}})}},{key:"_handleObject",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=false;var o=this.options.filter;var s=false;for(var a in t){if(t.hasOwnProperty(a)){r=true;var l=t[a];var d=c.copyAndExtendArray(i,a);if(typeof o==="function"){r=o(a,i);if(r===false){if(!(l instanceof Array)&&typeof l!=="string"&&typeof l!=="boolean"&&l instanceof Object){this.allowCreation=false;r=this._handleObject(l,d,true);this.allowCreation=n===false}}}if(r!==false){s=true;var u=this._getValue(d);if(l instanceof Array){this._handleArray(l,u,d)}else if(typeof l==="string"){this._makeTextInput(l,u,d)}else if(typeof l==="boolean"){this._makeCheckbox(l,u,d)}else if(l instanceof Object){var h=true;if(i.indexOf("physics")!==-1){if(this.moduleOptions.physics.solver!==a){h=false}}if(h===true){if(l.enabled!==undefined){var f=c.copyAndExtendArray(d,"enabled");var p=this._getValue(f);if(p===true){var m=this._makeLabel(a,d,true);this._makeItem(d,m);s=this._handleObject(l,d)||s}else{this._makeCheckbox(l,p,d)}}else{var v=this._makeLabel(a,d,true);this._makeItem(d,v);s=this._handleObject(l,d)||s}}}else{console.error("dont know how to handle",l,a,d)}}}}return s}},{key:"_handleArray",value:function e(t,i,n){if(typeof t[0]==="string"&&t[0]==="color"){this._makeColorField(t,i,n);if(t[1]!==i){this.changedOptions.push({path:n,value:i})}}else if(typeof t[0]==="string"){this._makeDropdown(t,i,n);if(t[0]!==i){this.changedOptions.push({path:n,value:i})}}else if(typeof t[0]==="number"){this._makeRange(t,i,n);if(t[0]!==i){this.changedOptions.push({path:n,value:Number(i)})}}}},{key:"_update",value:function e(t,i){var n=this._constructOptions(t,i);if(this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit){this.parent.body.emitter.emit("configChange",n)}this.initialized=true;this.parent.setOptions(n)}},{key:"_constructOptions",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=n;t=t==="true"?true:t;t=t==="false"?false:t;for(var o=0;o<i.length;o++){if(i[o]!=="global"){if(r[i[o]]===undefined){r[i[o]]={}}if(o!==i.length-1){r=r[i[o]]}else{r[i[o]]=t}}}return n}},{key:"_printOptions",value:function e(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,r["default"])(t,null,2)+"</pre>"}},{key:"getOptions",value:function e(){var t={};for(var i=0;i<this.changedOptions.length;i++){this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,t)}return t}}]);return e}();t["default"]=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(90);var r=d(n);var o=i(135);var s=d(o);var a=i(136);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(113);var h=i(120);var c=i(1);var f=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;(0,s["default"])(this,e);this.pixelRatio=t;this.generated=false;this.centerCoordinates={x:289/2,y:289/2};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=undefined;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=undefined;this.applied=false;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}(0,l["default"])(e,[{key:"insertTo",value:function e(t){if(this.hammer!==undefined){this.hammer.destroy();this.hammer=undefined}this.container=t;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function e(t){if(typeof t==="function"){this.updateCallback=t}else{throw new Error("Function attempted to set as colorPicker update callback is not a function.")}}},{key:"setCloseCallback",value:function e(t){if(typeof t==="function"){this.closeCallback=t}else{throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}}},{key:"_isColorString",value:function e(t){var i={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if(typeof t==="string"){return i[t]}}},{key:"setColor",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(t==="none"){return}var n=void 0;var o=this._isColorString(t);if(o!==undefined){t=o}if(c.isString(t)===true){if(c.isValidRGB(t)===true){var s=t.substr(4).substr(0,t.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(c.isValidRGBA(t)===true){var a=t.substr(5).substr(0,t.length-6).split(",");n={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(c.isValidHex(t)===true){var l=c.hexToRGB(t);n={r:l.r,g:l.g,b:l.b,a:1}}}else{if(t instanceof Object){if(t.r!==undefined&&t.g!==undefined&&t.b!==undefined){var d=t.a!==undefined?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:d}}}}if(n===undefined){throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,r["default"])(t))}else{this._setColor(n,i)}}},{key:"show",value:function e(){if(this.closeCallback!==undefined){this.closeCallback();this.closeCallback=undefined}this.applied=false;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(i===true){this.previousColor=c.extend({},this.color)}if(this.applied===true){this.updateCallback(this.initialColor)}this.frame.style.display="none";setTimeout(function(){if(t.closeCallback!==undefined){t.closeCallback();t.closeCallback=undefined}},0)}},{key:"_save",value:function e(){this.updateCallback(this.color);this.applied=false;this._hide()}},{key:"_apply",value:function e(){this.applied=true;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function e(){if(this.previousColor!==undefined){this.setColor(this.previousColor,false)}else{alert("There is no last color to load...")}}},{key:"_setColor",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(i===true){this.initialColor=c.extend({},t)}this.color=t;var n=c.RGBToHSV(t.r,t.g,t.b);var r=2*Math.PI;var o=this.r*n.s;var s=this.centerCoordinates.x+o*Math.sin(r*n.h);var a=this.centerCoordinates.y+o*Math.cos(r*n.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px";this._updatePicker(t)}},{key:"_setOpacity",value:function e(t){this.color.a=t/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function e(t){var i=c.RGBToHSV(this.color.r,this.color.g,this.color.b);i.v=t/100;var n=c.HSVToRGB(i.h,i.s,i.v);n["a"]=this.color.a;this.color=n;this._updatePicker()}},{key:"_updatePicker",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.color;var i=c.RGBToHSV(t.r,t.g,t.b);var n=this.colorPickerCanvas.getContext("2d");if(this.pixelRation===undefined){this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)}n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth;var o=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,o);n.putImageData(this.hueCircle,0,0);n.fillStyle="rgba(0,0,0,"+(1-i.v)+")";n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);n.fill();this.brightnessRange.value=100*i.v;this.opacityRange.value=100*t.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function e(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function e(){this.frame=document.createElement("div");this.frame.className="vis-color-picker";this.colorPickerDiv=document.createElement("div");this.colorPickerSelector=document.createElement("div");this.colorPickerSelector.className="vis-selector";this.colorPickerDiv.appendChild(this.colorPickerSelector);this.colorPickerCanvas=document.createElement("canvas");this.colorPickerDiv.appendChild(this.colorPickerCanvas);if(!this.colorPickerCanvas.getContext){var t=document.createElement("DIV");t.style.color="red";t.style.fontWeight="bold";t.style.padding="10px";t.innerHTML="Error: your browser does not support HTML canvas";this.colorPickerCanvas.appendChild(t)}else{var i=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1);this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range";this.opacityRange.min="0";this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100";this.opacityRange.className="vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range";this.brightnessRange.min="0";this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)};this.opacityRange.oninput=function(){n._setOpacity(this.value)};this.brightnessRange.onchange=function(){n._setBrightness(this.value)};this.brightnessRange.oninput=function(){n._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerHTML="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerHTML="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerHTML="new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerHTML="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerHTML="cancel";this.cancelButton.onclick=this._hide.bind(this,false);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerHTML="apply";this.applyButton.onclick=this._apply.bind(this);this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerHTML="save";this.saveButton.onclick=this._save.bind(this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerHTML="load last";this.loadButton.onclick=this._loadLast.bind(this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function e(){var t=this;this.drag={};this.pinch={};this.hammer=new u(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:true});h.onTouch(this.hammer,function(e){t._moveSelector(e)});this.hammer.on("tap",function(e){t._moveSelector(e)});this.hammer.on("panstart",function(e){t._moveSelector(e)});this.hammer.on("panmove",function(e){t._moveSelector(e)});this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function e(){if(this.generated===false){var t=this.colorPickerCanvas.getContext("2d");if(this.pixelRation===undefined){this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth;var n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,i,n);var r=void 0,o=void 0,s=void 0,a=void 0;this.centerCoordinates={x:i*.5,y:n*.5};this.r=.49*i;var l=2*Math.PI/360;var d=1/360;var u=1/this.r;var h=void 0;for(s=0;s<360;s++){for(a=0;a<this.r;a++){r=this.centerCoordinates.x+a*Math.sin(l*s);o=this.centerCoordinates.y+a*Math.cos(l*s);h=c.HSVToRGB(s*d,a*u,1);t.fillStyle="rgb("+h.r+","+h.g+","+h.b+")";t.fillRect(r-.5,o-.5,2,2)}}t.strokeStyle="rgba(0,0,0,1)";t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);t.stroke();this.hueCircle=t.getImageData(0,0,i,n)}this.generated=true}},{key:"_moveSelector",value:function e(t){var i=this.colorPickerDiv.getBoundingClientRect();var n=t.center.x-i.left;var r=t.center.y-i.top;var o=.5*this.colorPickerDiv.clientHeight;var s=.5*this.colorPickerDiv.clientWidth;var a=n-s;var l=r-o;var d=Math.atan2(a,l);var u=.98*Math.min(Math.sqrt(a*a+l*l),s);var h=Math.cos(d)*u+o;var f=Math.sin(d)*u+s;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";var p=d/(2*Math.PI);p=p<0?p+1:p;var m=u/this.r;var v=c.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=p;v.s=m;var g=c.HSVToRGB(v.h,v.s,v.v);g["a"]=this.color.a;this.color=g;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]);return e}();t["default"]=f},function(e,t,i){"use strict";var n=i(99);var r=i(113);var o=i(82);var s=i(1);var a=i(89);var l=i(93);var d=i(119);var u=i(123);var h=i(140);var c=i(144);var f=i(142);var p=i(150);var m=i(145).printStyle;var v=i(158).allOptions;var g=i(158).configureOptions;var y=i(147)["default"];var b=i(145)["default"];function w(e,t,i,n){if(!(Array.isArray(i)||i instanceof a||i instanceof l)&&i instanceof Object){var r=n;n=i;i=r}if(n&&n.throttleRedraw){console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.')}var u=this;this.defaultOptions={start:null,end:null,autoResize:true,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null};this.options=s.deepExtend({},this.defaultOptions);this._create(e);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:u._toScreen.bind(u),toGlobalScreen:u._toGlobalScreen.bind(u),toTime:u._toTime.bind(u),toGlobalTime:u._toGlobalTime.bind(u)}};this.range=new d(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new h(this.body);this.components.push(this.timeAxis);this.currentTime=new c(this.body);this.components.push(this.currentTime);this.linegraph=new p(this.body);this.components.push(this.linegraph);this.itemsData=null;this.groupsData=null;this.on("tap",function(e){u.emit("click",u.getEventProperties(e))});this.on("doubletap",function(e){u.emit("doubleClick",u.getEventProperties(e))});this.dom.root.oncontextmenu=function(e){u.emit("contextmenu",u.getEventProperties(e))};if(n){this.setOptions(n)}if(i){this.setGroups(i)}if(t){this.setItems(t)}this._redraw()}w.prototype=new u;w.prototype.setOptions=function(e){var t=b.validate(e,v);if(t===true){console.log("%cErrors have been found in the supplied options object.",m)}u.prototype.setOptions.call(this,e)};w.prototype.setItems=function(e){var t=this.itemsData==null;var i;if(!e){i=null}else if(e instanceof a||e instanceof l){i=e}else{i=new a(e,{type:{start:"Date",end:"Date"}})}this.itemsData=i;this.linegraph&&this.linegraph.setItems(i);if(t){if(this.options.start!=undefined||this.options.end!=undefined){var n=this.options.start!=undefined?this.options.start:null;var r=this.options.end!=undefined?this.options.end:null;this.setWindow(n,r,{animation:false})}else{this.fit({animation:false})}}};w.prototype.setGroups=function(e){var t;if(!e){t=null}else if(e instanceof a||e instanceof l){t=e}else{t=new a(e)}this.groupsData=t;this.linegraph.setGroups(t)};w.prototype.getLegend=function(e,t,i){if(t===undefined){t=15}if(i===undefined){i=15}if(this.linegraph.groups[e]!==undefined){return this.linegraph.groups[e].getLegend(t,i)}else{return"cannot find group:'"+e+"'"}};w.prototype.isGroupVisible=function(e){if(this.linegraph.groups[e]!==undefined){return this.linegraph.groups[e].visible&&(this.linegraph.options.groups.visibility[e]===undefined||this.linegraph.options.groups.visibility[e]==true)}else{return false}};w.prototype.getDataRange=function(){var e=null;var t=null;for(var i in this.linegraph.groups){if(this.linegraph.groups.hasOwnProperty(i)){if(this.linegraph.groups[i].visible==true){for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=this.linegraph.groups[i].itemsData[n];var o=s.convert(r.x,"Date").valueOf();e=e==null?o:e>o?o:e;t=t==null?o:t<o?o:t}}}}return{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}};w.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX;var i=e.center?e.center.y:e.clientY;var n=t-s.getAbsoluteLeft(this.dom.centerContainer);var r=i-s.getAbsoluteTop(this.dom.centerContainer);var o=this._toTime(n);var a=f.customTimeFromTarget(e);var l=s.getTarget(e);var d=null;if(s.hasParent(l,this.timeAxis.dom.foreground)){d="axis"}else if(this.timeAxis2&&s.hasParent(l,this.timeAxis2.dom.foreground)){d="axis"}else if(s.hasParent(l,this.linegraph.yAxisLeft.dom.frame)){d="data-axis"}else if(s.hasParent(l,this.linegraph.yAxisRight.dom.frame)){d="data-axis"}else if(s.hasParent(l,this.linegraph.legendLeft.dom.frame)){d="legend"}else if(s.hasParent(l,this.linegraph.legendRight.dom.frame)){d="legend"}else if(a!=null){d="custom-time"}else if(s.hasParent(l,this.currentTime.bar)){d="current-time"}else if(s.hasParent(l,this.dom.center)){d="background"}var u=[];var h=this.linegraph.yAxisLeft;var c=this.linegraph.yAxisRight;if(!h.hidden&&this.itemsData.length>0){u.push(h.screenToValue(r))}if(!c.hidden&&this.itemsData.length>0){u.push(c.screenToValue(r))}return{event:e,what:d,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:n,y:r,time:o,value:u}};w.prototype._createConfigurator=function(){return new y(this,this.dom.container,g)};e.exports=w},function(e,t,i){"use strict";var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(88);var l=i(89);var d=i(93);var u=i(121);var h=i(151);var c=i(153);var f=i(157);var p=i(154);var m=i(156);var v=i(155);var g="__ungrouped__";function y(e,t){this.id=s.randomUUID();this.body=e;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:true,sampling:true,stack:false,graphHeight:"400px",shaded:{enabled:false,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:false,align:"center"},interpolation:{enabled:true,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:true,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}};this.options=s.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=false;this.updateSVGheight=false;this.updateSVGheightOnResize=false;this.forceGraphUpdate=true;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function e(t,n,r){i._onAdd(n.items)},update:function e(t,n,r){i._onUpdate(n.items)},remove:function e(t,n,r){i._onRemove(n.items)}};this.groupListeners={add:function e(t,n,r){i._onAddGroups(n.items)},update:function e(t,n,r){i._onUpdateGroups(n.items)},remove:function e(t,n,r){i._onRemoveGroups(n.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(t);this.groupsUsingDefaultStyles=[0];this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start;i.svg.style.left=s.option.asSize(-i.props.width);i.forceGraphUpdate=true;i.redraw.call(i)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}y.prototype=new u;y.prototype._create=function(){var e=document.createElement("div");e.className="vis-line-graph";this.dom.frame=e;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";e.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new h(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new h(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new f(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new f(this.body,this.options.legend,"right",this.options.groups);this.show()};y.prototype.setOptions=function(e){if(e){var t=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];if(e.graphHeight===undefined&&e.height!==undefined){this.updateSVGheight=true;this.updateSVGheightOnResize=true}else if(this.body.domProps.centerContainer.height!==undefined&&e.graphHeight!==undefined){if(parseInt((e.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height){this.updateSVGheight=true}}s.selectiveDeepExtend(t,this.options,e);s.mergeOptions(this.options,e,"interpolation");s.mergeOptions(this.options,e,"drawPoints");s.mergeOptions(this.options,e,"shaded");s.mergeOptions(this.options,e,"legend");if(e.interpolation){if((0,r["default"])(e.interpolation)=="object"){if(e.interpolation.parametrization){if(e.interpolation.parametrization=="uniform"){this.options.interpolation.alpha=0}else if(e.interpolation.parametrization=="chordal"){this.options.interpolation.alpha=1}else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}}}}if(this.yAxisLeft){if(e.dataAxis!==undefined){this.yAxisLeft.setOptions(this.options.dataAxis);this.yAxisRight.setOptions(this.options.dataAxis)}}if(this.legendLeft){if(e.legend!==undefined){this.legendLeft.setOptions(this.options.legend);this.legendRight.setOptions(this.options.legend)}}if(this.groups.hasOwnProperty(g)){this.groups[g].setOptions(e)}}if(this.dom.frame){this.forceGraphUpdate=true;this.body.emitter.emit("_change",{queue:true})}};y.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}};y.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}};y.prototype.setItems=function(e){var t=this,i,n=this.itemsData;if(!e){this.itemsData=null}else if(e instanceof l||e instanceof d){this.itemsData=e}else{throw new TypeError("Data must be an instance of DataSet or DataView")}if(n){s.forEach(this.itemListeners,function(e,t){n.off(t,e)});i=n.getIds();this._onRemove(i)}if(this.itemsData){var r=this.id;s.forEach(this.itemListeners,function(e,i){t.itemsData.on(i,e,r)});i=this.itemsData.getIds();this._onAdd(i)}};y.prototype.setGroups=function(e){var t=this;var i;if(this.groupsData){s.forEach(this.groupListeners,function(e,i){t.groupsData.off(i,e)});i=this.groupsData.getIds();this.groupsData=null;for(var n=0;n<i.length;n++){this._removeGroup(i[n])}}if(!e){this.groupsData=null}else if(e instanceof l||e instanceof d){this.groupsData=e}else{throw new TypeError("Data must be an instance of DataSet or DataView")}if(this.groupsData){var r=this.id;s.forEach(this.groupListeners,function(e,i){t.groupsData.on(i,e,r)});i=this.groupsData.getIds();this._onAddGroups(i)}};y.prototype._onUpdate=function(e){this._updateAllGroupData(e)};y.prototype._onAdd=function(e){this._onUpdate(e)};y.prototype._onRemove=function(e){this._onUpdate(e)};y.prototype._onUpdateGroups=function(e){this._updateAllGroupData(null,e)};y.prototype._onAddGroups=function(e){this._onUpdateGroups(e)};y.prototype._onRemoveGroups=function(e){for(var t=0;t<e.length;t++){this._removeGroup(e[t])}this.forceGraphUpdate=true;this.body.emitter.emit("_change",{queue:true})};y.prototype._removeGroup=function(e){if(this.groups.hasOwnProperty(e)){if(this.groups[e].options.yAxisOrientation=="right"){this.yAxisRight.removeGroup(e);this.legendRight.removeGroup(e);this.legendRight.redraw()}else{this.yAxisLeft.removeGroup(e);this.legendLeft.removeGroup(e);this.legendLeft.redraw()}delete this.groups[e]}};y.prototype._updateGroup=function(e,t){if(!this.groups.hasOwnProperty(t)){this.groups[t]=new c(e,t,this.options,this.groupsUsingDefaultStyles);if(this.groups[t].options.yAxisOrientation=="right"){this.yAxisRight.addGroup(t,this.groups[t]);this.legendRight.addGroup(t,this.groups[t])}else{this.yAxisLeft.addGroup(t,this.groups[t]);this.legendLeft.addGroup(t,this.groups[t])}}else{this.groups[t].update(e);if(this.groups[t].options.yAxisOrientation=="right"){this.yAxisRight.updateGroup(t,this.groups[t]);this.legendRight.updateGroup(t,this.groups[t]);this.yAxisLeft.removeGroup(t);this.legendLeft.removeGroup(t)}else{this.yAxisLeft.updateGroup(t,this.groups[t]);this.legendLeft.updateGroup(t,this.groups[t]);this.yAxisRight.removeGroup(t);this.legendRight.removeGroup(t)}}this.legendLeft.redraw();this.legendRight.redraw()};y.prototype._updateAllGroupData=function(e,t){if(this.itemsData!=null){var i={};var n=this.itemsData.get();var r=this.itemsData._fieldId;var o={};if(e){e.map(function(e){o[e]=e})}var a={};for(var l=0;l<n.length;l++){var d=n[l];var u=d.group;if(u===null||u===undefined){u=g}a.hasOwnProperty(u)?a[u]++:a[u]=1}var h={};if(!t&&e){for(var u in this.groups){if(this.groups.hasOwnProperty(u)){var c=this.groups[u];var f=c.getItems();i[u]=f.filter(function(e){h[e[r]]=e[r];return e[r]!==o[e[r]]});var p=a[u];a[u]-=i[u].length;if(i[u].length<p){i[u][p-1]={}}}}}for(var l=0;l<n.length;l++){var d=n[l];var u=d.group;if(u===null||u===undefined){u=g}if(!t&&e&&d[r]!==o[d[r]]&&h.hasOwnProperty(d[r])){continue}if(!i.hasOwnProperty(u)){i[u]=new Array(a[u])}var m=s.bridgeObject(d);m.x=s.convert(d.x,"Date");m.end=s.convert(d.end,"Date");m.orginalY=d.y;m.y=Number(d.y);m[r]=d[r];var v=i[u].length-a[u]--;i[u][v]=m}for(var u in this.groups){if(this.groups.hasOwnProperty(u)){if(!i.hasOwnProperty(u)){i[u]=new Array(0)}}}for(var u in i){if(i.hasOwnProperty(u)){if(i[u].length==0){if(this.groups.hasOwnProperty(u)){this._removeGroup(u)}}else{var c=undefined;if(this.groupsData!=undefined){c=this.groupsData.get(u)}if(c==undefined){c={id:u,content:this.options.defaultGroup+u}}this._updateGroup(c,u);this.groups[u].setItems(i[u])}}}this.forceGraphUpdate=true;this.body.emitter.emit("_change",{queue:true})}};y.prototype.redraw=function(){var e=false;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom;e=this._isResized()||e;var t=this.body.range.end-this.body.range.start;var i=t!=this.lastVisibleInterval;this.lastVisibleInterval=t;if(e==true){this.svg.style.width=s.option.asSize(3*this.props.width);this.svg.style.left=s.option.asSize(-this.props.width);if((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==true){this.updateSVGheight=true}}if(this.updateSVGheight==true){if(this.options.graphHeight!=this.props.height+"px"){this.options.graphHeight=this.props.height+"px";this.svg.style.height=this.props.height+"px"}this.updateSVGheight=false}else{this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px"}if(e==true||i==true||this.abortedGraphUpdate==true||this.forceGraphUpdate==true){e=this._updateGraph()||e;this.forceGraphUpdate=false}else{if(this.lastStart!=0){var n=this.body.range.start-this.lastStart;var r=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/r;var a=n*o;this.svg.style.left=-this.props.width-a+"px"}}}this.legendLeft.redraw();this.legendRight.redraw();return e};y.prototype._getSortedGroupIds=function(){var e=[];for(var t in this.groups){if(this.groups.hasOwnProperty(t)){var i=this.groups[t];if(i.visible==true&&(this.options.groups.visibility[t]===undefined||this.options.groups.visibility[t]==true)){e.push({id:t,zIndex:i.options.zIndex})}}}s.insertSort(e,function(e,t){var i=e.zIndex;var n=t.zIndex;if(i===undefined)i=0;if(n===undefined)n=0;return i==n?0:i<n?-1:1});var n=new Array(e.length);for(var r=0;r<e.length;r++){n[r]=e[r].id}return n};y.prototype._updateGraph=function(){a.prepareElements(this.svgElements);if(this.props.width!=0&&this.itemsData!=null){var e,t;var i={};var n=false;var r=this.body.util.toGlobalTime(-this.body.domProps.root.width);var o=this.body.util.toGlobalTime(2*this.body.domProps.root.width);var s=this._getSortedGroupIds();if(s.length>0){var l={};this._getRelevantData(s,l,r,o);this._applySampling(s,l);for(t=0;t<s.length;t++){this._convertXcoordinates(l[s[t]])}this._getYRanges(s,l,i);n=this._updateYAxis(s,i);if(n==true){a.cleanupElements(this.svgElements);this.abortedGraphUpdate=true;return true}this.abortedGraphUpdate=false;var d=undefined;for(t=0;t<s.length;t++){e=this.groups[s[t]];if(this.options.stack===true&&this.options.style==="line"){if(e.options.excludeFromStacking==undefined||!e.options.excludeFromStacking){if(d!=undefined){this._stack(l[e.id],l[d.id]);if(e.options.shaded.enabled==true&&e.options.shaded.orientation!=="group"){if(e.options.shaded.orientation=="top"&&d.options.shaded.orientation!=="group"){d.options.shaded.orientation="group";d.options.shaded.groupId=e.id}else{e.options.shaded.orientation="group";e.options.shaded.groupId=d.id}}}d=e}}this._convertYcoordinates(l[s[t]],e)}var u={};for(t=0;t<s.length;t++){e=this.groups[s[t]];if(e.options.style==="line"&&e.options.shaded.enabled==true){var h=l[s[t]];if(h==null||h.length==0){continue}if(!u.hasOwnProperty(s[t])){u[s[t]]=m.calcPath(h,e)}if(e.options.shaded.orientation==="group"){var c=e.options.shaded.groupId;if(s.indexOf(c)===-1){console.log(e.id+": Unknown shading group target given:"+c);continue}if(!u.hasOwnProperty(c)){u[c]=m.calcPath(l[c],this.groups[c])}m.drawShading(u[s[t]],e,u[c],this.framework)}else{m.drawShading(u[s[t]],e,undefined,this.framework)}}}p.draw(s,l,this.framework);for(t=0;t<s.length;t++){e=this.groups[s[t]];if(l[s[t]].length>0){switch(e.options.style){case"line":if(!u.hasOwnProperty(s[t])){u[s[t]]=m.calcPath(l[s[t]],e)}m.draw(u[s[t]],e,this.framework);case"point":case"points":if(e.options.style=="point"||e.options.style=="points"||e.options.drawPoints.enabled==true){v.draw(l[s[t]],e,this.framework)}break;case"bar":default:}}}}}a.cleanupElements(this.svgElements);return false};y.prototype._stack=function(e,t){var i,n,r,o,s;i=0;for(var a=0;a<e.length;a++){o=undefined;s=undefined;for(var l=i;l<t.length;l++){if(t[l].x===e[a].x){o=t[l];s=t[l];i=l;break}else if(t[l].x>e[a].x){s=t[l];if(l==0){o=s}else{o=t[l-1]}i=l;break}}if(s===undefined){o=t[t.length-1];s=t[t.length-1]}n=s.x-o.x;r=s.y-o.y;if(n==0){e[a].y=e[a].orginalY+s.y}else{e[a].y=e[a].orginalY+r/n*(e[a].x-o.x)+o.y}}};y.prototype._getRelevantData=function(e,t,i,n){var r,o,a,l;if(e.length>0){for(o=0;o<e.length;o++){r=this.groups[e[o]];var d=r.getItems();if(r.options.sort==true){var u=function e(t,i){return t.getTime()==i.getTime()?0:t<i?-1:1};var h=Math.max(0,s.binarySearchValue(d,i,"x","before",u));var c=Math.min(d.length,s.binarySearchValue(d,n,"x","after",u)+1);if(c<=0){c=d.length}var f=new Array(c-h);for(a=h;a<c;a++){l=r.itemsData[a];f[a-h]=l}t[e[o]]=f}else{t[e[o]]=r.itemsData}}}};y.prototype._applySampling=function(e,t){var i;if(e.length>0){for(var n=0;n<e.length;n++){i=this.groups[e[n]];if(i.options.sampling==true){var r=t[e[n]];if(r.length>0){var o=1;var s=r.length;var a=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x);var l=s/a;o=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(l)));var d=new Array(s);for(var u=0;u<s;u+=o){var h=Math.round(u/o);d[h]=r[u]}t[e[n]]=d.splice(0,Math.round(s/o))}}}}};y.prototype._getYRanges=function(e,t,i){var n,r,o;var s=[];var a=[];var l;if(e.length>0){for(o=0;o<e.length;o++){n=t[e[o]];l=this.groups[e[o]].options;if(n.length>0){r=this.groups[e[o]];if(l.stack===true&&l.style==="bar"){if(l.yAxisOrientation==="left"){s=s.concat(n)}else{a=a.concat(n)}}else{i[e[o]]=r.getYRange(n,e[o])}}}p.getStackedYRange(s,i,e,"__barStackLeft","left");p.getStackedYRange(a,i,e,"__barStackRight","right")}};y.prototype._updateYAxis=function(e,t){var i=false;var n=false;var r=false;var o=1e9,s=1e9,a=-1e9,l=-1e9,d,u;if(e.length>0){for(var h=0;h<e.length;h++){var c=this.groups[e[h]];if(c&&c.options.yAxisOrientation!="right"){n=true;o=1e9;a=-1e9}else if(c&&c.options.yAxisOrientation){r=true;s=1e9;l=-1e9}}for(var h=0;h<e.length;h++){if(t.hasOwnProperty(e[h])){if(t[e[h]].ignore!==true){d=t[e[h]].min;u=t[e[h]].max;if(t[e[h]].yAxisOrientation!="right"){n=true;o=o>d?d:o;a=a<u?u:a}else{r=true;s=s>d?d:s;l=l<u?u:l}}}}if(n==true){this.yAxisLeft.setRange(o,a)}if(r==true){this.yAxisRight.setRange(s,l)}}i=this._toggleAxisVisiblity(n,this.yAxisLeft)||i;i=this._toggleAxisVisiblity(r,this.yAxisRight)||i;if(r==true&&n==true){this.yAxisLeft.drawIcons=true;this.yAxisRight.drawIcons=true}else{this.yAxisLeft.drawIcons=false;this.yAxisRight.drawIcons=false}this.yAxisRight.master=!n;this.yAxisRight.masterAxis=this.yAxisLeft;if(this.yAxisRight.master==false){if(r==true){this.yAxisLeft.lineOffset=this.yAxisRight.width}else{this.yAxisLeft.lineOffset=0}i=this.yAxisLeft.redraw()||i;i=this.yAxisRight.redraw()||i}else{i=this.yAxisRight.redraw()||i}var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(var h=0;h<f.length;h++){if(e.indexOf(f[h])!=-1){e.splice(e.indexOf(f[h]),1)}}return i};y.prototype._toggleAxisVisiblity=function(e,t){var i=false;if(e==false){if(t.dom.frame.parentNode&&t.hidden==false){t.hide();i=true}}else{if(!t.dom.frame.parentNode&&t.hidden==true){t.show();i=true}}return i};y.prototype._convertXcoordinates=function(e){var t=this.body.util.toScreen;for(var i=0;i<e.length;i++){e[i].screen_x=t(e[i].x)+this.props.width;e[i].screen_y=e[i].y;if(e[i].end!=undefined){e[i].screen_end=t(e[i].end)+this.props.width}else{e[i].screen_end=undefined}}};y.prototype._convertYcoordinates=function(e,t){var i=this.yAxisLeft;var n=Number(this.svg.style.height.replace("px",""));if(t.options.yAxisOrientation=="right"){i=this.yAxisRight}for(var r=0;r<e.length;r++){e[r].screen_y=Math.round(i.convertValue(e[r].y))}t.setZeroPosition(Math.min(n,i.convertValue(0)))};e.exports=y},function(e,t,i){"use strict";var n=i(58);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(88);var l=i(121);var d=i(152);function u(e,t,i,n){this.id=s.randomUUID();this.body=e;this.defaultOptions={orientation:"left",showMinorLabels:true,showMajorLabels:true,icons:false,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:true,alignZeros:true,left:{range:{min:undefined,max:undefined},format:function e(t){return""+parseFloat(t.toPrecision(3))},title:{text:undefined,style:undefined}},right:{range:{min:undefined,max:undefined},format:function e(t){return""+parseFloat(t.toPrecision(3))},title:{text:undefined,style:undefined}}};this.linegraphOptions=n;this.linegraphSVG=i;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.scale=undefined;this.range={start:0,end:0};this.options=s.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(t);this.width=Number((""+this.options.width).replace("px",""));this.minWidth=this.width;this.height=this.linegraphSVG.getBoundingClientRect().height;this.hidden=false;this.stepPixels=25;this.zeroCrossing=-1;this.amountOfSteps=-1;this.lineOffset=0;this.master=true;this.masterAxis=null;this.svgElements={};this.iconsRemoved=false;this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var r=this;this.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top=r.body.domProps.scrollTop+"px"})}u.prototype=new l;u.prototype.addGroup=function(e,t){if(!this.groups.hasOwnProperty(e)){this.groups[e]=t}this.amountOfGroups+=1};u.prototype.updateGroup=function(e,t){if(!this.groups.hasOwnProperty(e)){this.amountOfGroups+=1}this.groups[e]=t};u.prototype.removeGroup=function(e){if(this.groups.hasOwnProperty(e)){delete this.groups[e];this.amountOfGroups-=1}};u.prototype.setOptions=function(e){if(e){var t=false;if(this.options.orientation!=e.orientation&&e.orientation!==undefined){t=true}var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];s.selectiveDeepExtend(i,this.options,e);this.minWidth=Number((""+this.options.width).replace("px",""));if(t===true&&this.dom.frame){this.hide();this.show()}}};u.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};u.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var e;var t=this.options.iconWidth;var i=15;var n=4;var o=n+.5*i;if(this.options.orientation==="left"){e=n}else{e=this.width-t-n}var s=(0,r["default"])(this.groups);s.sort(function(e,t){return e<t?-1:1});for(var l=0;l<s.length;l++){var d=s[l];if(this.groups[d].visible===true&&(this.linegraphOptions.visibility[d]===undefined||this.linegraphOptions.visibility[d]===true)){this.groups[d].getLegend(t,i,this.framework,e,o);o+=i+n}}a.cleanupElements(this.svgElements);this.iconsRemoved=false};u.prototype._cleanupIcons=function(){if(this.iconsRemoved===false){a.prepareElements(this.svgElements);a.cleanupElements(this.svgElements);this.iconsRemoved=true}};u.prototype.show=function(){this.hidden=false;if(!this.dom.frame.parentNode){if(this.options.orientation==="left"){this.body.dom.left.appendChild(this.dom.frame)}else{this.body.dom.right.appendChild(this.dom.frame)}}if(!this.dom.lineContainer.parentNode){this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)}};u.prototype.hide=function(){this.hidden=true;if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}if(this.dom.lineContainer.parentNode){this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)}};u.prototype.setRange=function(e,t){this.range.start=e;this.range.end=t};u.prototype.redraw=function(){var e=false;var t=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups){if(this.groups.hasOwnProperty(i)){if(this.groups[i].visible===true&&(this.linegraphOptions.visibility[i]===undefined||this.linegraphOptions.visibility[i]===true)){t++}}}if(this.amountOfGroups===0||t===0){this.hide()}else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=this.options.visible===true?Number((""+this.options.width).replace("px","")):0;var n=this.props;var r=this.dom.frame;r.className="vis-data-axis";this._calculateCharSize();var o=this.options.orientation;var s=this.options.showMinorLabels;var a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0;n.majorLabelHeight=a?n.majorCharHeight:0;n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;n.minorLineHeight=1;n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;n.majorLineHeight=1;if(o==="left"){r.style.top="0";r.style.left="0";r.style.bottom="";r.style.width=this.width+"px";r.style.height=this.height+"px";this.props.width=this.body.domProps.left.width;this.props.height=this.body.domProps.left.height}else{r.style.top="";r.style.bottom="0";r.style.left="0";r.style.width=this.width+"px";r.style.height=this.height+"px";this.props.width=this.body.domProps.right.width;this.props.height=this.body.domProps.right.height}e=this._redrawLabels();e=this._isResized()||e;if(this.options.icons===true){this._redrawGroupIcons()}else{this._cleanupIcons()}this._redrawTitle(o)}return e};u.prototype._redrawLabels=function(){var e=this;var t=false;a.prepareElements(this.DOMelements.lines);a.prepareElements(this.DOMelements.labels);var i=this.options["orientation"];var n=this.options[i].range!=undefined?this.options[i].range:{};var r=true;if(n.max!=undefined){this.range.end=n.max;r=false}var o=true;if(n.min!=undefined){this.range.start=n.min;o=false}this.scale=new d(this.range.start,this.range.end,o,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format);if(this.master===false&&this.masterAxis!=undefined){this.scale.followScale(this.masterAxis.scale)}this.maxLabelSize=0;var s=this.scale.getLines();s.forEach(function(t){var n=t.y;var r=t.major;if(e.options["showMinorLabels"]&&r===false){e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-minor",e.props.minorCharHeight)}if(r){if(n>=0){e._redrawLabel(n-2,t.val,i,"vis-y-axis vis-major",e.props.majorCharHeight)}}if(e.master===true){if(r){e._redrawLine(n,i,"vis-grid vis-horizontal vis-major",e.options.majorLinesOffset,e.props.majorLineWidth)}else{e._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",e.options.minorLinesOffset,e.props.minorLineWidth)}}});var l=0;if(this.options[i].title!==undefined&&this.options[i].title.text!==undefined){l=this.props.titleCharHeight}var u=this.options.icons===true?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;if(this.maxLabelSize>this.width-u&&this.options.visible===true){this.width=this.maxLabelSize+u;this.options.width=this.width+"px";a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);this.redraw();t=true}else if(this.maxLabelSize<this.width-u&&this.options.visible===true&&this.width>this.minWidth){this.width=Math.max(this.minWidth,this.maxLabelSize+u);this.options.width=this.width+"px";a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);this.redraw();t=true}else{a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);t=false}return t};u.prototype.convertValue=function(e){return this.scale.convertValue(e)};u.prototype.screenToValue=function(e){return this.scale.screenToValue(e)};u.prototype._redrawLabel=function(e,t,i,n,r){var o=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=n;o.innerHTML=t;if(i==="left"){o.style.left="-"+this.options.labelOffsetX+"px";o.style.textAlign="right"}else{o.style.right="-"+this.options.labelOffsetX+"px";o.style.textAlign="left"}o.style.top=e-.5*r+this.options.labelOffsetY+"px";t+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);if(this.maxLabelSize<t.length*s){this.maxLabelSize=t.length*s}};u.prototype._redrawLine=function(e,t,i,n,r){if(this.master===true){var o=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=i;o.innerHTML="";if(t==="left"){o.style.left=this.width-n+"px"}else{o.style.right=this.width-n+"px"}o.style.width=r+"px";o.style.top=e+"px"}};u.prototype._redrawTitle=function(e){a.prepareElements(this.DOMelements.title);if(this.options[e].title!==undefined&&this.options[e].title.text!==undefined){var t=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+e;t.innerHTML=this.options[e].title.text;if(this.options[e].title.style!==undefined){s.addCssText(t,this.options[e].title.style)}if(e==="left"){t.style.left=this.props.titleCharHeight+"px"}else{t.style.right=this.props.titleCharHeight+"px"}t.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)};u.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var e=document.createTextNode("0");var t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure";t.appendChild(e);this.dom.frame.appendChild(t);this.props.minorCharHeight=t.clientHeight;this.props.minorCharWidth=t.clientWidth;this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0");var n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure";n.appendChild(i);this.dom.frame.appendChild(n);this.props.majorCharHeight=n.clientHeight;this.props.majorCharWidth=n.clientWidth;this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0");var o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure";o.appendChild(r);this.dom.frame.appendChild(o);this.props.titleCharHeight=o.clientHeight;this.props.titleCharWidth=o.clientWidth;this.dom.frame.removeChild(o)}};e.exports=u},function(e,t){"use strict";function i(e,t,i,n,r,o){var s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;var a=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;this.majorSteps=[1,2,5,10];this.minorSteps=[.25,.5,1,2];this.customLines=null;this.containerHeight=r;this.majorCharHeight=o;this._start=e;this._end=t;this.scale=1;this.minorStepIdx=-1;this.magnitudefactor=1;this.determineScale();this.zeroAlign=s;this.autoScaleStart=i;this.autoScaleEnd=n;this.formattingFunction=a;if(i||n){var l=this;var d=function e(t){var i=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);if(t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>.5*(l.magnitudefactor*l.minorSteps[l.minorStepIdx])){return i+l.magnitudefactor*l.minorSteps[l.minorStepIdx]}else{return i}};if(i){this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx];this._start=d(this._start)}if(n){this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx];this._end=d(this._end)}this.determineScale()}}i.prototype.setCharHeight=function(e){this.majorCharHeight=e};i.prototype.setHeight=function(e){this.containerHeight=e};i.prototype.determineScale=function(){var e=this._end-this._start;this.scale=this.containerHeight/e;var t=this.majorCharHeight/this.scale;var i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1;this.magnitudefactor=Math.pow(10,i);var n=0;if(i<0){n=i}var r=false;for(var o=n;Math.abs(o)<=Math.abs(i);o++){this.magnitudefactor=Math.pow(10,o);for(var s=0;s<this.minorSteps.length;s++){var a=this.magnitudefactor*this.minorSteps[s];if(a>=t){r=true;this.minorStepIdx=s;break}}if(r===true){break}}};i.prototype.is_major=function(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0};i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]};i.prototype.getFirstMajor=function(){var e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)};i.prototype.formatValue=function(e){var t=e.toPrecision(5);if(typeof this.formattingFunction==="function"){t=this.formattingFunction(e)}if(typeof t==="number"){return""+t}else if(typeof t==="string"){return t}else{return e.toPrecision(5)}};i.prototype.getLines=function(){var e=[];var t=this.getStep();var i=(t-this._start%t)%t;for(var n=this._start+i;this._end-n>1e-5;n+=t){if(n!=this._start){e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)})}}return e};i.prototype.followScale=function(e){var t=this.minorStepIdx;var i=this._start;var n=this._end;var r=this;var o=function e(){r.magnitudefactor*=2};var s=function e(){r.magnitudefactor/=2};if(e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1){}else if(e.minorStepIdx<this.minorStepIdx){this.minorStepIdx=1;if(t==2){o()}else{o();o()}}else{this.minorStepIdx=2;if(t==1){s()}else{s();s()}}var a=e.getLines();var l=e.convertValue(0);var d=e.getStep()*e.scale;var u=false;var h=0;while(!u&&h++<5){this.scale=d/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i;this._end=this._start+c;var f=this._end*this.scale;var p=this.magnitudefactor*this.majorSteps[this.minorStepIdx];var m=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){var v=l-f;this._end+=v/this.scale;this._start=this._end-c}else{if(!this.autoScaleStart){this._start+=p-m/this.scale;this._end=this._start+c}else{this._start-=m/this.scale;this._end=this._start+c}}if(!this.autoScaleEnd&&this._end>n+1e-5){s();u=false;continue}if(!this.autoScaleStart&&this._start<i-1e-5){if(this.zeroAlign&&i>=0){console.warn("Can't adhere to given 'min' range, due to zeroalign")}else{s();u=false;continue}}if(this.autoScaleStart&&this.autoScaleEnd&&c<n-i){o();u=false;continue}u=true}};i.prototype.convertValue=function(e){return this.containerHeight-(e-this._start)*this.scale};i.prototype.screenToValue=function(e){return(this.containerHeight-e)/this.scale+this._start};e.exports=i},function(e,t,i){"use strict";var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(88);var l=i(154);var d=i(156);var u=i(155);function h(e,t,i,n){this.id=t;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(r,i);this.usingDefaultStyle=e.className===undefined;this.groupsUsingDefaultStyles=n;this.zeroPosition=0;this.update(e);if(this.usingDefaultStyle==true){this.groupsUsingDefaultStyles[0]+=1}this.itemsData=[];this.visible=e.visible===undefined?true:e.visible}h.prototype.setItems=function(e){if(e!=null){this.itemsData=e;if(this.options.sort==true){s.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})}}else{this.itemsData=[]}};h.prototype.getItems=function(){return this.itemsData};h.prototype.setZeroPosition=function(e){this.zeroPosition=e};h.prototype.setOptions=function(e){if(e!==undefined){var t=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(t,this.options,e);if(typeof e.drawPoints=="function"){e.drawPoints={onRender:e.drawPoints}}s.mergeOptions(this.options,e,"interpolation");s.mergeOptions(this.options,e,"drawPoints");s.mergeOptions(this.options,e,"shaded");if(e.interpolation){if((0,r["default"])(e.interpolation)=="object"){if(e.interpolation.parametrization){if(e.interpolation.parametrization=="uniform"){this.options.interpolation.alpha=0}else if(e.interpolation.parametrization=="chordal"){this.options.interpolation.alpha=1}else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}}}}}};h.prototype.update=function(e){this.group=e;this.content=e.content||"graph";this.className=e.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10;this.visible=e.visible===undefined?true:e.visible;this.style=e.style;this.setOptions(e.options)};h.prototype.getLegend=function(e,t,i,n,r){if(i==undefined||i==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:o,svgElements:{},options:this.options,groups:[this]}}if(n==undefined||n==null){n=0}if(r==undefined||r==null){r=.5*t}switch(this.options.style){case"line":d.drawIcon(this,n,r,e,t,i);break;case"points":case"point":u.drawIcon(this,n,r,e,t,i);break;case"bar":l.drawIcon(this,n,r,e,t,i);break}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}};h.prototype.getYRange=function(e){var t=e[0].y;var i=e[0].y;for(var n=0;n<e.length;n++){t=t>e[n].y?e[n].y:t;i=i<e[n].y?e[n].y:i}return{min:t,max:i,yAxisOrientation:this.options.yAxisOrientation}};e.exports=h},function(e,t,i){"use strict";var n=i(88);var r=i(155);function o(e,t){}o.drawIcon=function(e,t,i,r,o,s){var a=o*.5;var l,d;var u=n.getSVGElement("rect",s.svgElements,s.svg);u.setAttributeNS(null,"x",t);u.setAttributeNS(null,"y",i-a);u.setAttributeNS(null,"width",r);u.setAttributeNS(null,"height",2*a);u.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*r);var c=e.options.barChart.width;var f=c/h;var p=Math.round(.4*o);var m=Math.round(.75*o);var v=Math.round((r-2*h)/3);n.drawBar(t+.5*h+v,i+a-p-1,h,p,e.className+" vis-bar",s.svgElements,s.svg,e.style);n.drawBar(t+1.5*h+v+2,i+a-m-1,h,m,e.className+" vis-bar",s.svgElements,s.svg,e.style);if(e.options.drawPoints.enabled==true){var g={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size/f,className:e.className};n.drawPoint(t+.5*h+v,i+a-p-1,g,s.svgElements,s.svg);n.drawPoint(t+1.5*h+v+2,i+a-m-1,g,s.svgElements,s.svg)}};o.draw=function(e,t,i){var s=[];var a={};var l;var d,u;var h;var c,f;var p=0;for(c=0;c<e.length;c++){h=i.groups[e[c]];if(h.options.style==="bar"){if(h.visible===true&&(i.options.groups.visibility[e[c]]===undefined||i.options.groups.visibility[e[c]]===true)){for(f=0;f<t[e[c]].length;f++){s.push({screen_x:t[e[c]][f].screen_x,screen_end:t[e[c]][f].screen_end,screen_y:t[e[c]][f].screen_y,x:t[e[c]][f].x,end:t[e[c]][f].end,y:t[e[c]][f].y,groupId:e[c],label:t[e[c]][f].label});p+=1}}}}if(p===0){return}s.sort(function(e,t){if(e.screen_x===t.screen_x){return e.groupId<t.groupId?-1:1}else{return e.screen_x-t.screen_x}});o._getDataIntersections(a,s);for(c=0;c<s.length;c++){h=i.groups[s[c].groupId];var m=h.options.barChart.minWidth!=undefined?h.options.barChart.minWidth:.1*h.options.barChart.width;d=s[c].screen_x;var v=0;if(a[d]===undefined){if(c+1<s.length){l=Math.abs(s[c+1].screen_x-d)}u=o._getSafeDrawData(l,h,m)}else{var g=c+(a[d].amount-a[d].resolved);var y=c-(a[d].resolved+1);if(g<s.length){l=Math.abs(s[g].screen_x-d)}u=o._getSafeDrawData(l,h,m);a[d].resolved+=1;if(h.options.stack===true&&h.options.excludeFromStacking!==true){if(s[c].screen_y<h.zeroPosition){v=a[d].accumulatedNegative;a[d].accumulatedNegative+=h.zeroPosition-s[c].screen_y}else{v=a[d].accumulatedPositive;a[d].accumulatedPositive+=h.zeroPosition-s[c].screen_y}}else if(h.options.barChart.sideBySide===true){u.width=u.width/a[d].amount;u.offset+=a[d].resolved*u.width-.5*u.width*(a[d].amount+1)}}var b=u.width;var w=s[c].screen_x;if(s[c].screen_end!=undefined){b=s[c].screen_end-s[c].screen_x;w+=b*.5}else{w+=u.offset}n.drawBar(w,s[c].screen_y-v,b,h.zeroPosition-s[c].screen_y,h.className+" vis-bar",i.svgElements,i.svg,h.style);if(h.options.drawPoints.enabled===true){var x={screen_x:s[c].screen_x,screen_y:s[c].screen_y-v,x:s[c].x,y:s[c].y,groupId:s[c].groupId,label:s[c].label};r.draw([x],h,i,u.offset)}}};o._getDataIntersections=function(e,t){var i;for(var n=0;n<t.length;n++){if(n+1<t.length){i=Math.abs(t[n+1].screen_x-t[n].screen_x)}if(n>0){i=Math.min(i,Math.abs(t[n-1].screen_x-t[n].screen_x))}if(i===0){if(e[t[n].screen_x]===undefined){e[t[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}}e[t[n].screen_x].amount+=1}}};o._getSafeDrawData=function(e,t,i){var n,r;if(e<t.options.barChart.width&&e>0){n=e<i?i:e;r=0;if(t.options.barChart.align==="left"){r-=.5*e}else if(t.options.barChart.align==="right"){r+=.5*e}}else{n=t.options.barChart.width;r=0;if(t.options.barChart.align==="left"){r-=.5*t.options.barChart.width}else if(t.options.barChart.align==="right"){r+=.5*t.options.barChart.width}}return{width:n,offset:r}};o.getStackedYRange=function(e,t,i,n,r){if(e.length>0){e.sort(function(e,t){if(e.screen_x===t.screen_x){return e.groupId<t.groupId?-1:1}else{return e.screen_x-t.screen_x}});var s={};o._getDataIntersections(s,e);t[n]=o._getStackedYRange(s,e);t[n].yAxisOrientation=r;i.push(n)}};o._getStackedYRange=function(e,t){var i;var n=t[0].screen_y;var r=t[0].screen_y;for(var o=0;o<t.length;o++){i=t[o].screen_x;if(e[i]===undefined){n=n>t[o].screen_y?t[o].screen_y:n;r=r<t[o].screen_y?t[o].screen_y:r}else{if(t[o].screen_y<0){e[i].accumulatedNegative+=t[o].screen_y}else{e[i].accumulatedPositive+=t[o].screen_y}}}for(var s in e){if(e.hasOwnProperty(s)){n=n>e[s].accumulatedNegative?e[s].accumulatedNegative:n;n=n>e[s].accumulatedPositive?e[s].accumulatedPositive:n;r=r<e[s].accumulatedNegative?e[s].accumulatedNegative:r;r=r<e[s].accumulatedPositive?e[s].accumulatedPositive:r}}return{min:n,max:r}};e.exports=o},function(e,t,i){"use strict";var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(88);function a(e,t){}a.draw=function(e,t,i,n){n=n||0;var o=d(i,t);for(var a=0;a<e.length;a++){if(!o){s.drawPoint(e[a].screen_x+n,e[a].screen_y,l(t),i.svgElements,i.svg,e[a].label)}else{var u=o(e[a],t);if(u===true||(typeof u==="undefined"?"undefined":(0,r["default"])(u))==="object"){s.drawPoint(e[a].screen_x+n,e[a].screen_y,l(t,u),i.svgElements,i.svg,e[a].label)}}}};a.drawIcon=function(e,t,i,n,r,o){var a=r*.5;var d,u;var h=s.getSVGElement("rect",o.svgElements,o.svg);h.setAttributeNS(null,"x",t);h.setAttributeNS(null,"y",i-a);h.setAttributeNS(null,"width",n);h.setAttributeNS(null,"height",2*a);h.setAttributeNS(null,"class","vis-outline");s.drawPoint(t+.5*n,i,l(e),o.svgElements,o.svg)};function l(e,t){t=typeof t==="undefined"?{}:t;return{style:t.style||e.options.drawPoints.style,styles:t.styles||e.options.drawPoints.styles,size:t.size||e.options.drawPoints.size,className:t.className||e.className}}function d(e,t){var i=undefined;if(e.options&&e.options.drawPoints&&e.options.drawPoints.onRender&&typeof e.options.drawPoints.onRender=="function"){i=e.options.drawPoints.onRender}if(t.group.options&&t.group.options.drawPoints&&t.group.options.drawPoints.onRender&&typeof t.group.options.drawPoints.onRender=="function"){i=t.group.options.drawPoints.onRender}return i}e.exports=a},function(e,t,i){"use strict";var n=i(88);function r(e,t){}r.calcPath=function(e,t){if(e!=null){if(e.length>0){var i=[];if(t.options.interpolation.enabled==true){i=r._catmullRom(e,t)}else{i=r._linear(e)}return i}}};r.drawIcon=function(e,t,i,r,o,s){var a=o*.5;var l,d;var u=n.getSVGElement("rect",s.svgElements,s.svg);u.setAttributeNS(null,"x",t);u.setAttributeNS(null,"y",i-a);u.setAttributeNS(null,"width",r);u.setAttributeNS(null,"height",2*a);u.setAttributeNS(null,"class","vis-outline");l=n.getSVGElement("path",s.svgElements,s.svg);l.setAttributeNS(null,"class",e.className);if(e.style!==undefined){l.setAttributeNS(null,"style",e.style)}l.setAttributeNS(null,"d","M"+t+","+i+" L"+(t+r)+","+i+"");if(e.options.shaded.enabled==true){d=n.getSVGElement("path",s.svgElements,s.svg);if(e.options.shaded.orientation=="top"){d.setAttributeNS(null,"d","M"+t+", "+(i-a)+"L"+t+","+i+" L"+(t+r)+","+i+" L"+(t+r)+","+(i-a))}else{d.setAttributeNS(null,"d","M"+t+","+i+" "+"L"+t+","+(i+a)+" "+"L"+(t+r)+","+(i+a)+"L"+(t+r)+","+i)}d.setAttributeNS(null,"class",e.className+" vis-icon-fill");if(e.options.shaded.style!==undefined&&e.options.shaded.style!==""){d.setAttributeNS(null,"style",e.options.shaded.style)}}if(e.options.drawPoints.enabled==true){var h={style:e.options.drawPoints.style,styles:e.options.drawPoints.styles,size:e.options.drawPoints.size,className:e.className};n.drawPoint(t+.5*r,i,h,s.svgElements,s.svg)}};r.drawShading=function(e,t,i,r){if(t.options.shaded.enabled==true){var o=Number(r.svg.style.height.replace("px",""));var s=n.getSVGElement("path",r.svgElements,r.svg);var a="L";if(t.options.interpolation.enabled==true){a="C"}var l;var d=0;if(t.options.shaded.orientation=="top"){d=0}else if(t.options.shaded.orientation=="bottom"){d=o}else{d=Math.min(Math.max(0,t.zeroPosition),o)}if(t.options.shaded.orientation=="group"&&i!=null&&i!=undefined){l="M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,false)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,true)+i[0][0]+","+i[0][1]+" Z"}else{l="M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,a,false)+" V"+d+" H"+e[0][0]+" Z"}s.setAttributeNS(null,"class",t.className+" vis-fill");if(t.options.shaded.style!==undefined){s.setAttributeNS(null,"style",t.options.shaded.style)}s.setAttributeNS(null,"d",l)}};r.draw=function(e,t,i){if(e!=null&&e!=undefined){var r=n.getSVGElement("path",i.svgElements,i.svg);r.setAttributeNS(null,"class",t.className);if(t.style!==undefined){r.setAttributeNS(null,"style",t.style)}var o="L";if(t.options.interpolation.enabled==true){o="C"}r.setAttributeNS(null,"d","M"+e[0][0]+","+e[0][1]+" "+this.serializePath(e,o,false))}};r.serializePath=function(e,t,i){if(e.length<2){return""}var n=t;if(i){for(var r=e.length-2;r>0;r--){n+=e[r][0]+","+e[r][1]+" "}}else{for(var r=1;r<e.length;r++){n+=e[r][0]+","+e[r][1]+" "}}return n};r._catmullRomUniform=function(e){var t,i,n,r,o,s;var a=[];a.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);var l=1/6;var d=e.length;for(var u=0;u<d-1;u++){t=u==0?e[0]:e[u-1];i=e[u];n=e[u+1];r=u+2<d?e[u+2]:n;o={screen_x:(-t.screen_x+6*i.screen_x+n.screen_x)*l,screen_y:(-t.screen_y+6*i.screen_y+n.screen_y)*l};s={screen_x:(i.screen_x+6*n.screen_x-r.screen_x)*l,screen_y:(i.screen_y+6*n.screen_y-r.screen_y)*l};a.push([o.screen_x,o.screen_y]);a.push([s.screen_x,s.screen_y]);a.push([n.screen_x,n.screen_y])}return a};r._catmullRom=function(e,t){var i=t.options.interpolation.alpha;if(i==0||i===undefined){return this._catmullRomUniform(e)}else{var n,r,o,s,a,l,d,u,h,c,f,p,m;var v,g,y,b,w,x;var _=[];_.push([Math.round(e[0].screen_x),Math.round(e[0].screen_y)]);var k=e.length;for(var C=0;C<k-1;C++){n=C==0?e[0]:e[C-1];r=e[C];o=e[C+1];s=C+2<k?e[C+2]:o;d=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2));u=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2));h=Math.sqrt(Math.pow(o.screen_x-s.screen_x,2)+Math.pow(o.screen_y-s.screen_y,2));v=Math.pow(h,i);y=Math.pow(h,2*i);g=Math.pow(u,i);b=Math.pow(u,2*i);x=Math.pow(d,i);w=Math.pow(d,2*i);c=2*w+3*x*g+b;f=2*y+3*v*g+b;p=3*x*(x+g);if(p>0){p=1/p}m=3*v*(v+g);if(m>0){m=1/m}a={screen_x:(-b*n.screen_x+c*r.screen_x+w*o.screen_x)*p,screen_y:(-b*n.screen_y+c*r.screen_y+w*o.screen_y)*p};l={screen_x:(y*r.screen_x+f*o.screen_x-b*s.screen_x)*m,screen_y:(y*r.screen_y+f*o.screen_y-b*s.screen_y)*m};if(a.screen_x==0&&a.screen_y==0){a=r}if(l.screen_x==0&&l.screen_y==0){l=o}_.push([a.screen_x,a.screen_y]);_.push([l.screen_x,l.screen_y]);_.push([o.screen_x,o.screen_y])}return _}};r._linear=function(e){var t=[];for(var i=0;i<e.length;i++){t.push([e[i].screen_x,e[i].screen_y])}return t};e.exports=r},function(e,t,i){"use strict";var n=i(58);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=i(1);var a=i(88);var l=i(121);function d(e,t,i,n){this.body=e;this.defaultOptions={enabled:false,icons:true,iconSize:20,iconSpacing:6,left:{visible:true,position:"top-left"},right:{visible:true,position:"top-right"}};this.side=i;this.options=s.extend({},this.defaultOptions);this.linegraphOptions=n;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.setOptions(t)}d.prototype=new l;d.prototype.clear=function(){this.groups={};this.amountOfGroups=0};d.prototype.addGroup=function(e,t){if(t.options.excludeFromLegend!=true){if(!this.groups.hasOwnProperty(e)){this.groups[e]=t}this.amountOfGroups+=1}};d.prototype.updateGroup=function(e,t){this.groups[e]=t};d.prototype.removeGroup=function(e){if(this.groups.hasOwnProperty(e)){delete this.groups[e];this.amountOfGroups-=1}};d.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="vis-legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="vis-legend-text";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top=0+"px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};d.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}};d.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}};d.prototype.setOptions=function(e){var t=["enabled","orientation","icons","left","right"];s.selectiveDeepExtend(t,this.options,e)};d.prototype.redraw=function(){var e=0;var t=(0,r["default"])(this.groups);t.sort(function(e,t){return e<t?-1:1});for(var i=0;i<t.length;i++){var n=t[i];if(this.groups[n].visible==true&&(this.linegraphOptions.visibility[n]===undefined||this.linegraphOptions.visibility[n]==true)){e++}}if(this.options[this.side].visible==false||this.amountOfGroups==0||this.options.enabled==false||e==0){this.hide()}else{this.show();if(this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"){this.dom.frame.style.left="4px";this.dom.frame.style.textAlign="left";this.dom.textArea.style.textAlign="left";this.dom.textArea.style.left=this.options.iconSize+15+"px";this.dom.textArea.style.right="";this.svg.style.left=0+"px";this.svg.style.right=""}else{this.dom.frame.style.right="4px";this.dom.frame.style.textAlign="right";this.dom.textArea.style.textAlign="right";this.dom.textArea.style.right=this.options.iconSize+15+"px";this.dom.textArea.style.left="";this.svg.style.right=0+"px";this.svg.style.left=""}if(this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right"){this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.bottom=""}else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.top=""}if(this.options.icons==false){this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px";this.dom.textArea.style.right="";this.dom.textArea.style.left="";this.svg.style.width="0px"}else{this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px";this.drawLegendIcons()}var s="";for(var i=0;i<t.length;i++){var n=t[i];if(this.groups[n].visible==true&&(this.linegraphOptions.visibility[n]===undefined||this.linegraphOptions.visibility[n]==true)){s+=this.groups[n].content+"<br />"}}this.dom.textArea.innerHTML=s;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};d.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var e=(0,r["default"])(this.groups);e.sort(function(e,t){return e<t?-1:1});a.resetElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop;var i=Number(t.replace("px",""));var n=i;var o=this.options.iconSize;var s=.75*this.options.iconSize;var l=i+.5*s+3;this.svg.style.width=o+5+i+"px";for(var d=0;d<e.length;d++){var u=e[d];if(this.groups[u].visible==true&&(this.linegraphOptions.visibility[u]===undefined||this.linegraphOptions.visibility[u]==true)){this.groups[u].getLegend(o,s,this.framework,n,l);l+=s+this.options.iconSpacing}}}};e.exports=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="string";var n="boolean";var r="number";var o="array";var s="date";var a="object";var l="dom";var d="moment";var u="any";var h={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:l},__type__:{object:a,boolean:n,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:n},sampling:{boolean:n},stack:{boolean:n},graphHeight:{string:i,number:r},shaded:{enabled:{boolean:n},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{boolean:n,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:n},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{boolean:n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:a,boolean:n}},drawPoints:{enabled:{boolean:n},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:a,boolean:n,function:"function"}},dataAxis:{showMinorLabels:{boolean:n},showMajorLabels:{boolean:n},icons:{boolean:n},width:{string:i,number:r},visible:{boolean:n},alignZeros:{boolean:n},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{boolean:n},icons:{boolean:n},left:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,boolean:n}},groups:{visibility:{any:u},__type__:{object:a}},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},end:{number:r,date:s,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:s,number:r,string:i,moment:d},end:{date:s,number:r,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:o}},locale:{string:i},locales:{__any__:{any:u},__type__:{object:a}},max:{date:s,number:r,string:i,moment:d},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:s,number:r,string:i,moment:d},minHeight:{number:r,string:i},moveable:{boolean:n},multiselect:{boolean:n},orientation:{string:i},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},start:{date:s,number:r,string:i,moment:d},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:a}};var c={global:{sort:true,sampling:true,stack:false,shaded:{enabled:false,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:false,align:["left","center","right"]},interpolation:{enabled:true,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:true,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:true,showMajorLabels:true,icons:false,width:[40,0,200,1],visible:true,alignZeros:true,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:false,icons:true,left:{visible:true,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:true,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:true,clickToUse:false,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:true,orientation:["both","bottom","top"],showCurrentTime:false,showMajorLabels:true,showMinorLabels:true,start:"",width:"100%",zoomable:true,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};t.allOptions=h;t.configureOptions=c},function(e,t,i){"use strict";t.util=i(1);t.DOMutil=i(88);t.DataSet=i(89);t.DataView=i(93);t.Queue=i(92);t.Network=i(160);t.network={Images:i(165),dotparser:i(162),gephiParser:i(163),allOptions:i(230)};t.network.convertDot=function(e){return t.network.dotparser.DOTToGraph(e)};t.network.convertGephi=function(e,i){return t.network.gephiParser.parseGephi(e,i)};t.moment=i(82);t.Hammer=i(113);t.keycharm=i(116)},function(e,t,i){"use strict";i(161);var n=i(99);var r=i(1);var o=i(89);var s=i(93);var a=i(162);var l=i(163);var d=i(141);var u=i(164);var h=i(165)["default"];var c=i(167)["default"];var f=i(168)["default"];var p=i(201)["default"];var m=i(212)["default"];var v=i(221)["default"];var g=i(223)["default"];var y=i(224)["default"];var b=i(225)["default"];var w=i(226)["default"];var x=i(228)["default"];var _=i(210)["default"];var k=i(229)["default"];var C=i(147)["default"];var S=i(145)["default"];var T=i(145),D=T.printStyle;var E=i(230),O=E.allOptions,P=E.configureOptions;var M=i(231)["default"];function A(e,t,i){var n=this;if(!(this instanceof A)){throw new SyntaxError("Constructor must be called with the new operator")}this.options={};this.defaultOptions={locale:"en",locales:u,clickToUse:false};r.extend(this.options,this.defaultOptions);this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function e(){},onTouch:function e(){},onDoubleTap:function e(){},onHold:function e(){},onDragStart:function e(){},onDrag:function e(){},onDragEnd:function e(){},onMouseWheel:function e(){},onPinch:function e(){},onMouseMove:function e(){},onRelease:function e(){},onContext:function e(){}},data:{nodes:null,edges:null},functions:{createNode:function e(){},createEdge:function e(){},getPointer:function e(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}};this.bindEventListeners();this.images=new h(function(){return n.body.emitter.emit("_requestRedraw")});this.groups=new c;this.canvas=new y(this.body);this.selectionHandler=new x(this.body,this.canvas);this.interactionHandler=new w(this.body,this.canvas,this.selectionHandler);this.view=new b(this.body,this.canvas);this.renderer=new g(this.body,this.canvas);this.physics=new m(this.body);this.layoutEngine=new _(this.body);this.clustering=new v(this.body);this.manipulation=new k(this.body,this.canvas,this.selectionHandler);this.nodesHandler=new f(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new p(this.body,this.images,this.groups);this.body.modules["kamadaKawai"]=new M(this.body,150,.05);this.body.modules["clustering"]=this.clustering;this.canvas._create();this.setOptions(i);this.setData(t)}n(A.prototype);A.prototype.setOptions=function(e){var t=this;if(e!==undefined){var i=S.validate(e,O);if(i===true){console.log("%cErrors have been found in the supplied options object.",D)}var n=["locale","locales","clickToUse"];r.selectiveDeepExtend(n,this.options,e);e=this.layoutEngine.setOptions(e.layout,e);this.canvas.setOptions(e);this.groups.setOptions(e.groups);this.nodesHandler.setOptions(e.nodes);this.edgesHandler.setOptions(e.edges);this.physics.setOptions(e.physics);this.manipulation.setOptions(e.manipulation,e,this.options);this.interactionHandler.setOptions(e.interaction);this.renderer.setOptions(e.interaction);this.selectionHandler.setOptions(e.interaction);if(e.groups!==undefined){this.body.emitter.emit("refreshNodes")}if("configure"in e){if(!this.configurator){this.configurator=new C(this,this.body.container,P,this.canvas.pixelRatio)}this.configurator.setOptions(e.configure)}if(this.configurator&&this.configurator.options.enabled===true){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};r.deepExtend(o.nodes,this.nodesHandler.options);r.deepExtend(o.edges,this.edgesHandler.options);r.deepExtend(o.layout,this.layoutEngine.options);r.deepExtend(o.interaction,this.selectionHandler.options);r.deepExtend(o.interaction,this.renderer.options);r.deepExtend(o.interaction,this.interactionHandler.options);r.deepExtend(o.manipulation,this.manipulation.options);r.deepExtend(o.physics,this.physics.options);r.deepExtend(o.global,this.canvas.options);r.deepExtend(o.global,this.options);this.configurator.setModuleOptions(o)}if(e.clickToUse!==undefined){if(e.clickToUse===true){if(this.activator===undefined){this.activator=new d(this.canvas.frame);this.activator.on("change",function(){t.body.emitter.emit("activate")})}}else{if(this.activator!==undefined){this.activator.destroy();delete this.activator}this.body.emitter.emit("activate")}}else{this.body.emitter.emit("activate")}this.canvas.setSize();this.body.emitter.emit("startSimulation")}};A.prototype._updateVisibleIndices=function(){var e=this.body.nodes;var t=this.body.edges;this.body.nodeIndices=[];this.body.edgeIndices=[];for(var i in e){if(e.hasOwnProperty(i)){if(e[i].options.hidden===false){this.body.nodeIndices.push(e[i].id)}}}for(var n in t){if(t.hasOwnProperty(n)){if(t[n].options.hidden===false){this.body.edgeIndices.push(t[n].id)}}}};A.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e._updateVisibleIndices();e.body.emitter.emit("_requestRedraw");e.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){e._updateValueRange(e.body.nodes);e._updateValueRange(e.body.edges);e.body.emitter.emit("startSimulation");e.body.emitter.emit("_requestRedraw")})};A.prototype.setData=function(e){this.body.emitter.emit("resetPhysics");this.body.emitter.emit("_resetData");this.selectionHandler.unselectAll();if(e&&e.dot&&(e.nodes||e.edges)){throw new SyntaxError('Data must contain either parameter "dot" or '+' parameter pair "nodes" and "edges", but not both.')}this.setOptions(e&&e.options);if(e&&e.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=a.DOTToGraph(e.dot);this.setData(t);return}else if(e&&e.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=l.parseGephi(e.gephi);this.setData(i);return}else{this.nodesHandler.setData(e&&e.nodes,true);this.edgesHandler.setData(e&&e.edges,true)}this.body.emitter.emit("_dataChanged");this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")};A.prototype.destroy=function(){this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(var e in this.body.nodes){delete this.body.nodes[e]}for(var t in this.body.edges){delete this.body.edges[t]}r.recursiveDOMDelete(this.body.container)};A.prototype._updateValueRange=function(e){var t;var i=undefined;var n=undefined;var r=0;for(t in e){if(e.hasOwnProperty(t)){var o=e[t].getValue();if(o!==undefined){i=i===undefined?o:Math.min(o,i);n=n===undefined?o:Math.max(o,n);r+=o}}}if(i!==undefined&&n!==undefined){for(t in e){if(e.hasOwnProperty(t)){e[t].setValueRange(i,n,r)}}}};A.prototype.isActive=function(){return!this.activator||this.activator.active};A.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};A.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};A.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};A.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};A.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};A.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};A.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};A.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};A.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};A.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};A.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};A.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};A.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};A.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};A.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};A.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};A.prototype.editNodeMode=function(){console.log("Deprecated: Please use editNode instead of editNodeMode.");return this.manipulation.editNode.apply(this.manipulation,arguments)};A.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};A.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};A.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};A.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};A.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};A.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};A.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};A.prototype.getConnectedNodes=function(e){if(this.body.nodes[e]!==undefined){return this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)}else{return this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)}};A.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};A.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};A.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};A.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};A.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};A.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};A.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)};A.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)};A.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);if(e!==undefined&&e.id!==undefined){return e.id}return e};A.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);if(e!==undefined&&e.id!==undefined){return e.id}return e};A.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};A.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};A.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.redraw()};A.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};A.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};A.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};A.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};A.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};A.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};A.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};A.prototype.getOptionsFromConfigurator=function(){var e={};if(this.configurator){e=this.configurator.getOptions.apply(this.configurator)}return e};e.exports=A},function(e,t){"use strict";if(typeof CanvasRenderingContext2D!=="undefined"){CanvasRenderingContext2D.prototype.circle=function(e,t,i){this.beginPath();this.arc(e,t,i,0,2*Math.PI,false);this.closePath()};CanvasRenderingContext2D.prototype.square=function(e,t,i){this.beginPath();this.rect(e-i,t-i,i*2,i*2);this.closePath()};CanvasRenderingContext2D.prototype.triangle=function(e,t,i){this.beginPath();i*=1.15;t+=.275*i;var n=i*2;var r=n/2;var o=Math.sqrt(3)/6*n;var s=Math.sqrt(n*n-r*r);this.moveTo(e,t-(s-o));this.lineTo(e+r,t+o);this.lineTo(e-r,t+o);this.lineTo(e,t-(s-o));this.closePath()};CanvasRenderingContext2D.prototype.triangleDown=function(e,t,i){this.beginPath();i*=1.15;t-=.275*i;var n=i*2;var r=n/2;var o=Math.sqrt(3)/6*n;var s=Math.sqrt(n*n-r*r);this.moveTo(e,t+(s-o));this.lineTo(e+r,t-o);this.lineTo(e-r,t-o);this.lineTo(e,t+(s-o));this.closePath()};CanvasRenderingContext2D.prototype.star=function(e,t,i){this.beginPath();i*=.82;t+=.1*i;for(var n=0;n<10;n++){var r=n%2===0?i*1.3:i*.5;this.lineTo(e+r*Math.sin(n*2*Math.PI/10),t-r*Math.cos(n*2*Math.PI/10))}this.closePath()};CanvasRenderingContext2D.prototype.diamond=function(e,t,i){this.beginPath();this.lineTo(e,t+i);this.lineTo(e+i,t);this.lineTo(e,t-i);this.lineTo(e-i,t);this.closePath()};CanvasRenderingContext2D.prototype.roundRect=function(e,t,i,n,r){var o=Math.PI/180;if(i-2*r<0){r=i/2}if(n-2*r<0){r=n/2}this.beginPath();this.moveTo(e+r,t);this.lineTo(e+i-r,t);this.arc(e+i-r,t+r,r,o*270,o*360,false);this.lineTo(e+i,t+n-r);this.arc(e+i-r,t+n-r,r,0,o*90,false);this.lineTo(e+r,t+n);this.arc(e+r,t+n-r,r,o*90,o*180,false);this.lineTo(e,t+r);this.arc(e+r,t+r,r,o*180,o*270,false);this.closePath()};CanvasRenderingContext2D.prototype.ellipse_vis=function(e,t,i,n){var r=.5522848,o=i/2*r,s=n/2*r,a=e+i,l=t+n,d=e+i/2,u=t+n/2;this.beginPath();this.moveTo(e,u);this.bezierCurveTo(e,u-s,d-o,t,d,t);this.bezierCurveTo(d+o,t,a,u-s,a,u);this.bezierCurveTo(a,u+s,d+o,l,d,l);this.bezierCurveTo(d-o,l,e,u+s,e,u);this.closePath()};CanvasRenderingContext2D.prototype.database=function(e,t,i,n){var r=1/3;var o=i;var s=n*r;var a=.5522848,l=o/2*a,d=s/2*a,u=e+o,h=t+s,c=e+o/2,f=t+s/2,p=t+(n-s/2),m=t+n;this.beginPath();this.moveTo(u,f);this.bezierCurveTo(u,f+d,c+l,h,c,h);this.bezierCurveTo(c-l,h,e,f+d,e,f);this.bezierCurveTo(e,f-d,c-l,t,c,t);this.bezierCurveTo(c+l,t,u,f-d,u,f);this.lineTo(u,p);this.bezierCurveTo(u,p+d,c+l,m,c,m);this.bezierCurveTo(c-l,m,e,p+d,e,p);this.lineTo(e,f)};CanvasRenderingContext2D.prototype.arrowEndpoint=function(e,t,i,n){var r=e-n*Math.cos(i);var o=t-n*Math.sin(i);var s=e-n*.9*Math.cos(i);var a=t-n*.9*Math.sin(i);var l=r+n/3*Math.cos(i+.5*Math.PI);var d=o+n/3*Math.sin(i+.5*Math.PI);var u=r+n/3*Math.cos(i-.5*Math.PI);var h=o+n/3*Math.sin(i-.5*Math.PI);this.beginPath();this.moveTo(e,t);this.lineTo(l,d);this.lineTo(s,a);this.lineTo(u,h);this.closePath()};CanvasRenderingContext2D.prototype.circleEndpoint=function(e,t,i,n){var r=n*.4;var o=e-r*Math.cos(i);var s=t-r*Math.sin(i);this.circle(o,s,r)};CanvasRenderingContext2D.prototype.dashedLine=function(e,t,i,n,r){this.beginPath();this.moveTo(e,t);var o=r.length;var s=i-e;var a=n-t;var l=a/s;var d=Math.sqrt(s*s+a*a);var u=0;var h=true;var c=0;var f=r[0];while(d>=.1){f=r[u++%o];if(f>d){f=d}c=Math.sqrt(f*f/(1+l*l));c=s<0?-c:c;e+=c;t+=l*c;if(h===true){this.lineTo(e,t)}else{this.moveTo(e,t)}d-=f;h=!h}}}},function(e,t,i){"use strict";var n=i(55);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){h=e;return D()}var a={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"};var l=(0,r["default"])(a);l.color="color.color";var d={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3};var u={"{":true,"}":true,"[":true,"]":true,";":true,"=":true,",":true,"->":true,"--":true};var h="";var c=0;var f="";var p="";var m=d.NULL;function v(){c=0;f=h.charAt(0)}function g(){c++;f=h.charAt(c)}function y(){return h.charAt(c+1)}var b=/[a-zA-Z_0-9.:#]/;function w(e){return b.test(e)}function x(e,t){if(!e){e={}}if(t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}function _(e,t,i){var n=t.split(".");var r=e;while(n.length){var o=n.shift();if(n.length){if(!r[o]){r[o]={}}r=r[o]}else{r[o]=i}}}function k(e,t){var i,n;var r=null;var o=[e];var s=e;while(s.parent){o.push(s.parent);s=s.parent}if(s.nodes){for(i=0,n=s.nodes.length;i<n;i++){if(t.id===s.nodes[i].id){r=s.nodes[i];break}}}if(!r){r={id:t.id};if(e.node){r.attr=x(r.attr,e.node)}}for(i=o.length-1;i>=0;i--){var a=o[i];if(!a.nodes){a.nodes=[]}if(a.nodes.indexOf(r)===-1){a.nodes.push(r)}}if(t.attr){r.attr=x(r.attr,t.attr)}}function C(e,t){if(!e.edges){e.edges=[]}e.edges.push(t);if(e.edge){var i=x({},e.edge);t.attr=x(i,t.attr)}}function S(e,t,i,n,r){var o={from:t,to:i,type:n};if(e.edge){o.attr=x({},e.edge)}o.attr=x(o.attr||{},r);return o}function T(){m=d.NULL;p="";while(f===" "||f==="\t"||f==="\n"||f==="\r"){g()}do{var e=false;if(f==="#"){var t=c-1;while(h.charAt(t)===" "||h.charAt(t)==="\t"){t--}if(h.charAt(t)==="\n"||h.charAt(t)===""){while(f!=""&&f!="\n"){g()}e=true}}if(f==="/"&&y()==="/"){while(f!=""&&f!="\n"){g()}e=true}if(f==="/"&&y()==="*"){while(f!=""){if(f==="*"&&y()==="/"){g();g();break}else{g()}}e=true}while(f===" "||f==="\t"||f==="\n"||f==="\r"){g()}}while(e);if(f===""){m=d.DELIMITER;return}var i=f+y();if(u[i]){m=d.DELIMITER;p=i;g();g();return}if(u[f]){m=d.DELIMITER;p=f;g();return}if(w(f)||f==="-"){p+=f;g();while(w(f)){p+=f;g()}if(p==="false"){p=false}else if(p==="true"){p=true}else if(!isNaN(Number(p))){p=Number(p)}m=d.IDENTIFIER;return}if(f==='"'){g();while(f!=""&&(f!='"'||f==='"'&&y()==='"')){if(f==='"'){p+=f;g()}else if(f==="\\"&&y()==="n"){p+="\n";g()}else{p+=f}g()}if(f!='"'){throw R('End of string " expected')}g();m=d.IDENTIFIER;return}m=d.UNKNOWN;while(f!=""){p+=f;g()}throw new SyntaxError('Syntax error in part "'+N(p,30)+'"')}function D(){var e={};v();T();if(p==="strict"){e.strict=true;T()}if(p==="graph"||p==="digraph"){e.type=p;T()}if(m===d.IDENTIFIER){e.id=p;T()}if(p!="{"){throw R("Angle bracket { expected")}T();E(e);if(p!="}"){throw R("Angle bracket } expected")}T();if(p!==""){throw R("End of file expected")}T();delete e.node;delete e.edge;delete e.graph;return e}function E(e){while(p!==""&&p!="}"){O(e);if(p===";"){T()}}}function O(e){var t=P(e);if(t){I(e,t);return}var i=M(e);if(i){return}if(m!=d.IDENTIFIER){throw R("Identifier expected")}var n=p;T();if(p==="="){T();if(m!=d.IDENTIFIER){throw R("Identifier expected")}e[n]=p;T()}else{A(e,n)}}function P(e){var t=null;if(p==="subgraph"){t={};t.type="subgraph";T();if(m===d.IDENTIFIER){t.id=p;T()}}if(p==="{"){T();if(!t){t={}}t.parent=e;t.node=e.node;t.edge=e.edge;t.graph=e.graph;E(t);if(p!="}"){throw R("Angle bracket } expected")}T();delete t.node;delete t.edge;delete t.graph;delete t.parent;if(!e.subgraphs){e.subgraphs=[]}e.subgraphs.push(t)}return t}function M(e){if(p==="node"){T();e.node=F();return"node"}else if(p==="edge"){T();e.edge=F();return"edge"}else if(p==="graph"){T();e.graph=F();return"graph"}return null}function A(e,t){var i={id:t};var n=F();if(n){i.attr=n}k(e,i);I(e,t)}function I(e,t){while(p==="->"||p==="--"){var i;var n=p;T();var r=P(e);if(r){i=r}else{if(m!=d.IDENTIFIER){throw R("Identifier or subgraph expected")}i=p;k(e,{id:i});T()}var o=F();var s=S(e,t,i,n,o);C(e,s);t=i}}function F(){var e=null;while(p==="["){T();e={};while(p!==""&&p!="]"){if(m!=d.IDENTIFIER){throw R("Attribute name expected")}var t=p;T();if(p!="="){throw R("Equal sign = expected")}T();if(m!=d.IDENTIFIER){throw R("Attribute value expected")}var i=p;_(e,t,i);T();if(p==","){T()}}if(p!="]"){throw R("Bracket ] expected")}T()}return e}function R(e){return new SyntaxError(e+', got "'+N(p,30)+'" (char '+c+")")}function N(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function L(e,t,i){if(Array.isArray(e)){e.forEach(function(e){if(Array.isArray(t)){t.forEach(function(t){i(e,t)})}else{i(e,t)}})}else{if(Array.isArray(t)){t.forEach(function(t){i(e,t)})}else{i(e,t)}}}function j(e,t,i){var n=t.split(".");var r=n.pop();var o=e;for(var s=0;s<n.length;s++){var a=n[s];if(!(a in o)){o[a]={}}o=o[a]}o[r]=i;return e}function B(e,t){var i={};for(var n in e){if(e.hasOwnProperty(n)){var r=t[n];if(Array.isArray(r)){r.forEach(function(t){j(i,t,e[n])})}else if(typeof r==="string"){j(i,r,e[n])}else{j(i,n,e[n])}}}return i}function z(e){var t=s(e);var i={nodes:[],edges:[],options:{}};if(t.nodes){t.nodes.forEach(function(e){var t={id:e.id,label:String(e.label||e.id)};x(t,B(e.attr,a));if(t.image){t.shape="image"}i.nodes.push(t)})}if(t.edges){var n=function e(t){var i={from:t.from,to:t.to};x(i,B(t.attr,l));i.arrows=t.type==="->"?"to":undefined;return i};t.edges.forEach(function(e){var t,r;if(e.from instanceof Object){t=e.from.nodes}else{t={id:e.from}}if(e.to instanceof Object){r=e.to.nodes}else{r={id:e.to}}if(e.from instanceof Object&&e.from.edges){e.from.edges.forEach(function(e){var t=n(e);i.edges.push(t)})}L(t,r,function(t,r){var o=S(i,t.id,r.id,e.type,e.attr);var s=n(o);i.edges.push(s)});if(e.to instanceof Object&&e.to.edges){e.to.edges.forEach(function(e){var t=n(e);i.edges.push(t)})}})}if(t.attr){i.options=t.attr}return i}t.parseDOT=s;t.DOTToGraph=z},function(e,t){"use strict";function i(e,t){var i=[];var n=[];var r={edges:{inheritColor:false},nodes:{fixed:false,parseColor:false}};if(t!==undefined){if(t.fixed!==undefined){r.nodes.fixed=t.fixed}if(t.parseColor!==undefined){r.nodes.parseColor=t.parseColor}if(t.inheritColor!==undefined){r.edges.inheritColor=t.inheritColor}}var o=e.edges;var s=e.nodes;for(var a=0;a<o.length;a++){var l={};var d=o[a];l["id"]=d.id;l["from"]=d.source;l["to"]=d.target;l["attributes"]=d.attributes;l["label"]=d.label;l["title"]=d.attributes!==undefined?d.attributes.title:undefined;if(d["type"]==="Directed"){l["arrows"]="to"}if(d.color&&r.inheritColor===false){l["color"]=d.color}i.push(l)}for(var a=0;a<s.length;a++){var u={};var h=s[a];u["id"]=h.id;u["attributes"]=h.attributes;u["x"]=h.x;u["y"]=h.y;u["label"]=h.label;u["title"]=h.attributes!==undefined?h.attributes.title:h.title;if(r.nodes.parseColor===true){u["color"]=h.color}else{u["color"]=h.color!==undefined?{background:h.color,border:h.color,highlight:{background:h.color,border:h.color},hover:{background:h.color,border:h.color}}:undefined}u["size"]=h.size;u["fixed"]=r.nodes.fixed&&h.x!==undefined&&h.y!==undefined;n.push(u)}return{nodes:n,edges:i}}t.parseGephi=i},function(e,t){"use strict";t["en"]={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."};t["en_EN"]=t["en"];t["en_US"]=t["en"];t["de"]={edit:"Editieren",del:"LÃ¶sche Auswahl",back:"ZurÃ¼ck",addNode:"Knoten hinzufÃ¼gen",addEdge:"Kante hinzufÃ¼gen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",editClusterError:"Cluster kÃ¶nnen nicht editiert werden."};t["de_DE"]=t["de"];t["es"]={edit:"Editar",del:"Eliminar selecciÃ³n",back:"Ãtras",addNode:"AÃ±adir nodo",addEdge:"AÃ±adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."};t["es_ES"]=t["es"];t["it"]={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."};t["it_IT"]=t["it"];t["nl"]={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."};t["nl_NL"]=t["nl"];t["nl_BE"]=t["nl"];t["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nÃ³",addEdge:"Adicionar aresta",editNode:"Editar nÃ³",editEdge:"Editar aresta",addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",editClusterError:"Clusters nÃ£o puderam ser editados."};t["pt-BR"]=t["pt-br"];t["pt_BR"]=t["pt-br"];t["pt_br"]=t["pt-br"];t["ru"]={edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",back:"ÐÐ°Ð·Ð°Ð´",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ."};t["ru_RU"]=t["ru"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=d(n);var o=i(136);var s=d(o);var a=i(166);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r["default"])(this,e);this.images={};this.imageBroken={};this.callback=t}(0,s["default"])(e,[{key:"_tryloadBrokenUrl",value:function e(t,i,n){if(t===undefined||n===undefined)return;if(i===undefined){console.warn("No broken url image defined");return}n.onerror=function(){console.error("Could not load brokenImage:",i)};n.image.src=i}},{key:"_redrawWithImage",value:function e(t){if(this.callback){this.callback(t)}}},{key:"load",value:function e(t,i,n){var r=this;var o=this.images[t];if(o)return o;var s=new l["default"];this.images[t]=s;s.image.onload=function(){r._fixImageCoordinates(s.image);s.init();r._redrawWithImage(s)};s.image.onerror=function(){console.error("Could not load image:",t);r._tryloadBrokenUrl(t,i,s)};s.image.src=t;return s}},{key:"_fixImageCoordinates",value:function e(t){if(t.width===0){document.body.appendChild(t);t.width=t.offsetWidth;t.height=t.offsetHeight;document.body.removeChild(t)}}}]);return e}();t["default"]=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,r["default"])(this,e);this.NUM_ITERATIONS=4;this.image=new Image;this.canvas=document.createElement("canvas")}(0,s["default"])(e,[{key:"init",value:function e(){if(this.initialized())return;this.src=this.image.src;var t=this.image.width;var i=this.image.height;this.width=t;this.height=i;this.canvas.width=3*t/4;this.canvas.height=i/2;this.coordinates=[[0,0,t/2,i/2],[t/2,0,t/4,i/4],[t/2,i/4,t/8,i/8],[5*t/8,i/4,t/16,i/16]];this._fillMipMap()}},{key:"initialized",value:function e(){return this.coordinates!==undefined}},{key:"_fillMipMap",value:function e(){var t=this.canvas.getContext("2d");var i=this.coordinates[0];t.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var r=this.coordinates[n-1];var o=this.coordinates[n];t.drawImage(this.canvas,r[0],r[1],r[2],r[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function e(t,i,n,r,o,s){if(i>2&&this.initialized()){i*=.5;var a=0;while(i>2&&a<this.NUM_ITERATIONS){i*=.5;a+=1}if(a>=this.NUM_ITERATIONS){a=this.NUM_ITERATIONS-1}var l=this.coordinates[a];t.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,r,o,s)}else if(this._isImageOk()){t.drawImage(this.image,n,r,o,s)}}},{key:"_isImageOk",value:function e(t){var t=this.image;if(!t.complete){return false}if(typeof t.naturalWidth!=="undefined"&&t.naturalWidth===0){return false}return true}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=function(){function e(){(0,r["default"])(this,e);this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:true};l.extend(this.options,this.defaultOptions)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){var i=["useDefaultGroups"];if(t!==undefined){for(var n in t){if(t.hasOwnProperty(n)){if(i.indexOf(n)===-1){var r=t[n];this.add(n,r)}}}}}},{key:"clear",value:function e(){this.groups={};this.groupsArray=[]}},{key:"get",value:function e(t){var i=this.groups[t];if(i===undefined){if(this.options.useDefaultGroups===false&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++;i={};i.color=this.groups[this.groupsArray[n]];this.groups[t]=i}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++;i={};i.color=this.defaultGroups[r];this.groups[t]=i}}return i}},{key:"add",value:function e(t,i){this.groups[t]=i;this.groupsArray.push(t);return i}}]);return e}();t["default"]=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=i(89);var u=i(93);var h=i(169)["default"];var c=i(170)["default"];var f=function(){function e(t,i,n,o){var s=this;(0,r["default"])(this,e);this.body=t;this.images=i;this.groups=n;this.layoutEngine=o;this.body.functions.createNode=this.create.bind(this);this.nodesListeners={add:function e(t,i){s.add(i.items)},update:function e(t,i){s.update(i.items,i.data)},remove:function e(t,i){s.remove(i.items)}};this.options={};this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:undefined,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:false,y:false},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:false,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:undefined,hidden:false,icon:{face:"FontAwesome",code:undefined,size:50,color:"#2B7CE9"},image:undefined,label:undefined,labelHighlightBold:true,level:undefined,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:true,scaling:{min:10,max:30,label:{enabled:false,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function e(t,i,n,r){if(i===t){return.5}else{var o=1/(i-t);return Math.max(0,(r-t)*o)}}},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:false,borderRadius:6,interpolation:true,useImageSize:false,useBorderWithImage:false},size:25,title:undefined,value:undefined,x:undefined,y:undefined};if(this.defaultOptions.mass<=0){throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative"}l.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){l.forEach(t.nodesListeners,function(e,i){if(t.body.data.nodes)t.body.data.nodes.off(i,e)});delete t.body.functions.createNode;delete t.nodesListeners.add;delete t.nodesListeners.update;delete t.nodesListeners.remove;delete t.nodesListeners})}},{key:"setOptions",value:function e(t){this.nodeOptions=t;if(t!==undefined){h.parseOptions(this.options,t);if(t.shape!==undefined){for(var i in this.body.nodes){if(this.body.nodes.hasOwnProperty(i)){this.body.nodes[i].updateShape()}}}if(t.font!==undefined){c.parseOptions(this.options.font,t);for(var n in this.body.nodes){if(this.body.nodes.hasOwnProperty(n)){this.body.nodes[n].updateLabelModule();this.body.nodes[n].needsRefresh()}}}if(t.size!==undefined){for(var r in this.body.nodes){if(this.body.nodes.hasOwnProperty(r)){this.body.nodes[r].needsRefresh()}}}if(t.hidden!==undefined||t.physics!==undefined){this.body.emitter.emit("_dataChanged")}}}},{key:"setData",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this.body.data.nodes;if(t instanceof d||t instanceof u){this.body.data.nodes=t}else if(Array.isArray(t)){this.body.data.nodes=new d;this.body.data.nodes.add(t)}else if(!t){this.body.data.nodes=new d}else{throw new TypeError("Array or DataSet expected")}if(n){l.forEach(this.nodesListeners,function(e,t){n.off(t,e)})}this.body.nodes={};if(this.body.data.nodes){var r=this;l.forEach(this.nodesListeners,function(e,t){r.body.data.nodes.on(t,e)});var o=this.body.data.nodes.getIds();this.add(o,true)}if(i===false){this.body.emitter.emit("_dataChanged")}}},{key:"add",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=void 0;var r=[];for(var o=0;o<t.length;o++){n=t[o];var s=this.body.data.nodes.get(n);var a=this.create(s);r.push(a);this.body.nodes[n]=a}this.layoutEngine.positionInitially(r);if(i===false){this.body.emitter.emit("_dataChanged")}}},{key:"update",value:function e(t,i){var n=this.body.nodes;var r=false;for(var o=0;o<t.length;o++){var s=t[o];var a=n[s];var l=i[o];if(a!==undefined){r=a.setOptions(l)}else{r=true;a=this.create(l);n[s]=a}}if(r===true){this.body.emitter.emit("_dataChanged")}else{this.body.emitter.emit("_dataUpdated")}}},{key:"remove",value:function e(t){var i=this.body.nodes;for(var n=0;n<t.length;n++){var r=t[n];delete i[r]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:h;return new i(t,this.body,this.images,this.groups,this.options,this.defaultOptions,this.nodeOptions)}},{key:"refresh",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var i=this.body.nodes;for(var n in i){var r=undefined;if(i.hasOwnProperty(n)){r=i[n]}var o=this.body.data.nodes.get(n);if(r!==undefined&&o!==undefined){if(t===true){r.setOptions({x:null,y:null})}r.setOptions({fixed:false});r.setOptions(o)}}}},{key:"getPositions",value:function e(t){var i={};if(t!==undefined){if(Array.isArray(t)===true){for(var n=0;n<t.length;n++){if(this.body.nodes[t[n]]!==undefined){var r=this.body.nodes[t[n]];i[t[n]]={x:Math.round(r.x),y:Math.round(r.y)}}}}else{if(this.body.nodes[t]!==undefined){var o=this.body.nodes[t];i[t]={x:Math.round(o.x),y:Math.round(o.y)}}}}else{for(var s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];i[this.body.nodeIndices[s]]={x:Math.round(a.x),y:Math.round(a.y)}}}return i}},{key:"storePositions",value:function e(){var t=[];var i=this.body.data.nodes.getDataSet();for(var n in i._data){if(i._data.hasOwnProperty(n)){var r=this.body.nodes[n];if(i._data[n].x!=Math.round(r.x)||i._data[n].y!=Math.round(r.y)){t.push({id:r.id,x:Math.round(r.x),y:Math.round(r.y)})}}}i.update(t)}},{key:"getBoundingBox",value:function e(t){if(this.body.nodes[t]!==undefined){return this.body.nodes[t].shape.boundingBox}}},{key:"getConnectedNodes",value:function e(t,i){var n=[];if(this.body.nodes[t]!==undefined){var r=this.body.nodes[t];var o={};for(var s=0;s<r.edges.length;s++){var a=r.edges[s];if(i!=="to"&&a.toId==r.id){if(o[a.fromId]===undefined){n.push(a.fromId);o[a.fromId]=true}}else if(i!=="from"&&a.fromId==r.id){if(o[a.toId]===undefined){n.push(a.toId);o[a.toId]=true}}}}return n}},{key:"getConnectedEdges",value:function e(t){var i=[];if(this.body.nodes[t]!==undefined){var n=this.body.nodes[t];for(var r=0;r<n.edges.length;r++){i.push(n.edges[r].id)}}else{console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t)}return i}},{key:"moveNode",value:function e(t,i,n){var r=this;if(this.body.nodes[t]!==undefined){this.body.nodes[t].x=Number(i);this.body.nodes[t].y=Number(n);setTimeout(function(){r.body.emitter.emit("startSimulation")},0)}else{console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}}]);return e}();t["default"]=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(62);var r=d(n);var o=i(135);var s=d(o);var a=i(136);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(1);var h=i(170)["default"];var c=i(175)["default"];var f=i(186)["default"];var p=i(188)["default"];var m=i(189)["default"];var v=i(190)["default"];var g=i(192)["default"];var y=i(193)["default"];var b=i(194)["default"];var w=i(195)["default"];var x=i(196)["default"];var _=i(197)["default"];var k=i(198)["default"];var C=i(199)["default"];var S=i(200)["default"];var T=i(145)["default"];var D=i(145),E=D.printStyle;var O=function(){function e(t,i,n,r,o,a,l){(0,s["default"])(this,e);this.options=u.bridgeObject(o);this.globalOptions=o;this.defaultOptions=a;this.nodeOptions=l;this.body=i;this.edges=[];this.id=undefined;this.imagelist=n;this.grouplist=r;this.x=undefined;this.y=undefined;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.predefinedPosition=false;this.selected=false;this.hover=false;this.labelModule=new h(this.body,this.options,false);this.setOptions(t)}(0,l["default"])(e,[{key:"attachEdge",value:function e(t){if(this.edges.indexOf(t)===-1){this.edges.push(t)}}},{key:"detachEdge",value:function e(t){var i=this.edges.indexOf(t);if(i!=-1){this.edges.splice(i,1)}}},{key:"setOptions",value:function t(i){var n=this.options.shape;if(!i){return}if(i.id!==undefined){this.id=i.id}if(this.id===undefined){throw"Node must have an id"}e.checkMass(i,this.id);if(i.x!==undefined){if(i.x===null){this.x=undefined;this.predefinedPosition=false}else{this.x=parseInt(i.x);this.predefinedPosition=true}}if(i.y!==undefined){if(i.y===null){this.y=undefined;this.predefinedPosition=false}else{this.y=parseInt(i.y);this.predefinedPosition=true}}if(i.size!==undefined){this.baseSize=i.size}if(i.value!==undefined){i.value=parseFloat(i.value)}if(typeof i.group==="number"||typeof i.group==="string"&&i.group!=""){var r=this.grouplist.get(i.group);u.deepExtend(this.options,r);this.options.color=u.parseColor(this.options.color)}e.parseOptions(this.options,i,true,this.globalOptions);this.choosify(i);this._load_images();this.updateLabelModule(i);this.updateShape(n);this.labelModule.propagateFonts(this.nodeOptions,i,this.defaultOptions);if(i.hidden!==undefined||i.physics!==undefined){return true}return false}},{key:"_load_images",value:function e(){if(this.options.shape!=="circularImage"&&this.options.shape!=="image"){return}if(this.options.image===undefined){throw"Option image must be defined for node type '"+this.options.shape+"'"}if(this.imagelist===undefined){throw"Internal Error: No images provided"}if(typeof this.options.image==="string"){this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}else{if(this.options.image.unselected===undefined){throw"No unselected image provided"}this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id);if(this.options.image.selected!==undefined){this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}else{this.imageObjAlt=undefined}}}},{key:"choosify",value:function e(t){this.chooser=true;var i=[t,this.options,this.defaultOptions];var n=u.topMost(i,"chosen");if(typeof n==="boolean"){this.chooser=n}else if((typeof n==="undefined"?"undefined":(0,r["default"])(n))==="object"){var o=u.topMost(i,["chosen","node"]);if(typeof o==="boolean"||typeof o==="function"){this.chooser=o}}}},{key:"getFormattingValues",value:function e(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover){if(this.chooser===true){if(this.selected){t.borderWidth*=2;t.color=this.options.color.highlight.background;t.borderColor=this.options.color.highlight.border;t.shadow=this.options.shadow.enabled}else if(this.hover){t.color=this.options.color.hover.background;t.borderColor=this.options.color.hover.border;t.shadow=this.options.shadow.enabled}}else if(typeof this.chooser==="function"){this.chooser(t,this.options.id,this.selected,this.hover);if(t.shadow===false){if(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y){t.shadow=true}}}}else{t.shadow=this.options.shadow.enabled}return t}},{key:"updateLabelModule",value:function e(t){if(this.options.label===undefined||this.options.label===null){this.options.label=""}this.labelModule.setOptions(this.options,true);if(this.labelModule.baseSize!==undefined){this.baseFontSize=this.labelModule.baseSize}this.labelModule.constrain(this.nodeOptions,t,this.defaultOptions);this.labelModule.choosify(this.nodeOptions,t,this.defaultOptions)}},{key:"updateShape",value:function e(t){if(t===this.options.shape&&this.shape){this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt)}else{switch(this.options.shape){case"box":this.shape=new c(this.options,this.body,this.labelModule);break;case"circle":this.shape=new f(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new m(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new v(this.options,this.body,this.labelModule);break;case"dot":this.shape=new g(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new y(this.options,this.body,this.labelModule);break;case"icon":this.shape=new b(this.options,this.body,this.labelModule);break;case"image":this.shape=new w(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new x(this.options,this.body,this.labelModule);break;case"star":this.shape=new _(this.options,this.body,this.labelModule);break;case"text":this.shape=new k(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new C(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new S(this.options,this.body,this.labelModule);break;default:this.shape=new y(this.options,this.body,this.labelModule);break}}this.needsRefresh()}},{key:"select",value:function e(){this.selected=true;this.needsRefresh()}},{key:"unselect",value:function e(){this.selected=false;this.needsRefresh()}},{key:"needsRefresh",value:function e(){this.shape.refreshNeeded=true}},{key:"getTitle",value:function e(){return this.options.title}},{key:"distanceToBorder",value:function e(t,i){return this.shape.distanceToBorder(t,i)}},{key:"isFixed",value:function e(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function e(){return this.selected}},{key:"getValue",value:function e(){return this.options.value}},{key:"setValueRange",value:function e(t,i,n){if(this.options.value!==undefined){var r=this.options.scaling.customScalingFunction(t,i,n,this.options.value);var o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===true){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*s}this.options.size=this.options.scaling.min+r*o}else{this.options.size=this.baseSize;this.options.font.size=this.baseFontSize}this.updateLabelModule()}},{key:"draw",value:function e(t){var i=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,i)}},{key:"updateBoundingBox",value:function e(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function e(t){var i=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,i)}},{key:"isOverlappingWith",value:function e(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function e(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function t(i,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var s=["color","font","fixed","shadow"];u.selectiveNotDeepExtend(s,i,n,r);e.checkMass(n);u.mergeOptions(i,n,"shadow",r,o);if(n.color!==undefined&&n.color!==null){var a=u.parseColor(n.color);u.fillIfDefined(i.color,a)}else if(r===true&&n.color===null){i.color=u.bridgeObject(o.color)}if(n.fixed!==undefined&&n.fixed!==null){if(typeof n.fixed==="boolean"){i.fixed.x=n.fixed;i.fixed.y=n.fixed}else{if(n.fixed.x!==undefined&&typeof n.fixed.x==="boolean"){i.fixed.x=n.fixed.x}if(n.fixed.y!==undefined&&typeof n.fixed.y==="boolean"){i.fixed.y=n.fixed.y}}}if(n.font!==undefined&&n.font!==null){h.parseOptions(i.font,n)}else if(r===true&&n.font===null){i.font=u.bridgeObject(o.font)}if(n.scaling!==undefined){u.mergeOptions(i.scaling,n.scaling,"label",r,o.scaling)}}},{key:"checkMass",value:function e(t,i){if(t.mass!==undefined&&t.mass<=0){var n="";if(i!==undefined){n=" in node id: "+i}console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",E);t.mass=1}}}]);return e}();t["default"]=O},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(171);var r=f(n);var o=i(2);var s=f(o);var a=i(62);var l=f(a);var d=i(135);var u=f(d);var h=i(136);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=i(1);var m=function(){function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;(0,u["default"])(this,e);this.body=t;this.pointToSelf=false;this.baseSize=undefined;this.fontOptions={};this.setOptions(i);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=n}(0,c["default"])(e,[{key:"setOptions",value:function t(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.elementOptions=i;this.fontOptions=p.deepExtend({},i.font,true);if(i.label!==undefined){this.labelDirty=true}if(i.font!==undefined){e.parseOptions(this.fontOptions,i,n);if(typeof i.font==="string"){this.baseSize=this.fontOptions.size}else if((0,l["default"])(i.font)==="object"){if(i.font.size!==undefined){this.baseSize=i.font.size}}}}},{key:"constrain",value:function e(t,i,n){this.fontOptions.constrainWidth=false;this.fontOptions.maxWdt=-1;this.fontOptions.minWdt=-1;var r=[i,t,n];var o=p.topMost(r,"widthConstraint");if(typeof o==="number"){this.fontOptions.maxWdt=Number(o);this.fontOptions.minWdt=Number(o)}else if((typeof o==="undefined"?"undefined":(0,l["default"])(o))==="object"){var s=p.topMost(r,["widthConstraint","maximum"]);if(typeof s==="number"){this.fontOptions.maxWdt=Number(s)}var a=p.topMost(r,["widthConstraint","minimum"]);if(typeof a==="number"){this.fontOptions.minWdt=Number(a)}}this.fontOptions.constrainHeight=false;this.fontOptions.minHgt=-1;this.fontOptions.valign="middle";var d=p.topMost(r,"heightConstraint");if(typeof d==="number"){this.fontOptions.minHgt=Number(d)}else if((typeof d==="undefined"?"undefined":(0,l["default"])(d))==="object"){var u=p.topMost(r,["heightConstraint","minimum"]);if(typeof u==="number"){this.fontOptions.minHgt=Number(u)}var h=p.topMost(r,["heightConstraint","valign"]);if(typeof h==="string"){if(h==="top"||h==="bottom"){this.fontOptions.valign=h}}}}},{key:"choosify",value:function e(t,i,n){this.fontOptions.chooser=true;var r=[i,t,n];var o=p.topMost(r,"chosen");if(typeof o==="boolean"){this.fontOptions.chooser=o}else if((typeof o==="undefined"?"undefined":(0,l["default"])(o))==="object"){var s=p.topMost(r,["chosen","label"]);if(typeof s==="boolean"||typeof s==="function"){this.fontOptions.chooser=s}}}},{key:"adjustSizes",value:function e(t){var i=t?t.right+t.left:0;if(this.fontOptions.constrainWidth){this.fontOptions.maxWdt-=i;this.fontOptions.minWdt-=i}var n=t?t.top+t.bottom:0;if(this.fontOptions.constrainHeight){this.fontOptions.minHgt-=n}}},{key:"propagateFonts",value:function t(i,n,r){if(!this.fontOptions.multi)return;var o=function e(t,i){if(!t||!t.font)return null;var n=t.font;if(i){if(!n[i])return null;n=n[i]}return n};var a=function e(t,i,n){var r=o(t,i);if(r&&r.hasOwnProperty(n)){return r[n]}return null};var l=["bold","ital","boldital","mono"];var d=true;var u=false;var h=undefined;try{for(var c=(0,s["default"])(l),f;!(d=(f=c.next()).done);d=true){var p=f.value;var m=this.fontOptions[p];var v=r.font[p];if(e.parseFontString(m,o(i,p))){m.vadjust=this.fontOptions.vadjust;m.mod=v.mod}else{m.face=a(i,p,"face")||a(n,p,"face")||(p==="mono"?v.face:null)||a(n,null,"face")||this.fontOptions.face;m.color=a(i,p,"color")||a(n,p,"color")||a(n,null,"color")||this.fontOptions.color;m.mod=a(i,p,"mod")||a(n,p,"mod")||a(n,null,"mod")||v.mod;var g=void 0;if(m.face===v.face&&this.fontOptions.face===r.font.face){g=this.fontOptions.size/Number(r.font.size)}m.size=a(i,p,"size")||a(n,p,"size")||(g?v.size*g:null)||a(n,null,"size")||this.fontOptions.size;m.vadjust=a(i,p,"vadjust")||a(n,p,"vadjust")||(g?v.vadjust*Math.round(g):null)||this.fontOptions.vadjust}m.size=Number(m.size);m.vadjust=Number(m.vadjust)}}catch(e){u=true;h=e}finally{try{if(!d&&c["return"]){c["return"]()}}finally{if(u){throw h}}}}},{key:"draw",value:function e(t,i,n,r,o){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"middle";if(this.elementOptions.label===undefined)return;var a=this.fontOptions.size*this.body.view.scale;if(this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1)return;this.calculateLabelSize(t,r,o,i,n,s);this._drawBackground(t);this._drawText(t,r,o,i,n,s)}},{key:"_drawBackground",value:function e(t){if(this.fontOptions.background!==undefined&&this.fontOptions.background!=="none"){t.fillStyle=this.fontOptions.background;var i=2;if(this.isEdgeLabel){switch(this.fontOptions.align){case"middle":t.fillRect(-this.size.width*.5,-this.size.height*.5,this.size.width,this.size.height);break;case"top":t.fillRect(-this.size.width*.5,-(this.size.height+i),this.size.width,this.size.height);break;case"bottom":t.fillRect(-this.size.width*.5,i,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-.5*i,this.size.width,this.size.height);break}}else{t.fillRect(this.size.left,this.size.top-.5*i,this.size.width,this.size.height)}}}},{key:"_drawText",value:function e(t,i,n,o,s){var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"middle";var l=this.fontOptions.size;var d=l*this.body.view.scale;if(d>=this.elementOptions.scaling.label.maxVisible){l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale}var u=this.size.yLine;var h=this._setAlignment(t,o,u,a);var c=(0,r["default"])(h,2);o=c[0];u=c[1];t.textAlign="left";o=o-this.size.width/2;if(this.fontOptions.valign&&this.size.height>this.size.labelHeight){if(this.fontOptions.valign==="top"){u-=(this.size.height-this.size.labelHeight)/2}if(this.fontOptions.valign==="bottom"){u+=(this.size.height-this.size.labelHeight)/2}}for(var f=0;f<this.lineCount;f++){if(this.lines[f]&&this.lines[f].blocks){var p=0;if(this.isEdgeLabel||this.fontOptions.align==="center"){p+=(this.size.width-this.lines[f].width)/2}else if(this.fontOptions.align==="right"){p+=this.size.width-this.lines[f].width}for(var m=0;m<this.lines[f].blocks.length;m++){var v=this.lines[f].blocks[m];t.font=v.font;var g=this._getColor(v.color,d,v.strokeColor),y=(0,r["default"])(g,2),b=y[0],w=y[1];if(v.strokeWidth>0){t.lineWidth=v.strokeWidth;t.strokeStyle=w;t.lineJoin="round"}t.fillStyle=b;if(v.strokeWidth>0){t.strokeText(v.text,o+p,u+v.vadjust)}t.fillText(v.text,o+p,u+v.vadjust);p+=v.width}u+=this.lines[f].height}}}},{key:"_setAlignment",value:function e(t,i,n,r){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===false){i=0;n=0;var o=2;if(this.fontOptions.align==="top"){t.textBaseline="alphabetic";n-=2*o}else if(this.fontOptions.align==="bottom"){t.textBaseline="hanging";n+=2*o}else{t.textBaseline="middle"}}else{t.textBaseline=r}return[i,n]}},{key:"_getColor",value:function e(t,i,n){var r=t||"#000000";var o=n||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));r=p.overrideOpacity(r,s);o=p.overrideOpacity(o,s)}return[r,o]}},{key:"getTextSize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._processLabel(t,i,n);return{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function e(t,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"middle";if(this.labelDirty===true){this._processLabel(t,i,n)}this.size.left=r-this.size.width*.5;this.size.top=o-this.size.height*.5;this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size;if(s==="hanging"){this.size.top+=.5*this.fontOptions.size;this.size.top+=4;this.size.yLine+=4}this.labelDirty=false}},{key:"decodeMarkupSystem",value:function e(t){var i="none";if(t==="markdown"||t==="md"){i="markdown"}else if(t===true||t==="html"){i="html"}return i}},{key:"splitBlocks",value:function e(t,i){var n=this.decodeMarkupSystem(i);if(n==="none"){return[{text:t,mod:"normal"}]}else if(n==="markdown"){return this.splitMarkdownBlocks(t)}else if(n==="html"){return this.splitHtmlBlocks(t)}}},{key:"splitMarkdownBlocks",value:function e(t){var i=[];var n={bold:false,ital:false,mono:false,beginable:true,spacing:false,position:0,buffer:"",modStack:[]};n.mod=function(){return this.modStack.length===0?"normal":this.modStack[0]};n.modName=function(){if(this.modStack.length===0)return"normal";else if(this.modStack[0]==="mono")return"mono";else{if(n.bold&&n.ital){return"boldital"}else if(n.bold){return"bold"}else if(n.ital){return"ital"}}};n.emitBlock=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.spacing){this.add(" ");this.spacing=false}if(this.buffer.length>0){i.push({text:this.buffer,mod:this.modName()});this.buffer=""}};n.add=function(e){if(e===" "){n.spacing=true}if(n.spacing){this.buffer+=" ";this.spacing=false}if(e!=" "){this.buffer+=e}};while(n.position<t.length){var r=t.charAt(n.position);if(/[ \t]/.test(r)){if(!n.mono){n.spacing=true}else{n.add(r)}n.beginable=true}else if(/\\/.test(r)){if(n.position<t.length+1){n.position++;r=t.charAt(n.position);if(/ \t/.test(r)){n.spacing=true}else{n.add(r);n.beginable=false}}}else if(!n.mono&&!n.bold&&(n.beginable||n.spacing)&&/\*/.test(r)){n.emitBlock();n.bold=true;n.modStack.unshift("bold")}else if(!n.mono&&!n.ital&&(n.beginable||n.spacing)&&/\_/.test(r)){n.emitBlock();n.ital=true;n.modStack.unshift("ital")}else if(!n.mono&&(n.beginable||n.spacing)&&/`/.test(r)){n.emitBlock();n.mono=true;n.modStack.unshift("mono")}else if(!n.mono&&n.mod()==="bold"&&/\*/.test(r)){if(n.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(n.position+1))){n.emitBlock();n.bold=false;n.modStack.shift()}else{n.add(r)}}else if(!n.mono&&n.mod()==="ital"&&/\_/.test(r)){if(n.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(n.position+1))){n.emitBlock();n.ital=false;n.modStack.shift()}else{n.add(r)}}else if(n.mono&&n.mod()==="mono"&&/`/.test(r)){if(n.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(n.position+1))){n.emitBlock();n.mono=false;n.modStack.shift()}else{n.add(r)}}else{n.add(r);n.beginable=false}n.position++}n.emitBlock();return i}},{key:"splitHtmlBlocks",value:function e(t){var i=[];var n={bold:false,ital:false,mono:false,spacing:false,position:0,buffer:"",modStack:[]};n.mod=function(){return this.modStack.length===0?"normal":this.modStack[0]};n.modName=function(){if(this.modStack.length===0)return"normal";else if(this.modStack[0]==="mono")return"mono";else{if(n.bold&&n.ital){return"boldital"}else if(n.bold){return"bold"}else if(n.ital){return"ital"}}};n.emitBlock=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.spacing){this.add(" ");this.spacing=false}if(this.buffer.length>0){i.push({text:this.buffer,mod:this.modName()});this.buffer=""}};n.add=function(e){if(e===" "){n.spacing=true}if(n.spacing){this.buffer+=" ";this.spacing=false}if(e!=" "){this.buffer+=e}};while(n.position<t.length){var r=t.charAt(n.position);if(/[ \t]/.test(r)){if(!n.mono){n.spacing=true}else{n.add(r)}}else if(/</.test(r)){if(!n.mono&&!n.bold&&/<b>/.test(t.substr(n.position,3))){n.emitBlock();n.bold=true;n.modStack.unshift("bold");n.position+=2}else if(!n.mono&&!n.ital&&/<i>/.test(t.substr(n.position,3))){n.emitBlock();n.ital=true;n.modStack.unshift("ital");n.position+=2}else if(!n.mono&&/<code>/.test(t.substr(n.position,6))){n.emitBlock();n.mono=true;n.modStack.unshift("mono");n.position+=5}else if(!n.mono&&n.mod()==="bold"&&/<\/b>/.test(t.substr(n.position,4))){n.emitBlock();n.bold=false;n.modStack.shift();n.position+=3}else if(!n.mono&&n.mod()==="ital"&&/<\/i>/.test(t.substr(n.position,4))){n.emitBlock();n.ital=false;n.modStack.shift();n.position+=3}else if(n.mod()==="mono"&&/<\/code>/.test(t.substr(n.position,7))){n.emitBlock();n.mono=false;n.modStack.shift();n.position+=6}else{n.add(r)}}else if(/&/.test(r)){if(/&lt;/.test(t.substr(n.position,4))){n.add("<");n.position+=3}else if(/&amp;/.test(t.substr(n.position,5))){n.add("&");n.position+=4}else{n.add("&")}}else{n.add(r)}n.position++}n.emitBlock();return i}},{key:"getFormattingValues",value:function e(t,i,n,r){var o=function e(t,i,n){if(i==="normal"){if(n==="mod")return"";return t[n]}if(t[i][n]){return t[i][n]}else{return t[n]}};var s={color:o(this.fontOptions,r,"color"),size:o(this.fontOptions,r,"size"),face:o(this.fontOptions,r,"face"),mod:o(this.fontOptions,r,"mod"),vadjust:o(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};if(i||n){if(r==="normal"&&this.fontOptions.chooser===true&&this.elementOptions.labelHighlightBold){s.mod="bold"}else{if(typeof this.fontOptions.chooser==="function"){this.fontOptions.chooser(s,this.elementOptions.id,i,n)}}}t.font=(s.mod+" "+s.size+"px "+s.face).replace(/"/g,"");s.font=t.font;s.height=s.size;return s}},{key:"differentState",value:function e(t,i){return t!==this.fontOptions.selectedState&&i!==this.fontOptions.hoverState}},{key:"_processLabel",value:function e(t,i,n){var r=0;var o=0;var s=[];var a=[];var l=0;a.add=function(e,t,i,n,r,o,s,a,l,d){if(this.length==e){this[e]={width:0,height:0,blocks:[]}}this[e].blocks.push({text:t,font:i,color:n,width:r,height:o,vadjust:s,mod:a,strokeWidth:l,strokeColor:d})};a.accumulate=function(e,t,i){this[e].width+=t;this[e].height=i>this[e].height?i:this[e].height};a.addAndAccumulate=function(e,t,i,n,r,o,s,a,l,d){this.add(e,t,i,n,r,o,s,a,l,d);this.accumulate(e,r,o)};if(this.elementOptions.label!==undefined){var d=String(this.elementOptions.label).split("\n");var u=d.length;if(this.elementOptions.font.multi){for(var h=0;h<u;h++){var c=this.splitBlocks(d[h],this.elementOptions.font.multi);var f=0;var p=0;if(c){if(c.length==0){var m=this.getFormattingValues(t,i,n,"normal");a.addAndAccumulate(l,"",m.font,m.color,0,m.size,m.vadjust,"normal",m.strokeWidth,m.strokeColor);o+=a[l].height;l++;continue}for(var v=0;v<c.length;v++){if(this.fontOptions.maxWdt>0){var g=this.getFormattingValues(t,i,n,c[v].mod);var y=c[v].text.split(" ");var b=true;var w="";var x={width:0};var _=void 0;var k=0;while(k<y.length){var C=b?"":" ";_=x;x=t.measureText(w+C+y[k]);if(f+x.width>this.fontOptions.maxWdt&&_.width!=0){p=g.height>p?g.height:p;a.add(l,w,g.font,g.color,_.width,g.height,g.vadjust,c[v].mod,g.strokeWidth,g.strokeColor);a.accumulate(l,_.width,p);w="";b=true;f=0;r=a[l].width>r?a[l].width:r;o+=a[l].height;l++}else{w=w+C+y[k];if(k===y.length-1){p=g.height>p?g.height:p;f+=x.width;a.add(l,w,g.font,g.color,x.width,g.height,g.vadjust,c[v].mod,g.strokeWidth,g.strokeColor);a.accumulate(l,x.width,p);if(v===c.length-1){r=a[l].width>r?a[l].width:r;o+=a[l].height;l++}}k++;b=false}}}else{var S=this.getFormattingValues(t,i,n,c[v].mod);var T=t.measureText(c[v].text);a.addAndAccumulate(l,c[v].text,S.font,S.color,T.width,S.height,S.vadjust,c[v].mod,S.strokeWidth,S.strokeColor);r=a[l].width>r?a[l].width:r;if(c.length-1===v){o+=a[l].height;l++}}}}}}else{for(var D=0;D<u;D++){var E=this.getFormattingValues(t,i,n,"normal");if(this.fontOptions.maxWdt>0){var O=d[D].split(" ");var P="";var M={width:0};var A=void 0;var I=0;while(I<O.length){var F=P===""?"":" ";A=M;M=t.measureText(P+F+O[I]);if(M.width>this.fontOptions.maxWdt&&A.width!=0){a.addAndAccumulate(l,P,E.font,E.color,A.width,E.size,E.vadjust,"normal",E.strokeWidth,E.strokeColor);r=a[l].width>r?a[l].width:r;o+=a[l].height;P="";l++}else{P=P+F+O[I];if(I===O.length-1){a.addAndAccumulate(l,P,E.font,E.color,M.width,E.size,E.vadjust,"normal",E.strokeWidth,E.strokeColor);r=a[l].width>r?a[l].width:r;o+=a[l].height;l++}I++}}}else{var R=d[D];var N=t.measureText(R);a.addAndAccumulate(l,R,E.font,E.color,N.width,E.size,E.vadjust,"normal",E.strokeWidth,E.strokeColor);r=a[l].width>r?a[l].width:r;o+=a[l].height;l++}}}}if(this.fontOptions.minWdt>0&&r<this.fontOptions.minWdt){r=this.fontOptions.minWdt}this.size.labelHeight=o;if(this.fontOptions.minHgt>0&&o<this.fontOptions.minHgt){o=this.fontOptions.minHgt}this.lines=a;this.lineCount=a.length;this.size.width=r;this.size.height=o;this.selectedState=i;this.hoverState=n}}],[{key:"parseOptions",value:function t(i,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(e.parseFontString(i,n.font)){i.vadjust=0}else if((0,l["default"])(n.font)==="object"){p.fillIfDefined(i,n.font,r)}i.size=Number(i.size);i.vadjust=Number(i.vadjust)}},{key:"parseFontString",value:function e(t,i){if(!i||typeof i!=="string")return false;var n=i.split(" ");t.size=n[0].replace("px","");t.face=n[1];t.color=n[2];return true}}]);return e}();t["default"]=m},function(e,t,i){"use strict";t.__esModule=true;var n=i(172);var r=a(n);var o=i(2);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){var i=[];var n=true;var r=false;var o=undefined;try{for(var a=(0,s.default)(e),l;!(n=(l=a.next()).done);n=true){i.push(l.value);if(t&&i.length===t)break}}catch(e){r=true;o=e}finally{try{if(!n&&a["return"])a["return"]()}finally{if(r)throw o}}return i}return function(t,i){if(Array.isArray(t)){return t}else if((0,r.default)(Object(t))){return e(t,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}()},function(e,t,i){e.exports={default:i(173),__esModule:true}},function(e,t,i){i(4);i(50);e.exports=i(174)},function(e,t,i){var n=i(54),r=i(47)("iterator"),o=i(8);e.exports=i(17).isIterable=function(e){var t=Object(e);return t[r]!==undefined||"@@iterator"in t||o.hasOwnProperty(n(t))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o._setMargins(n);return o}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;if(this.needsRefresh(i,n)){this.textSize=this.labelModule.getTextSize(t,i,n);this.width=this.textSize.width+this.margin.right+this.margin.left;this.height=this.textSize.height+this.margin.top+this.margin.bottom;this.radius=this.width/2}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.left=i-this.width/2;this.top=n-this.height/2;this.initContextForDraw(t,s);t.roundRect(this.left,this.top,this.width,this.height,s.borderRadius);this.performFill(t,s);this.updateBoundingBox(i,n,t,r,o);this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,o)}},{key:"updateBoundingBox",value:function e(t,i,n,r,o){this._updateBoundingBox(t,i,n,r,o);var s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}},{key:"distanceToBorder",value:function e(t,i){this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+n}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){e.exports={default:i(177),__esModule:true}},function(e,t,i){i(178);e.exports=i(17).Object.getPrototypeOf},function(e,t,i){var n=i(49),r=i(48);i(61)("getPrototypeOf",function(){return function e(t){return r(n(t))}})},function(e,t,i){"use strict";t.__esModule=true;var n=i(62);var r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&((typeof t==="undefined"?"undefined":(0,r.default)(t))==="object"||typeof t==="function")?t:e}},function(e,t,i){"use strict";t.__esModule=true;var n=i(181);var r=d(n);var o=i(55);var s=d(o);var a=i(62);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof t==="undefined"?"undefined":(0,l.default)(t)))}e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)r.default?(0,r.default)(e,t):e.__proto__=t}},function(e,t,i){e.exports={default:i(182),__esModule:true}},function(e,t,i){i(183);e.exports=i(17).Object.setPrototypeOf},function(e,t,i){var n=i(15);n(n.S,"Object",{setPrototypeOf:i(184).set})},function(e,t,i){var n=i(23),r=i(22);var o=function(e,t){r(e);if(!n(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=i(18)(Function.call,i(78).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(i,r){o(i,r);if(t)i.__proto__=r;else n(i,r);return i}}({},false):undefined),check:o}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(62);var r=d(n);var o=i(135);var s=d(o);var a=i(136);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,i,n){(0,s["default"])(this,e);this.body=i;this.labelModule=n;this.setOptions(t);this.top=undefined;this.left=undefined;this.height=undefined;this.width=undefined;this.radius=undefined;this.margin=undefined;this.refreshNeeded=true;this.boundingBox={top:0,left:0,right:0,bottom:0}}(0,l["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"_setMargins",value:function e(t){this.margin={};if(this.options.margin){if((0,r["default"])(this.options.margin)=="object"){this.margin.top=this.options.margin.top;this.margin.right=this.options.margin.right;this.margin.bottom=this.options.margin.bottom;this.margin.left=this.options.margin.left}else{this.margin.top=this.options.margin;this.margin.right=this.options.margin;this.margin.bottom=this.options.margin;this.margin.left=this.options.margin}}t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function e(t,i){var n=this.options.borderWidth;this.resize(t);return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+n}},{key:"enableShadow",value:function e(t,i){if(i.shadow){t.shadowColor=i.shadowColor;t.shadowBlur=i.shadowSize;t.shadowOffsetX=i.shadowX;t.shadowOffsetY=i.shadowY}}},{key:"disableShadow",value:function e(t,i){if(i.shadow){t.shadowColor="rgba(0,0,0,0)";t.shadowBlur=0;t.shadowOffsetX=0;t.shadowOffsetY=0}}},{key:"enableBorderDashes",value:function e(t,i){if(i.borderDashes!==false){if(t.setLineDash!==undefined){var n=i.borderDashes;if(n===true){n=[5,15]}t.setLineDash(n)}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=false;i.borderDashes=false}}}},{key:"disableBorderDashes",value:function e(t,i){if(i.borderDashes!==false){if(t.setLineDash!==undefined){t.setLineDash([0])}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=false;i.borderDashes=false}}}},{key:"needsRefresh",value:function e(t,i){if(this.refreshNeeded===true){this.refreshNeeded=false;return true}return this.width===undefined||this.labelModule.differentState(t,i)}},{key:"initContextForDraw",value:function e(t,i){var n=i.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n);t.strokeStyle=i.borderColor;t.fillStyle=i.color}},{key:"performStroke",value:function e(t,i){var n=i.borderWidth/this.body.view.scale;t.save();if(n>0){this.enableBorderDashes(t,i);t.stroke();this.disableBorderDashes(t,i)}t.restore()}},{key:"performFill",value:function e(t,i){this.enableShadow(t,i);t.fill();this.disableShadow(t,i);this.performStroke(t,i)}},{key:"_addBoundingBoxMargin",value:function e(t){this.boundingBox.left-=t;this.boundingBox.top-=t;this.boundingBox.bottom+=t;this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function e(t,i,n,r,o){if(n!==undefined){this.resize(n,r,o)}this.left=t-this.width/2;this.top=i-this.height/2;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function e(t,i,n,r,o){this._updateBoundingBox(t,i,n,r,o)}}]);return e}();t["default"]=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(187);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o._setMargins(n);return o}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;if(this.needsRefresh(i,n)){this.textSize=this.labelModule.getTextSize(t,i,n);var r=Math.max(this.textSize.width+this.margin.right+this.margin.left,this.textSize.height+this.margin.top+this.margin.bottom);this.options.size=r/2;this.width=r;this.height=r;this.radius=this.width/2}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.left=i-this.width/2;this.top=n-this.height/2;this._drawRawCircle(t,i,n,s);this.updateBoundingBox(i,n);this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,r,o)}},{key:"updateBoundingBox",value:function e(t,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=t-this.options.size;this.boundingBox.right=t+this.options.size;this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function e(t,i){this.resize(t);return this.width*.5}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=g(n);var o=i(135);var s=g(o);var a=i(136);var l=g(a);var d=i(179);var u=g(d);var h=i(180);var c=g(h);var f=i(185);var p=g(f);var m=i(166);var v=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o.labelOffset=0;o.selected=false;return o}(0,l["default"])(t,[{key:"setOptions",value:function e(t,i,n){this.options=t;if(!(i===undefined&&n===undefined)){this.setImages(i,n)}}},{key:"setImages",value:function e(t,i){if(i&&this.selected){this.imageObj=i;this.imageObjAlt=t}else{this.imageObj=t;this.imageObjAlt=i}}},{key:"switchImages",value:function e(t){var i=t&&!this.selected||!t&&this.selected;this.selected=t;if(this.imageObjAlt!==undefined&&i){var n=this.imageObj;this.imageObj=this.imageObjAlt;this.imageObjAlt=n}}},{key:"_resizeImage",value:function e(){var t,i;if(this.options.shapeProperties.useImageSize===false){var n=1;var r=1;if(this.imageObj.width&&this.imageObj.height){if(this.imageObj.width>this.imageObj.height){n=this.imageObj.width/this.imageObj.height}else{r=this.imageObj.height/this.imageObj.width}}t=this.options.size*2*n;i=this.options.size*2*r}else{t=this.imageObj.width;i=this.imageObj.height}this.width=t;this.height=i;this.radius=.5*this.width}},{key:"_drawRawCircle",value:function e(t,i,n,r){this.initContextForDraw(t,r);t.circle(i,n,r.size);this.performFill(t,r)}},{key:"_drawImageAtPosition",value:function e(t,i){if(this.imageObj.width!=0){t.globalAlpha=1;this.enableShadow(t,i);var n=1;if(this.options.shapeProperties.interpolation===true){n=this.imageObj.width/this.width/this.body.view.scale}this.imageObj.drawImageAtPosition(t,n,this.left,this.top,this.width,this.height);this.disableShadow(t,i)}}},{key:"_drawImageLabel",value:function e(t,i,n,r,o){var s;var a=0;if(this.height!==undefined){a=this.height*.5;var l=this.labelModule.getTextSize(t,r,o);if(l.lineCount>=1){a+=l.height/2}}s=n+a;if(this.options.label){this.labelOffset=a}this.labelModule.draw(t,i,s,r,o,"hanging")}}]);return t}(p["default"]);t["default"]=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(187);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n,o,a){(0,s["default"])(this,t);var l=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));l.setImages(o,a);return l}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;var r=this.imageObj.src===undefined||this.imageObj.width===undefined||this.imageObj.height===undefined;if(r){var o=this.options.size*2;this.width=o;this.height=o;this.radius=.5*this.width;return}if(this.needsRefresh(i,n)){this._resizeImage()}}},{key:"draw",value:function e(t,i,n,r,o,s){this.switchImages(r);this.resize();this.left=i-this.width/2;this.top=n-this.height/2;this._drawRawCircle(t,i,n,s);t.save();t.clip();this._drawImageAtPosition(t,s);t.restore();this._drawImageLabel(t,i,n,r,o);this.updateBoundingBox(i,n)}},{key:"updateBoundingBox",value:function e(t,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=t-this.options.size;this.boundingBox.right=t+this.options.size;this.boundingBox.bottom=i+this.options.size;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function e(t,i){this.resize(t);return this.width*.5}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o._setMargins(n);return o}(0,l["default"])(t,[{key:"resize",value:function e(t,i,n){if(this.needsRefresh(i,n)){this.textSize=this.labelModule.getTextSize(t,i,n);var r=this.textSize.width+this.margin.right+this.margin.left;this.width=r;this.height=r;this.radius=this.width/2}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.left=i-this.width/2;this.top=n-this.height/2;this.initContextForDraw(t,s);t.database(i-this.width/2,n-this.height/2,this.width,this.height);this.performFill(t,s);this.updateBoundingBox(i,n,t,r,o);this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,o)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"diamond",4,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{size:this.options.size};if(this.needsRefresh(i,n)){this.labelModule.getTextSize(t,i,n);var o=2*r.size;this.width=o;this.height=o;this.radius=.5*this.width}}},{key:"_drawShape",value:function e(t,i,n,r,o,s,a,l){this.resize(t,s,a,l);this.left=r-this.width/2;this.top=o-this.height/2;this.initContextForDraw(t,l);t[i](r,o,l.size);this.performFill(t,l);if(this.options.label!==undefined){this.labelModule.calculateLabelSize(t,s,a,r,o,"hanging");var d=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,r,d,s,a,"hanging")}this.updateBoundingBox(r,o)}},{key:"updateBoundingBox",value:function e(t,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=t-this.options.size;this.boundingBox.right=t+this.options.size;this.boundingBox.bottom=i+this.options.size;if(this.options.label!==undefined&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height)}}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"circle",2,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){this.resize(t);return this.options.size}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;if(this.needsRefresh(i,n)){var r=this.labelModule.getTextSize(t,i,n);this.height=r.height*2;this.width=r.width+this.height;this.radius=.5*this.width}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.left=i-this.width*.5;this.top=n-this.height*.5;this.initContextForDraw(t,s);t.ellipse_vis(this.left,this.top,this.width,this.height);this.performFill(t,s);this.updateBoundingBox(i,n,t,r,o);this.labelModule.draw(t,i,n,r,o)}},{key:"distanceToBorder",value:function e(t,i){this.resize(t);var n=this.width*.5;var r=this.height*.5;var o=Math.sin(i)*n;var s=Math.cos(i)*r;return n*r/Math.sqrt(o*o+s*s)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o._setMargins(n);return o}(0,l["default"])(t,[{key:"resize",value:function e(t,i,n){if(this.needsRefresh(i,n)){this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=this.iconSize.width+this.margin.right+this.margin.left;this.height=this.iconSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.options.icon.size=this.options.icon.size||50;this.left=i-this.width/2;this.top=n-this.height/2;this._icon(t,i,n,r,o,s);if(this.options.label!==undefined){var a=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+a,r)}this.updateBoundingBox(i,n)}},{key:"updateBoundingBox",value:function e(t,i){this.boundingBox.top=i-this.options.icon.size*.5;this.boundingBox.left=t-this.options.icon.size*.5;this.boundingBox.right=t+this.options.icon.size*.5;this.boundingBox.bottom=i+this.options.icon.size*.5;if(this.options.label!==undefined&&this.labelModule.size.width>0){var n=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+n)}}},{key:"_icon",value:function e(t,i,n,r,o,s){var a=Number(this.options.icon.size);if(this.options.icon.code!==undefined){t.font=(r?"bold ":"")+a+"px "+this.options.icon.face;t.fillStyle=this.options.icon.color||"black";t.textAlign="center";t.textBaseline="middle";this.enableShadow(t,s);t.fillText(this.options.icon.code,i,n);this.disableShadow(t,s)}else{console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(187);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n,o,a){(0,s["default"])(this,t);var l=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));l.setImages(o,a);return l}(0,l["default"])(t,[{key:"resize",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.selected;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.hover;var r=this.imageObj.src===undefined||this.imageObj.width===undefined||this.imageObj.height===undefined;if(r){var o=this.options.size*2;this.width=o;this.height=o;return}if(this.needsRefresh(i,n)){this._resizeImage()}}},{key:"draw",value:function e(t,i,n,r,o,s){this.switchImages(r);this.resize();this.left=i-this.width/2;this.top=n-this.height/2;if(this.options.shapeProperties.useBorderWithImage===true){var a=this.options.borderWidth;var l=this.options.borderWidthSelected||2*this.options.borderWidth;var d=(r?l:a)/this.body.view.scale;t.lineWidth=Math.min(this.width,d);t.beginPath();t.strokeStyle=r?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border;t.fillStyle=r?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth);t.fill();this.performStroke(t,s);t.closePath()}this._drawImageAtPosition(t,s);this._drawImageLabel(t,i,n,r,o);this.updateBoundingBox(i,n)}},{key:"updateBoundingBox",value:function e(t,i){this.resize();this._updateBoundingBox(t,i);if(this.options.label!==undefined&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"square",2,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"star",4,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(185);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);var o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n));o._setMargins(n);return o}(0,l["default"])(t,[{key:"resize",value:function e(t,i,n){if(this.needsRefresh(i,n)){this.textSize=this.labelModule.getTextSize(t,i,n);this.width=this.textSize.width+this.margin.right+this.margin.left;this.height=this.textSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function e(t,i,n,r,o,s){this.resize(t,r,o);this.left=i-this.width/2;this.top=n-this.height/2;this.enableShadow(t,s);this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,o);this.disableShadow(t,s);this.updateBoundingBox(i,n,t,r,o)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"triangle",3,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(191);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"draw",value:function e(t,i,n,r,o,s){this._drawShape(t,"triangleDown",3,i,n,r,o,s)}},{key:"distanceToBorder",value:function e(t,i){return this._distanceToBorder(t,i)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=i(89);var u=i(93);var h=i(202)["default"];var c=i(170)["default"];var f=i(210)["default"];var p=function(){function e(t,i,n){var o=this;(0,r["default"])(this,e);this.body=t;this.images=i;this.groups=n;this.body.functions.createEdge=this.create.bind(this);this.edgesListeners={add:function e(t,i){o.add(i.items)},update:function e(t,i){o.update(i.items)},remove:function e(t,i){o.remove(i.items)}};this.options={};this.defaultOptions={arrows:{to:{enabled:false,scaleFactor:1,type:"arrow"},middle:{enabled:false,scaleFactor:1,type:"arrow"},from:{enabled:false,scaleFactor:1,type:"arrow"}},arrowStrikethrough:true,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:false,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:false,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:false,hoverWidth:1.5,label:undefined,labelHighlightBold:true,length:undefined,physics:true,scaling:{min:1,max:15,label:{enabled:true,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function e(t,i,n,r){if(i===t){return.5}else{var o=1/(i-t);return Math.max(0,(r-t)*o)}}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:true,type:"dynamic",forceDirection:"none",roundness:.5},title:undefined,width:1,value:undefined};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(e==="dynamic"){e="continuous"}var n=false;for(var r in t.body.edges){if(t.body.edges.hasOwnProperty(r)){var o=t.body.edges[r];var s=t.body.data.edges._data[r];if(s!==undefined){var a=s.smooth;if(a!==undefined){if(a.enabled===true&&a.type==="dynamic"){if(e===undefined){o.setOptions({smooth:false})}else{o.setOptions({smooth:{type:e}})}n=true}}}}}if(i===true&&n===true){t.body.emitter.emit("_dataChanged")}});this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()});this.body.emitter.on("refreshEdges",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){l.forEach(t.edgesListeners,function(e,i){if(t.body.data.edges)t.body.data.edges.off(i,e)});delete t.body.functions.createEdge;delete t.edgesListeners.add;delete t.edgesListeners.update;delete t.edgesListeners.remove;delete t.edgesListeners})}},{key:"setOptions",value:function e(t){this.edgeOptions=t;if(t!==undefined){h.parseOptions(this.options,t);var i=false;if(t.smooth!==undefined){for(var n in this.body.edges){if(this.body.edges.hasOwnProperty(n)){i=this.body.edges[n].updateEdgeType()||i}}}if(t.font!==undefined){c.parseOptions(this.options.font,t);for(var r in this.body.edges){if(this.body.edges.hasOwnProperty(r)){this.body.edges[r].updateLabelModule()}}}if(t.hidden!==undefined||t.physics!==undefined||i===true){this.body.emitter.emit("_dataChanged")}}}},{key:"setData",value:function e(t){var i=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=this.body.data.edges;if(t instanceof d||t instanceof u){this.body.data.edges=t}else if(Array.isArray(t)){this.body.data.edges=new d;this.body.data.edges.add(t)}else if(!t){this.body.data.edges=new d}else{throw new TypeError("Array or DataSet expected")}if(r){l.forEach(this.edgesListeners,function(e,t){r.off(t,e)})}this.body.edges={};if(this.body.data.edges){l.forEach(this.edgesListeners,function(e,t){i.body.data.edges.on(t,e)});var o=this.body.data.edges.getIds();this.add(o,true)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");if(n===false){this.body.emitter.emit("_dataChanged")}}},{key:"add",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this.body.edges;var r=this.body.data.edges;for(var o=0;o<t.length;o++){var s=t[o];var a=n[s];if(a){a.disconnect()}var l=r.get(s,{showInternalIds:true});n[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");if(i===false){this.body.emitter.emit("_dataChanged")}}},{key:"update",value:function e(t){var i=this.body.edges;var n=this.body.data.edges;var r=false;for(var o=0;o<t.length;o++){var s=t[o];var a=n.get(s);var l=i[s];if(l!==undefined){l.disconnect();r=l.setOptions(a)||r;l.connect()}else{this.body.edges[s]=this.create(a);r=true}}if(r===true){this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");this.body.emitter.emit("_dataChanged")}else{this.body.emitter.emit("_dataUpdated")}}},{key:"remove",value:function e(t){var i=this.body.edges;for(var n=0;n<t.length;n++){var r=t[n];var o=i[r];if(o!==undefined){o.cleanup();o.disconnect();delete i[r]}}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function e(){var t=this.body.edges;for(var i in t){var n=undefined;if(t.hasOwnProperty(i)){n=t[i]}var r=this.body.data.edges._data[i];if(n!==undefined&&r!==undefined){n.setOptions(r)}}}},{key:"create",value:function e(t){return new h(t,this.body,this.options,this.defaultOptions,this.edgeOptions)}},{key:"reconnectEdges",value:function e(){var t;var i=this.body.nodes;var n=this.body.edges;for(t in i){if(i.hasOwnProperty(t)){i[t].edges=[]}}for(t in n){if(n.hasOwnProperty(t)){var r=n[t];r.from=null;r.to=null;r.connect()}}}},{key:"getConnectedNodes",value:function e(t){var i=[];if(this.body.edges[t]!==undefined){var n=this.body.edges[t];if(n.fromId!==undefined){i.push(n.fromId)}if(n.toId!==undefined){i.push(n.toId)}}return i}}]);return e}();t["default"]=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(90);var r=f(n);var o=i(55);var s=f(o);var a=i(62);var l=f(a);var d=i(135);var u=f(d);var h=i(136);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=i(1);var m=i(170)["default"];var v=i(203)["default"];var g=i(207)["default"];var y=i(208)["default"];var b=i(209)["default"];var w=function(){function e(t,i,n,r,o){(0,u["default"])(this,e);if(i===undefined){throw"No body provided"}this.options=p.bridgeObject(n);this.globalOptions=n;this.defaultOptions=r;this.edgeOptions=o;this.body=i;this.id=undefined;this.fromId=undefined;this.toId=undefined;this.selected=false;this.hover=false;this.labelDirty=true;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.from=undefined;this.to=undefined;this.edgeType=undefined;this.connected=false;this.labelModule=new m(this.body,this.options,true);this.setOptions(t)}(0,c["default"])(e,[{key:"setOptions",value:function t(i){if(!i){return}e.parseOptions(this.options,i,true,this.globalOptions);if(i.id!==undefined){this.id=i.id}if(i.from!==undefined){this.fromId=i.from}if(i.to!==undefined){this.toId=i.to}if(i.title!==undefined){this.title=i.title}if(i.value!==undefined){i.value=parseFloat(i.value)}this.choosify(i);this.updateLabelModule(i);this.labelModule.propagateFonts(this.edgeOptions,i,this.defaultOptions);var n=this.updateEdgeType();this._setInteractionWidths();this.connect();if(i.hidden!==undefined||i.physics!==undefined){n=true}return n}},{key:"choosify",value:function e(t){this.chooser=true;var i=[t,this.options,this.edgeOptions,this.defaultOptions];var n=p.topMost(i,"chosen");if(typeof n==="boolean"){this.chooser=n}else if((typeof n==="undefined"?"undefined":(0,l["default"])(n))==="object"){var r=p.topMost(i,["chosen","edge"]);if(typeof r==="boolean"||typeof r==="function"){this.chooser=r}}}},{key:"getFormattingValues",value:function e(){var t=this.options.arrows.to===true||this.options.arrows.to.enabled===true;var i=this.options.arrows.from===true||this.options.arrows.from.enabled===true;var n=this.options.arrows.middle===true||this.options.arrows.middle.enabled===true;var r=this.options.color.inherit;var o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:r?undefined:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover){if(this.chooser===true){if(this.selected){var s=this.options.selectionWidth;if(typeof s==="function"){o.width=s(o.width)}else if(typeof s==="number"){o.width+=s}o.width=Math.max(o.width,.3/this.body.view.scale);o.color=this.options.color.highlight;o.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;if(typeof a==="function"){o.width=a(o.width)}else if(typeof a==="number"){o.width+=a}o.width=Math.max(o.width,.3/this.body.view.scale);o.color=this.options.color.hover;o.shadow=this.options.shadow.enabled}}else if(typeof this.chooser==="function"){this.chooser(o,this.options.id,this.selected,this.hover);if(o.color!==undefined){o.inheritsColor=false}if(o.shadow===false){if(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y){o.shadow=true}}}}else{o.shadow=this.options.shadow.enabled;o.width=Math.max(o.width,.3/this.body.view.scale)}return o}},{key:"updateLabelModule",value:function e(t){this.labelModule.setOptions(this.options,true);if(this.labelModule.baseSize!==undefined){this.baseFontSize=this.labelModule.baseSize}this.labelModule.constrain(this.edgeOptions,t,this.defaultOptions);this.labelModule.choosify(this.edgeOptions,t,this.defaultOptions)}},{key:"updateEdgeType",value:function e(){var t=this.options.smooth;var i=false;var n=true;if(this.edgeType!==undefined){if(this.edgeType instanceof g&&t.enabled===true&&t.type==="dynamic"||this.edgeType instanceof v&&t.enabled===true&&t.type==="cubicBezier"||this.edgeType instanceof y&&t.enabled===true&&t.type!=="dynamic"&&t.type!=="cubicBezier"||this.edgeType instanceof b&&t.type.enabled===false){n=false}if(n===true){i=this.cleanup()}}if(n===true){if(t.enabled===true){if(t.type==="dynamic"){i=true;this.edgeType=new g(this.options,this.body,this.labelModule)}else if(t.type==="cubicBezier"){this.edgeType=new v(this.options,this.body,this.labelModule)}else{this.edgeType=new y(this.options,this.body,this.labelModule)}}else{this.edgeType=new b(this.options,this.body,this.labelModule)}}else{this.edgeType.setOptions(this.options)}return i}},{key:"connect",value:function e(){this.disconnect();this.from=this.body.nodes[this.fromId]||undefined;this.to=this.body.nodes[this.toId]||undefined;this.connected=this.from!==undefined&&this.to!==undefined;if(this.connected===true){this.from.attachEdge(this);this.to.attachEdge(this)}else{if(this.from){this.from.detachEdge(this)}if(this.to){this.to.detachEdge(this)}}this.edgeType.connect()}},{key:"disconnect",value:function e(){if(this.from){this.from.detachEdge(this);this.from=undefined}if(this.to){this.to.detachEdge(this);this.to=undefined}this.connected=false}},{key:"getTitle",value:function e(){return this.title}},{key:"isSelected",value:function e(){return this.selected}},{key:"getValue",value:function e(){return this.options.value}},{key:"setValueRange",value:function e(t,i,n){if(this.options.value!==undefined){var r=this.options.scaling.customScalingFunction(t,i,n,this.options.value);var o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===true){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*s}this.options.width=this.options.scaling.min+r*o}else{this.options.width=this.baseWidth;this.options.font.size=this.baseFontSize}this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function e(){if(typeof this.options.hoverWidth==="function"){this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width)}else{this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width}if(typeof this.options.selectionWidth==="function"){this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width)}else{this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}}},{key:"draw",value:function e(t){var i=this.getFormattingValues();if(i.hidden){return}var n=this.edgeType.getViaNode();var r={};this.edgeType.fromPoint=this.edgeType.from;this.edgeType.toPoint=this.edgeType.to;if(i.fromArrow){r.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,i);if(i.arrowStrikethrough===false)this.edgeType.fromPoint=r.from.core}if(i.toArrow){r.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,i);if(i.arrowStrikethrough===false)this.edgeType.toPoint=r.to.core}if(i.middleArrow){r.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,i)}this.edgeType.drawLine(t,i,this.selected,this.hover,n);this.drawArrows(t,r,i);this.drawLabel(t,n)}},{key:"drawArrows",value:function e(t,i,n){if(n.fromArrow){this.edgeType.drawArrowHead(t,n,this.selected,this.hover,i.from)}if(n.middleArrow){this.edgeType.drawArrowHead(t,n,this.selected,this.hover,i.middle)}if(n.toArrow){this.edgeType.drawArrowHead(t,n,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function e(t,i){if(this.options.label!==undefined){var n=this.from;var r=this.to;if(this.labelModule.differentState(this.selected,this.hover)){this.labelModule.getTextSize(t,this.selected,this.hover)}if(n.id!=r.id){this.labelModule.pointToSelf=false;var o=this.edgeType.getPoint(.5,i);t.save();if(this.options.font.align!=="horizontal"){this.labelModule.calculateLabelSize(t,this.selected,this.hover,o.x,o.y);t.translate(o.x,this.labelModule.size.yLine);this._rotateForLabelAlignment(t)}this.labelModule.draw(t,o.x,o.y,this.selected,this.hover);t.restore()}else{this.labelModule.pointToSelf=true;var s,a;var l=this.options.selfReferenceSize;if(n.shape.width>n.shape.height){s=n.x+n.shape.width*.5;a=n.y-l}else{s=n.x+l;a=n.y-n.shape.height*.5}o=this._pointOnCircle(s,a,l,.125);this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"isOverlappingWith",value:function e(t){if(this.connected){var i=10;var n=this.from.x;var r=this.from.y;var o=this.to.x;var s=this.to.y;var a=t.left;var l=t.top;var d=this.edgeType.getDistanceToEdge(n,r,o,s,a,l);return d<i}else{return false}}},{key:"_rotateForLabelAlignment",value:function e(t){var i=this.from.y-this.to.y;var n=this.from.x-this.to.x;var r=Math.atan2(i,n);if(r<-1&&n<0||r>0&&n<0){r=r+Math.PI}t.rotate(r)}},{key:"_pointOnCircle",value:function e(t,i,n,r){var o=r*2*Math.PI;return{x:t+n*Math.cos(o),y:i-n*Math.sin(o)}}},{key:"select",value:function e(){this.selected=true}},{key:"unselect",value:function e(){this.selected=false}},{key:"cleanup",value:function e(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var a=["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];p.selectiveDeepExtend(a,t,i,n);p.mergeOptions(t,i,"smooth",n,o);p.mergeOptions(t,i,"shadow",n,o);if(i.dashes!==undefined&&i.dashes!==null){t.dashes=i.dashes}else if(n===true&&i.dashes===null){t.dashes=(0,s["default"])(o.dashes)}if(i.scaling!==undefined&&i.scaling!==null){if(i.scaling.min!==undefined){t.scaling.min=i.scaling.min}if(i.scaling.max!==undefined){t.scaling.max=i.scaling.max}p.mergeOptions(t.scaling,i.scaling,"label",n,o.scaling)}else if(n===true&&i.scaling===null){t.scaling=(0,s["default"])(o.scaling)}if(i.arrows!==undefined&&i.arrows!==null){if(typeof i.arrows==="string"){var d=i.arrows.toLowerCase();t.arrows.to.enabled=d.indexOf("to")!=-1;t.arrows.middle.enabled=d.indexOf("middle")!=-1;t.arrows.from.enabled=d.indexOf("from")!=-1}else if((0,l["default"])(i.arrows)==="object"){p.mergeOptions(t.arrows,i.arrows,"to",n,o.arrows);p.mergeOptions(t.arrows,i.arrows,"middle",n,o.arrows);p.mergeOptions(t.arrows,i.arrows,"from",n,o.arrows)}else{throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,r["default"])(i.arrows))}}else if(n===true&&i.arrows===null){t.arrows=(0,s["default"])(o.arrows)}if(i.color!==undefined&&i.color!==null){t.color=p.deepExtend({},t.color,true);if(p.isString(i.color)){t.color.color=i.color;t.color.highlight=i.color;t.color.hover=i.color;t.color.inherit=false}else{var u=false;if(i.color.color!==undefined){t.color.color=i.color.color;u=true}if(i.color.highlight!==undefined){t.color.highlight=i.color.highlight;u=true}if(i.color.hover!==undefined){t.color.hover=i.color.hover;u=true}if(i.color.inherit!==undefined){t.color.inherit=i.color.inherit}if(i.color.opacity!==undefined){t.color.opacity=Math.min(1,Math.max(0,i.color.opacity))}if(i.color.inherit===undefined&&u===true){t.color.inherit=false}}}else if(n===true&&i.color===null){t.color=p.bridgeObject(o.color)}if(i.font!==undefined&&i.font!==null){m.parseOptions(t.font,i)}else if(n===true&&i.font===null){t.font=p.bridgeObject(o.font)}}}]);return e}();t["default"]=w},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(171);var r=g(n);var o=i(176);var s=g(o);var a=i(135);var l=g(a);var d=i(136);var u=g(d);var h=i(179);var c=g(h);var f=i(180);var p=g(f);var m=i(204);var v=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,p["default"])(t,e);function t(e,i,n){(0,l["default"])(this,t);return(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,i,n))}(0,u["default"])(t,[{key:"_line",value:function e(t,i,n){var r=n[0];var o=n[1];this._bezierCurve(t,i,r,o)}},{key:"_getViaCoordinates",value:function e(){var t=this.from.x-this.to.x;var i=this.from.y-this.to.y;var n=void 0,r=void 0,o=void 0,s=void 0;var a=this.options.smooth.roundness;if((Math.abs(t)>Math.abs(i)||this.options.smooth.forceDirection===true||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"){r=this.from.y;s=this.to.y;n=this.from.x-a*t;o=this.to.x+a*t}else{r=this.from.y-a*i;s=this.to.y+a*i;n=this.from.x;o=this.to.x}return[{x:n,y:r},{x:o,y:s}]}},{key:"getViaNode",value:function e(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function e(t,i){return this._findBorderPositionBezier(t,i)}},{key:"_getDistanceToEdge",value:function e(t,i,n,o,s,a){var l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:this._getViaCoordinates(),d=(0,r["default"])(l,2),u=d[0],h=d[1];return this._getDistanceToBezierEdge(t,i,n,o,s,a,u,h)}},{key:"getPoint",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._getViaCoordinates(),n=(0,r["default"])(i,2),o=n[0],s=n[1];var a=t;var l=[];l[0]=Math.pow(1-a,3);l[1]=3*a*Math.pow(1-a,2);l[2]=3*Math.pow(a,2)*(1-a);l[3]=Math.pow(a,3);var d=l[0]*this.fromPoint.x+l[1]*o.x+l[2]*s.x+l[3]*this.toPoint.x;var u=l[0]*this.fromPoint.y+l[1]*o.y+l[2]*s.y+l[3]*this.toPoint.y;return{x:d,y:u}}}]);return t}(v["default"]);t["default"]=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(205);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_getDistanceToBezierEdge",value:function e(t,i,n,r,o,s,a,l){var d=1e9;var u=void 0;var h=void 0,c=void 0,f=void 0,p=void 0;var m=t;var v=i;var g=[0,0,0,0];for(h=1;h<10;h++){c=.1*h;g[0]=Math.pow(1-c,3);g[1]=3*c*Math.pow(1-c,2);g[2]=3*Math.pow(c,2)*(1-c);g[3]=Math.pow(c,3);f=g[0]*t+g[1]*a.x+g[2]*l.x+g[3]*n;p=g[0]*i+g[1]*a.y+g[2]*l.y+g[3]*r;if(h>0){u=this._getDistanceToLine(m,v,f,p,o,s);d=u<d?u:d}m=f;v=p}return d}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(206);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_findBorderPositionBezier",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this._getViaCoordinates();var r=10;var o=0;var s=0;var a=1;var l,d,u,h,c;var f=.2;var p=this.to;var m=false;if(t.id===this.from.id){p=this.from;m=true}while(s<=a&&o<r){var v=(s+a)*.5;l=this.getPoint(v,n);d=Math.atan2(p.y-l.y,p.x-l.x);u=p.distanceToBorder(i,d);h=Math.sqrt(Math.pow(l.x-p.x,2)+Math.pow(l.y-p.y,2));c=u-h;if(Math.abs(c)<f){break}else if(c<0){if(m===false){s=v}else{a=v}}else{if(m===false){a=v}else{s=v}}o++}l.t=v;return l}},{key:"_getDistanceToBezierEdge",value:function e(t,i,n,r,o,s,a){var l=1e9;var d=void 0;var u=void 0,h=void 0,c=void 0,f=void 0;var p=t;var m=i;for(u=1;u<10;u++){h=.1*u;c=Math.pow(1-h,2)*t+2*h*(1-h)*a.x+Math.pow(h,2)*n;f=Math.pow(1-h,2)*i+2*h*(1-h)*a.y+Math.pow(h,2)*r;if(u>0){d=this._getDistanceToLine(p,m,c,f,o,s);l=d<l?d:l}p=c;m=f}return l}},{key:"_bezierCurve",value:function e(t,i,n,r){var o=n!==undefined&&n.x!==undefined;var s=r!==undefined&&r.x!==undefined;t.beginPath();t.moveTo(this.fromPoint.x,this.fromPoint.y);if(o&&s){t.bezierCurveTo(n.x,n.y,r.x,r.y,this.toPoint.x,this.toPoint.y)}else if(o){t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y)}else{t.lineTo(this.toPoint.x,this.toPoint.y)}this.enableShadow(t,i);t.stroke();this.disableShadow(t,i)}},{key:"getViaNode",value:function e(){return this._getViaCoordinates()}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(171);var r=d(n);var o=i(135);var s=d(o);var a=i(136);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(1);var h=function(){function e(t,i,n){(0,s["default"])(this,e);this.body=i;this.labelModule=n;this.options={};this.setOptions(t);this.colorDirty=true;this.color={};this.selectionWidth=2;this.hoverWidth=1.5;this.fromPoint=this.from;this.toPoint=this.to}(0,l["default"])(e,[{key:"connect",value:function e(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function e(){return false}},{key:"setOptions",value:function e(t){this.options=t;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function e(t,i,n,r,o){t.strokeStyle=this.getColor(t,i,n,r);t.lineWidth=i.width;if(i.dashes!==false){this._drawDashedLine(t,i,o)}else{this._drawLine(t,i,o)}}},{key:"_drawLine",value:function e(t,i,n,o,s){if(this.from!=this.to){this._line(t,i,n,o,s)}else{var a=this._getCircleData(t),l=(0,r["default"])(a,3),d=l[0],u=l[1],h=l[2];this._circle(t,i,d,u,h)}}},{key:"_drawDashedLine",value:function e(t,i,n,o,s){t.lineCap="round";var a=[5,5];if(Array.isArray(i.dashes)===true){a=i.dashes}if(t.setLineDash!==undefined){t.save();t.setLineDash(a);t.lineDashOffset=0;if(this.from!=this.to){this._line(t,i,n)}else{var l=this._getCircleData(t),d=(0,r["default"])(l,3),u=d[0],h=d[1],c=d[2];this._circle(t,i,u,h,c)}t.setLineDash([0]);t.lineDashOffset=0;t.restore()}else{if(this.from!=this.to){t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a)}else{var f=this._getCircleData(t),p=(0,r["default"])(f,3),m=p[0],v=p[1],g=p[2];this._circle(t,i,m,v,g)}this.enableShadow(t,i);t.stroke();this.disableShadow(t,i)}}},{key:"findBorderPosition",value:function e(t,i,n){if(this.from!=this.to){return this._findBorderPosition(t,i,n)}else{return this._findBorderPositionCircle(t,i,n)}}},{key:"findBorderPositions",value:function e(t){var i={};var n={};if(this.from!=this.to){i=this._findBorderPosition(this.from,t);n=this._findBorderPosition(this.to,t)}else{var o=this._getCircleData(t),s=(0,r["default"])(o,3),a=s[0],l=s[1],d=s[2];i=this._findBorderPositionCircle(this.from,t,{x:a,y:l,low:.25,high:.6,direction:-1});n=this._findBorderPositionCircle(this.from,t,{x:a,y:l,low:.6,high:.8,direction:1})}return{from:i,to:n}}},{key:"_getCircleData",value:function e(t){var i=void 0,n=void 0;var r=this.from;var o=this.options.selfReferenceSize;if(t!==undefined){if(r.shape.width===undefined){r.shape.resize(t)}}if(r.shape.width>r.shape.height){i=r.x+r.shape.width*.5;n=r.y-o}else{i=r.x+o;n=r.y-r.shape.height*.5}return[i,n,o]}},{key:"_pointOnCircle",value:function e(t,i,n,r){var o=r*2*Math.PI;return{x:t+n*Math.cos(o),y:i-n*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function e(t,i,n){var r=n.x;var o=n.y;var s=n.low;var a=n.high;var l=n.direction;var d=10;var u=0;var h=this.options.selfReferenceSize;var c=void 0,f=void 0,p=void 0,m=void 0,v=void 0;var g=.05;var y=(s+a)*.5;while(s<=a&&u<d){y=(s+a)*.5;c=this._pointOnCircle(r,o,h,y);f=Math.atan2(t.y-c.y,t.x-c.x);p=t.distanceToBorder(i,f);m=Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2));v=p-m;if(Math.abs(v)<g){break}else if(v>0){if(l>0){s=y}else{a=y}}else{if(l>0){a=y}else{s=y}}u++}c.t=y;return c}},{key:"getLineWidth",value:function e(t,i){if(t===true){return Math.max(this.selectionWidth,.3/this.body.view.scale)}else{if(i===true){return Math.max(this.hoverWidth,.3/this.body.view.scale)}else{return Math.max(this.options.width,.3/this.body.view.scale)}}}},{key:"getColor",value:function e(t,i,n,r){if(i.inheritsColor!==false){if(i.inheritsColor==="both"&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);var s=void 0,a=void 0;s=this.from.options.color.highlight.border;a=this.to.options.color.highlight.border;if(this.from.selected===false&&this.to.selected===false){s=u.overrideOpacity(this.from.options.color.border,i.opacity);a=u.overrideOpacity(this.to.options.color.border,i.opacity)}else if(this.from.selected===true&&this.to.selected===false){a=this.to.options.color.border}else if(this.from.selected===false&&this.to.selected===true){s=this.from.options.color.border}o.addColorStop(0,s);o.addColorStop(1,a);return o}if(i.inheritsColor==="to"){return u.overrideOpacity(this.to.options.color.border,i.opacity)}else{return u.overrideOpacity(this.from.options.color.border,i.opacity)}}else{return u.overrideOpacity(i.color,i.opacity)}}},{key:"_circle",value:function e(t,i,n,r,o){this.enableShadow(t,i);t.beginPath();t.arc(n,r,o,0,2*Math.PI,false);t.stroke();this.disableShadow(t,i)}},{key:"getDistanceToEdge",value:function e(t,i,n,o,s,a,l,d){var u=0;if(this.from!=this.to){u=this._getDistanceToEdge(t,i,n,o,s,a,l)}else{var h=this._getCircleData(undefined),c=(0,r["default"])(h,3),f=c[0],p=c[1],m=c[2];var v=f-s;var g=p-a;u=Math.abs(Math.sqrt(v*v+g*g)-m)}if(this.labelModule.size.left<s&&this.labelModule.size.left+this.labelModule.size.width>s&&this.labelModule.size.top<a&&this.labelModule.size.top+this.labelModule.size.height>a){return 0}else{return u}}},{key:"_getDistanceToLine",value:function e(t,i,n,r,o,s){var a=n-t;var l=r-i;var d=a*a+l*l;var u=((o-t)*a+(s-i)*l)/d;if(u>1){u=1}else if(u<0){u=0}var h=t+u*a;var c=i+u*l;var f=h-o;var p=c-s;return Math.sqrt(f*f+p*p)}},{key:"getArrowData",value:function e(t,i,n,o,s,a){var l=void 0;var d=void 0;var u=void 0;var h=void 0;var c=void 0;var f=void 0;var p=void 0;var m=a.width;if(i==="from"){u=this.from;h=this.to;c=.1;f=a.fromArrowScale;p=a.fromArrowType}else if(i==="to"){u=this.to;h=this.from;c=-.1;f=a.toArrowScale;p=a.toArrowType}else{u=this.to;h=this.from;f=a.middleArrowScale;p=a.middleArrowType}if(u!=h){if(i!=="middle"){if(this.options.smooth.enabled===true){d=this.findBorderPosition(u,t,{via:n});var v=this.getPoint(Math.max(0,Math.min(1,d.t+c)),n);l=Math.atan2(d.y-v.y,d.x-v.x)}else{l=Math.atan2(u.y-h.y,u.x-h.x);d=this.findBorderPosition(u,t)}}else{l=Math.atan2(u.y-h.y,u.x-h.x);d=this.getPoint(.5,n)}}else{var g=this._getCircleData(t),y=(0,r["default"])(g,3),b=y[0],w=y[1],x=y[2];if(i==="from"){d=this.findBorderPosition(this.from,t,{x:b,y:w,low:.25,high:.6,direction:-1});l=d.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI}else if(i==="to"){d=this.findBorderPosition(this.from,t,{x:b,y:w,low:.6,high:1,direction:1});l=d.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI}else{d=this._pointOnCircle(b,w,x,.175);l=3.9269908169872414}}var _=15*f+3*m;var k=d.x-_*.9*Math.cos(l);var C=d.y-_*.9*Math.sin(l);var S={x:k,y:C};return{point:d,core:S,angle:l,length:_,type:p}}},{key:"drawArrowHead",value:function e(t,i,n,r,o){t.strokeStyle=this.getColor(t,i,n,r);t.fillStyle=t.strokeStyle;t.lineWidth=i.width;if(o.type&&o.type.toLowerCase()==="circle"){t.circleEndpoint(o.point.x,o.point.y,o.angle,o.length)}else{t.arrowEndpoint(o.point.x,o.point.y,o.angle,o.length)}this.enableShadow(t,i);t.fill();this.disableShadow(t,i)}},{key:"enableShadow",value:function e(t,i){if(i.shadow===true){t.shadowColor=i.shadowColor;t.shadowBlur=i.shadowSize;t.shadowOffsetX=i.shadowX;t.shadowOffsetY=i.shadowY}}},{key:"disableShadow",value:function e(t,i){if(i.shadow===true){t.shadowColor="rgba(0,0,0,0)";t.shadowBlur=0;t.shadowOffsetX=0;t.shadowOffsetY=0}}}]);return e}();t["default"]=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(171);var r=g(n);var o=i(176);var s=g(o);var a=i(135);var l=g(a);var d=i(136);var u=g(d);var h=i(179);var c=g(h);var f=i(180);var p=g(f);var m=i(205);var v=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,p["default"])(t,e);function t(e,i,n){(0,l["default"])(this,t);var r=(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,i,n));r._boundFunction=function(){r.positionBezierNode()};r.body.emitter.on("_repositionBezierNodes",r._boundFunction);return r}(0,u["default"])(t,[{key:"setOptions",value:function e(t){var i=false;if(this.options.physics!==t.physics){i=true}this.options=t;this.id=this.options.id;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.setupSupportNode();this.connect();if(i===true){this.via.setOptions({physics:this.options.physics});this.positionBezierNode()}}},{key:"connect",value:function e(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];if(this.from===undefined||this.to===undefined||this.options.physics===false){this.via.setOptions({physics:false})}else{if(this.from.id===this.to.id){this.via.setOptions({physics:false})}else{this.via.setOptions({physics:true})}}}},{key:"cleanup",value:function e(){this.body.emitter.off("_repositionBezierNodes",this._boundFunction);if(this.via!==undefined){delete this.body.nodes[this.via.id];this.via=undefined;return true}return false}},{key:"setupSupportNode",value:function e(){if(this.via===undefined){var t="edgeId:"+this.id;var i=this.body.functions.createNode({id:t,shape:"circle",physics:true,hidden:true});this.body.nodes[t]=i;this.via=i;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function e(){if(this.via!==undefined&&this.from!==undefined&&this.to!==undefined){this.via.x=.5*(this.from.x+this.to.x);this.via.y=.5*(this.from.y+this.to.y)}else if(this.via!==undefined){this.via.x=0;this.via.y=0}}},{key:"_line",value:function e(t,i,n){this._bezierCurve(t,i,n)}},{key:"getViaNode",value:function e(){return this.via}},{key:"getPoint",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.via;var n=t;var o=void 0,s=void 0;if(this.from===this.to){var a=this._getCircleData(this.from),l=(0,r["default"])(a,3),d=l[0],u=l[1],h=l[2];var c=2*Math.PI*(1-n);o=d+h*Math.sin(c);s=u+h-h*(1-Math.cos(c))}else{o=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*i.x+Math.pow(n,2)*this.toPoint.x;s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*i.y+Math.pow(n,2)*this.toPoint.y}return{x:o,y:s}}},{key:"_findBorderPosition",value:function e(t,i){return this._findBorderPositionBezier(t,i,this.via)}},{key:"_getDistanceToEdge",value:function e(t,i,n,r,o,s){return this._getDistanceToBezierEdge(t,i,n,r,o,s,this.via)}}]);return t}(v["default"]);t["default"]=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(205);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_line",value:function e(t,i,n){this._bezierCurve(t,i,n)}},{key:"getViaNode",value:function e(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function e(){var t=undefined;var i=undefined;var n=this.options.smooth.roundness;var r=this.options.smooth.type;var o=Math.abs(this.from.x-this.to.x);var s=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){var a=void 0;var l=void 0;if(o<=s){a=l=n*s}else{a=l=n*o}if(this.from.x>this.to.x)a=-a;if(this.from.y>=this.to.y)l=-l;t=this.from.x+a;i=this.from.y+l;if(r==="discrete"){if(o<=s){t=o<n*s?this.from.x:t}else{i=s<n*o?this.from.y:i}}}else if(r==="straightCross"){var d=(1-n)*o;var u=(1-n)*s;if(o<=s){d=0;if(this.from.y<this.to.y)u=-u}else{if(this.from.x<this.to.x)d=-d;u=0}t=this.to.x+d;i=this.to.y+u}else if(r==="horizontal"){var h=(1-n)*o;if(this.from.x<this.to.x)h=-h;t=this.to.x+h;i=this.from.y}else if(r==="vertical"){var c=(1-n)*s;if(this.from.y<this.to.y)c=-c;t=this.from.x;i=this.to.y+c}else if(r==="curvedCW"){o=this.to.x-this.from.x;s=this.from.y-this.to.y;var f=Math.sqrt(o*o+s*s);var p=Math.PI;var m=Math.atan2(s,o);var v=(m+(n*.5+.5)*p)%(2*p);t=this.from.x+(n*.5+.5)*f*Math.sin(v);i=this.from.y+(n*.5+.5)*f*Math.cos(v)}else if(r==="curvedCCW"){o=this.to.x-this.from.x;s=this.from.y-this.to.y;var g=Math.sqrt(o*o+s*s);var y=Math.PI;var b=Math.atan2(s,o);var w=(b+(-n*.5+.5)*y)%(2*y);t=this.from.x+(n*.5+.5)*g*Math.sin(w);i=this.from.y+(n*.5+.5)*g*Math.cos(w)}else{var x=void 0;var _=void 0;if(o<=s){x=_=n*s}else{x=_=n*o}if(this.from.x>this.to.x)x=-x;if(this.from.y>=this.to.y)_=-_;t=this.from.x+x;i=this.from.y+_;if(o<=s){if(this.from.x<=this.to.x){t=this.to.x<t?this.to.x:t}else{t=this.to.x>t?this.to.x:t}}else{if(this.from.y>=this.to.y){i=this.to.y>i?this.to.y:i}else{i=this.to.y<i?this.to.y:i}}}return{x:t,y:i}}},{key:"_findBorderPosition",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this._findBorderPositionBezier(t,i,n.via)}},{key:"_getDistanceToEdge",value:function e(t,i,n,r,o,s){var a=arguments.length>6&&arguments[6]!==undefined?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,i,n,r,o,s,a)}},{key:"getPoint",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._getViaCoordinates();var n=t;var r=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*i.x+Math.pow(n,2)*this.toPoint.x;var o=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*i.y+Math.pow(n,2)*this.toPoint.y;return{x:r,y:o}}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(206);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_line",value:function e(t,i){t.beginPath();t.moveTo(this.fromPoint.x,this.fromPoint.y);t.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(t,i);t.stroke();this.disableShadow(t,i)}},{key:"getViaNode",value:function e(){return undefined}},{key:"getPoint",value:function e(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function e(t,i){var n=this.to;var r=this.from;if(t.id===this.from.id){n=this.from;r=this.to}var o=Math.atan2(n.y-r.y,n.x-r.x);var s=n.x-r.x;var a=n.y-r.y;var l=Math.sqrt(s*s+a*a);var d=t.distanceToBorder(i,o);var u=(l-d)/l;var h={};h.x=(1-u)*r.x+u*n.x;h.y=(1-u)*r.y+u*n.y;return h}},{key:"_getDistanceToEdge",value:function e(t,i,n,r,o,s){return this._getDistanceToLine(t,i,n,r,o,s)}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(58);var r=f(n);var o=i(171);var s=f(o);var a=i(62);var l=f(a);var d=i(135);var u=f(d);var h=i(136);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=i(1);var m=i(211)["default"];var v=function(){function e(){(0,u["default"])(this,e);this.childrenReference={};this.parentReference={};this.levels={};this.trees={};this.isTree=false}(0,c["default"])(e,[{key:"addRelation",value:function e(t,i){if(this.childrenReference[t]===undefined){this.childrenReference[t]=[]}this.childrenReference[t].push(i);if(this.parentReference[i]===undefined){this.parentReference[i]=[]}this.parentReference[i].push(t)}},{key:"checkIfTree",value:function e(){for(var t in this.parentReference){if(this.parentReference[t].length>1){this.isTree=false;return}}this.isTree=true}},{key:"ensureLevel",value:function e(t){if(this.levels[t]===undefined){this.levels[t]=0}}},{key:"getMaxLevel",value:function e(t){var i=this;var n={};var r=function e(t){if(n[t]!==undefined){return n[t]}var r=i.levels[t];if(i.childrenReference[t]){var o=i.childrenReference[t];if(o.length>0){for(var s=0;s<o.length;s++){r=Math.max(r,e(o[s]))}}}n[t]=r;return r};return r(t)}},{key:"levelDownstream",value:function e(t,i){if(this.levels[i.id]===undefined){if(this.levels[t.id]===undefined){this.levels[t.id]=0}this.levels[i.id]=this.levels[t.id]+1}}},{key:"setMinLevelToZero",value:function e(t){var i=1e9;for(var n in t){if(t.hasOwnProperty(n)){if(this.levels[n]!==undefined){i=Math.min(this.levels[n],i)}}}for(var r in t){if(t.hasOwnProperty(r)){if(this.levels[r]!==undefined){this.levels[r]-=i}}}}},{key:"getTreeSize",value:function e(t,i){var n=1e9;var r=-1e9;var o=1e9;var s=-1e9;for(var a in this.trees){if(this.trees.hasOwnProperty(a)){if(this.trees[a]===i){var l=t[a];n=Math.min(l.x,n);r=Math.max(l.x,r);o=Math.min(l.y,o);s=Math.max(l.y,s)}}}return{min_x:n,max_x:r,min_y:o,max_y:s}}}]);return e}();var g=function(){function e(t){(0,u["default"])(this,e);this.body=t;this.initialRandomSeed=Math.round(Math.random()*1e6);this.randomSeed=this.initialRandomSeed;this.setPhysics=false;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:undefined,improvedLayout:true,hierarchical:{enabled:false,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:true,edgeMinimization:true,parentCentralization:true,direction:"UD",sortMethod:"hubsize"}};p.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,c["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()});this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(t.options.hierarchical.enabled!==true){return}var e=t.getStaticType();t.body.emitter.emit("_forceDisableDynamicCurves",e,false)})}},{key:"setOptions",value:function e(t,i){if(t!==undefined){var n=this.options.hierarchical;var r=n.enabled;p.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t);p.mergeOptions(this.options,t,"hierarchical");if(t.randomSeed!==undefined){this.initialRandomSeed=t.randomSeed}if(n.enabled===true){if(r===true){this.body.emitter.emit("refresh",true)}if(n.direction==="RL"||n.direction==="DU"){if(n.levelSeparation>0){n.levelSeparation*=-1}}else{if(n.levelSeparation<0){n.levelSeparation*=-1}}this.body.emitter.emit("_resetHierarchicalLayout");return this.adaptAllOptionsForHierarchicalLayout(i)}else{if(r===true){this.body.emitter.emit("refresh");return p.deepExtend(i,this.optionsBackup)}}}return i}},{key:"adaptAllOptionsForHierarchicalLayout",value:function e(t){if(this.options.hierarchical.enabled===true){var i=this.optionsBackup.physics;if(t.physics===undefined||t.physics===true){t.physics={enabled:i.enabled===undefined?true:i.enabled,solver:"hierarchicalRepulsion"};i.enabled=i.enabled===undefined?true:i.enabled;i.solver=i.solver||"barnesHut"}else if((0,l["default"])(t.physics)==="object"){i.enabled=t.physics.enabled===undefined?true:t.physics.enabled;i.solver=t.physics.solver||"barnesHut";t.physics.solver="hierarchicalRepulsion"}else if(t.physics!==false){i.solver="barnesHut";t.physics={solver:"hierarchicalRepulsion"}}var n=this.getStaticType();if(t.edges===undefined){this.optionsBackup.edges={smooth:{enabled:true,type:"dynamic"}};t.edges={smooth:false}}else if(t.edges.smooth===undefined){this.optionsBackup.edges={smooth:{enabled:true,type:"dynamic"}};t.edges.smooth=false}else{if(typeof t.edges.smooth==="boolean"){this.optionsBackup.edges={smooth:t.edges.smooth};t.edges.smooth={enabled:t.edges.smooth,type:n}}else{var r=t.edges.smooth;if(r.type!==undefined&&r.type!=="dynamic"){n=r.type}this.optionsBackup.edges={smooth:r.enabled===undefined?true:r.enabled,type:r.type===undefined?"dynamic":r.type,roundness:r.roundness===undefined?.5:r.roundness,forceDirection:r.forceDirection===undefined?false:r.forceDirection};t.edges.smooth={enabled:r.enabled===undefined?true:r.enabled,type:n,roundness:r.roundness===undefined?.5:r.roundness,forceDirection:r.forceDirection===undefined?false:r.forceDirection}}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"seededRandom",value:function e(){var t=Math.sin(this.randomSeed++)*1e4;return t-Math.floor(t)}},{key:"positionInitially",value:function e(t){if(this.options.hierarchical.enabled!==true){this.randomSeed=this.initialRandomSeed;var i=t.length+50;for(var n=0;n<t.length;n++){var r=t[n];var o=2*Math.PI*this.seededRandom();if(r.x===undefined){r.x=i*Math.cos(o)}if(r.y===undefined){r.y=i*Math.sin(o)}}}}},{key:"layoutNetwork",value:function e(){if(this.options.hierarchical.enabled!==true&&this.options.improvedLayout===true){var t=this.body.nodeIndices;var i=0;for(var n=0;n<t.length;n++){var r=this.body.nodes[t[n]];if(r.predefinedPosition===true){i+=1}}if(i<.5*t.length){var o=10;var s=0;var a=150;var l={clusterEdgeProperties:{smooth:{enabled:false}}};if(t.length>a){var d=t.length;while(t.length>a&&s<=o){s+=1;var u=t.length;if(s%3===0){this.body.modules.clustering.clusterBridges(l)}else{this.body.modules.clustering.clusterOutliers(l)}var h=t.length;if(u==h&&s%3!==0){this._declusterAll();this.body.emitter.emit("_layoutFailed");console.info("This network could not be positioned by this version of the improved layout algorithm."+" Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}if(s>o){console.info("The clustering didn't succeed within the amount of interations allowed,"+" progressing with partial result.")}this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,true);this._shiftToCenter();var c=70;for(var f=0;f<t.length;f++){var p=this.body.nodes[t[f]];if(p.predefinedPosition===false){p.x+=(.5-this.seededRandom())*c;p.y+=(.5-this.seededRandom())*c}}this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function e(){var t=m.getRangeCore(this.body.nodes,this.body.nodeIndices);var i=m.findCenter(t);for(var n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.x-=i.x;r.y-=i.y}}},{key:"_declusterAll",value:function e(){var t=true;while(t===true){t=false;for(var i=0;i<this.body.nodeIndices.length;i++){if(this.body.nodes[this.body.nodeIndices[i]].isCluster===true){t=true;this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},false)}}if(t===true){this.body.emitter.emit("_dataChanged")}}}},{key:"getSeed",value:function e(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function e(){if(this.options.hierarchical.enabled===true&&this.body.nodeIndices.length>0){var t=void 0,i=void 0;var n=false;var r=true;var o=false;this.lastNodeOnLevel={};this.hierarchical=new v;this.treeIndex=-1;this.distributionOrdering={};this.distributionIndex={};this.distributionOrderingPresence={};for(i in this.body.nodes){if(this.body.nodes.hasOwnProperty(i)){t=this.body.nodes[i];if(t.options.x===undefined&&t.options.y===undefined){r=false}if(t.options.level!==undefined){n=true;this.hierarchical.levels[i]=t.options.level}else{o=true}}}if(o===true&&n===true){throw new Error("To use the hierarchical layout, nodes require either no predefined levels"+" or levels have to be defined for all nodes.")}else{if(o===true){var s=this.options.hierarchical.sortMethod;if(s==="hubsize"){this._determineLevelsByHubsize()}else if(s==="directed"){this._determineLevelsDirected()}else if(s==="custom"){this._determineLevelsCustomCallback()}}for(var a in this.body.nodes){if(this.body.nodes.hasOwnProperty(a)){this.hierarchical.ensureLevel(a)}}var l=this._getDistribution();this._generateMap();this._placeNodesByHierarchy(l);this._condenseHierarchy();this._shiftToCenter()}}}},{key:"_condenseHierarchy",value:function e(){var t=this;var i=false;var n={};var o=function e(){var i=d();var n=0;for(var r=0;r<i.length-1;r++){var o=i[r].max-i[r+1].min;n+=o+t.options.hierarchical.treeSpacing;a(r+1,n)}};var a=function e(i,n){for(var r in t.hierarchical.trees){if(t.hierarchical.trees.hasOwnProperty(r)){if(t.hierarchical.trees[r]===i){var o=t.body.nodes[r];var s=t._getPositionForHierarchy(o);t._setPositionForHierarchy(o,s+n,undefined,true)}}}};var l=function e(i){var n=t.hierarchical.getTreeSize(t.body.nodes,i);if(t._isVertical()){return{min:n.min_x,max:n.max_x}}else{return{min:n.min_y,max:n.max_y}}};var d=function e(){var i=[];for(var n=0;n<=t.treeIndex;n++){i.push(l(n))}return i};var u=function e(i,n){if(n[i.id]){return}n[i.id]=true;if(t.hierarchical.childrenReference[i.id]){var r=t.hierarchical.childrenReference[i.id];if(r.length>0){for(var o=0;o<r.length;o++){e(t.body.nodes[r[o]],n)}}}};var h=function e(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e9;var r=1e9;var o=1e9;var a=1e9;var l=-1e9;for(var d in i){if(i.hasOwnProperty(d)){var u=t.body.nodes[d];var h=t.hierarchical.levels[u.id];var c=t._getPositionForHierarchy(u);var f=t._getSpaceAroundNode(u,i),p=(0,s["default"])(f,2),m=p[0],v=p[1];r=Math.min(m,r);o=Math.min(v,o);if(h<=n){a=Math.min(c,a);l=Math.max(c,l)}}}return[a,l,r,o]};var c=function e(i,n){var r=t.hierarchical.getMaxLevel(i.id);var o=t.hierarchical.getMaxLevel(n.id);return Math.min(r,o)};var f=function e(i,n){var r=t.hierarchical.parentReference[i.id];var o=t.hierarchical.parentReference[n.id];if(r===undefined||o===undefined){return false}for(var s=0;s<r.length;s++){for(var a=0;a<o.length;a++){if(r[s]==o[a]){return true}}}return false};var p=function e(i,n,r){for(var o=0;o<n.length;o++){var s=n[o];var a=t.distributionOrdering[s];if(a.length>1){for(var l=0;l<a.length-1;l++){if(f(a[l],a[l+1])===true){if(t.hierarchical.trees[a[l].id]===t.hierarchical.trees[a[l+1].id]){i(a[l],a[l+1],r)}}}}}};var m=function e(n,r){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=t._getPositionForHierarchy(n);var l=t._getPositionForHierarchy(r);var d=Math.abs(l-a);var f=t.options.hierarchical.nodeSpacing;if(d>f){var p={};var m={};u(n,p);u(r,m);var v=c(n,r);var g=h(p,v),y=(0,s["default"])(g,4),b=y[0],w=y[1],x=y[2],_=y[3];var k=h(m,v),C=(0,s["default"])(k,4),S=C[0],T=C[1],D=C[2],E=C[3];var O=Math.abs(w-S);if(O>f){var P=w-S+f;if(P<-D+f){P=-D+f}if(P<0){t._shiftBlock(r.id,P);i=true;if(o===true)t._centerParent(r)}}}};var v=function e(r,o){var a=o.id;var l=o.edges;var d=t.hierarchical.levels[o.id];var c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation;var f={};var p=[];for(var m=0;m<l.length;m++){var v=l[m];if(v.toId!=v.fromId){var g=v.toId==a?v.from:v.to;f[l[m].id]=g;if(t.hierarchical.levels[g.id]<d){p.push(v)}}}var y=function e(i,n){var r=0;for(var o=0;o<n.length;o++){if(f[n[o].id]!==undefined){var s=t._getPositionForHierarchy(f[n[o].id])-i;r+=s/Math.sqrt(s*s+c)}}return r};var b=function e(i,n){var r=0;for(var o=0;o<n.length;o++){if(f[n[o].id]!==undefined){var s=t._getPositionForHierarchy(f[n[o].id])-i;r-=c*Math.pow(s*s+c,-1.5)}}return r};var w=function e(i,n){var r=t._getPositionForHierarchy(o);var s={};for(var a=0;a<i;a++){var l=y(r,n);var d=b(r,n);var u=40;var h=Math.max(-u,Math.min(u,Math.round(l/d)));r=r-h;if(s[r]!==undefined){break}s[r]=a}return r};var x=function e(r){var a=t._getPositionForHierarchy(o);if(n[o.id]===undefined){var l={};u(o,l);n[o.id]=l}var d=h(n[o.id]),c=(0,s["default"])(d,4),f=c[0],p=c[1],m=c[2],v=c[3];var g=r-a;var y=0;if(g>0){y=Math.min(g,v-t.options.hierarchical.nodeSpacing)}else if(g<0){y=-Math.min(-g,m-t.options.hierarchical.nodeSpacing)}if(y!=0){t._shiftBlock(o.id,y);i=true}};var _=function e(n){var r=t._getPositionForHierarchy(o);var a=t._getSpaceAroundNode(o),l=(0,s["default"])(a,2),d=l[0],u=l[1];var h=n-r;var c=r;if(h>0){c=Math.min(r+(u-t.options.hierarchical.nodeSpacing),n)}else if(h<0){c=Math.max(r-(d-t.options.hierarchical.nodeSpacing),n)}if(c!==r){t._setPositionForHierarchy(o,c,undefined,true);i=true}};var k=w(r,p);x(k);k=w(r,l);_(k)};var g=function e(n){var o=(0,r["default"])(t.distributionOrdering);o=o.reverse();for(var s=0;s<n;s++){i=false;for(var a=0;a<o.length;a++){var l=o[a];var d=t.distributionOrdering[l];for(var u=0;u<d.length;u++){v(1e3,d[u])}}if(i!==true){break}}};var y=function e(n){var o=(0,r["default"])(t.distributionOrdering);o=o.reverse();for(var s=0;s<n;s++){i=false;p(m,o,true);if(i!==true){break}}};var b=function e(){for(var i in t.body.nodes){if(t.body.nodes.hasOwnProperty(i))t._centerParent(t.body.nodes[i])}};var w=function e(){var i=(0,r["default"])(t.distributionOrdering);i=i.reverse();for(var n=0;n<i.length;n++){var o=i[n];var s=t.distributionOrdering[o];for(var a=0;a<s.length;a++){t._centerParent(s[a])}}};if(this.options.hierarchical.blockShifting===true){y(5);b()}if(this.options.hierarchical.edgeMinimization===true){g(20)}if(this.options.hierarchical.parentCentralization===true){w()}o()}},{key:"_getSpaceAroundNode",value:function e(t,i){var n=true;if(i===undefined){n=false}var r=this.hierarchical.levels[t.id];if(r!==undefined){var o=this.distributionIndex[t.id];var s=this._getPositionForHierarchy(t);var a=this.distributionOrdering[r];var l=1e9;var d=1e9;if(o!==0){var u=a[o-1];if(n===true&&i[u.id]===undefined||n===false){var h=this._getPositionForHierarchy(u);l=s-h}}if(o!=a.length-1){var c=a[o+1];if(n===true&&i[c.id]===undefined||n===false){var f=this._getPositionForHierarchy(c);d=Math.min(d,f-s)}}return[l,d]}else{return[0,0]}}},{key:"_centerParent",value:function e(t){if(this.hierarchical.parentReference[t.id]){var i=this.hierarchical.parentReference[t.id];for(var n=0;n<i.length;n++){var r=i[n];var o=this.body.nodes[r];var a=this.hierarchical.childrenReference[r];if(a!==undefined){var l=this._getCenterPosition(a);var d=this._getPositionForHierarchy(o);var u=this._getSpaceAroundNode(o),h=(0,s["default"])(u,2),c=h[0],f=h[1];var p=d-l;if(p<0&&Math.abs(p)<f-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing){this._setPositionForHierarchy(o,l,undefined,true)}}}}}},{key:"_placeNodesByHierarchy",value:function e(t){this.positionedNodes={};for(var i in t){if(t.hasOwnProperty(i)){var n=(0,r["default"])(t[i]);n=this._indexArrayToNodes(n);this._sortNodeArray(n);var o=0;for(var s=0;s<n.length;s++){var a=n[s];if(this.positionedNodes[a.id]===undefined){var l=this.options.hierarchical.nodeSpacing;var d=l*o;if(o>0){d=this._getPositionForHierarchy(n[s-1])+l}this._setPositionForHierarchy(a,d,i);this._validatePositionAndContinue(a,i,d);o++}}}}}},{key:"_placeBranchNodes",value:function e(t,i){var n=this.hierarchical.childrenReference[t];if(n===undefined){return}var r=[];for(var o=0;o<n.length;o++){r.push(this.body.nodes[n[o]])}this._sortNodeArray(r);for(var s=0;s<r.length;s++){var a=r[s];var l=this.hierarchical.levels[a.id];if(l>i&&this.positionedNodes[a.id]===undefined){var d=this.options.hierarchical.nodeSpacing;var u=void 0;if(s===0){u=this._getPositionForHierarchy(this.body.nodes[t])}else{u=this._getPositionForHierarchy(r[s-1])+d}this._setPositionForHierarchy(a,u,l);this._validatePositionAndContinue(a,l,u)}else{return}}var h=this._getCenterPosition(r);this._setPositionForHierarchy(this.body.nodes[t],h,i)}},{key:"_validatePositionAndContinue",value:function e(t,i,n){if(!this.hierarchical.isTree)return;if(this.lastNodeOnLevel[i]!==undefined){var r=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[i]]);if(n-r<this.options.hierarchical.nodeSpacing){var o=r+this.options.hierarchical.nodeSpacing-n;var s=this._findCommonParent(this.lastNodeOnLevel[i],t.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[i]=t.id;this.positionedNodes[t.id]=true;this._placeBranchNodes(t.id,i)}},{key:"_indexArrayToNodes",value:function e(t){var i=[];for(var n=0;n<t.length;n++){i.push(this.body.nodes[t[n]])}return i}},{key:"_getDistribution",value:function e(){var t={};var i=void 0,n=void 0;for(i in this.body.nodes){if(this.body.nodes.hasOwnProperty(i)){n=this.body.nodes[i];var r=this.hierarchical.levels[i]===undefined?0:this.hierarchical.levels[i];if(this._isVertical()){n.y=this.options.hierarchical.levelSeparation*r;n.options.fixed.y=true}else{n.x=this.options.hierarchical.levelSeparation*r;n.options.fixed.x=true}if(t[r]===undefined){t[r]={}}t[r][i]=n}}return t}},{key:"_getActiveEdges",value:function e(t){var i=[];for(var n in t.edges){var r=t.edges[n];if(this.body.edgeIndices.indexOf(r.id)!==-1){i.push(r)}}return i}},{key:"_getHubSizes",value:function e(){var t={};var i=this.body.nodeIndices;for(var n in i){var r=i[n];var o=this.body.nodes[r];var s=this._getActiveEdges(o).length;t[s]=true}var a=[];for(var l in t){a.push(Number(l))}a.sort(function(e,t){return t-e});return a}},{key:"_determineLevelsByHubsize",value:function e(){var t=this;var i=function e(i,n){t.hierarchical.levelDownstream(i,n)};var n=this._getHubSizes();for(var r=0;r<n.length;++r){var o=n[r];if(o===0)break;var s=this.body.nodeIndices;for(var a in s){var l=s[a];var d=this.body.nodes[l];if(o===this._getActiveEdges(d).length){this._crawlNetwork(i,l)}}}}},{key:"_determineLevelsCustomCallback",value:function e(){var t=this;var i=1e5;var n=function e(t,i,n){};var r=function e(r,o,s){var a=t.hierarchical.levels[r.id];if(a===undefined){a=t.hierarchical.levels[r.id]=i}var l=n(m.cloneOptions(r,"node"),m.cloneOptions(o,"node"),m.cloneOptions(s,"edge"));t.hierarchical.levels[o.id]=a+l};this._crawlNetwork(r);this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function e(){var t=this;var i=1e4;var n=function e(n,r,o){var s=t.hierarchical.levels[n.id];if(s===undefined){s=t.hierarchical.levels[n.id]=i}if(o.toId==r.id){t.hierarchical.levels[r.id]=s+1}else{t.hierarchical.levels[r.id]=s-1}};this._crawlNetwork(n);this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function e(){var t=this;var i=function e(i,n){if(t.hierarchical.levels[n.id]>t.hierarchical.levels[i.id]){t.hierarchical.addRelation(i.id,n.id)}};this._crawlNetwork(i);this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){};var n=arguments[1];var r={};var o=0;var s=function e(n,o){if(r[n.id]===undefined){if(t.hierarchical.trees[n.id]===undefined){t.hierarchical.trees[n.id]=o;t.treeIndex=Math.max(o,t.treeIndex)}r[n.id]=true;var s=void 0;var a=t._getActiveEdges(n);for(var l=0;l<a.length;l++){var d=a[l];if(d.connected===true){if(d.toId==n.id){s=d.from}else{s=d.to}if(n.id!=s.id){i(n,s,d);e(s,o)}}}}};if(n===undefined){for(var a=0;a<this.body.nodeIndices.length;a++){var l=this.body.nodes[this.body.nodeIndices[a]];if(r[l.id]===undefined){s(l,o);o+=1}}}else{var d=this.body.nodes[n];if(d===undefined){console.error("Node not found:",n);return}s(d)}}},{key:"_shiftBlock",value:function e(t,i){var n=this;var r={};var o=function e(t){if(r[t]){return}r[t]=true;if(n._isVertical()){n.body.nodes[t].x+=i}else{n.body.nodes[t].y+=i}var o=n.hierarchical.childrenReference[t];if(o!==undefined){for(var s=0;s<o.length;s++){e(o[s])}}};o(t)}},{key:"_findCommonParent",value:function e(t,i){var n=this;var r={};var o=function e(t,i){var r=n.hierarchical.parentReference[i];if(r!==undefined){for(var o=0;o<r.length;o++){var s=r[o];t[s]=true;e(t,s)}}};var s=function e(t,i){var r=n.hierarchical.parentReference[i];if(r!==undefined){for(var o=0;o<r.length;o++){var s=r[o];if(t[s]!==undefined){return{foundParent:s,withChild:i}}var a=e(t,s);if(a.foundParent!==null){return a}}}return{foundParent:null,withChild:i}};o(r,t);return s(r,i)}},{key:"_setPositionForHierarchy",value:function e(t,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(r!==true){if(this.distributionOrdering[n]===undefined){this.distributionOrdering[n]=[];this.distributionOrderingPresence[n]={}}if(this.distributionOrderingPresence[n][t.id]===undefined){this.distributionOrdering[n].push(t);this.distributionIndex[t.id]=this.distributionOrdering[n].length-1}this.distributionOrderingPresence[n][t.id]=true}if(this._isVertical()){t.x=i}else{t.y=i}}},{key:"_isVertical",value:function e(){return this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"}},{key:"_getPositionForHierarchy",value:function e(t){if(this._isVertical()){return t.x}else{return t.y}}},{key:"_sortNodeArray",value:function e(t){if(t.length>1){if(this._isVertical()){t.sort(function(e,t){return e.x-t.x})}else{t.sort(function(e,t){return e.y-t.y})}}}},{key:"getStaticType",value:function e(){var t="horizontal";if(!this._isVertical()){t="vertical"}return t}},{key:"_getCenterPosition",value:function e(t){var i=1e9;var n=-1e9;for(var r=0;r<t.length;r++){var o=void 0;if(t[r].id!==undefined){o=t[r]}else{var s=t[r];o=this.body.nodes[s]}var a=this._getPositionForHierarchy(o);i=Math.min(i,a);n=Math.max(n,a)}return.5*(i+n)}}]);return e}();t["default"]=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=function(){function e(){(0,r["default"])(this,e)}(0,s["default"])(e,null,[{key:"getRange",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=1e9,r=-1e9,o=1e9,s=-1e9,a;if(i.length>0){for(var l=0;l<i.length;l++){a=t[i[l]];if(o>a.shape.boundingBox.left){o=a.shape.boundingBox.left}if(s<a.shape.boundingBox.right){s=a.shape.boundingBox.right}if(n>a.shape.boundingBox.top){n=a.shape.boundingBox.top}if(r<a.shape.boundingBox.bottom){r=a.shape.boundingBox.bottom}}}if(o===1e9&&s===-1e9&&n===1e9&&r===-1e9){n=0,r=0,o=0,s=0}return{minX:o,maxX:s,minY:n,maxY:r}}},{key:"getRangeCore",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=1e9,r=-1e9,o=1e9,s=-1e9,a;if(i.length>0){for(var l=0;l<i.length;l++){a=t[i[l]];if(o>a.x){o=a.x}if(s<a.x){s=a.x}if(n>a.y){n=a.y}if(r<a.y){r=a.y}}}if(o===1e9&&s===-1e9&&n===1e9&&r===-1e9){n=0,r=0,o=0,s=0}return{minX:o,maxX:s,minY:n,maxY:r}}},{key:"findCenter",value:function e(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function e(t,i){var n={};if(i===undefined||i==="node"){l.deepExtend(n,t.options,true);n.x=t.x;n.y=t.y;n.amountOfConnections=t.edges.length}else{l.deepExtend(n,t.options,true)}return n}}]);return e}();t["default"]=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(58);var r=d(n);var o=i(135);var s=d(o);var a=i(136);var l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var u=i(213)["default"];var h=i(214)["default"];var c=i(215)["default"];var f=i(216)["default"];var p=i(217)["default"];var m=i(218)["default"];var v=i(219)["default"];var g=i(220)["default"];var y=i(1);var b=function(){function e(t){(0,s["default"])(this,e);this.body=t;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=true;this.simulationInterval=1e3/60;this.requiresTimeout=true;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=undefined;this.adaptiveTimestep=false;this.adaptiveTimestepEnabled=false;this.adaptiveCounter=0;this.adaptiveInterval=3;this.stabilized=false;this.startedStabilization=false;this.stabilizationIterations=0;this.ready=false;this.options={};this.defaultOptions={enabled:true,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:true,iterations:1e3,updateInterval:50,onlyDynamicEdges:false,fit:true},timestep:.5,adaptiveTimestep:true};y.extend(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=false;this.bindEventListeners()}(0,l["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()});this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=true});this.body.emitter.on("resetPhysics",function(){t.stopSimulation();t.ready=false});this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=false;t.stopSimulation()});this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options);if(t.ready===true){t.startSimulation()}});this.body.emitter.on("startSimulation",function(){if(t.ready===true){t.startSimulation()}});this.body.emitter.on("stopSimulation",function(){t.stopSimulation()});this.body.emitter.on("destroy",function(){t.stopSimulation(false);t.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function e(t){if(t!==undefined){if(t===false){this.options.enabled=false;this.physicsEnabled=false;this.stopSimulation()}else{this.physicsEnabled=true;y.selectiveNotDeepExtend(["stabilization"],this.options,t);y.mergeOptions(this.options,t,"stabilization");if(t.enabled===undefined){this.options.enabled=true}if(this.options.enabled===false){this.physicsEnabled=false;this.stopSimulation()}this.timestep=this.options.timestep}}this.init()}},{key:"init",value:function e(){var t;if(this.options.solver==="forceAtlas2Based"){t=this.options.forceAtlas2Based;this.nodesSolver=new v(this.body,this.physicsBody,t);this.edgesSolver=new f(this.body,this.physicsBody,t);this.gravitySolver=new g(this.body,this.physicsBody,t)}else if(this.options.solver==="repulsion"){t=this.options.repulsion;this.nodesSolver=new h(this.body,this.physicsBody,t);this.edgesSolver=new f(this.body,this.physicsBody,t);this.gravitySolver=new m(this.body,this.physicsBody,t)}else if(this.options.solver==="hierarchicalRepulsion"){t=this.options.hierarchicalRepulsion;this.nodesSolver=new c(this.body,this.physicsBody,t);this.edgesSolver=new p(this.body,this.physicsBody,t);this.gravitySolver=new m(this.body,this.physicsBody,t)}else{t=this.options.barnesHut;this.nodesSolver=new u(this.body,this.physicsBody,t);this.edgesSolver=new f(this.body,this.physicsBody,t);this.gravitySolver=new m(this.body,this.physicsBody,t)}this.modelOptions=t}},{key:"initPhysics",value:function e(){if(this.physicsEnabled===true&&this.options.enabled===true){if(this.options.stabilization.enabled===true){this.stabilize()}else{this.stabilized=false;this.ready=true;this.body.emitter.emit("fit",{},this.layoutFailed);this.startSimulation()}}else{this.ready=true;this.body.emitter.emit("fit")}}},{key:"startSimulation",value:function e(){if(this.physicsEnabled===true&&this.options.enabled===true){this.stabilized=false;this.adaptiveTimestep=false;this.body.emitter.emit("_resizeNodes");if(this.viewFunction===undefined){this.viewFunction=this.simulationStep.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}else{this.body.emitter.emit("_redraw")}}},{key:"stopSimulation",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.stabilized=true;if(t===true){this._emitStabilized()}if(this.viewFunction!==undefined){this.body.emitter.off("initRedraw",this.viewFunction);this.viewFunction=undefined;if(t===true){this.body.emitter.emit("_stopRendering")}}}},{key:"simulationStep",value:function e(){var t=Date.now();this.physicsTick();var i=Date.now()-t;if((i<.4*this.simulationInterval||this.runDoubleSpeed===true)&&this.stabilized===false){this.physicsTick();this.runDoubleSpeed=true}if(this.stabilized===true){this.stopSimulation()}}},{key:"_emitStabilized",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.stabilizationIterations;if(this.stabilizationIterations>1||this.startedStabilization===true){setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:i});t.startedStabilization=false;t.stabilizationIterations=0},0)}}},{key:"physicsTick",value:function e(){if(this.startedStabilization===false){this.body.emitter.emit("startStabilizing");this.startedStabilization=true}if(this.stabilized===false){if(this.adaptiveTimestep===true&&this.adaptiveTimestepEnabled===true){var t=1.2;if(this.adaptiveCounter%this.adaptiveInterval===0){this.timestep=2*this.timestep;this.calculateForces();this.moveNodes();this.revert();this.timestep=.5*this.timestep;this.calculateForces();this.moveNodes();this.calculateForces();this.moveNodes();if(this._evaluateStepQuality()===true){this.timestep=t*this.timestep}else{if(this.timestep/t<this.options.timestep){this.timestep=this.options.timestep}else{this.adaptiveCounter=-1;this.timestep=Math.max(this.options.timestep,this.timestep/t)}}}else{this.calculateForces();this.moveNodes()}this.adaptiveCounter+=1}else{this.timestep=this.options.timestep;this.calculateForces();this.moveNodes()}if(this.stabilized===true){this.revert()}this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function e(){this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes;var i=this.body.edges;for(var n in t){if(t.hasOwnProperty(n)){if(t[n].options.physics===true){this.physicsBody.physicsNodeIndices.push(t[n].id)}}}for(var r in i){if(i.hasOwnProperty(r)){if(i[r].options.physics===true){this.physicsBody.physicsEdgeIndices.push(i[r].id)}}}for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0};if(this.physicsBody.velocities[s]===undefined){this.physicsBody.velocities[s]={x:0,y:0}}}for(var a in this.physicsBody.velocities){if(t[a]===undefined){delete this.physicsBody.velocities[a]}}}},{key:"revert",value:function e(){var t=(0,r["default"])(this.previousStates);var i=this.body.nodes;var n=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var s=t[o];if(i[s]!==undefined){if(i[s].options.physics===true){this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}};n[s].x=this.previousStates[s].vx;n[s].y=this.previousStates[s].vy;i[s].x=this.previousStates[s].x;i[s].y=this.previousStates[s].y}}else{delete this.previousStates[s]}}}},{key:"_evaluateStepQuality",value:function e(){var t=void 0,i=void 0,n=void 0;var r=this.body.nodes;var o=this.referenceState;var s=.3;for(var a in this.referenceState){if(this.referenceState.hasOwnProperty(a)&&r[a]!==undefined){t=r[a].x-o[a].positions.x;i=r[a].y-o[a].positions.y;n=Math.sqrt(Math.pow(t,2)+Math.pow(i,2));if(n>s){return false}}}return true}},{key:"moveNodes",value:function e(){var t=this.physicsBody.physicsNodeIndices;var i=this.options.maxVelocity?this.options.maxVelocity:1e9;var n=0;var r=0;var o=5;for(var s=0;s<t.length;s++){var a=t[s];var l=this._performStep(a,i);n=Math.max(n,l);r+=l}this.adaptiveTimestepEnabled=r/t.length<o;this.stabilized=n<this.options.minVelocity}},{key:"_performStep",value:function e(t,i){var n=this.body.nodes[t];var r=this.timestep;var o=this.physicsBody.forces;var s=this.physicsBody.velocities;this.previousStates[t]={x:n.x,y:n.y,vx:s[t].x,vy:s[t].y};if(n.options.fixed.x===false){var a=this.modelOptions.damping*s[t].x;var l=(o[t].x-a)/n.options.mass;s[t].x+=l*r;s[t].x=Math.abs(s[t].x)>i?s[t].x>0?i:-i:s[t].x;n.x+=s[t].x*r}else{o[t].x=0;s[t].x=0}if(n.options.fixed.y===false){var d=this.modelOptions.damping*s[t].y;var u=(o[t].y-d)/n.options.mass;s[t].y+=u*r;s[t].y=Math.abs(s[t].y)>i?s[t].y>0?i:-i:s[t].y;n.y+=s[t].y*r}else{o[t].y=0;s[t].y=0}var h=Math.sqrt(Math.pow(s[t].x,2)+Math.pow(s[t].y,2));return h}},{key:"calculateForces",value:function e(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve()}},{key:"_freezeNodes",value:function e(){var t=this.body.nodes;for(var i in t){if(t.hasOwnProperty(i)){if(t[i].x&&t[i].y){this.freezeCache[i]={x:t[i].options.fixed.x,y:t[i].options.fixed.y};t[i].options.fixed.x=true;t[i].options.fixed.y=true}}}}},{key:"_restoreFrozenNodes",value:function e(){var t=this.body.nodes;for(var i in t){if(t.hasOwnProperty(i)){if(this.freezeCache[i]!==undefined){t[i].options.fixed.x=this.freezeCache[i].x;t[i].options.fixed.y=this.freezeCache[i].y}}}this.freezeCache={}}},{key:"stabilize",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.stabilization.iterations;if(typeof i!=="number"){console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations);i=this.options.stabilization.iterations}if(this.physicsBody.physicsNodeIndices.length===0){this.ready=true;return}this.adaptiveTimestep=true&&this.options.adaptiveTimestep;this.body.emitter.emit("_resizeNodes");this.stopSimulation();this.stabilized=false;this.body.emitter.emit("_blockRedraw");this.targetIterations=i;if(this.options.stabilization.onlyDynamicEdges===true){this._freezeNodes()}this.stabilizationIterations=0;setTimeout(function(){return t._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function e(){var t=this;var i=function e(){return t.stabilized===false&&t.stabilizationIterations<t.targetIterations};var n=function e(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};if(this.startedStabilization===false){this.body.emitter.emit("startStabilizing");this.startedStabilization=true;n()}var r=0;while(i()&&r<this.options.stabilization.updateInterval){this.physicsTick();r++}n();if(i()){setTimeout(this._stabilizationBatch.bind(this),0)}else{this._finalizeStabilization()}}},{key:"_finalizeStabilization",value:function e(){this.body.emitter.emit("_allowRedraw");if(this.options.stabilization.fit===true){this.body.emitter.emit("fit")}if(this.options.stabilization.onlyDynamicEdges===true){this._restoreFrozenNodes()}this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");if(this.stabilized===true){this._emitStabilized()}else{this.startSimulation()}this.ready=true}},{key:"_drawForces",value:function e(t){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var n=this.body.nodes[this.physicsBody.physicsNodeIndices[i]];var r=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[i]];var o=20;var s=.03;var a=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2));var l=Math.min(Math.max(5,a),15);var d=3*l;var u=y.HSVToHex((180-Math.min(1,Math.max(0,s*a))*180)/360,1,1);t.lineWidth=l;t.strokeStyle=u;t.beginPath();t.moveTo(n.x,n.y);t.lineTo(n.x+o*r.x,n.y+o*r.y);t.stroke();var h=Math.atan2(r.y,r.x);t.fillStyle=u;t.arrowEndpoint(n.x+o*r.x+Math.cos(h)*d,n.y+o*r.y+Math.sin(h)*d,h,d);t.fill()}}}]);return e}();t["default"]=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.barnesHutTree;this.setOptions(n);this.randomSeed=5}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function e(){var t=Math.sin(this.randomSeed++)*1e4;return t-Math.floor(t)}},{key:"solve",value:function e(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0;var i=this.body.nodes;var n=this.physicsBody.physicsNodeIndices;var r=n.length;var o=this._formBarnesHutTree(i,n);this.barnesHutTree=o;for(var s=0;s<r;s++){t=i[n[s]];if(t.options.mass>0){this._getForceContribution(o.root.children.NW,t);this._getForceContribution(o.root.children.NE,t);this._getForceContribution(o.root.children.SW,t);this._getForceContribution(o.root.children.SE,t)}}}}},{key:"_getForceContribution",value:function e(t,i){if(t.childrenCount>0){var n=void 0,r=void 0,o=void 0;n=t.centerOfMass.x-i.x;r=t.centerOfMass.y-i.y;o=Math.sqrt(n*n+r*r);if(o*t.calcSize>this.thetaInversed){this._calculateForces(o,n,r,i,t)}else{if(t.childrenCount===4){this._getForceContribution(t.children.NW,i);this._getForceContribution(t.children.NE,i);this._getForceContribution(t.children.SW,i);this._getForceContribution(t.children.SE,i)}else{if(t.children.data.id!=i.id){this._calculateForces(o,n,r,i,t)}}}}}},{key:"_calculateForces",value:function e(t,i,n,r,o){if(t===0){t=.1;i=t}if(this.overlapAvoidanceFactor<1&&r.shape.radius){t=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,t-r.shape.radius)}var s=this.options.gravitationalConstant*o.mass*r.options.mass/Math.pow(t,3);var a=i*s;var l=n*s;this.physicsBody.forces[r.id].x+=a;this.physicsBody.forces[r.id].y+=l}},{key:"_formBarnesHutTree",value:function e(t,i){var n=void 0;var r=i.length;var o=t[i[0]].x;var s=t[i[0]].y;var a=t[i[0]].x;var l=t[i[0]].y;for(var d=1;d<r;d++){var u=t[i[d]].x;var h=t[i[d]].y;if(t[i[d]].options.mass>0){if(u<o){o=u}if(u>a){a=u}if(h<s){s=h}if(h>l){l=h}}}var c=Math.abs(a-o)-Math.abs(l-s);if(c>0){s-=.5*c;l+=.5*c}else{o+=.5*c;a-=.5*c}var f=1e-5;var p=Math.max(f,Math.abs(a-o));var m=.5*p;var v=.5*(o+a),g=.5*(s+l);var y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-m,maxX:v+m,minY:g-m,maxY:g+m},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var b=0;b<r;b++){n=t[i[b]];if(n.options.mass>0){this._placeInTree(y.root,n)}}return y}},{key:"_updateBranchMass",value:function e(t,i){var n=t.mass+i.options.mass;var r=1/n;t.centerOfMass.x=t.centerOfMass.x*t.mass+i.x*i.options.mass;t.centerOfMass.x*=r;t.centerOfMass.y=t.centerOfMass.y*t.mass+i.y*i.options.mass;t.centerOfMass.y*=r;t.mass=n;var o=Math.max(Math.max(i.height,i.radius),i.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function e(t,i,n){if(n!=true||n===undefined){this._updateBranchMass(t,i)}if(t.children.NW.range.maxX>i.x){if(t.children.NW.range.maxY>i.y){this._placeInRegion(t,i,"NW")}else{this._placeInRegion(t,i,"SW")}}else{if(t.children.NW.range.maxY>i.y){this._placeInRegion(t,i,"NE")}else{this._placeInRegion(t,i,"SE")}}}},{key:"_placeInRegion",value:function e(t,i,n){switch(t.children[n].childrenCount){case 0:t.children[n].children.data=i;t.children[n].childrenCount=1;this._updateBranchMass(t.children[n],i);break;case 1:if(t.children[n].children.data.x===i.x&&t.children[n].children.data.y===i.y){i.x+=this.seededRandom();i.y+=this.seededRandom()}else{this._splitBranch(t.children[n]);this._placeInTree(t.children[n],i)}break;case 4:this._placeInTree(t.children[n],i);break}}},{key:"_splitBranch",value:function e(t){var i=null;if(t.childrenCount===1){i=t.children.data;t.mass=0;t.centerOfMass.x=0;t.centerOfMass.y=0}t.childrenCount=4;t.children.data=null;this._insertRegion(t,"NW");this._insertRegion(t,"NE");this._insertRegion(t,"SW");this._insertRegion(t,"SE");if(i!=null){this._placeInTree(t,i)}}},{key:"_insertRegion",value:function e(t,i){var n=void 0,r=void 0,o=void 0,s=void 0;var a=.5*t.size;switch(i){case"NW":n=t.range.minX;r=t.range.minX+a;o=t.range.minY;s=t.range.minY+a;break;case"NE":n=t.range.minX+a;r=t.range.maxX;o=t.range.minY;s=t.range.minY+a;break;case"SW":n=t.range.minX;r=t.range.minX+a;o=t.range.minY+a;s=t.range.maxY;break;case"SE":n=t.range.minX+a;r=t.range.maxX;o=t.range.minY+a;s=t.range.maxY;break}t.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:r,minY:o,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function e(t,i){if(this.barnesHutTree!==undefined){t.lineWidth=1;this._drawBranch(this.barnesHutTree.root,t,i)}}},{key:"_drawBranch",value:function e(t,i,n){if(n===undefined){n="#FF0000"}if(t.childrenCount===4){this._drawBranch(t.children.NW,i);this._drawBranch(t.children.NE,i);this._drawBranch(t.children.SE,i);this._drawBranch(t.children.SW,i)}i.strokeStyle=n;i.beginPath();i.moveTo(t.range.minX,t.range.minY);i.lineTo(t.range.maxX,t.range.minY);i.stroke();i.beginPath();i.moveTo(t.range.maxX,t.range.minY);i.lineTo(t.range.maxX,t.range.maxY);i.stroke();i.beginPath();i.moveTo(t.range.maxX,t.range.maxY);i.lineTo(t.range.minX,t.range.maxY);i.stroke();i.beginPath();i.moveTo(t.range.minX,t.range.maxY);i.lineTo(t.range.minX,t.range.minY);i.stroke()}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.setOptions(n)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"solve",value:function e(){var t,i,n,r,o,s,a,l;var d=this.body.nodes;var u=this.physicsBody.physicsNodeIndices;var h=this.physicsBody.forces;var c=this.options.nodeDistance;var f=-2/3/c;var p=4/3;for(var m=0;m<u.length-1;m++){a=d[u[m]];for(var v=m+1;v<u.length;v++){l=d[u[v]];t=l.x-a.x;i=l.y-a.y;n=Math.sqrt(t*t+i*i);if(n===0){n=.1*Math.random();t=n}if(n<2*c){if(n<.5*c){s=1}else{s=f*n+p}s=s/n;r=t*s;o=i*s;h[a.id].x-=r;h[a.id].y-=o;h[l.id].x+=r;h[l.id].y+=o}}}}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.setOptions(n)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"solve",value:function e(){var t,i,n,r,o,s,a,l,d,u;var h=this.body.nodes;var c=this.physicsBody.physicsNodeIndices;var f=this.physicsBody.forces;var p=this.options.nodeDistance;for(d=0;d<c.length-1;d++){a=h[c[d]];for(u=d+1;u<c.length;u++){l=h[c[u]];if(a.level===l.level){t=l.x-a.x;i=l.y-a.y;n=Math.sqrt(t*t+i*i);var m=.05;if(n<p){s=-Math.pow(m*n,2)+Math.pow(m*p,2)}else{s=0}if(n===0){n=.01}else{s=s/n}r=t*s;o=i*s;f[a.id].x-=r;f[a.id].y-=o;f[l.id].x+=r;f[l.id].y+=o}}}}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.setOptions(n)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"solve",value:function e(){var t=void 0,i=void 0;var n=this.physicsBody.physicsEdgeIndices;var r=this.body.edges;var o=void 0,s=void 0,a=void 0;for(var l=0;l<n.length;l++){i=r[n[l]];if(i.connected===true&&i.toId!==i.fromId){if(this.body.nodes[i.toId]!==undefined&&this.body.nodes[i.fromId]!==undefined){if(i.edgeType.via!==undefined){t=i.options.length===undefined?this.options.springLength:i.options.length;o=i.to;s=i.edgeType.via;a=i.from;this._calculateSpringForce(o,s,.5*t);this._calculateSpringForce(s,a,.5*t)}else{t=i.options.length===undefined?this.options.springLength*1.5:i.options.length;this._calculateSpringForce(i.from,i.to,t)}}}}}},{key:"_calculateSpringForce",value:function e(t,i,n){var r=t.x-i.x;var o=t.y-i.y;var s=Math.max(Math.sqrt(r*r+o*o),.01);var a=this.options.springConstant*(n-s)/s;var l=r*a;var d=o*a;if(this.physicsBody.forces[t.id]!==undefined){this.physicsBody.forces[t.id].x+=l;this.physicsBody.forces[t.id].y+=d}if(this.physicsBody.forces[i.id]!==undefined){this.physicsBody.forces[i.id].x-=l;this.physicsBody.forces[i.id].y-=d}}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.setOptions(n)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"solve",value:function e(){var t,i;var n,r,o,s,a,l;var d=this.body.edges;var u=.5;var h=this.physicsBody.physicsEdgeIndices;var c=this.physicsBody.physicsNodeIndices;var f=this.physicsBody.forces;for(var p=0;p<c.length;p++){var m=c[p];f[m].springFx=0;f[m].springFy=0}for(var v=0;v<h.length;v++){i=d[h[v]];if(i.connected===true){t=i.options.length===undefined?this.options.springLength:i.options.length;n=i.from.x-i.to.x;r=i.from.y-i.to.y;l=Math.sqrt(n*n+r*r);l=l===0?.01:l;a=this.options.springConstant*(t-l)/l;o=n*a;s=r*a;if(i.to.level!=i.from.level){if(f[i.toId]!==undefined){f[i.toId].springFx-=o;f[i.toId].springFy-=s}if(f[i.fromId]!==undefined){f[i.fromId].springFx+=o;f[i.fromId].springFy+=s}}else{if(f[i.toId]!==undefined){f[i.toId].x-=u*o;f[i.toId].y-=u*s}if(f[i.fromId]!==undefined){f[i.fromId].x+=u*o;f[i.fromId].y+=u*s}}}}var a=1;var g,y;for(var b=0;b<c.length;b++){var w=c[b];g=Math.min(a,Math.max(-a,f[w].springFx));y=Math.min(a,Math.max(-a,f[w].springFy));f[w].x+=g;f[w].y+=y}var x=0;var _=0;for(var k=0;k<c.length;k++){var C=c[k];x+=f[C].x;_+=f[C].y}var S=x/c.length;var T=_/c.length;for(var D=0;D<c.length;D++){var E=c[D];f[E].x-=S;f[E].y-=T}}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.physicsBody=i;this.setOptions(n)}(0,s["default"])(e,[{key:"setOptions",value:function e(t){this.options=t}},{key:"solve",value:function e(){var t=void 0,i=void 0,n=void 0,r=void 0;var o=this.body.nodes;var s=this.physicsBody.physicsNodeIndices;var a=this.physicsBody.forces;for(var l=0;l<s.length;l++){var d=s[l];r=o[d];t=-r.x;i=-r.y;n=Math.sqrt(t*t+i*i);this._calculateForces(n,t,i,a,r)}}},{key:"_calculateForces",value:function e(t,i,n,r,o){var s=t===0?0:this.options.centralGravity/t;r[o.id].x=i*s;r[o.id].y=n*s}}]);return e}();t["default"]=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(213);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_calculateForces",value:function e(t,i,n,r,o){if(t===0){t=.1*Math.random();i=t}if(this.overlapAvoidanceFactor<1&&r.shape.radius){t=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,t-r.shape.radius)}var s=r.edges.length+1;var a=this.options.gravitationalConstant*o.mass*r.options.mass*s/Math.pow(t,2);var l=i*a;var d=n*a;this.physicsBody.forces[r.id].x+=l;this.physicsBody.forces[r.id].y+=d}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=m(n);var o=i(135);var s=m(o);var a=i(136);var l=m(a);var d=i(179);var u=m(d);var h=i(180);var c=m(h);var f=i(218);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c["default"])(t,e);function t(e,i,n){(0,s["default"])(this,t);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n))}(0,l["default"])(t,[{key:"_calculateForces",value:function e(t,i,n,r,o){if(t>0){var s=o.edges.length+1;var a=this.options.centralGravity*s*o.options.mass;r[o.id].x=i*a;r[o.id].y=n*a}}}]);return t}(p["default"]);t["default"]=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(58);var r=h(n);var o=i(62);var s=h(o);var a=i(135);var l=h(a);var d=i(136);var u=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var c=i(1);var f=i(211)["default"];var p=i(222)["default"];var m=function(){function e(t){var i=this;(0,l["default"])(this,e);this.body=t;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};c.extend(this.options,this.defaultOptions);this.body.emitter.on("_resetData",function(){i.clusteredNodes={};i.clusteredEdges={}})}(0,u["default"])(e,[{key:"clusterByHubsize",value:function e(t,i){if(t===undefined){t=this._getHubSize()}else if((typeof t==="undefined"?"undefined":(0,s["default"])(t))==="object"){i=this._checkOptions(t);t=this._getHubSize()}var n=[];for(var r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];if(o.edges.length>=t){n.push(o.id)}}for(var a=0;a<n.length;a++){this.clusterByConnection(n[a],i,true)}this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(t.joinCondition===undefined){throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.")}t=this._checkOptions(t);var n={};var r={};for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodeIndices[o];var a=this.body.nodes[s];var l=f.cloneOptions(a);if(t.joinCondition(l)===true){n[s]=this.body.nodes[s];for(var d=0;d<a.edges.length;d++){var u=a.edges[d];if(this.clusteredEdges[u.id]===undefined){r[u.id]=u}}}}this._cluster(n,r,t,i)}},{key:"clusterByEdgeCount",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;i=this._checkOptions(i);var o=[];var s={};var a=void 0,l=void 0,d=void 0,u=void 0,h=void 0;for(var c=0;c<this.body.nodeIndices.length;c++){var p={};var m={};u=this.body.nodeIndices[c];if(s[u]===undefined){h=0;d=this.body.nodes[u];l=[];for(var v=0;v<d.edges.length;v++){a=d.edges[v];if(this.clusteredEdges[a.id]===undefined){if(a.toId!==a.fromId){h++}l.push(a)}}if(h===t){var g=true;for(var y=0;y<l.length;y++){a=l[y];var b=this._getConnectedId(a,u);if(i.joinCondition===undefined){m[a.id]=a;p[u]=this.body.nodes[u];p[b]=this.body.nodes[b];s[u]=true}else{var w=f.cloneOptions(this.body.nodes[u]);if(i.joinCondition(w)===true){m[a.id]=a;p[u]=this.body.nodes[u];s[u]=true}else{g=false;break}}}if((0,r["default"])(p).length>0&&(0,r["default"])(m).length>0&&g===true){o.push({nodes:p,edges:m})}}}}for(var x=0;x<o.length;x++){this._cluster(o[x].nodes,o[x].edges,i,false)}if(n===true){this.body.emitter.emit("_dataChanged")}}},{key:"clusterOutliers",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.clusterByEdgeCount(1,t,i)}},{key:"clusterBridges",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.clusterByEdgeCount(2,t,i)}},{key:"clusterByConnection",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t===undefined){throw new Error("No nodeId supplied to clusterByConnection!")}if(this.body.nodes[t]===undefined){throw new Error("The nodeId given to clusterByConnection does not exist!")}var o=this.body.nodes[t];i=this._checkOptions(i,o);if(i.clusterNodeProperties.x===undefined){i.clusterNodeProperties.x=o.x}if(i.clusterNodeProperties.y===undefined){i.clusterNodeProperties.y=o.y}if(i.clusterNodeProperties.fixed===undefined){i.clusterNodeProperties.fixed={};i.clusterNodeProperties.fixed.x=o.options.fixed.x;i.clusterNodeProperties.fixed.y=o.options.fixed.y}var s={};var a={};var l=o.id;var d=f.cloneOptions(o);s[l]=o;for(var u=0;u<o.edges.length;u++){var h=o.edges[u];if(this.clusteredEdges[h.id]===undefined){var c=this._getConnectedId(h,l);if(this.clusteredNodes[c]===undefined){if(c!==l){if(i.joinCondition===undefined){a[h.id]=h;s[c]=this.body.nodes[c]}else{var p=f.cloneOptions(this.body.nodes[c]);if(i.joinCondition(d,p)===true){a[h.id]=h;s[c]=this.body.nodes[c]}}}else{a[h.id]=h}}}}var m=(0,r["default"])(s).map(function(e){return s[e].id});for(v in s){var v=s[v];for(var g=0;g<v.edges.length;g++){var y=v.edges[g];if(m.indexOf(this._getConnectedId(y,v.id))>-1){a[y.id]=y}}}this._cluster(s,a,i,n)}},{key:"_createClusterEdges",value:function e(t,i,n,o){var s=void 0,a=void 0,l=void 0,d=void 0,u=void 0,h=void 0;var p=(0,r["default"])(t);var m=[];for(var v=0;v<p.length;v++){a=p[v];l=t[a];for(var g=0;g<l.edges.length;g++){s=l.edges[g];if(this.clusteredEdges[s.id]===undefined){if(s.toId==s.fromId){i[s.id]=s}else{if(s.toId==a){d=n.id;u=s.fromId;h=u}else{d=s.toId;u=n.id;h=d}}if(t[h]===undefined){m.push({edge:s,fromId:u,toId:d})}}}}for(var y=0;y<m.length;y++){var b=m[y].edge;var w=f.cloneOptions(b,"edge");c.deepExtend(w,o);w.from=m[y].fromId;w.to=m[y].toId;w.id="clusterEdge:"+c.randomUUID();var x=this.body.functions.createEdge(w);x.clusteringEdgeReplacingId=b.id;this.body.edges[b.id].edgeReplacedById=x.id;this.body.edges[x.id]=x;x.connect();this._backupEdgeOptions(b);b.setOptions({physics:false,hidden:true})}}},{key:"_checkOptions",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.clusterEdgeProperties===undefined){t.clusterEdgeProperties={}}if(t.clusterNodeProperties===undefined){t.clusterNodeProperties={}}return t}},{key:"_cluster",value:function e(t,i,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;if((0,r["default"])(t).length==0){return}if((0,r["default"])(t).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=true){return}for(var s in t){if(t.hasOwnProperty(s)){if(this.clusteredNodes[s]!==undefined){return}}}var a=c.deepExtend({},n.clusterNodeProperties);if(n.processProperties!==undefined){var l=[];for(var d in t){if(t.hasOwnProperty(d)){var u=f.cloneOptions(t[d]);l.push(u)}}var h=[];for(var m in i){if(i.hasOwnProperty(m)){if(m.substr(0,12)!=="clusterEdge:"){var v=f.cloneOptions(i[m],"edge");h.push(v)}}}a=n.processProperties(a,l,h);if(!a){throw new Error("The processProperties function does not return properties!")}}if(a.id===undefined){a.id="cluster:"+c.randomUUID()}var g=a.id;if(a.label===undefined){a.label="cluster"}var y=undefined;if(a.x===undefined){y=this._getClusterPosition(t);a.x=y.x}if(a.y===undefined){if(y===undefined){y=this._getClusterPosition(t)}a.y=y.y}a.id=g;var b=this.body.functions.createNode(a,p);b.isCluster=true;b.containedNodes=t;b.containedEdges=i;b.clusterEdgeProperties=n.clusterEdgeProperties;this.body.nodes[a.id]=b;this._createClusterEdges(t,i,a,n.clusterEdgeProperties);for(var w in i){if(i.hasOwnProperty(w)){if(this.body.edges[w]!==undefined){var x=this.body.edges[w];this._backupEdgeOptions(x);x.setOptions({physics:false,hidden:true})}}}for(var _ in t){if(t.hasOwnProperty(_)){this.clusteredNodes[_]={clusterId:a.id,node:this.body.nodes[_]};this.body.nodes[_].setOptions({hidden:true,physics:false})}}a.id=undefined;if(o===true){this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function e(t){if(this.clusteredEdges[t.id]===undefined){this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden}}}},{key:"_restoreEdge",value:function e(t){var i=this.clusteredEdges[t.id];if(i!==undefined){t.setOptions({physics:i.physics,hidden:i.hidden});delete this.clusteredEdges[t.id]}}},{key:"isCluster",value:function e(t){if(this.body.nodes[t]!==undefined){return this.body.nodes[t].isCluster===true}else{console.log("Node does not exist.");return false}}},{key:"_getClusterPosition",value:function e(t){var i=(0,r["default"])(t);var n=t[i[0]].x;var o=t[i[0]].x;var s=t[i[0]].y;var a=t[i[0]].y;var l=void 0;for(var d=1;d<i.length;d++){l=t[i[d]];n=l.x<n?l.x:n;o=l.x>o?l.x:o;s=l.y<s?l.y:s;a=l.y>a?l.y:a}return{x:.5*(n+o),y:.5*(s+a)}}},{key:"openCluster",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t===undefined){throw new Error("No clusterNodeId supplied to openCluster.")}if(this.body.nodes[t]===undefined){throw new Error("The clusterNodeId supplied to openCluster does not exist.")}if(this.body.nodes[t].containedNodes===undefined){console.log("The node:"+t+" is not a cluster.");return}var r=this.body.nodes[t];var o=r.containedNodes;var s=r.containedEdges;if(i!==undefined&&i.releaseFunction!==undefined&&typeof i.releaseFunction==="function"){var a={};var l={x:r.x,y:r.y};for(var d in o){if(o.hasOwnProperty(d)){var u=this.body.nodes[d];a[d]={x:u.x,y:u.y}}}var h=i.releaseFunction(l,a);for(var p in o){if(o.hasOwnProperty(p)){var m=this.body.nodes[p];if(h[p]!==undefined){m.x=h[p].x===undefined?r.x:h[p].x;m.y=h[p].y===undefined?r.y:h[p].y}}}}else{for(var v in o){if(o.hasOwnProperty(v)){var g=this.body.nodes[v];g=o[v];if(g.options.fixed.x===false){g.x=r.x}if(g.options.fixed.y===false){g.y=r.y}}}}for(var y in o){if(o.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=r.vx;b.vy=r.vy;b.setOptions({hidden:false,physics:true});delete this.clusteredNodes[y]}}var w=[];for(var x=0;x<r.edges.length;x++){w.push(r.edges[x])}for(var _=0;_<w.length;_++){var k=w[_];var C=this._getConnectedId(k,t);if(this.clusteredNodes[C]!==undefined){var S=this.body.nodes[this.clusteredNodes[C].clusterId];var T=this.body.edges[k.clusteringEdgeReplacingId];if(T!==undefined){S.containedEdges[T.id]=T;delete s[T.id];var D=T.fromId;var E=T.toId;if(T.toId==C){E=this.clusteredNodes[C].clusterId}else{D=this.clusteredNodes[C].clusterId}var O=f.cloneOptions(T,"edge");c.deepExtend(O,S.clusterEdgeProperties);var P="clusterEdge:"+c.randomUUID();c.deepExtend(O,{from:D,to:E,hidden:false,physics:true,id:P});var M=this.body.functions.createEdge(O);M.clusteringEdgeReplacingId=T.id;this.body.edges[P]=M;this.body.edges[P].connect()}}else{var A=this.body.edges[k.clusteringEdgeReplacingId];if(A!==undefined){this._restoreEdge(A)}}k.cleanup();k.disconnect();delete this.body.edges[k.id]}for(var I in s){if(s.hasOwnProperty(I)){this._restoreEdge(s[I])}}delete this.body.nodes[t];if(n===true){this.body.emitter.emit("_dataChanged")}}},{key:"getNodesInCluster",value:function e(t){var i=[];if(this.isCluster(t)===true){var n=this.body.nodes[t].containedNodes;for(var r in n){if(n.hasOwnProperty(r)){i.push(this.body.nodes[r].id)}}}return i}},{key:"findNode",value:function e(t){var i=[];var n=100;var r=0;var o=void 0;while(this.clusteredNodes[t]!==undefined&&r<n){o=this.body.nodes[t];if(o===undefined)return[];i.push(o.id);t=this.clusteredNodes[t].clusterId;r++}o=this.body.nodes[t];if(o===undefined)return[];i.push(o.id);i.reverse();return i}},{key:"updateClusteredNode",value:function e(t,i){if(t===undefined){throw new Error("No clusteredNodeId supplied to updateClusteredNode.")}if(i===undefined){throw new Error("No newOptions supplied to updateClusteredNode.")}if(this.body.nodes[t]===undefined){throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.")}this.body.nodes[t].setOptions(i);this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function e(t,i){if(t===undefined){throw new Error("No startEdgeId supplied to updateEdge.")}if(i===undefined){throw new Error("No newOptions supplied to updateEdge.")}if(this.body.edges[t]===undefined){throw new Error("The startEdgeId supplied to updateEdge does not exist.")}var n=this.getClusteredEdges(t);for(var r=0;r<n.length;r++){var o=this.body.edges[n[r]];o.setOptions(i)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function e(t){var i=[];var n=100;var r=0;while(t!==undefined&&this.body.edges[t]!==undefined&&r<n){i.push(this.body.edges[t].id);t=this.body.edges[t].edgeReplacedById;r++}i.reverse();return i}},{key:"getBaseEdge",value:function e(t){var i=t;var n=100;var r=0;while(t!==undefined&&this.body.edges[t]!==undefined&&r<n){t=this.body.edges[t].clusteringEdgeReplacingId;r++;if(t!==undefined){i=t}}return i}},{key:"_getConnectedId",value:function e(t,i){if(t.toId!=i){return t.toId}else if(t.fromId!=i){return t.fromId}else{return t.fromId}}},{key:"_getHubSize",value:function e(){var t=0;var i=0;var n=0;var r=0;for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];if(s.edges.length>r){r=s.edges.length}t+=s.edges.length;i+=Math.pow(s.edges.length,2);n+=1}t=t/n;i=i/n;var a=i-Math.pow(t,2);var l=Math.sqrt(a);var d=Math.floor(t+2*l);if(d>r){d=r}return d}}]);return e}();t["default"]=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(176);var r=f(n);var o=i(135);var s=f(o);var a=i(179);var l=f(a);var d=i(180);var u=f(d);var h=i(169);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u["default"])(t,e);function t(e,i,n,o,a){(0,s["default"])(this,t);var d=(0,l["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,i,n,o,a));d.isCluster=true;d.containedNodes={};d.containedEdges={};return d}return t}(c["default"]);t["default"]=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}if(typeof window!=="undefined"){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame}var l=i(1);var d=function(){function e(t,i){(0,r["default"])(this,e);this.body=t;this.canvas=i;this.redrawRequested=false;this.renderTimer=undefined;this.requiresTimeout=true;this.renderingActive=false;this.renderRequests=0;this.allowRedraw=true;this.dragging=false;this.options={};this.defaultOptions={hideEdgesOnDrag:false,hideNodesOnDrag:false};l.extend(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}(0,s["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=true});this.body.emitter.on("dragEnd",function(){t.dragging=false});this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()});this.body.emitter.on("_redraw",function(){if(t.renderingActive===false){t._redraw()}});this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=false});this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=true;t.redrawRequested=false});this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this));this.body.emitter.on("_startRendering",function(){t.renderRequests+=1;t.renderingActive=true;t._startRendering()});this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1;t.renderingActive=t.renderRequests>0;t.renderTimer=undefined});this.body.emitter.on("destroy",function(){t.renderRequests=0;t.allowRedraw=false;t.renderingActive=false;if(t.requiresTimeout===true){clearTimeout(t.renderTimer)}else{window.cancelAnimationFrame(t.renderTimer)}t.body.emitter.off()})}},{key:"setOptions",value:function e(t){if(t!==undefined){var i=["hideEdgesOnDrag","hideNodesOnDrag"];l.selectiveDeepExtend(i,this.options,t)}}},{key:"_startRendering",value:function e(){if(this.renderingActive===true){if(this.renderTimer===undefined){if(this.requiresTimeout===true){this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval)}else{this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this))}}}}},{key:"_renderStep",value:function e(){if(this.renderingActive===true){this.renderTimer=undefined;if(this.requiresTimeout===true){this._startRendering()}this._redraw();if(this.requiresTimeout===false){this._startRendering()}}}},{key:"redraw",value:function e(){this.body.emitter.emit("setSize");this._redraw()}},{key:"_requestRedraw",value:function e(){var t=this;if(this.redrawRequested!==true&&this.renderingActive===false&&this.allowRedraw===true){this.redrawRequested=true;if(this.requiresTimeout===true){window.setTimeout(function(){t._redraw(false)},0)}else{window.requestAnimationFrame(function(){t._redraw(false)})}}}},{key:"_redraw",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.allowRedraw===true){this.body.emitter.emit("initRedraw");this.redrawRequested=false;if(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0){this.canvas.setSize()}this.canvas.setTransform();var i=this.canvas.getContext();var n=this.canvas.frame.canvas.clientWidth;var r=this.canvas.frame.canvas.clientHeight;i.clearRect(0,0,n,r);if(this.canvas.frame.clientWidth===0){return}i.save();i.translate(this.body.view.translation.x,this.body.view.translation.y);i.scale(this.body.view.scale,this.body.view.scale);i.beginPath();this.body.emitter.emit("beforeDrawing",i);i.closePath();if(t===false){if(this.dragging===false||this.dragging===true&&this.options.hideEdgesOnDrag===false){this._drawEdges(i)}}if(this.dragging===false||this.dragging===true&&this.options.hideNodesOnDrag===false){this._drawNodes(i,t)}i.beginPath();this.body.emitter.emit("afterDrawing",i);i.closePath();i.restore();if(t===true){i.clearRect(0,0,n,r)}}}},{key:"_resizeNodes",value:function e(){this.canvas.setTransform();var t=this.canvas.getContext();t.save();t.translate(this.body.view.translation.x,this.body.view.translation.y);t.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes;var n=void 0;for(var r in i){if(i.hasOwnProperty(r)){n=i[r];n.resize(t);n.updateBoundingBox(t,n.selected)}}t.restore()}},{key:"_drawNodes",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this.body.nodes;var r=this.body.nodeIndices;var o=void 0;var s=[];var a=20;var l=this.canvas.DOMtoCanvas({x:-a,y:-a});var d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a});var u={top:l.y,left:l.x,bottom:d.y,right:d.x};for(var h=0;h<r.length;h++){o=n[r[h]];if(o.isSelected()){s.push(r[h])}else{if(i===true){o.draw(t)}else if(o.isBoundingBoxOverlappingWith(u)===true){o.draw(t)}else{o.updateBoundingBox(t,o.selected)}}}for(var c=0;c<s.length;c++){o=n[s[c]];o.draw(t)}}},{key:"_drawEdges",value:function e(t){var i=this.body.edges;var n=this.body.edgeIndices;var r=void 0;for(var o=0;o<n.length;o++){r=i[n[o]];if(r.connected===true){r.draw(t)}}}},{key:"_determineBrowserMethod",value:function e(){if(typeof window!=="undefined"){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=false;if(t.indexOf("msie 9.0")!=-1){this.requiresTimeout=true}else if(t.indexOf("safari")!=-1){if(t.indexOf("chrome")<=-1){this.requiresTimeout=true}}}else{this.requiresTimeout=true}}}]);return e}();t["default"]=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(113);var d=i(120);var u=i(1);var h=function(){function e(t){(0,r["default"])(this,e);this.body=t;this.pixelRatio=1;this.resizeTimer=undefined;this.resizeFunction=this._onResize.bind(this);this.cameraState={};this.initialized=false;this.canvasViewCenter={};this.options={};this.defaultOptions={autoResize:true,height:"100%",width:"100%"};u.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.once("resize",function(e){if(e.width!==0){t.body.view.translation.x=e.width*.5}if(e.height!==0){t.body.view.translation.y=e.height*.5}});this.body.emitter.on("setSize",this.setSize.bind(this));this.body.emitter.on("destroy",function(){t.hammerFrame.destroy();t.hammer.destroy();t._cleanUp()})}},{key:"setOptions",value:function e(t){var i=this;if(t!==undefined){var n=["width","height","autoResize"];u.selectiveDeepExtend(n,this.options,t)}if(this.options.autoResize===true){this._cleanUp();this.resizeTimer=setInterval(function(){var e=i.setSize();if(e===true){i.body.emitter.emit("_requestRedraw")}},1e3);this.resizeFunction=this._onResize.bind(this);u.addEventListener(window,"resize",this.resizeFunction)}}},{key:"_cleanUp",value:function e(){if(this.resizeTimer!==undefined){clearInterval(this.resizeTimer)}u.removeEventListener(window,"resize",this.resizeFunction);this.resizeFunction=undefined}},{key:"_onResize",value:function e(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.pixelRatio;if(this.initialized===true){this.cameraState.previousWidth=this.frame.canvas.width/t;this.cameraState.previousHeight=this.frame.canvas.height/t;this.cameraState.scale=this.body.view.scale;this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t})}}},{key:"_setCameraState",value:function e(){if(this.cameraState.scale!==undefined&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth;var i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;var n=this.cameraState.scale;if(t!=1&&i!=1){n=this.cameraState.scale*.5*(t+i)}else if(t!=1){n=this.cameraState.scale*t}else if(i!=1){n=this.cameraState.scale*i}this.body.view.scale=n;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});var o={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale;this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function e(t){if(typeof t==="number"){return t+"px"}else if(typeof t==="string"){if(t.indexOf("%")!==-1||t.indexOf("px")!==-1){return t}else if(t.indexOf("%")===-1){return t+"px"}}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function e(){while(this.body.container.hasChildNodes()){this.body.container.removeChild(this.body.container.firstChild)}this.frame=document.createElement("div");this.frame.className="vis-network";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.tabIndex=900;this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var t=document.createElement("DIV");t.style.color="red";t.style.fontWeight="bold";t.style.padding="10px";t.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(t)}else{this._setPixelRatio();this.setTransform()}this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function e(){var t=this;if(this.hammer!==undefined){this.hammer.destroy()}this.drag={};this.pinch={};this.hammer=new l(this.frame.canvas);this.hammer.get("pinch").set({enable:true});this.hammer.get("pan").set({threshold:5,direction:l.DIRECTION_ALL});d.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)});this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)});this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)});this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)});this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)});this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)});this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)});this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)});this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)});this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)});this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)});this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)});this.hammerFrame=new l(this.frame);d.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.width;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.options.height;t=this._prepareValue(t);i=this._prepareValue(i);var n=false;var r=this.frame.canvas.width;var o=this.frame.canvas.height;var s=this.pixelRatio;this._setPixelRatio();if(t!=this.options.width||i!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=i){this._getCameraState(s);this.frame.style.width=t;this.frame.style.height=i;this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.options.width=t;this.options.height=i;this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight};n=true}else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);var l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);if(this.frame.canvas.width!==a||this.frame.canvas.height!==l){this._getCameraState(s)}if(this.frame.canvas.width!==a){this.frame.canvas.width=a;n=true}if(this.frame.canvas.height!==l){this.frame.canvas.height=l;n=true}}if(n===true){this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)});this._setCameraState()}this.initialized=true;return n}},{key:"getContext",value:function e(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function e(){var t=this.getContext();if(t===undefined){throw"Could not get canvax context"}return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function e(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function e(){var t=this.getContext();if(t===undefined){throw"Could not get canvax context"}t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function e(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function e(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function e(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function e(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function e(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function e(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]);return e}();t["default"]=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=i(211)["default"];var u=function(){function e(t,i){var n=this;(0,r["default"])(this,e);this.body=t;this.canvas=i;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=undefined;this.lockedOnNodeOffset=undefined;this.touchTime=0;this.viewFunction=undefined;this.body.emitter.on("fit",this.fit.bind(this));this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}(0,s["default"])(e,[{key:"setOptions",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=t}},{key:"fit",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{nodes:[]};var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=void 0;var r=void 0;if(t.nodes===undefined||t.nodes.length===0){t.nodes=this.body.nodeIndices}if(i===true){var o=0;for(var s in this.body.nodes){if(this.body.nodes.hasOwnProperty(s)){var a=this.body.nodes[s];if(a.predefinedPosition===true){o+=1}}}if(o>.5*this.body.nodeIndices.length){this.fit(t,false);return}n=d.getRange(this.body.nodes,t.nodes);var l=this.body.nodeIndices.length;r=12.662/(l+7.4147)+.0964822;var u=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);r*=u}else{this.body.emitter.emit("_resizeNodes");n=d.getRange(this.body.nodes,t.nodes);var h=Math.abs(n.maxX-n.minX)*1.1;var c=Math.abs(n.maxY-n.minY)*1.1;var f=this.canvas.frame.canvas.clientWidth/h;var p=this.canvas.frame.canvas.clientHeight/c;r=f<=p?f:p}if(r>1){r=1}else if(r===0){r=1}var m=d.findCenter(n);var v={position:m,scale:r,animation:t.animation};this.moveTo(v)}},{key:"focus",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.body.nodes[t]!==undefined){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};i.position=n;i.lockedOnNode=t;this.moveTo(i)}else{console.log("Node: "+t+" cannot be found.")}}},{key:"moveTo",value:function e(t){if(t===undefined){t={};return}if(t.offset===undefined){t.offset={x:0,y:0}}if(t.offset.x===undefined){t.offset.x=0}if(t.offset.y===undefined){t.offset.y=0}if(t.scale===undefined){t.scale=this.body.view.scale}if(t.position===undefined){t.position=this.getViewPosition()}if(t.animation===undefined){t.animation={duration:0}}if(t.animation===false){t.animation={duration:0}}if(t.animation===true){t.animation={}}if(t.animation.duration===undefined){t.animation.duration=1e3}if(t.animation.easingFunction===undefined){t.animation.easingFunction="easeInOutQuad"}this.animateView(t)}},{key:"animateView",value:function e(t){if(t===undefined){return}this.animationEasingFunction=t.animation.easingFunction;this.releaseNode();if(t.locked===true){this.lockedOnNodeId=t.lockedOnNode;this.lockedOnNodeOffset=t.offset}if(this.easingTime!=0){this._transitionRedraw(true)}this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=t.scale;this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var n={x:i.x-t.position.x,y:i.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+t.offset.y};if(t.animation.duration===0){if(this.lockedOnNodeId!=undefined){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}else{this.body.view.scale=this.targetScale;this.body.view.translation=this.targetTranslation;this.body.emitter.emit("_requestRedraw")}}else{this.animationSpeed=1/(60*t.animation.duration*.001)||1/60;this.animationEasingFunction=t.animation.easingFunction;this.viewFunction=this._transitionRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function e(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y};var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var n={x:i.x-t.x,y:i.y-t.y};var r=this.body.view.translation;var o={x:r.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function e(){if(this.lockedOnNodeId!==undefined&&this.viewFunction!==undefined){this.body.emitter.off("initRedraw",this.viewFunction);this.lockedOnNodeId=undefined;this.lockedOnNodeOffset=undefined}}},{key:"_transitionRedraw",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.easingTime+=this.animationSpeed;this.easingTime=t===true?1:this.easingTime;var i=l.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i;this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i};if(this.easingTime>=1){this.body.emitter.off("initRedraw",this.viewFunction);this.easingTime=0;if(this.lockedOnNodeId!=undefined){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function e(){return this.body.view.scale}},{key:"getViewPosition",value:function e(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]);return e}();t["default"]=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=i(227)["default"];var u=i(134)["default"];var h=function(){function e(t,i,n){(0,r["default"])(this,e);this.body=t;this.canvas=i;this.selectionHandler=n;this.navigationHandler=new d(t,i);this.body.eventListeners.onTap=this.onTap.bind(this);this.body.eventListeners.onTouch=this.onTouch.bind(this);this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this);this.body.eventListeners.onHold=this.onHold.bind(this);this.body.eventListeners.onDragStart=this.onDragStart.bind(this);this.body.eventListeners.onDrag=this.onDrag.bind(this);this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this);this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this);this.body.eventListeners.onPinch=this.onPinch.bind(this);this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this);this.body.eventListeners.onRelease=this.onRelease.bind(this);this.body.eventListeners.onContext=this.onContext.bind(this);this.touchTime=0;this.drag={};this.pinch={};this.popup=undefined;this.popupObj=undefined;this.popupTimer=undefined;this.body.functions.getPointer=this.getPointer.bind(this);this.options={};this.defaultOptions={dragNodes:true,dragView:true,hover:false,keyboard:{enabled:false,speed:{x:10,y:10,zoom:.02},bindToWindow:true},navigationButtons:false,tooltipDelay:300,zoomView:true};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(e,[{key:"bindEventListeners",value:function e(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer);delete t.body.functions.getPointer})}},{key:"setOptions",value:function e(t){if(t!==undefined){var i=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(i,this.options,t);l.mergeOptions(this.options,t,"keyboard");if(t.tooltip){l.extend(this.options.tooltip,t.tooltip);if(t.tooltip.color){this.options.tooltip.color=l.parseColor(t.tooltip.color)}}}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function e(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function e(t){if((new Date).valueOf()-this.touchTime>50){this.drag.pointer=this.getPointer(t.center);this.drag.pinched=false;this.pinch.scale=this.body.view.scale;this.touchTime=(new Date).valueOf()}}},{key:"onTap",value:function e(t){var i=this.getPointer(t.center);var n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(i,t,n);this.selectionHandler._generateClickEvent("click",t,i)}},{key:"onDoubleTap",value:function e(t){var i=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,i)}},{key:"onHold",value:function e(t){var i=this.getPointer(t.center);var n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,t,n);this.selectionHandler._generateClickEvent("click",t,i);this.selectionHandler._generateClickEvent("hold",t,i)}},{key:"onRelease",value:function e(t){if((new Date).valueOf()-this.touchTime>10){var i=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,i);this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function e(t){var i=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,i)}},{key:"checkSelectionChanges",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r=this.selectionHandler.getSelection();var o=false;if(n===true){o=this.selectionHandler.selectAdditionalOnPoint(t)}else{o=this.selectionHandler.selectOnPoint(t)}var s=this.selectionHandler.getSelection();var a=this._determineDifference(r,s);var l=this._determineDifference(s,r);if(a.edges.length>0){this.selectionHandler._generateClickEvent("deselectEdge",i,t,r);o=true}if(a.nodes.length>0){this.selectionHandler._generateClickEvent("deselectNode",i,t,r);o=true}if(l.nodes.length>0){this.selectionHandler._generateClickEvent("selectNode",i,t);o=true}if(l.edges.length>0){this.selectionHandler._generateClickEvent("selectEdge",i,t);o=true}if(o===true){this.selectionHandler._generateClickEvent("select",i,t)}}},{key:"_determineDifference",value:function e(t,i){var n=function e(t,i){var n=[];for(var r=0;r<t.length;r++){var o=t[r];if(i.indexOf(o)===-1){n.push(o)}}return n};return{nodes:n(t.nodes,i.nodes),edges:n(t.edges,i.edges)}}},{key:"onDragStart",value:function e(t){if(this.drag.pointer===undefined){this.onTouch(t)}var i=this.selectionHandler.getNodeAt(this.drag.pointer);this.drag.dragging=true;this.drag.selection=[];this.drag.translation=l.extend({},this.body.view.translation);this.drag.nodeId=undefined;if(i!==undefined&&this.options.dragNodes===true){this.drag.nodeId=i.id;if(i.isSelected()===false){this.selectionHandler.unselectAll();this.selectionHandler.selectObject(i)}this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var r in n){if(n.hasOwnProperty(r)){var o=n[r];var s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=true;o.options.fixed.y=true;this.drag.selection.push(s)}}}else{this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,undefined,true)}}},{key:"onDrag",value:function e(t){var i=this;if(this.drag.pinched===true){return}this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center);var r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===true){this.selectionHandler._generateClickEvent("dragging",t,n);var o=n.x-this.drag.pointer.x;var s=n.y-this.drag.pointer.y;r.forEach(function(e){var t=e.node;if(e.xFixed===false){t.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(e.x)+o)}if(e.yFixed===false){t.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(e.y)+s)}});this.body.emitter.emit("startSimulation")}else{if(this.options.dragView===true){this.selectionHandler._generateClickEvent("dragging",t,n,undefined,true);if(this.drag.pointer===undefined){this.onDragStart(t);return}var a=n.x-this.drag.pointer.x;var l=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+l};this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function e(t){this.drag.dragging=false;var i=this.drag.selection;if(i&&i.length){i.forEach(function(e){e.node.options.fixed.x=e.xFixed;e.node.options.fixed.y=e.yFixed});this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center));this.body.emitter.emit("startSimulation")}else{this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),undefined,true);this.body.emitter.emit("_requestRedraw")}}},{key:"onPinch",value:function e(t){var i=this.getPointer(t.center);this.drag.pinched=true;if(this.pinch["scale"]===undefined){this.pinch.scale=1}var n=this.pinch.scale*t.scale;this.zoom(n,i)}},{key:"zoom",value:function e(t,i){if(this.options.zoomView===true){var n=this.body.view.scale;if(t<1e-5){t=1e-5}if(t>10){t=10}var r=undefined;if(this.drag!==undefined){if(this.drag.dragging===true){r=this.canvas.DOMtoCanvas(this.drag.pointer)}}var o=this.body.view.translation;var s=t/n;var a=(1-s)*i.x+o.x*s;var l=(1-s)*i.y+o.y*s;this.body.view.scale=t;this.body.view.translation={x:a,y:l};if(r!=undefined){var d=this.canvas.canvasToDOM(r);this.drag.pointer.x=d.x;this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw");if(n<t){this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i})}else{this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}}},{key:"onMouseWheel",value:function e(t){if(this.options.zoomView===true){var i=0;if(t.wheelDelta){i=t.wheelDelta/120}else if(t.detail){i=-t.detail/3}if(i!==0){var n=this.body.view.scale;var r=i/10;if(i<0){r=r/(1-r)}n*=1+r;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,o)}t.preventDefault()}}},{key:"onMouseMove",value:function e(t){var i=this;var n=this.getPointer({x:t.clientX,y:t.clientY});var r=false;if(this.popup!==undefined){if(this.popup.hidden===false){this._checkHidePopup(n)}if(this.popup.hidden===false){r=true;this.popup.setPosition(n.x+3,n.y-5);this.popup.show()}}if(this.options.keyboard.bindToWindow===false&&this.options.keyboard.enabled===true){this.canvas.frame.focus()}if(r===false){if(this.popupTimer!==undefined){clearInterval(this.popupTimer);this.popupTimer=undefined}if(!this.drag.dragging){this.popupTimer=setTimeout(function(){return i._checkShowPopup(n)},this.options.tooltipDelay)}}if(this.options.hover===true){var o=this.selectionHandler.getNodeAt(n);if(o===undefined){o=this.selectionHandler.getEdgeAt(n)}this.selectionHandler.hoverObject(o)}}},{key:"_checkShowPopup",value:function e(t){var i=this.canvas._XconvertDOMtoCanvas(t.x);var n=this.canvas._YconvertDOMtoCanvas(t.y);var r={left:i,top:n,right:i,bottom:n};var o=this.popupObj===undefined?undefined:this.popupObj.id;var s=false;var a="node";if(this.popupObj===undefined){var l=this.body.nodeIndices;var d=this.body.nodes;var h=void 0;var c=[];for(var f=0;f<l.length;f++){h=d[l[f]];if(h.isOverlappingWith(r)===true){if(h.getTitle()!==undefined){c.push(l[f])}}}if(c.length>0){this.popupObj=d[c[c.length-1]];s=true}}if(this.popupObj===undefined&&s===false){var p=this.body.edgeIndices;var m=this.body.edges;var v=void 0;var g=[];for(var y=0;y<p.length;y++){v=m[p[y]];if(v.isOverlappingWith(r)===true){if(v.connected===true&&v.getTitle()!==undefined){g.push(p[y])}}}if(g.length>0){this.popupObj=m[g[g.length-1]];a="edge"}}if(this.popupObj!==undefined){if(this.popupObj.id!==o){if(this.popup===undefined){this.popup=new u(this.canvas.frame)}this.popup.popupTargetType=a;this.popup.popupTargetId=this.popupObj.id;this.popup.setPosition(t.x+3,t.y-5);this.popup.setText(this.popupObj.getTitle());this.popup.show();this.body.emitter.emit("showPopup",this.popupObj.id)}}else{if(this.popup!==undefined){this.popup.hide();this.body.emitter.emit("hidePopup")}}}},{key:"_checkHidePopup",value:function e(t){var i=this.selectionHandler._pointerToPositionObject(t);var n=false;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==undefined){n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i);if(n===true){var r=this.selectionHandler.getNodeAt(t);n=r===undefined?false:r.id===this.popup.popupTargetId}}}else{if(this.selectionHandler.getNodeAt(t)===undefined){if(this.body.edges[this.popup.popupTargetId]!==undefined){n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i)}}}if(n===false){this.popupObj=undefined;this.popup.hide();this.body.emitter.emit("hidePopup")}}}]);return e}();t["default"]=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(1);var d=i(113);var u=i(120);var h=i(116);var c=function(){function e(t,i){var n=this;(0,r["default"])(this,e);this.body=t;this.canvas=i;this.iconsCreated=false;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=false;this.body.emitter.on("activate",function(){n.activated=true;n.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){n.activated=false;n.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){if(n.keycharm!==undefined){n.keycharm.destroy()}});this.options={}}(0,s["default"])(e,[{key:"setOptions",value:function e(t){if(t!==undefined){this.options=t;this.create()}}},{key:"create",value:function e(){if(this.options.navigationButtons===true){if(this.iconsCreated===false){this.loadNavigationElements()}}else if(this.iconsCreated===true){this.cleanNavigation()}this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function e(){if(this.navigationHammers.length!=0){for(var t=0;t<this.navigationHammers.length;t++){this.navigationHammers[t].destroy()}this.navigationHammers=[]}if(this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode){this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"])}this.iconsCreated=false}},{key:"loadNavigationElements",value:function e(){var t=this;this.cleanNavigation();this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"];var n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div");this.navigationDOM["wrapper"].className="vis-navigation";this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var r=0;r<i.length;r++){this.navigationDOM[i[r]]=document.createElement("div");this.navigationDOM[i[r]].className="vis-button vis-"+i[r];this.navigationDOM["wrapper"].appendChild(this.navigationDOM[i[r]]);var o=new d(this.navigationDOM[i[r]]);if(n[r]==="_fit"){u.onTouch(o,this._fit.bind(this))}else{u.onTouch(o,this.bindToRedraw.bind(this,n[r]))}this.navigationHammers.push(o)}var s=new d(this.canvas.frame);u.onRelease(s,function(){t._stopMovement()});this.navigationHammers.push(s);this.iconsCreated=true}},{key:"bindToRedraw",value:function e(t){if(this.boundFunctions[t]===undefined){this.boundFunctions[t]=this[t].bind(this);this.body.emitter.on("initRedraw",this.boundFunctions[t]);this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function e(t){if(this.boundFunctions[t]!==undefined){this.body.emitter.off("initRedraw",this.boundFunctions[t]);this.body.emitter.emit("_stopRendering");delete this.boundFunctions[t]}}},{key:"_fit",value:function e(){if((new Date).valueOf()-this.touchTime>700){this.body.emitter.emit("fit",{duration:700});this.touchTime=(new Date).valueOf()}}},{key:"_stopMovement",value:function e(){for(var t in this.boundFunctions){if(this.boundFunctions.hasOwnProperty(t)){this.body.emitter.off("initRedraw",this.boundFunctions[t]);this.body.emitter.emit("_stopRendering")}}this.boundFunctions={}}},{key:"_moveUp",value:function e(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function e(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function e(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function e(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function e(){var t=this.body.view.scale;var i=this.body.view.scale*(1+this.options.keyboard.speed.zoom);var n=this.body.view.translation;var r=i/t;var o=(1-r)*this.canvas.canvasViewCenter.x+n.x*r;var s=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=i;this.body.view.translation={x:o,y:s};this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function e(){var t=this.body.view.scale;var i=this.body.view.scale/(1+this.options.keyboard.speed.zoom);var n=this.body.view.translation;var r=i/t;var o=(1-r)*this.canvas.canvasViewCenter.x+n.x*r;var s=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=i;this.body.view.translation={x:o,y:s};this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function e(){var t=this;if(this.keycharm!==undefined){this.keycharm.destroy()}if(this.options.keyboard.enabled===true){if(this.options.keyboard.bindToWindow===true){this.keycharm=h({container:window,preventDefault:true})}else{this.keycharm=h({container:this.canvas.frame,preventDefault:true})}this.keycharm.reset();if(this.activated===true){this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown");this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown");this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown");this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown");this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup");this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup");this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup");this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup");this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")}}}}]);return e}();t["default"]=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=i(169)["default"];var d=i(202)["default"];var u=i(1);var h=function(){function e(t,i){var n=this;(0,r["default"])(this,e);this.body=t;this.canvas=i;this.selectionObj={nodes:[],edges:[]};this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:false,selectable:true,selectConnectedEdges:true,hoverConnectedEdges:true};u.extend(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}(0,s["default"])(e,[{key:"setOptions",value:function e(t){if(t!==undefined){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];u.selectiveDeepExtend(i,this.options,t)}}},{key:"selectOnPoint",value:function e(t){var i=false;if(this.options.selectable===true){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll();if(n!==undefined){i=this.selectObject(n)}this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function e(t){var i=false;if(this.options.selectable===true){var n=this.getNodeAt(t)||this.getEdgeAt(t);if(n!==undefined){i=true;if(n.isSelected()===true){this.deselectObject(n)}else{this.selectObject(n)}this.body.emitter.emit("_requestRedraw")}}return i}},{key:"_generateClickEvent",value:function e(t,i,n,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var s=void 0;if(o===true){s={nodes:[],edges:[]}}else{s=this.getSelection()}s["pointer"]={DOM:{x:n.x,y:n.y},canvas:this.canvas.DOMtoCanvas(n)};s["event"]=i;if(r!==undefined){s["previousSelection"]=r}this.body.emitter.emit(t,s)}},{key:"selectObject",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.options.selectConnectedEdges;if(t!==undefined){if(t instanceof l){if(i===true){this._selectConnectedEdges(t)}}t.select();this._addToSelection(t);return true}return false}},{key:"deselectObject",value:function e(t){if(t.isSelected()===true){t.selected=false;this._removeFromSelection(t)}}},{key:"_getAllNodesOverlappingWith",value:function e(t){var i=[];var n=this.body.nodes;for(var r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodeIndices[r];if(n[o].isOverlappingWith(t)){i.push(o)}}return i}},{key:"_pointerToPositionObject",value:function e(t){var i=this.canvas.DOMtoCanvas(t);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=this._pointerToPositionObject(t);var r=this._getAllNodesOverlappingWith(n);if(r.length>0){if(i===true){return this.body.nodes[r[r.length-1]]}else{return r[r.length-1]}}else{return undefined}}},{key:"_getEdgesOverlappingWith",value:function e(t,i){var n=this.body.edges;for(var r=0;r<this.body.edgeIndices.length;r++){var o=this.body.edgeIndices[r];if(n[o].isOverlappingWith(t)){i.push(o)}}}},{key:"_getAllEdgesOverlappingWith",value:function e(t){var i=[];this._getEdgesOverlappingWith(t,i);return i}},{key:"getEdgeAt",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=this.canvas.DOMtoCanvas(t);var r=10;var o=null;var s=this.body.edges;for(var a=0;a<this.body.edgeIndices.length;a++){var l=this.body.edgeIndices[a];var d=s[l];if(d.connected){var u=d.from.x;var h=d.from.y;var c=d.to.x;var f=d.to.y;var p=d.edgeType.getDistanceToEdge(u,h,c,f,n.x,n.y);if(p<r){o=l;r=p}}}if(o!==null){if(i===true){return this.body.edges[o]}else{return o}}else{return undefined}}},{key:"_addToSelection",value:function e(t){if(t instanceof l){this.selectionObj.nodes[t.id]=t}else{this.selectionObj.edges[t.id]=t}}},{key:"_addToHover",value:function e(t){if(t instanceof l){this.hoverObj.nodes[t.id]=t}else{this.hoverObj.edges[t.id]=t}}},{key:"_removeFromSelection",value:function e(t){if(t instanceof l){delete this.selectionObj.nodes[t.id];this._unselectConnectedEdges(t)}else{delete this.selectionObj.edges[t.id]}}},{key:"unselectAll",value:function e(){for(var t in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(t)){this.selectionObj.nodes[t].unselect()}}for(var i in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(i)){this.selectionObj.edges[i].unselect()}}this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function e(){var t=0;for(var i in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(i)){t+=1}}return t}},{key:"_getSelectedNode",value:function e(){for(var t in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(t)){return this.selectionObj.nodes[t]}}return undefined}},{key:"_getSelectedEdge",value:function e(){for(var t in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(t)){return this.selectionObj.edges[t]}}return undefined}},{key:"_getSelectedEdgeCount",value:function e(){var t=0;for(var i in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(i)){t+=1}}return t}},{key:"_getSelectedObjectCount",value:function e(){var t=0;for(var i in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(i)){t+=1}}for(var n in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(n)){t+=1}}return t}},{key:"_selectionIsEmpty",value:function e(){for(var t in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(t)){return false}}for(var i in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(i)){return false}}return true}},{key:"_clusterInSelection",value:function e(){for(var t in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(t)){if(this.selectionObj.nodes[t].clusterSize>1){return true}}}return false}},{key:"_selectConnectedEdges",value:function e(t){for(var i=0;i<t.edges.length;i++){var n=t.edges[i];n.select();this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function e(t){for(var i=0;i<t.edges.length;i++){var n=t.edges[i];n.hover=true;this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function e(t){for(var i=0;i<t.edges.length;i++){var n=t.edges[i];n.unselect();this._removeFromSelection(n)}}},{key:"blurObject",value:function e(t){if(t.hover===true){t.hover=false;if(t instanceof l){this.body.emitter.emit("blurNode",{node:t.id})}else{this.body.emitter.emit("blurEdge",{edge:t.id})}}}},{key:"hoverObject",value:function e(t){var i=false;for(var n in this.hoverObj.nodes){if(this.hoverObj.nodes.hasOwnProperty(n)){if(t===undefined||t instanceof l&&t.id!=n||t instanceof d){this.blurObject(this.hoverObj.nodes[n]);delete this.hoverObj.nodes[n];i=true}}}for(var r in this.hoverObj.edges){if(this.hoverObj.edges.hasOwnProperty(r)){if(i===true){this.hoverObj.edges[r].hover=false;delete this.hoverObj.edges[r]}else if(t===undefined||t instanceof d&&t.id!=r||t instanceof l&&!t.hover){this.blurObject(this.hoverObj.edges[r]);delete this.hoverObj.edges[r];i=true}}}if(t!==undefined){if(t.hover===false){t.hover=true;this._addToHover(t);i=true;if(t instanceof l){this.body.emitter.emit("hoverNode",{node:t.id})}else{this.body.emitter.emit("hoverEdge",{edge:t.id})}}if(t instanceof l&&this.options.hoverConnectedEdges===true){this._hoverConnectedEdges(t)}}if(i===true){this.body.emitter.emit("_requestRedraw")}}},{key:"getSelection",value:function e(){var t=this.getSelectedNodes();var i=this.getSelectedEdges();return{nodes:t,edges:i}}},{key:"getSelectedNodes",value:function e(){var t=[];if(this.options.selectable===true){for(var i in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(i)){t.push(this.selectionObj.nodes[i].id)}}}return t}},{key:"getSelectedEdges",value:function e(){var t=[];if(this.options.selectable===true){for(var i in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(i)){t.push(this.selectionObj.edges[i].id)}}}return t}},{key:"setSelection",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=void 0,r=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if(i.unselectAll||i.unselectAll===undefined){this.unselectAll()}if(t.nodes){for(n=0;n<t.nodes.length;n++){r=t.nodes[n];var o=this.body.nodes[r];if(!o){throw new RangeError('Node with id "'+r+'" not found')}this.selectObject(o,i.highlightEdges)}}if(t.edges){for(n=0;n<t.edges.length;n++){r=t.edges[n];var s=this.body.edges[r];if(!s){throw new RangeError('Edge with id "'+r+'" not found')}this.selectObject(s)}}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!t||t.length===undefined)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:i})}},{key:"selectEdges",value:function e(t){if(!t||t.length===undefined)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function e(){for(var t in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(t)){if(!this.body.nodes.hasOwnProperty(t)){delete this.selectionObj.nodes[t]}}}for(var i in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(i)){if(!this.body.edges.hasOwnProperty(i)){delete this.selectionObj.edges[i]}}}}}]);return e}();t["default"]=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(58);var r=f(n);var o=i(90);var s=f(o);var a=i(62);var l=f(a);var d=i(135);var u=f(d);var h=i(136);var c=f(h);function f(e){return e&&e.__esModule?e:{default:e}}var p=i(1);var m=i(113);var v=i(120);var g=function(){function e(t,i,n){var r=this;(0,u["default"])(this,e);this.body=t;this.canvas=i;this.selectionHandler=n;this.editMode=false;this.manipulationDiv=undefined;this.editModeDiv=undefined;this.closeDiv=undefined;this.manipulationHammers=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.guiEnabled=false;this.inMode=false;this.selectedControlNode=undefined;this.options={};this.defaultOptions={enabled:false,initiallyActive:false,addNode:true,addEdge:true,editNode:undefined,editEdge:true,deleteNode:true,deleteEdge:true,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};p.extend(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){r._clean()});this.body.emitter.on("_dataChanged",this._restore.bind(this));this.body.emitter.on("_resetData",this._restore.bind(this))}(0,c["default"])(e,[{key:"_restore",value:function e(){if(this.inMode!==false){if(this.options.initiallyActive===true){this.enableEditMode()}else{this.disableEditMode()}}}},{key:"setOptions",value:function e(t,i,n){if(i!==undefined){if(i.locale!==undefined){this.options.locale=i.locale}else{this.options.locale=n.locale}if(i.locales!==undefined){this.options.locales=i.locales}else{this.options.locales=n.locales}}if(t!==undefined){if(typeof t==="boolean"){this.options.enabled=t}else{this.options.enabled=true;p.deepExtend(this.options,t)}if(this.options.initiallyActive===true){this.editMode=true}this._setup()}}},{key:"toggleEditMode",value:function e(){if(this.editMode===true){this.disableEditMode()}else{this.enableEditMode()}}},{key:"enableEditMode",value:function e(){this.editMode=true;this._clean();if(this.guiEnabled===true){this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";this.editModeDiv.style.display="none";this.showManipulatorToolbar()}}},{key:"disableEditMode",value:function e(){this.editMode=false;this._clean();if(this.guiEnabled===true){this.manipulationDiv.style.display="none";this.closeDiv.style.display="none";this.editModeDiv.style.display="block";this._createEditButton()}}},{key:"showManipulatorToolbar",value:function e(){this._clean();this.manipulationDOM={};if(this.guiEnabled===true){this.editMode=true;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount();var i=this.selectionHandler._getSelectedEdgeCount();var n=t+i;var r=this.options.locales[this.options.locale];var o=false;if(this.options.addNode!==false){this._createAddNodeButton(r);o=true}if(this.options.addEdge!==false){if(o===true){this._createSeperator(1)}else{o=true}this._createAddEdgeButton(r)}if(t===1&&typeof this.options.editNode==="function"){if(o===true){this._createSeperator(2)}else{o=true}this._createEditNodeButton(r)}else if(i===1&&t===0&&this.options.editEdge!==false){if(o===true){this._createSeperator(3)}else{o=true}this._createEditEdgeButton(r)}if(n!==0){if(t>0&&this.options.deleteNode!==false){if(o===true){this._createSeperator(4)}this._createDeleteButton(r)}else if(t===0&&this.options.deleteEdge!==false){if(o===true){this._createSeperator(4)}this._createDeleteButton(r)}}this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this));this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function e(){if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="addNode";if(this.guiEnabled===true){var t=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(t);this._createSeperator();this._createDescription(t["addDescription"]||this.options.locales["en"]["addDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function e(){var t=this;if(this.editMode!==true){this.enableEditMode()}this._clean();var i=this.selectionHandler._getSelectedNode();if(i!==undefined){this.inMode="editNode";if(typeof this.options.editNode==="function"){if(i.isCluster!==true){var n=p.deepExtend({},i.options,false);n.x=i.x;n.y=i.y;if(this.options.editNode.length===2){this.options.editNode(n,function(e){if(e!==null&&e!==undefined&&t.inMode==="editNode"){t.body.data.nodes.getDataSet().update(e)}t.showManipulatorToolbar()})}else{throw new Error("The function for edit does not support two arguments (data, callback)")}}else{alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}}else{throw new Error("No function has been configured to handle the editing of nodes.")}}else{this.showManipulatorToolbar()}}},{key:"addEdgeMode",value:function e(){if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="addEdge";if(this.guiEnabled===true){var t=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(t);this._createSeperator();this._createDescription(t["edgeDescription"]||this.options.locales["en"]["edgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this));this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this));this._temporaryBindUI("onDrag",this._dragControlNode.bind(this));this._temporaryBindUI("onRelease",this._finishConnect.bind(this));this._temporaryBindUI("onDragStart",function(){});this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function e(){if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="editEdge";if((0,l["default"])(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag==="function"){this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];if(this.edgeBeingEditedId!==undefined){var t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from,t.to);return}}if(this.guiEnabled===true){var i=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(i);this._createSeperator();this._createDescription(i["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];if(this.edgeBeingEditedId!==undefined){var n=this.body.edges[this.edgeBeingEditedId];var r=this._getNewTargetNode(n.from.x,n.from.y);var o=this._getNewTargetNode(n.to.x,n.to.y);this.temporaryIds.nodes.push(r.id);this.temporaryIds.nodes.push(o.id);this.body.nodes[r.id]=r;this.body.nodeIndices.push(r.id);this.body.nodes[o.id]=o;this.body.nodeIndices.push(o.id);this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this));this._temporaryBindUI("onTap",function(){});this._temporaryBindUI("onHold",function(){});this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this));this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this));this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this));this._temporaryBindUI("onMouseMove",function(){});this._temporaryBindEvent("beforeDrawing",function(e){var t=n.edgeType.findBorderPositions(e);if(r.selected===false){r.x=t.from.x;r.y=t.from.y}if(o.selected===false){o.x=t.to.x;o.y=t.to.y}});this.body.emitter.emit("_redraw")}else{this.showManipulatorToolbar()}}},{key:"deleteSelected",value:function e(){var t=this;if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="delete";var i=this.selectionHandler.getSelectedNodes();var n=this.selectionHandler.getSelectedEdges();var r=undefined;if(i.length>0){for(var o=0;o<i.length;o++){if(this.body.nodes[i[o]].isCluster===true){alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);return}}if(typeof this.options.deleteNode==="function"){r=this.options.deleteNode}}else if(n.length>0){if(typeof this.options.deleteEdge==="function"){r=this.options.deleteEdge}}if(typeof r==="function"){var s={nodes:i,edges:n};if(r.length===2){r(s,function(e){if(e!==null&&e!==undefined&&t.inMode==="delete"){t.body.data.edges.getDataSet().remove(e.edges);t.body.data.nodes.getDataSet().remove(e.nodes);t.body.emitter.emit("startSimulation");t.showManipulatorToolbar()}else{t.body.emitter.emit("startSimulation");t.showManipulatorToolbar()}})}else{throw new Error("The function for delete does not support two arguments (data, callback)")}}else{this.body.data.edges.getDataSet().remove(n);this.body.data.nodes.getDataSet().remove(i);this.body.emitter.emit("startSimulation");this.showManipulatorToolbar()}}},{key:"_setup",value:function e(){if(this.options.enabled===true){this.guiEnabled=true;this._createWrappers();if(this.editMode===false){this._createEditButton()}else{this.showManipulatorToolbar()}}else{this._removeManipulationDOM();this.guiEnabled=false}}},{key:"_createWrappers",value:function e(){if(this.manipulationDiv===undefined){this.manipulationDiv=document.createElement("div");this.manipulationDiv.className="vis-manipulation";if(this.editMode===true){this.manipulationDiv.style.display="block"}else{this.manipulationDiv.style.display="none"}this.canvas.frame.appendChild(this.manipulationDiv)}if(this.editModeDiv===undefined){this.editModeDiv=document.createElement("div");this.editModeDiv.className="vis-edit-mode";if(this.editMode===true){this.editModeDiv.style.display="none"}else{this.editModeDiv.style.display="block"}this.canvas.frame.appendChild(this.editModeDiv)}if(this.closeDiv===undefined){this.closeDiv=document.createElement("div");this.closeDiv.className="vis-close";this.closeDiv.style.display=this.manipulationDiv.style.display;this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function e(t,i){var n=p.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+p.randomUUID();n.hidden=false;n.physics=false;n.x=t;n.y=i;var r=this.body.functions.createNode(n);r.shape.boundingBox={left:t,right:t,top:i,bottom:i};return r}},{key:"_createEditButton",value:function e(){this._clean();this.manipulationDOM={};p.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale];var i=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(i);this._bindHammerToDiv(i,this.toggleEditMode.bind(this))}},{key:"_clean",value:function e(){this.inMode=false;if(this.guiEnabled===true){p.recursiveDOMDelete(this.editModeDiv);p.recursiveDOMDelete(this.manipulationDiv);this._cleanManipulatorHammers()}this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function e(){if(this.manipulationHammers.length!=0){for(var t=0;t<this.manipulationHammers.length;t++){this.manipulationHammers[t].destroy()}this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function e(){this._clean();p.recursiveDOMDelete(this.manipulationDiv);p.recursiveDOMDelete(this.editModeDiv);p.recursiveDOMDelete(this.closeDiv);if(this.manipulationDiv){this.canvas.frame.removeChild(this.manipulationDiv)}if(this.editModeDiv){this.canvas.frame.removeChild(this.editModeDiv)}if(this.closeDiv){this.canvas.frame.removeChild(this.closeDiv)}this.manipulationDiv=undefined;this.editModeDiv=undefined;this.closeDiv=undefined}},{key:"_createSeperator",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function e(t){var i=this._createButton("addNode","vis-button vis-add",t["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function e(t){var i=this._createButton("addEdge","vis-button vis-connect",t["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function e(t){var i=this._createButton("editNode","vis-button vis-edit",t["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function e(t){var i=this._createButton("editEdge","vis-button vis-edit",t["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function e(t){if(this.options.rtl){var i="vis-button vis-delete-rtl"}else{var i="vis-button vis-delete"}var n=this._createButton("delete",i,t["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(n);this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function e(t){var i=this._createButton("back","vis-button vis-back",t["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function e(t,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"vis-label";this.manipulationDOM[t+"Div"]=document.createElement("div");this.manipulationDOM[t+"Div"].className=i;this.manipulationDOM[t+"Label"]=document.createElement("div");this.manipulationDOM[t+"Label"].className=r;this.manipulationDOM[t+"Label"].innerHTML=n;this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]);return this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function e(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function e(t,i){this.temporaryEventFunctions.push({event:t,boundFunction:i});this.body.emitter.on(t,i)}},{key:"_temporaryBindUI",value:function e(t,i){if(this.body.eventListeners[t]!==undefined){this.temporaryUIFunctions[t]=this.body.eventListeners[t];this.body.eventListeners[t]=i}else{throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,s["default"])((0,r["default"])(this.body.eventListeners)))}}},{key:"_unbindTemporaryUIs",value:function e(){for(var t in this.temporaryUIFunctions){if(this.temporaryUIFunctions.hasOwnProperty(t)){this.body.eventListeners[t]=this.temporaryUIFunctions[t];delete this.temporaryUIFunctions[t]}}this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function e(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var i=this.temporaryEventFunctions[t].event;var n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(i,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function e(t,i){var n=new m(t,{});v.onTouch(n,i);this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function e(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect();delete this.body.edges[this.temporaryIds.edges[t]];var i=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);if(i!==-1){this.body.edgeIndices.splice(i,1)}}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var r=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);if(r!==-1){this.body.nodeIndices.splice(r,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function e(t){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(t.center);this.lastTouch.translation=p.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function e(t){var i=this.lastTouch;var n=this.selectionHandler._pointerToPositionObject(i);var r=this.body.nodes[this.temporaryIds.nodes[0]];var o=this.body.nodes[this.temporaryIds.nodes[1]];var s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=undefined;var a=r.isOverlappingWith(n);var l=o.isOverlappingWith(n);if(a===true){this.selectedControlNode=r;s.edgeType.from=r}else if(l===true){this.selectedControlNode=o;s.edgeType.to=o}if(this.selectedControlNode!==undefined){this.selectionHandler.selectObject(this.selectedControlNode)}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function e(t){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(t.center);var n=this.canvas.DOMtoCanvas(i);if(this.selectedControlNode!==undefined){this.selectedControlNode.x=n.x;this.selectedControlNode.y=n.y}else{var r=i.x-this.lastTouch.x;var o=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function e(t){var i=this.body.functions.getPointer(t.center);var n=this.selectionHandler._pointerToPositionObject(i);var r=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===undefined){return}this.selectionHandler.unselectAll();var o=this.selectionHandler._getAllNodesOverlappingWith(n);var s=undefined;for(var a=o.length-1;a>=0;a--){if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}}if(s!==undefined&&this.selectedControlNode!==undefined){if(s.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{var l=this.body.nodes[this.temporaryIds.nodes[0]];if(this.selectedControlNode.id===l.id){this._performEditEdge(s.id,r.to.id)}else{this._performEditEdge(r.from.id,s.id)}}}else{r.updateEdgeType();this.body.emitter.emit("restorePhysics")}this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function e(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center);this.lastTouch.translation=p.extend({},this.body.view.translation);var i=this.lastTouch;var n=this.selectionHandler.getNodeAt(i);if(n!==undefined){if(n.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{var r=this._getNewTargetNode(n.x,n.y);this.body.nodes[r.id]=r;this.body.nodeIndices.push(r.id);var o=this.body.functions.createEdge({id:"connectionEdge"+p.randomUUID(),from:n.id,to:r.id,physics:false,smooth:{enabled:true,type:"continuous",roundness:.5}});this.body.edges[o.id]=o;this.body.edgeIndices.push(o.id);this.temporaryIds.nodes.push(r.id);this.temporaryIds.edges.push(o.id)}}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function e(t){var i=this.body.functions.getPointer(t.center);if(this.temporaryIds.nodes[0]!==undefined){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(i.x);n.y=this.canvas._YconvertDOMtoCanvas(i.y);this.body.emitter.emit("_redraw")}else{var r=i.x-this.lastTouch.x;var o=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function e(t){var i=this.body.functions.getPointer(t.center);var n=this.selectionHandler._pointerToPositionObject(i);var r=undefined;if(this.temporaryIds.edges[0]!==undefined){r=this.body.edges[this.temporaryIds.edges[0]].fromId}var o=this.selectionHandler._getAllNodesOverlappingWith(n);var s=undefined;for(var a=o.length-1;a>=0;a--){if(this.temporaryIds.nodes.indexOf(o[a])===-1){s=this.body.nodes[o[a]];break}}this._cleanupTemporaryNodesAndEdges();if(s!==undefined){if(s.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{if(this.body.nodes[r]!==undefined&&this.body.nodes[s.id]!==undefined){this._performAddEdge(r,s.id)}}}this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function e(t){var i=this;var n={id:p.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if(typeof this.options.addNode==="function"){if(this.options.addNode.length===2){this.options.addNode(n,function(e){if(e!==null&&e!==undefined&&i.inMode==="addNode"){i.body.data.nodes.getDataSet().add(e);i.showManipulatorToolbar()}})}else{throw new Error("The function for add does not support two arguments (data,callback)");this.showManipulatorToolbar()}}else{this.body.data.nodes.getDataSet().add(n);this.showManipulatorToolbar()}}},{key:"_performAddEdge",value:function e(t,i){var n=this;var r={from:t,to:i};if(typeof this.options.addEdge==="function"){if(this.options.addEdge.length===2){this.options.addEdge(r,function(e){if(e!==null&&e!==undefined&&n.inMode==="addEdge"){n.body.data.edges.getDataSet().add(e);n.selectionHandler.unselectAll();n.showManipulatorToolbar()}})}else{throw new Error("The function for connect does not support two arguments (data,callback)")}}else{this.body.data.edges.getDataSet().add(r);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}},{key:"_performEditEdge",value:function e(t,i){var n=this;var r={id:this.edgeBeingEditedId,from:t,to:i,label:this.body.data.edges._data[this.edgeBeingEditedId].label};var o=this.options.editEdge;if((typeof o==="undefined"?"undefined":(0,l["default"])(o))==="object"){o=o.editWithoutDrag}if(typeof o==="function"){if(o.length===2){o(r,function(e){if(e===null||e===undefined||n.inMode!=="editEdge"){n.body.edges[r.id].updateEdgeType();n.body.emitter.emit("_redraw");n.showManipulatorToolbar()}else{n.body.data.edges.getDataSet().update(e);n.selectionHandler.unselectAll();n.showManipulatorToolbar()}})}else{throw new Error("The function for edit does not support two arguments (data, callback)")}}else{this.body.data.edges.getDataSet().update(r);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}}]);return e}();t["default"]=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="string";var n="boolean";var r="number";var o="array";var s="object";var a="dom";var l="any";var d={configure:{enabled:{boolean:n},filter:{boolean:n,string:i,array:o,function:"function"},container:{dom:a},showButton:{boolean:n},__type__:{object:s,boolean:n,string:i,array:o,function:"function"}},edges:{arrows:{to:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},middle:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},from:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:n},chosen:{label:{boolean:n,function:"function"},edge:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:n},opacity:{number:r},__type__:{object:s,string:i}},dashes:{boolean:n,array:o},font:{color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:n,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},__type__:{object:s,string:i}},hidden:{boolean:n},hoverWidth:{function:"function",number:r},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:n},length:{number:r,undefined:"undefined"},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:n},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:n}},smooth:{enabled:{boolean:n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:n},__type__:{object:s,boolean:n}},title:{string:i,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:s,boolean:n,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:n},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:n},dragView:{boolean:n},hideEdgesOnDrag:{boolean:n},hideNodesOnDrag:{boolean:n},hover:{boolean:n},keyboard:{enabled:{boolean:n},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{boolean:n},__type__:{object:s,boolean:n}},multiselect:{boolean:n},navigationButtons:{boolean:n},selectable:{boolean:n},selectConnectedEdges:{boolean:n},hoverConnectedEdges:{boolean:n},tooltipDelay:{number:r},zoomView:{boolean:n},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:n},hierarchical:{enabled:{boolean:n},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:n},edgeMinimization:{boolean:n},parentCentralization:{boolean:n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:n}},__type__:{object:s}},manipulation:{enabled:{boolean:n},initiallyActive:{boolean:n},addNode:{boolean:n,function:"function"},addEdge:{boolean:n,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:n,function:"function"}},deleteNode:{boolean:n,function:"function"},deleteEdge:{boolean:n,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:n}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:n,function:"function"},node:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{boolean:n},y:{boolean:n},__type__:{object:s,boolean:n}},font:{align:{string:i},color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},vadjust:{number:r},multi:{boolean:n,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},__type__:{object:s,string:i}},group:{string:i,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:i},__type__:{object:s,boolean:n,number:r}},hidden:{boolean:n},icon:{face:{string:i},code:{string:i},size:{number:r},color:{string:i},__type__:{object:s}},id:{string:i,number:r},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:s,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:n},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:s,number:r}},mass:{number:r},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:n},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:n,array:o},borderRadius:{number:r},interpolation:{boolean:n},useImageSize:{boolean:n},useBorderWithImage:{boolean:n},__type__:{object:s}},size:{number:r},title:{string:i,undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:s,boolean:n,number:r}},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{boolean:n},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:n},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:n},fit:{boolean:n},__type__:{object:s,boolean:n}},timestep:{number:r},adaptiveTimestep:{boolean:n},__type__:{object:s,boolean:n}},autoResize:{boolean:n},clickToUse:{boolean:n},locale:{string:i},locales:{__any__:{any:l},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};d.groups.__any__=d.nodes;d.manipulation.controlNodeStyle=d.nodes;var u={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:false,y:false},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:false,labelHighlightBold:true,physics:true,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:false,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:false,borderRadius:[6,0,20,1],interpolation:true,useImageSize:false},size:[25,0,200,1]},edges:{arrows:{to:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:true,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",true,false],opacity:[1,0,1,.05]},dashes:false,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:false,hoverWidth:[1.5,0,5,.1],labelHighlightBold:true,physics:true,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:true,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:true,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:false,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:true,edgeMinimization:true,parentCentralization:true,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:true,dragView:true,hideEdgesOnDrag:false,hideNodesOnDrag:false,hover:false,keyboard:{enabled:false,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:true},multiselect:false,navigationButtons:false,selectable:true,selectConnectedEdges:true,hoverConnectedEdges:true,tooltipDelay:[300,0,1e3,25],zoomView:true},manipulation:{enabled:false,initiallyActive:false},physics:{enabled:true,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};t.allOptions=d;t.configureOptions=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(171);var r=h(n);var o=i(135);var s=h(o);var a=i(136);var l=h(a);var d=i(232);var u=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,i,n){(0,s["default"])(this,e);this.body=t;this.springLength=i;this.springConstant=n;this.distanceSolver=new u["default"]}(0,l["default"])(e,[{key:"setOptions",value:function e(t){if(t){if(t.springLength){this.springLength=t.springLength}if(t.springConstant){this.springConstant=t.springConstant}}}},{key:"solve",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=this.distanceSolver.getDistances(this.body,t,i);this._createL_matrix(o);this._createK_matrix(o);this._createE_matrix();var s=.01;var a=1;var l=0;var d=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));var u=5;var h=1e9;var c=0,f=0,p=0,m=0,v=0;while(h>s&&l<d){l+=1;var g=this._getHighestEnergyNode(n);var y=(0,r["default"])(g,4);c=y[0];h=y[1];f=y[2];p=y[3];m=h;v=0;while(m>a&&v<u){v+=1;this._moveNode(c,f,p);var b=this._getEnergy(c);var w=(0,r["default"])(b,3);m=w[0];f=w[1];p=w[2]}}}},{key:"_getHighestEnergyNode",value:function e(t){var i=this.body.nodeIndices;var n=this.body.nodes;var o=0;var s=i[0];var a=0,l=0;for(var d=0;d<i.length;d++){var u=i[d];if(n[u].predefinedPosition===false||n[u].isCluster===true&&t===true||n[u].options.fixed.x===true||n[u].options.fixed.y===true){var h=this._getEnergy(u),c=(0,r["default"])(h,3),f=c[0],p=c[1],m=c[2];if(o<f){o=f;s=u;a=p;l=m}}}return[s,o,a,l]}},{key:"_getEnergy",value:function e(t){var i=(0,r["default"])(this.E_sums[t],2),n=i[0],o=i[1];var s=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));return[s,n,o]}},{key:"_moveNode",value:function e(t,i,n){var r=this.body.nodeIndices;var o=this.body.nodes;var s=0;var a=0;var l=0;var d=o[t].x;var u=o[t].y;var h=this.K_matrix[t];var c=this.L_matrix[t];for(var f=0;f<r.length;f++){var p=r[f];if(p!==t){var m=o[p].x;var v=o[p].y;var g=h[p];var y=c[p];var b=1/Math.pow(Math.pow(d-m,2)+Math.pow(u-v,2),1.5);s+=g*(1-y*Math.pow(u-v,2)*b);a+=g*(y*(d-m)*(u-v)*b);l+=g*(1-y*Math.pow(d-m,2)*b)}}var w=s,x=a,_=i,k=l,C=n;var S=(_/w+C/x)/(x/w-k/x);var T=-(x*S+_)/w;o[t].x+=T;o[t].y+=S;this._updateE_matrix(t)}},{key:"_createL_matrix",value:function e(t){var i=this.body.nodeIndices;var n=this.springLength;this.L_matrix=[];for(var r=0;r<i.length;r++){this.L_matrix[i[r]]={};for(var o=0;o<i.length;o++){this.L_matrix[i[r]][i[o]]=n*t[i[r]][i[o]]}}}},{key:"_createK_matrix",value:function e(t){var i=this.body.nodeIndices;var n=this.springConstant;this.K_matrix=[];for(var r=0;r<i.length;r++){this.K_matrix[i[r]]={};for(var o=0;o<i.length;o++){this.K_matrix[i[r]][i[o]]=n*Math.pow(t[i[r]][i[o]],-2)}}}},{key:"_createE_matrix",value:function e(){var t=this.body.nodeIndices;var i=this.body.nodes;this.E_matrix={};this.E_sums={};for(var n=0;n<t.length;n++){this.E_matrix[t[n]]=[]}for(var r=0;r<t.length;r++){var o=t[r];var s=i[o].x;var a=i[o].y;var l=0;var d=0;for(var u=r;u<t.length;u++){var h=t[u];if(h!==o){var c=i[h].x;var f=i[h].y;var p=1/Math.sqrt(Math.pow(s-c,2)+Math.pow(a-f,2));this.E_matrix[o][u]=[this.K_matrix[o][h]*(s-c-this.L_matrix[o][h]*(s-c)*p),this.K_matrix[o][h]*(a-f-this.L_matrix[o][h]*(a-f)*p)];this.E_matrix[h][r]=this.E_matrix[o][u];l+=this.E_matrix[o][u][0];d+=this.E_matrix[o][u][1]}}this.E_sums[o]=[l,d]}}},{key:"_updateE_matrix",value:function e(t){var i=this.body.nodeIndices;var n=this.body.nodes;var r=this.E_matrix[t];var o=this.K_matrix[t];var s=this.L_matrix[t];var a=n[t].x;var l=n[t].y;var d=0;var u=0;for(var h=0;h<i.length;h++){var c=i[h];if(c!==t){var f=r[h];var p=f[0];var m=f[1];var v=n[c].x;var g=n[c].y;var y=1/Math.sqrt(Math.pow(a-v,2)+Math.pow(l-g,2));var b=o[c]*(a-v-s[c]*(a-v)*y);var w=o[c]*(l-g-s[c]*(l-g)*y);r[h]=[b,w];d+=b;u+=w;var x=this.E_sums[c];x[0]+=b-p;x[1]+=w-m}}this.E_sums[t]=[d,u]}}]);return e}();t["default"]=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i(135);var r=a(n);var o=i(136);var s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,r["default"])(this,e)}(0,s["default"])(e,[{key:"getDistances",value:function e(t,i,n){var r={};var o=t.edges;for(var s=0;s<i.length;s++){var a=i[s];var l={};r[a]=l;for(var d=0;d<i.length;d++){l[i[d]]=s==d?0:1e9}}for(var u=0;u<n.length;u++){var h=o[n[u]];if(h.connected===true&&r[h.fromId]!==undefined&&r[h.toId]!==undefined){r[h.fromId][h.toId]=1;r[h.toId][h.fromId]=1}}var c=i.length;for(var f=0;f<c;f++){var p=i[f];var m=r[p];for(var v=0;v<c-1;v++){var g=i[v];var y=r[g];for(var b=v+1;b<c;b++){var w=i[b];var x=r[w];var _=Math.min(y[w],y[p]+m[w]);y[w]=_;x[g]=_}}}return r}}]);return e}();t["default"]=l}])});$(document).ready(function(){moment.locale(lang);$.extend($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales[lang]);$("select").select2({language:lang,minimumResultsForSearch:11,width:"resolve"});$(".select2.select2-container").css("width","100%");$(".datetimepicker-input").datetimepicker({locale:lang,showClear:true,showClose:true,showTodayButton:true,allowInputToggle:true});$(".table-bootstrap-table").bootstrapTable("hideLoading");$('.btn-group[title="Columns"]').find("i.glyphicon-th").removeClass("glyphicon-th").addClass("glyphicon-th-list");$(".readonly-select").prop("disabled",true)});$("form").submit(function(){$(".readonly-select").prop("disabled",false)});function setPageAlert(e,t,i){var n=window.translations[t]?window.translations[t]:t;e=e==="error"?"danger":e;$("#alerts").html($('<div class="alert alert-dismissable alert-fadeout fade in alert-'+e+'" role="alert">'+'<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>'+n+"</div>"));if(i!==undefined){window.setTimeout(function(){$(".alert-fadeout").fadeTo(1e3,0).slideUp(1e3,function(){$(this).remove()})},i)}}function clearPageAlert(){$("#alerts").html("")}var NoteSaveButton=function(e){var t=$.summernote.ui;var i=t.button({contents:'<i class="fa fa-child"/>Save',tooltip:"save",click:function(){$.post(window.location.pathname,e.invoke("code"))}});return i.render()};$("#pageedit").on("click",function(){if($(this).hasClass("active")){$(".inlineedit").summernote("destroy")}else{$(".inlineedit").summernote({lang:lang,focus:true,buttons:{save:NoteSaveButton},toolbar:[["style",["style"]],["font",["fontname","fontsize"]],["textstyle",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["color",["color"]],["para",["ul","ol","paragraph","height"]],["insert",["picture","link","video"]],["table",["table"]],["hr",["hr"]],["view",["fullscreen","codeview"]],["edit",["undo","redo"]],["help",["help"]],["save",["save"]]]})}});var Router=function(){var e="";var t=[];var i=function e(t,i){i=i===undefined?[]:i;this.base=this.base===undefined?"":this.base;var n=this.routes[t];var r=this.base+n.path;for(var o in i){if(i.hasOwnProperty(o)){r=r.replace("{"+o+"}",i[o])}}return r};var n=function e(t){this.base=t};var r=function e(t){this.routes=t};return{generatePath:i,setBasePath:n,setRoutes:r}}();function debounce(e,t,i){var n;return function(){var r=this,o=arguments;var s=function(){n=null;if(!i){e.apply(r,o)}};var a=i&&!n;clearTimeout(n);n=setTimeout(s,t);if(a){e.apply(r,o)}}}function adminUserId(){return $("#actor_id_value").val()}var setAdminUserId=function e(t){$("#actor").attr("action",Router.generatePath("api.internal.actor",{id:t}));$("#password_set").attr("action",Router.generatePath("api.internal.user.password.set",{id:t}));$("#role_add").attr("action",Router.generatePath("api.internal.actor.role.add",{id:t}))};var fetchAdminUserActor=function(e){clearPageAlert();$("#actor").clearForm();$.ajax(Router.generatePath("api.internal.actor",{id:e})).fail(function(e){$("#actor").clearForm();setPageAlert(e.status,e.message,5e3)}).done(function(t){FormMapper.mapDataToForm(t,$("#actor")[0]);setAdminUserId(e)})};function adminUserFormSubmit(e,t,i){clearPageAlert();return adminUserId()?true:false}function adminUserFormSuccess(e){setPageAlert(e.status,e.message,5e3)}var itemFormToHtml=function(e){var t=[];var i=1;if(e["actor_avatar_item"]["value"]){t.push('<img class="file-preview-image" src="/img/'+e["actor_avatar_item"]["value"]+'?p=preview">')}else{t.push('<img class="file-preview-image" src="/img/'+i+'?p=preview">')}$("div.file-input").parent().append($('<input type="file" id="actor_avatar_file" name="actor[avatar][file]">'));$("div.file-input").remove();$("#actor_avatar_file").fileinput({showUpload:false,allowedFileTypes:["image"],previewFileType:"image",initialPreview:t,minFileCount:0,maxFileCount:1})};var adminUserSelected=function(e){e.preventDefault();var t=$(e.target).is("tr")?$(e.target):$(e.target).closest("tr");fetchAdminUserActor(t.attr("data-unique-id"))};$("document").ready(function(){$("#actor").ajaxForm({beforeSubmit:adminUserFormSubmit,success:adminUserFormSuccess,type:"post",clearForm:false,dataType:"json"});$("#password_set").ajaxForm({beforeSubmit:adminUserFormSubmit,success:adminUserFormSuccess,type:"post",clearForm:true,dataType:"json"});$("#role_add").ajaxForm({beforeSubmit:adminUserFormSubmit,success:adminUserFormSuccess,type:"post",clearForm:true,dataType:"json"});$(".icon-user-focus").on("click",{target:this},adminUserSelected)});!function(e){"use strict";var t=function(e){e.$toolbar.find('button[name="cardView"]').click()};var i=function(e){e.$toolbar.find('button[name="thumbView"]').click()};var n=function(e){e.$toolbar.find('button[name="tableView"]').click()};var r=function(t,i){if(t.options.columnsHidden.length>0){e.each(t.columns,function(n,r){if(t.options.columnsHidden.indexOf(r.field)!==-1){if(r.visible!==i){t.toggleColumn(e.fn.bootstrapTable.utils.getFieldIndex(t.columns,r.field),i,true)}}})}};var o=function(e){if(e.options.height||e.options.showFooter){setTimeout(function(){e.resetView.call(e)},1)}};var s=function(e){if(e.$toolbar.find('button[name="tableView"]').hasClass("active")){return"tableView"}else if(e.$toolbar.find('button[name="cardView"]').hasClass("active")){return"cardView"}else{return"thumbView"}};var a=function(r,a,l){var d=s(r);if(d!=="tableView"){e("#dime_find_table").removeClass("cardViewTable");e("#dime_find_home").removeClass("cardViewTable");e("#dime_find_table").removeClass("thumbViewTable");e("#dime_find_home").removeClass("thumbViewTable");if(d==="thumbView"){r.toggleView()}r.$toolbar.find("button").removeClass("active")}var u=e(".table-wrapper-div .fixed-table-body")[0].clientWidth;var h=e(".table-wrapper-div .fixed-table-body")[0].scrollWidth;var c=u<h;if(r.options.minHeight){if(a<=r.options.minWidth&&l<=r.options.minHeight){r.$toolbar.find('button[name="tableView"]').addClass("disabled");switch(d){case"tableView":t(r);break;case"cardView":t(r);break;case"thumbView":i(r);break}}else if(a>r.options.minWidth&&l>r.options.minHeight){r.$toolbar.find('button[name="tableView"]').removeClass("disabled");switch(d){case"tableView":n(r);break;case"cardView":t(r);break;case"thumbView":i(r);break}}}else{if(c){r.$toolbar.find('button[name="tableView"]').addClass("disabled");switch(d){case"tableView":t(r);break;case"cardView":t(r);break;case"thumbView":i(r);break}}else{r.$toolbar.find('button[name="tableView"]').removeClass("disabled");switch(d){case"tableView":n(r);break;case"cardView":t(r);break;case"thumbView":i(r);break}}}o(r)};var l=function(e,t){var i;return function(){var n=this,r=arguments;var o=function(){i=null;e.apply(n,r)};clearTimeout(i);i=setTimeout(o,t)}};e.extend(e.fn.bootstrapTable.defaults,{locale:lang,mobileResponsive:false,minWidth:562,minHeight:undefined,heightThreshold:100,checkOnInit:true,columnsHidden:[]});var d=e.fn.bootstrapTable.Constructor,u=d.prototype.init;d.prototype.init=function(){u.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.mobileResponsive){return}if(!this.options.minWidth){return}if(this.options.minWidth<100&&this.options.resizable){this.options.minWidth=100}var t=this,i={width:e(".bootstrap-table").width(),height:e(".bootstrap-table").height()};e(window).on("resize orientationchange",l(function(n){var r=e(".bootstrap-table").height(),o=e(".bootstrap-table").width();if(Math.abs(i.height-r)>t.options.heightThreshold||i.width!==o){a(t,o,r);i={width:o,height:r}}},200));if(this.options.checkOnInit){var n=e(".bootstrap-table").height(),r=e(".bootstrap-table").width();a(this,r,n);i={width:r,height:n}}e(".bootstrap-table").on("column-switch.bs.table",function(){var i=e(".bootstrap-table").height(),n=e(".bootstrap-table").width();a(t,n,i);return true})}}(jQuery);!function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;e.extend(e.fn.bootstrapTable.defaults,{locale:lang,switchcardview:false});e.extend(e.fn.bootstrapTable.defaults.icons,{cardIcon:"glyphicon-th-large",thumbIcon:"glyphicon-th",listIcon:"glyphicon-menu-hamburger"});var i=e.fn.bootstrapTable.Constructor,n=i.prototype.initToolbar;i.prototype.initToolbar=function(){n.apply(this,Array.prototype.slice.apply(arguments));var i="";var r="";var o=this;var s=this.$toolbar.find(">.btn-group");if(!this.options.switchcardview){return}if(o.options.cardView){i=" active"}else{r=" active"}e(s.find('[name="toggle"]')).remove();e(['<div class="export btn-group">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+r+'" name="tableView" '+'type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.listIcon),"</button>",'<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+i+'" name="cardView" '+' type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.cardIcon),"</button>",'<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+i+'" name="thumbView" '+' type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.thumbIcon),"</button>","</div>"].join("")).prependTo(s);e(document).ready(function(){window.removeTextSelection=function(){var e=window.getSelection?window.getSelection():document.selection;if(e){if(e.removeAllRanges){e.removeAllRanges()}else if(e.empty){e.empty()}}};window.createItemModal=function(t,i){var n='<div id="modalWindow" class="modal fade in" style="display:none;" data-backdrop="false">';n+='<div class="modal-dialog thumbmodal-container dime" tabindex="-1" >';n+='<button type="button" class="close" data-dismiss="modal" aria-label="Close">';n+='<span aria-hidden="true">&times;</span>';n+="</button>";n+='<div class="modal-body thumbModal">';for(var r in i){console.log(i[r]);n+='<div class="field">';if(i[r].field!=="checked"){if(i[r].field==="image"){n+=t[i[r].field]}else{n+=t[i[r].field]}}n+="</div>"}n+="</div>";n+="</div>";e("#thumbModal").html(n);e("#modalWindow").modal();e("#modalWindow").on("hidden.bs.modal",function(){e("tbody tr").removeClass("selected")});e(".modal-body img").load(function(){e(".thumbmodal-container").width(this.naturalWidth+70)})};var t=function(t){var i="";var n="";removeTextSelection();if(e(t.target).is("a")){return true}if(e(t.target).is("tr")){i=e(t.target)}else{i=e(t.target).closest("tr")}n=i.attr("data-unique-id");if(i.hasClass("selected")){i.removeClass("selected");i.find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}else{i.addClass("selected");i.find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")}};var i=function(t,i,n){var r="";var o="";removeTextSelection();if(e(t.target).is("a")){return true}if(e(t.target).hasClass("icon-user-focus")){return true}if(e(t.target).is("tr")){r=e(t.target)}else{r=e(t.target).closest("tr")}o=r.attr("data-unique-id");if(typeof window.selected==="undefined"){window.selected=[]}if(r.hasClass("selected")){window.selected=window.selected.filter(function(e){return e!==o})}else{window.selected.push(o)}if(typeof mapcollection==="undefined"){if(r.hasClass("selected")){r.removeClass("selected");r.find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}else{r.addClass("selected");r.find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")}return true}map.getLayers().forEach(function(e,t,i){if(e.get("name")==="finds"){if(typeof e.getSource().getFeatures==="function"){e.getSource().getFeatures().forEach(function(e,t,i){if(e.get("ark_id").toUpperCase()===o){if(r.hasClass("selected")){mapcollection.remove(e)}else{mapcollection.push(e)}}})}}})};if(window.itemkey==="find"){window.tableclick=i}else{window.tableclick=t}var n=function(t){var i="";if(e(t.target).is("tr")){i=e(t.target)}else{i=e(t.target).closest("tr")}window.tableclick(t);createItemModal(o.data[i[0].rowIndex-1],o.columns)};var r=function(t){var i="";e("tbody tr").off("click");e("tbody tr").on("click",{target:this},t);if(typeof mapcollection!=="undefined"){mapcollection.forEach(function(t,n,r){i=t.get("ark_id");e(".dime-table tr[data-unique-id='"+i.toString()+"']").addClass("selected")})}else if(typeof window.selected!=="undefined"){window.selected.forEach(function(t){e(".dime-table tr[data-unique-id='"+t.toString()+"']").addClass("selected");e(".dime-table tr[data-unique-id='"+t.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")})}};o.$toolbar.find('button[name="tableView"]').on("click",function(){e(this).blur();if(e(this).hasClass("disabled")){return false}if(e(s.find('[name="tableView"]')).hasClass("active")===false){e(".dime-table").removeClass("cardViewTable");e(".dime-table").removeClass("thumbViewTable");if(e(s.find('[name="thumbView"]')).hasClass("active")){o.toggleView()}e(s.find('[name="cardView"]')).removeClass("active");e(s.find('[name="thumbView"]')).removeClass("active");e(s.find('[name="tableView"]')).addClass("active");r(window.tableclick)}});o.$toolbar.find('button[name="thumbView"]').on("click",function(){e(this).blur();if(e(s.find('[name="thumbView"]')).hasClass("active")===false){o.toggleView();e(".dime-table").addClass("thumbViewTable");e(".dime-table").removeClass("cardViewTable");e(s.find('[name="thumbView"]')).addClass("active");e(s.find('[name="cardView"]')).removeClass("active");e(s.find('[name="tableView"]')).removeClass("active");r(window.thumbclick)}});o.$toolbar.find('button[name="cardView"]').on("click",function(){e(this).blur();o.$toolbar.find('button[name="tableView"]').blur();o.$toolbar.find('button[name="thumbView"]').blur();if(e(s.find('[name="cardView"]')).hasClass("active")===false){if(e(s.find('[name="thumbView"]')).hasClass("active")){o.toggleView()}e(".dime-table").addClass("cardViewTable");e(".dime-table").removeClass("thumbViewTable");e(s.find('[name="cardView"]')).addClass("active");e(s.find('[name="thumbView"]')).removeClass("active");e(s.find('[name="tableView"]')).removeClass("active");r(window.tableclick)}});e("td").off("click");if(window.itemkey!=="actor"){o.$toolbar.find('button[name="cardView"]').click()}e("th").on("click",function(t){window.setTimeout(function(){e("tbody tr").off("click");e("tbody tr").on("click",{target:this},window.tableclick);if(typeof mapcollection!=="undefined"){mapcollection.forEach(function(t,i,n){var r=t.get("ark_id");e(".dime-table tr[data-unique-id='"+r.toString()+"']").addClass("selected")})}else if(typeof window.selected!=="undefined"){window.selected.forEach(function(t){e(".dime-table tr[data-unique-id='"+t.toString()+"']").addClass("selected");e(".dime-table tr[data-unique-id='"+t.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")})}},300)})})}}(jQuery);$("document").ready(function(){var e=function(e,t){return JSON.parse(JSON.stringify(window.itemAvailableActions[t]))};var t=function(e){var t="";var i="";if(e.visible){t=e.available?"":'disabled="true" class="disabled"';i=$("<li "+t+' value="'+e.keyword+'">'+e.translation+"</li>");return i}};$("#chooseAction").click(function(){$("#chooseActionSelectHolder").empty();$("tr.selected").each(function(t,i,n){window.availableActions=JSON.parse(JSON.stringify(window.defaultAvailableActions));var r=e(window.itemkey,$(i).attr("data-unique-id"));for(var o in window.availableActions){if(r.hasOwnProperty(window.availableActions[o].keyword)){window.availableActions[o].visible=true}if(r.hasOwnProperty(window.availableActions[o].keyword)===false){window.availableActions[o].available=false}}});var i=$('<ul class="action-select">');for(var n in window.availableActions){i.append(t(window.availableActions[n]))}$("#chooseActionSelectHolder").append(i)})});var initTimeline=function(){var e=document.getElementById("visualization");var t=new vis.DataSet;var i=JSON.parse(JSON.stringify(t));var n={concept:"dime.period"};for(period_id in window.periodvocabulary){var r=window.periodvocabulary[period_id];try{if(isNaN(r.parameters.year_end.value)){throw"year end is NaN"}end=r.parameters.year_end.value}catch(e){end=(new Date).getFullYear()}try{if(isNaN(r.parameters.year_start.value)){throw"year end is NaN"}start=Math.max(r.parameters.year_start.value,-1e4)}catch(e){start=-1e4}t.add({id:period_id,content:$("#find_dating_period").find("option[value="+r.name+"]").html(),start:vis.moment(start,"Y"),end:vis.moment(end,"Y").endOf("year")})}function o(e,t){e.length=e.start-e.end;t.length=t.start-t.end;return t.length-e.length}var s={order:o,editable:false,margin:{axis:0,item:{horizontal:-5,vertical:1}},zoomMin:15768e7,zoomMax:3157e11,showCurrentTime:false,horizontalScroll:true,zoomKey:"ctrlKey",start:vis.moment("1066","Y"),end:vis.moment("2000","Y")};var a=new vis.Timeline(e,t,s);$(".vis-range").each(function(e,t){var i=[];if($(t).width()<100||$(t).width()>1500){$(t).hide()}else{$(t).show()}});select2Options={minimumResultsForSearch:11,width:"resolve",sorter:function(e){return e.sort(function(e,t){if(e.text>t.text){return 1}if(e.text<t.text){return-1}return 0})}};$("#find_classify").attr("data-toggle","modal");$("#find_classify").on("click",function(){$(".classification-holder").empty();console.log($("#find_class_term").val());$(".classification-holder").append($("#find_class_term").clone().attr("id","find_class_term_modal"));$("#find_class_term_modal").attr("style","width:20%");$("#find_class_term_modal").val($("#find_class_term").val());$("#find_class_term_modal").select2(select2Options);var e=function(){$(".vis-tl-zoom-out").trigger("click")};window.setTimeout(e,3e3);var t=$('<select id="find_subtype_level1" style="width:20%">');$(".classification-holder").append(t);t.select2(select2Options);var i=$('<select id="find_subtype_level2" style="width:20%">');$(".classification-holder").append(i);i.select2(select2Options);$("#find_class_term_modal").on("select2:select select2:unselecting",function(){var e=$(this).val();t.empty();t.append('<option value="undefined">'+window.translations["undef"]+"</option>");i.empty();i.append('<option value="undefined">'+window.translations["undef"]+"</option>");for(var n in window.subtypevocabulary){if(e==n.split(".")[0]&&n.split(".").length==2){$(window.subtypevocabulary[n].optionelement).clone().appendTo(t)}}$("#find_class_term").val(e);$("#find_class_term").select2(select2Options);$("#find_class_term").trigger("select2:select")});var n=function(e){if(e!="undefined"&&e!=null){console.log({target:e});console.log(window.subtypevocabulary);if(typeof window.subtypevocabulary[e].parameters!="undefined"){try{var t=getYearsFromTarget(e);console.log(t);try{a.setCustomTime(vis.moment(t.start,"Y"),"start")}catch(e){a.addCustomTime(vis.moment(t.start,"Y"),"start")}try{a.setCustomTime(vis.moment(t.end,"Y"),"end")}catch(e){a.addCustomTime(vis.moment(t.end,"Y"),"end")}a.moveTo(vis.moment(t.end,"Y"));$("#find_dating_year").val(t.start);$("#find_dating_year").trigger("keyup");$("#find_dating_year_span").val(t.end);$("#find_dating_year_span").trigger("keyup")}catch(e){}}var i=e.split(".");$("#find_class_term").val(i[0]);$("#find_class_term").select2(select2Options);$("#find_class_term").trigger("select2:select");$("#find_classification_subtype").val(i[0]+"."+i[1]);$("#find_classification_subtype").select2(select2Options);$("#find_classification_subtype").trigger("select2:select");$("#find_classification_subtype").select2("close");if(i.length=3){$("#find_classification_subtype").val(e);$("#find_classification_subtype").select2(select2Options);$("#find_classification_subtype").trigger("select2:select");$("#find_classification_subtype").select2("close")}}else{if($("#find_subtype_level1").val()=="undefined"){$("#find_classification_subtype").val(null);$("#find_classification_subtype").select2(select2Options)}else{console.log($("#find_subtype_level1").val());$("#find_classification_subtype").val($("#find_subtype_level1").val());$("#find_classification_subtype").select2(select2Options)}}};t.on("select2:select select2:unselecting",function(){var e=$(this).val();console.log(e);n(e);i.empty();i.append('<option value="undefined">'+window.translations["undef"]+"</option>");for(var t in window.subtypevocabulary){if(e!=null){if(e.split(".")[0]==t.split(".")[0]&&e.split(".")[1]==t.split(".")[1]&&t.split(".").length==3){$(window.subtypevocabulary[t].optionelement).clone().appendTo(i)}}}});i.on("select2:select select2:unselecting",function(){var e=$(this).val();console.log(e);n(e)});var r=$("#find_classification_subtype").val();t.empty();t.append('<option value="undefined">'+window.translations["undef"]+"</option>");for(var o in window.subtypevocabulary){if($("#find_class_term_modal").val()==o.split(".")[0]&&o.split(".").length==2){$(window.subtypevocabulary[o].optionelement).clone().appendTo(t)}}if(r!=null){var s=r.split(".");if(s.length==2){t.val(r);t.trigger("select2:select")}else{t.val(s[0]+"."+s[1]);t.trigger("select2:select");i.val(r);i.trigger("select2:select")}}var l=$("#find_dating_year").val();if(l){try{a.setCustomTime(vis.moment(l,"Y"),"start")}catch(e){a.addCustomTime(vis.moment(l,"Y"),"start")}}var d=$("#find_dating_year_span").val();if(d){try{a.setCustomTime(vis.moment(d,"Y").endOf("year"),"end")}catch(e){a.addCustomTime(vis.moment(d,"Y").endOf("year"),"end")}}});$(a).attr("pannning",false);a.on("rangechange",function(e){$(a).attr("pannning",true)});a.on("rangechanged",function(e){setTimeout(function(){$(a).attr("pannning",false)},100)});a.on("click",function(e){if($(a).attr("pannning")){return true}try{existing_start=a.getCustomTime("start")}catch(e){existing_start=null}try{existing_end=a.getCustomTime("end")}catch(e){existing_end=null}if(existing_start!=null){a.removeCustomTime("start")}if(existing_end!=null){a.removeCustomTime("end")}console.log("start",existing_start,"end",existing_end);console.log({event:e.id});if(e.id!=null){try{var t=vis.moment(window.periodvocabulary[e.id].parameters.year_start.value,"Y")}catch(e){var t=vis.moment(date.now(),"Y")}try{var i=vis.moment(window.periodvocabulary[e.id].parameters.year_end.value,"Y")}catch(e){var i=vis.moment("10000","Y")}if(e.event.shiftKey){if(existing_start<t){var n=vis.moment(existing_start)}else{var n=t}if(existing_end>i){var r=vis.moment(existing_end)}else{var r=i}}else{var n=t;var r=i}console.log("start",n,"end",r);var o=(n.year()+r.year())/2;console.log(o);a.moveTo(vis.moment(o,"Y"))}else{if(existing_start==null){n=e.time;r=null}else if(existing_end==null){n=existing_start;r=e.time}else{if(e.time>existing_end){n=existing_start;r=e.time}else if(e.time<existing_start){n=e.time;r=existing_end}else if(Math.pow(e.time-existing_start,2)>Math.pow(e.time-existing_end,2)){n=existing_start;r=e.time}else{n=e.time;r=existing_end}}}$("#find_dating_year").val(new Date(n).getFullYear(),"Y");$("#find_dating_year").trigger("keyup");$("#find_dating_year_span").val(new Date(r).getFullYear(),"Y");$("#find_dating_year_span").trigger("keyup");a.addCustomTime(n,"start");a.addCustomTime(r,"end")});$(".vis-tl-zoom-in").on("click",function(){a.zoomIn(.2)});$(".vis-tl-zoom-out").on("click",function(){a.zoomOut(.2)});$("#closemodal").on("click",function(e){e.preventDefault();$("#dating-modal").modal("hide")});$(".vis-item-content").each(function(){$(this).attr("title",$(this).html())});a.on("rangechanged",function(){$(".vis-range").each(function(e,t){var i=[];if($(t).width()<100||$(t).width()>1800){$(t).hide()}else{$(t).show()}a.redraw()})});a.on("timechanged",function(e){if(e.id=="start"){if(e.time>a.getCustomTime("end")){a.removeCustomTime("start");a.addCustomTime(a.getCustomTime("end"),"start");return false}}else{if(e.time<a.getCustomTime("start")){a.removeCustomTime("end");a.addCustomTime(a.getCustomTime("start"),"end");return false}}})};$(document).ready(function(){$("#find_secondary_term").css("width","100%");$(".checkbox").addClass("col-xs-4 col-sm-4 ");$("#edit_roles .checkbox").removeClass("col-xs-4 col-sm-4");$(".loginbutton").click(function(){$(".sidebar").removeClass("collapse")});$("input[type=file]").each(function(){initialPreview=[];initialPreviewConfig=[];if(typeof $(this).attr("data-existing")==="string"){var e=$(this).attr("data-existing").split(",");var t=e.length;for(var i=0;i<t;i++){initialPreview.push('<img class="profile-img" class="file-preview-image" src="/img/'+e[i]+'?p=preview">');initialPreviewConfig.push({key:e[i]})}}$("#find_image_existing").data("uploadUploaded",{});$("#find_image_existing").data("uploadPreview",{});$(this).fileinput({language:lang,theme:"gly",showUpload:false,showRemove:true,overwriteInitial:false,allowedFileTypes:["image"],previewFileType:"image",allowedFileExtensions:["jpg","png","gif"],initialPreview:initialPreview,initialPreviewConfig:initialPreviewConfig,minFileCount:0,maxFileCount:3,deleteUrl:"../true.json",uploadUrl:"../api/internal/file",uploadAsync:false}).on("filebatchselected",function(e,t){$("input[type=file]").fileinput("upload")}).on("filebatchuploadsuccess",function(e,t,i,n){var r=t.response;if($("#find_image_existing > input[value='null']").length>0){$("#find_image_existing > input[value='null']").first().val(r[0])}else{var o=$("#find_image_existing > input").length;if(o<3){if($("#find_image_existing_0").length===0){$("#find_image_existing").append($('<input type="hidden" id="find_image_existing_0" name="find[image][existing][0]" value="'+r[0]+'">'))}else if($("#find_image_existing_1").length===0){$("#find_image_existing").append($('<input type="hidden" id="find_image_existing_1" name="find[image][existing][1]" value="'+r[0]+'">'))}else{$("#find_image_existing").append($('<input type="hidden" id="find_image_existing_2" name="find[image][existing][2]" value="'+r[0]+'">'))}}else{var s=$("#find_image_existing_"+(o-1).toString()).val();var a=$("#find_image_existing").data("uploadPreview");for(var l in a){if(s===a[l]){$("#"+l).find("button.kv-file-remove").click()}}$("button.kv-file-remove[data-key="+s+"]").click();$("#find_image_existing_"+(o-1).toString()).val(r[0])}}var d=$("#find_image_existing").data("uploadUploaded");var u=$(".kv-preview-thumb");d[r[0]]=u.last()}).on("filebatchuploadcomplete",function(e,t,i){var n=$("#find_image_existing").data("uploadUploaded");var r=$("#find_image_existing").data("uploadPreview");for(var o in n){r[$(n[o])[0].id]=o}}).on("filesuccessremove",function(e,t){var i=$(this).closest(".file-input").find("input[type=file]").attr("id").split("_");i.splice(-1,1);var n=i.join("_")+"_existing";var r=$("#find_image_existing").data("uploadPreview");if($("#"+n).find('input[value="'+r[t]+'"]').remove()){console.log("Uploaded thumbnail successfully removed")}else{return false}}).on("filedeleted",function(e,t){var i=$(this).closest(".file-input").find("input[type=file]").attr("id").split("_");i.splice(-1,1);var n=i.join("_")+"_existing";if($("#"+n).find('input[value="'+t+'"]').remove()){console.log("Uploaded thumbnail successfully removed")}else{return false}})});$(".carouselextratext_0").show();$("#carousel-custom").bind("slide.bs.carousel",function(e){var t=$(this).find(".active").index();var i=$(e.relatedTarget).index();$(".carouselextratext_"+t.toString()).hide();$(".carouselextratext_"+i.toString()).show()});$("span.thumbimage").hide();$(".sidebar").on("show.bs.collapse",function(){var e=$("<div>",{id:"navbar-fade",class:"modal-backdrop fade in"});e.click(function(){$(".sidebar").collapse("toggle");$(".modal-backdrop").detach()});$(this).css("z-index",9999);$("body").append(e)});$('[data-toggle="tooltip"]').tooltip({trigger:"manual"}).on("click",function(e){$(this).tooltip("toggle");$('[data-toggle="tooltip"]').not(this).tooltip("hide");$('[data-toggle="tooltip"]').not(this).data("bs.tooltip").inState.click=false})});$(document).ready(function(){if($("#mappick").length){var e;var t;var i;$("#mappick").height($("#mappick").width());initialisePickMap();$(window).resize(function(){if($('button[title="Toggle full-screen"]').hasClass("ol-full-screen-false")){$("#mappick").height($("#mappick").width())}else{$("#mappick").height("100%")}})}});function initialisePickMap(){proj4.defs("EPSG:32633","+proj=utm +zone=33 +datum=WGS84 +units=m +no_defs");proj4.defs("EPSG:32632","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs");mapPickLayers=[new ol.layer.Tile({visible:true,preload:Infinity,source:new ol.source.BingMaps({key:"Ak5AqjsEQ44KtAl7jHhrjGuzNshN1fZv3MOx2MUi0p4zFmq6XeWLKmyqeP2UgJK3",imagerySet:"AerialWithLabels",maxZoom:19})})];mapPickSource=new ol.source.Vector({wrapX:false});var e=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,44],anchorXUnits:"fraction",anchorYUnits:"pixels",src:mapPin})});var t=new ol.layer.Vector({source:mapPickSource,style:e});mapPickLayers.push(t);var i=new ol.View({center:[1155972,7580813],zoom:6,extent:[831e3,723e4,175e4,795e4],minZoom:6});var n=new ol.Map({layers:mapPickLayers,loadTilesWhileInteracting:true,target:"mappick",view:i,controls:[new ol.control.FullScreen,new ol.control.Zoom]});var r=new ol.interaction.Draw({source:mapPickSource,type:"Point",style:new ol.style.Style({image:new ol.style.RegularShape({fill:new ol.style.Fill({color:"white"}),points:4,radius1:6,radius2:1})})});var o=null;mapPickSource.on("addfeature",function(){if(mapPickSource.getFeatures().length==1){mapPickSource.forEachFeature(function(e){coords=ol.proj.transform(e.getGeometry().getCoordinates(),"EPSG:3857","EPSG:4326");$("#find_location_easting").val(parseFloat(coords[0].toFixed(6)));$("#find_location_northing").val(parseFloat(coords[1].toFixed(6)));updateUtmPoint();if(updateMunicipality()){n.getView().setCenter(e.getGeometry().getCoordinates());n.getView().setZoom(12)}})}else{mapPickSource.removeFeature(o)}});r.on("drawend",function(e){if(confirm(window.newpointconfirmmessage)){mapPickSource.clear()}else{o=e.feature}});$(".mappick-fields input").on("change",function(){switch($("input[name=mappick-coordinates-radio]:checked",".mappick-fields").attr("id")){case"mappick-decimal":$(".mappick-decimal-control").attr("readonly",false);$(".mappick-utm-control").attr("readonly",true);break;case"mappick-utm":default:$(".mappick-decimal-control").attr("readonly",true);$(".mappick-utm-control").attr("readonly",false)}});$(".mappick-decimal-control").on("change",function(){updateUtmPoint();updateMapPoint()});$(".mappick-utm-control").on("change",function(){updateDecimalPoint();updateMapPoint()});$(".mappick-fields").keydown(function(e){if(e.keyCode==13){e.preventDefault();document.activeElement.blur()}});n.addInteraction(r);updateUtmPoint();updateMapPoint()}function updateMunicipality(){easting=$("#find_location_easting").val();northing=$("#find_location_northing").val();var e="POINT("+easting+" "+northing+")";$.post(path+"api/geo/find",e,function(e){console.log(e);try{$("#find_municipality_term").val(e["municipality"]["term"]).trigger("change");$("#find_museum_id").val(e["museum"]["id"]).trigger("change");return true}catch(e){alert(window.invalidpointlocation);$("#find_location_easting").val("");$("#find_location_northing").val("");$("#find_location_utmEasting").val("");$("#find_location_utmNorthing").val("");mapPickSource.clear();return false}})}function updateMapPoint(){if($("#find_location_easting").is("input")){easting=$("#find_location_easting").val();northing=$("#find_location_northing").val()}else if($("#find_location_easting").is("div")){easting=$("#find_location_easting").text();northing=$("#find_location_northing").text()}if(easting&&northing){coords=ol.proj.transform([parseFloat(easting),parseFloat(northing)],"EPSG:4326","EPSG:3857");mapPickSource.clear();mapPickSource.addFeature(new ol.Feature({geometry:new ol.geom.Point(coords)}))}}function updateDecimalPoint(){easting=$("#find_location_utmEasting").val();northing=$("#find_location_utmNorthing").val();if(easting&&northing){coords=ol.proj.transform([parseFloat(easting),parseFloat(northing)],"EPSG:32632","EPSG:4326");$("#find_location_easting").val(coords[0].toFixed(6));$("#find_location_northing").val(coords[1].toFixed(6))}}function updateUtmPoint(){easting=$("#find_location_easting").val();northing=$("#find_location_northing").val();if(easting&&northing){coords=ol.proj.transform([parseFloat(easting),parseFloat(northing)],"EPSG:4326","EPSG:32632");$("#find_location_utmEasting").val(coords[0].toFixed(0));$("#find_location_utmNorthing").val(coords[1].toFixed(0))}}$(document).ready(function(){if($("#mapview").length){window.map=initialiseMapView()}});function initialiseMapView(){var e=[];for(var t=0;t<mapConfig.layers.length;++t){var i=mapConfig.layers[t];s=new ol.layer.Tile({name:i.name,visible:i.visible,preload:i.preload,source:mapSource(i.class,i.source)});s.set("name",i.name);e.push(s)}var n=new ol.Map({layers:e,controls:[],loadTilesWhileInteracting:true,target:"map",view:new ol.View(mapConfig.view)});n.addControl(new ol.control.Zoom);n.addControl(new ol.control.ZoomSlider);$("a.layer-select").on("click",function(){var t=$(this).attr("value");$("a.layer-select").removeClass("selected");$(this).addClass("selected");for(var i=0;i<e.length;++i){var n=e[i];n.setVisible(n.get("name")===t)}});if(points.length>0){features=[];var r=new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"#f00"}),stroke:new ol.style.Stroke({color:"#000",width:1})})});var o=new ol.format.WKT;for(id in points){feature=o.readFeature(points[id],{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});feature.set("ark_id",id);features.push(feature)}var s=new ol.layer.Vector({source:new ol.source.Vector({features:features}),style:r});s.set("name","finds");s.set("selectable",true);n.addLayer(s);view=n.getView();extent=s.getSource().getExtent();view.fit(extent);var a=new ol.interaction.Select({layers:function(e){return e.get("selectable")},style:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"#f00"}),stroke:new ol.style.Stroke({color:"#000",width:1})})})});n.addInteraction(a);var l=a.getFeatures();window.mapcollection=l;l.on("add",function(e){var t=$(".dime-table tr");for(var i=0;i<t.length;i++){$(t[i]).removeClass("selected");$(t[i]).find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}var r=[Infinity,Infinity,-Infinity,-Infinity];l.forEach(function(e,t,i){var n=e.get("ark_id");$(".dime-table tr[data-unique-id='"+n.toString()+"']").addClass("selected");$(".dime-table tr[data-unique-id='"+n.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check");if($(".bootstrap-table button[name=tableView]").hasClass("active")!=true){$(".dime-table tr[data-unique-id='"+n.toString()+"']").parent().prepend($(".dime-table tr[data-unique-id='"+n.toString()+"']"))}var o=e.getGeometry().getExtent();if(typeof o!="undefined"){r=[Math.min(o[0],r[0]),Math.min(o[1],r[1]),Math.max(o[2],r[2]),Math.max(o[3],r[3])]}});n.getView().fit(r)});l.on("remove",function(e){var t=$(".dime-table tr");for(var i=0;i<t.length;i++){$(t[i]).removeClass("selected");$(t[i]).find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}l.forEach(function(e,t,i){var n=e.get("ark_id");console.log("ark_id");console.log(n);$(".dime-table tr[data-unique-id='"+n.toString()+"']").addClass("selected");$(".dime-table tr[data-unique-id='"+n.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")})})}$(".style-select-option").on("click",function(){if($(this).attr("value")=="choropleth"){var e=$("<div>",{id:"navbar-fade",class:"modal-backdrop fade in map-cover"});$(".ol-viewport").append(e);var t=false;n.getLayers().forEach(function(e,i,r){if(e.get("name")==="municipalitylayer"){e.setVisible(true);$(".modal-backdrop").detach();view=n.getView();extent=e.getSource().getExtent();view.fit(extent);$(".map-legend").show();t=true}else if(e.get("name")==="finds"){e.setVisible(false)}});if(t==false){var i={concept:"dime.denmark.municipality",module:itemkey,attribute:"location",itemlist:itemlist};$.get(path+"api/geo/choropleth",i,function(e){var t=new ol.format.WKT;var i=[];var o=e["municipality"];for(municipality in o){feature=t.readFeature(o[municipality]["geometry"],{dataProjection:"EPSG:"+o[municipality]["srid"],featureProjection:"EPSG:3857"});feature.set("count",o[municipality]["count"]);feature.set("band",o[municipality]["band"]);i.push(feature)}var s={4:[225,38,42],3:[235,111,77],2:[241,227,50],1:[104,176,56]};var a=200;var l=10;var d=.5;bandslength=Object.keys(s).length;var u=a/bandslength;var h={};var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width",l);c.setAttribute("height",a);c.setAttribute("style","border: 1px solid black");for(band in s){rect=document.createElementNS("http://www.w3.org/2000/svg","rect");r="fill:rgb("+s[band][0]+","+s[band][1]+","+s[band][2]+")";rect.setAttribute("style",r);rect.setAttribute("height",u);rect.setAttribute("width",l);rect.setAttribute("fill-opacity",d);rect.setAttribute("y",u*(bandslength-band));c.append(rect);s[band].push(d);h[band]=new ol.style.Style({fill:new ol.style.Fill({color:s[band]}),stroke:new ol.style.Stroke({color:"#000",width:1})})}c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");$(".legend-image").append(c);$(".map-legend").show();var f=new ol.layer.Vector({source:new ol.source.Vector({features:i}),style:function(e,t){return[h[e.get("band")]]}});f.set("name","municipalitylayer");f.set("selectable",false);n.addLayer(f);view=n.getView();extent=f.getSource().getExtent();view.fit(extent);$(".modal-backdrop").detach()}).fail(function(){$(".modal-backdrop").detach()})}}else if($(this).attr("value")=="distribution"){view=n.getView();extent=[Infinity,Infinity,-Infinity,-Infinity];n.getLayers().forEach(function(e,t,i){if(e.get("name")==="municipalitylayer"){e.setVisible(false)}else{if(e.get("name")==="finds"){e.setVisible(true);newextent=e.getSource().getExtent();if(newextent[0]!=Infinity){extent=[Math.min(newextent[0],extent[0]),Math.min(newextent[1],extent[1]),Math.max(newextent[2],extent[2]),Math.max(newextent[3],extent[3])];view.fit(extent)}}}});$(".map-legend").hide()}else{n.getLayers().forEach(function(e,t,i){if(e.get("name")==="municipalitylayer"||e.get("name")==="finds"){e.setVisible(false)}});$(".map-legend").hide()}});switch(default_overlay){case"distribution":$('.style-select-option[value="distribution"]').click();break;case"choropleth":$('.style-select-option[value="choropleth"]').click();break;default:}return n}function mapSource(e,t){if(e=="BingMaps"){return new ol.source.BingMaps(t)}if(e=="TileWMS"){return new ol.source.TileWMS(t)}}var apiurl="../api/v2";var padString=function(e){if(e.length=1){return"0"+e}else{return e}};var formatDate=function(e){if(e==""){return""}var t={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat(lang,t).format(new Date(e))};var getMessage=function(e){if(typeof e=="undefined"){return false}if(typeof sendertranslation=="undefined"){return false}var t=$(".dime-table tr[data-unique-id='"+e+"']");if(t.data("message")){return true}var i=$("<button>&#10004;</button>").addClass("dime-icon btn normal").attr("id",e).click(function(e){alert($(e.target).attr("id"))});var n=$("<dl><dt>"+sendertranslation+'</dt><dd class="message-from">'+senderinitial+"</dd><dt>"+datetranslation+'</dt><dd class="message-date">'+formatDate(dateinitial)+"</dd><dt>"+eventtranslation+'</dt><dd class="message-body">'+eventinitial+"</dd><dt>"+itemtranslation+'</dt><dd class="message-item">'+iteminitial+"</dd></dl>");var r=$("<div></div>").append(n);t.data("message",r);$.ajax(apiurl+"/messages/"+e).fail(function(){$(".message-from").empty();$(".message-date").empty();$(".message-body").empty()}).done(function(e){var i=e.data;$.ajax(apiurl+"/actors/"+i.attributes.sender.id).fail(function(){t.data("message").find(".message-from").html("error reading sender")}).done(function(e){var i=e.data.attributes.fullname;t.data("message").find(".message-from").html(i[0].content)});var n=i.attributes.sent.datetime.date;t.data("message").find(".message-date").html(formatDate(n));$.ajax(apiurl+"/events/"+i.attributes.event.id).fail(function(){t.data("message").find(".message-body").html("error reading message")}).done(function(e){t.data("message").find(".message-body").html(message_vocabulary["dime.find.event."+e.data.attributes.class]);var i=$('<a href = "'+window.modules[e.data.attributes.subject.module].view+"/"+e.data.attributes.subject.id+'"><span class="glyphicon glyphicon-file"></span></a>');i.appendTo(t.data("message").find(".message-item"))})})};var showMessage=function(e){var t=$(".dime-table tr[data-unique-id='"+e+"']");var i=t.data("message");if(i){$(".dime-messages").find("div").detach();$(".dime-messages").append(i)}else{getMessage(e);showMessage(e)}};var markAsRead=function(e,t){var i=JSON.stringify({message:e,recipient:t});$.post(path+"api/internal/message/read",i,function(e){})};var messageclick=function(e){$("tr").removeClass("selected");if($(e.target).is("tr")){var t=$(e.target)}else{var t=$(e.target).closest("tr")}t.addClass("selected");t.addClass("read");markAsRead(t.attr("data-unique-id"),window.useractorid);showMessage(t.attr("data-unique-id"))};$("document").ready(function(){$("tr").on("click",{target:this},messageclick);if(typeof window.message_id!=="undefined"){$(".dime-table tr[data-unique-id='"+window.message_id+"']").click()}$("tr").each(function(e,t){getMessage($(t).attr("data-unique-id"))})});$(document).ready(function(){$(".dropdown-menu .markasread").click(function(e){e.stopPropagation();var t=JSON.stringify({message:$(e.target).attr("message"),recipient:$(e.target).attr("recipient")});$.post($(e.target).attr("href"),t).fail(function(){alert("fail")}).done(function(t){var i=t.data;$(e.target).closest("li").remove();var n=parseInt($(".notification-dropdown-header .count").html())-1;$(".notification-dropdown-header .count").html(n);if(n==0){$(".icon-new-notification").addClass("icon-notification").removeClass("icon-new-notification").removeClass("wide")}})})});var initPeriod=function(){var e="find_dating_year";var t="find_dating_period";var i={concept:"dime.period"};$.post(path+"api/internal/vocabulary",JSON.stringify(i)).fail(function(){console.log("Error fetching period vocabulary")}).done(function(e){window.periodvocabulary=e.terms;initSimpleDating();initTimeline()});var n=function(e){var t={name:"NULL",parameters:{year_start:{value:-Infinity},year_end:{value:Infinity}}};for(var i in periodvocabulary){try{periodvocabstart=parseInt(periodvocabulary[i].parameters.year_start.value)}catch(e){periodvocabstart=null}try{periodvocabend=parseInt(periodvocabulary[i].parameters.year_end.value)}catch(e){periodvocabend=null}if(periodvocabend>=e&&e>=periodvocabstart){if(periodvocabstart>=t.parameters.year_start.value&&periodvocabend<=t.parameters.year_end.value){var t=periodvocabulary[i]}}}return t};var r=function(e){var t=e.attr("id");var i=t.split("-");var n=i[i.length-1];if(typeof periodvocabulary[n].parameters=="undefined"){var r="undefined"}else{try{if(isNaN(periodvocabulary[n].parameters.year_end.value)){throw"year end is NaN"}end=periodvocabulary[n].parameters.year_end.value}catch(e){end=(new Date).getFullYear()}try{if(isNaN(periodvocabulary[n].parameters.year_start.value)){throw"year end is NaN"}start=period.parameters.year_end.value}catch(e){start=-1e4}var r=start.toString()+"Â âÂ "+end.toString()}var o=new Promise(function(t){e.attr({"data-toggle":"tooltip","data-placement":"right",title:r});e.tooltip();t(true)});o.then(function(t){e.tooltip("show")})};$("body").on({mouseenter:function(){r($(this))}},"#select2-"+t+"-results .select2-results__option.select2-results__option--highlighted");$("body").on({mouseenter:function(){r($(this))}},"#select2-"+t+"_span-results .select2-results__option.select2-results__option--highlighted");$("#"+e).on("keyup",function(){console.log(this.value);var e=parseInt(this.value);var i=n(e);$("#"+t).val(i.name);$("#"+t).trigger("change.select2")});$("#"+e+"_span").on("keyup",function(){var e=parseInt(this.value);var i=n(e);$("#"+t+"_span").val(i.name);$("#"+t+"_span").trigger("change.select2")});$("#"+e).on("focusout",function(){var t=parseInt(this.value);var i=parseInt($("#"+e+"_span").val());if(isNaN(t)||isNaN(i)){return true}if(i<t){var n=i;$(this).val(n);$("#"+e+"_span").val(t);$("#"+e+"_span").trigger("keyup");$("#"+e).trigger("keyup")}});$("#"+e+"_span").on("focusout",function(){var t=parseInt(this.value);if(isNaN(t)||isNaN(parseInt($("#"+e).val()))){return true}if(parseInt($("#"+e).val())>t){var i=parseInt($("#"+e).val());$(this).val(i);$("#"+e).val(t);$("#"+e).trigger("keyup");$("#"+e+"_span").trigger("keyup")}});$("#"+t).on("select2:select select2:unselecting",function(){period=periodvocabulary[this.value];if(typeof period=="undefined"){return false}if($("#"+e).val()==""){var t=period.parameters.year_start.value}else{var t=parseInt($("#"+e).val());if(t<parseInt(period.parameters.year_start.value)||t>parseInt(period.parameters.year_end.value)){t=period.parameters.year_start.value}}$("#"+e).val(t);$("#"+e).trigger("focusout")});$("#"+t+"_span").on("select2:select select2:unselecting",function(){period=periodvocabulary[this.value];if(typeof period=="undefined"){return false}if($("#"+e+"_span").val()==""){var t=period.parameters.year_end.value}else{var t=parseInt($("#"+e+"_span").val());if(t<parseInt(period.parameters.year_start.value)||t>parseInt(period.parameters.year_end.value)){t=period.parameters.year_end.value}}$("#"+e+"_span").val(t);$("#"+e+"_span").trigger("focusout")});$(".dating-button").removeClass("inactive");$("#oldtid-dating-button").on("click",function(t){t.preventDefault();$("#"+e).val("-9000");$("#"+e).trigger("keyup");$("#"+e+"_span").val("1066");$("#"+e+"_span").trigger("keyup");$("#historiktid-dating-button").removeClass("selected");$("#oldtid-dating-button").addClass("selected")});$("#historiktid-dating-button").on("click",function(t){t.preventDefault();$("#"+e).val("1067");$("#"+e).trigger("keyup");$("#"+e+"_span").val((new Date).getFullYear());$("#"+e+"_span").trigger("keyup");$("#oldtid-dating-button").removeClass("selected");$("#historiktid-dating-button").addClass("selected")})};$(document).ready(function(){$("#advanced-dating-button").on("click",function(e){e.preventDefault();$("#advanced-dating-button").hide();$("#find_dating_period").select2({minimumResultsForSearch:11,width:"resolve"});$("#find_dating_period_span").select2({minimumResultsForSearch:11,width:"resolve"});$("#find_dating_period").trigger("select2:select");$("#find_dating_period_span").trigger("select2:select");$(".advanced-dating").show();$(".simple-dating").hide();$(".form-period").addClass("col-sm-6").removeClass("col-sm-11")});$("#simple-dating-button").on("click",function(e){e.preventDefault();$("#advanced-dating-button").show();$(".advanced-dating").hide();$(".simple-dating").show();initSimpleDating();$(".form-period").removeClass("col-sm-6").addClass("col-sm-11")});$("#oldtid-dating-button").on("click",function(e){e.preventDefault()});$("#historiktid-dating-button").on("click",function(e){e.preventDefault()});var e=function(){if($("#find_dating_year").val()<1067){$("#oldtid-dating-button").addClass("selected")}else if($("#find_dating_year").val()>1066){$("#historiktid-dating-button").addClass("selected")}};e();$("#find_dating_year").on("change",e())});$(document).ready(function(){editableNewRegisterRow();$("#register-table").bootstrapTable("hideLoading")});function hideEditableRegisterRow(){$("#register-table").find("tbody").find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("hide")}function editableRegisterRow(e){hideEditableRegisterRow();$("#register-table").find("tbody").find("tr").eq(e).find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("show")}function editableNewRegisterRow(){$("#register-new").find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("show")}window.registerEvents={"click .row-view":function(e,t,i,n){alert("View row "+i.id)},"click .row-edit":function(e,t,i,n){editableRegisterRow(n)},"click .row-save":function(e,t,i,n){alert("Save row "+i.id)},"click .row-cancel":function(e,t,i,n){alert("Cancel row "+i.id)},"click .row-delete":function(e,t,i,n){$("#register-table").bootstrapTable("remove",{field:"id",values:[i.id]})}};var initSimpleDating=function(){var e="simple_dating_input";var t="find_dating_period";var i=function(){$("#"+e).select2({minimumResultsForSearch:11,width:"resolve",sorter:function(e){return e.sort(function(e,t){if(e.val>t.val){return 1}if(e.val<t.val){return-1}return 0})}});$("body").on({mouseenter:function(){periodMouseEnter($(this))}},"#select2-"+e+"_span-results .select2-results__option.select2-results__option--highlighted")};$("#"+e).empty();var n=$("<option> - </option>");$("#"+e).append(n);for(var r in window.periodvocabulary){periodvocabulary[r].optionelement=$("#"+t+' option[value="'+r+'"]').clone();if(r.substr(1,3)=="XXX"){periodvocabulary[r].optionelement.appendTo("#"+e)}}i();var o=function(e){try{console.log(periodvocabulary[e]);$("#"+t).val(e);console.log(periodvocabulary[e]);$("#"+t+"_span").val(e);console.log(periodvocabulary[e]);return true}catch(e){return false}};$("#"+e).on("select2:select select2:unselecting",function(){var n=$(this).val();var r=$("#"+t).val();var s=/([[A-WYZÃ]+)([X]+)\b/g;if(n=="up"){if(r==null){r="XXXX"}var a=s.exec(r)}else{var a=s.exec(n)}if(a){var l=a[1].length}else{l=4}var d={0:"XXXX",1:"XXX",2:"XX",3:"X"};if(n=="up"){l=l-1;n=r.substr(0,l)+d[l]}var u=$('<option value="up"> â</option>');$("#"+e).empty();if(n=="XXXX"||n==null||n==""){for(var h in periodvocabulary){if(h.substr(1,3)=="XXX"){periodvocabulary[h].optionelement.appendTo("#"+e)}}}else{$("#"+e).append(u);for(var h in periodvocabulary){if(n.substr(0,l)==h.substr(0,l)){periodvocabulary[h].optionelement.appendTo("#"+e)}}}$("#"+e).val(n);i();$("#"+e).select2("open");o(n)})};var initSubtype=function(){var e="find_class_term";var t="find_classification_subtype";var i="find_dating_year";var n=function(){$("#"+t).select2({minimumResultsForSearch:11,width:"resolve",sorter:function(e){return e.sort(function(e,t){if(e.text>t.text){return 1}if(e.text<t.text){return-1}return 0})}});$("body").on({mouseenter:function(){var e=$(this);var t=e.attr("id");var i=t.split("-");var n=i[i.length-1];try{if(typeof subtypevocabulary[n].parameters!="undefined"){var r=subtypevocabulary[n].parameters;if(typeof r.year_start!="undefined"&&typeof r.year_end!="undefined"){var o=r.year_start.value+"Â âÂ "+r.year_end.value}else if(typeof subtypevocabulary[n].parameters.period!="undefined"){var o=subtypevocabulary[n].parameters.period.value}else{var o="Undefined"}}else{var o="Undefined"}}catch(e){}var s=new Promise(function(t){e.attr({"data-toggle":"tooltip","data-placement":"right",title:o});e.tooltip();t(true)});s.then(function(t){e.tooltip("show")})}},"#select2-"+t+"-results .select2-results__option.select2-results__option--highlighted")};$("#"+i).on("focusout",function(){});$("#"+i+"_span").on("focusout",function(){});$("#"+e).on("select2:select select2:unselecting",function(){var e=$(this).val();if(e=="coin"){$("#find_mint_content").closest(".form-group").show();$("#find_issuer_content").closest(".form-group").show();$("#find_secondary_term_looped").closest(".checkbox").show();$("#advanced-dating-button").click()}else{$("#find_mint_content").closest(".form-group").hide();$("#find_issuer_content").closest(".form-group").hide();$("#find_secondary_term_looped").closest(".checkbox").hide()}$("#"+t).empty();for(var i in subtypevocabulary){if(e==i.split(".")[0]&&i.split(".").length==2){subtypevocabulary[i].optionelement.appendTo("#"+t)}}n()});$("#"+t).on("select2:select select2:unselecting",function(){var r=$(this).val();if(r=="up"){$("#"+e).trigger("select2:select");$("#"+t).select2("open");return true}var o=$('<option value="up"> â</option>');if(r.split(".").length<3){$("#"+t).empty();$("#"+t).append(o);for(var s in subtypevocabulary){if(r.split(".")[0]==s.split(".")[0]&&r.split(".")[1]==s.split(".")[1]){subtypevocabulary[s].optionelement.appendTo("#"+t)}}$("#"+t).val(r);n();$("#"+t).select2("open")}try{var a=getYearsFromTarget(r);target_start_year=a.start;target_end_year=a.end;var l=parseInt($("#"+i).val());var d=parseInt($("#"+i+"_span").val());if(isNaN(l)||l<target_start_year||l>target_end_year){$("#"+i).val(target_start_year)}if(isNaN(d)||d>target_end_year||d<target_start_year){$("#"+i+"_span").val(target_end_year)}$("#"+i).attr({min:target_start_year,max:target_end_year});$("#"+i+"_span").attr({max:target_end_year,max:target_end_year});$("#"+i).trigger("keyup");$("#"+i+"_span").trigger("keyup")}catch(e){}});$("#"+i).trigger("select2:select")};window.getYearsFromTarget=function(e){var t=parseInt($("#"+date_start_id).val());var i=parseInt($("#"+date_start_id+"_span").val());if(typeof subtypevocabulary[e].parameters.year_start!="undefined"){var n=parseInt(subtypevocabulary[e].parameters.year_start.value);var r=parseInt(subtypevocabulary[e].parameters.year_end.value)}else if(typeof subtypevocabulary[e].parameters.period!="undefined"){var n=parseInt(window.periodvocabulary[subtypevocabulary[e].parameters.period.value].parameters.year_start.value);var r=parseInt(window.periodvocabulary[subtypevocabulary[e].parameters.period.value].parameters.year_end.value)}return{start:n,end:r}};$(document).ready(function(){$("#find_classify").attr("data-toggle","false");window.type_id="find_class_term";window.subtype_id="find_classification_subtype";window.date_start_id="find_dating_year";var e={concept:"dime.find.class"};$.post(path+"api/internal/vocabulary",JSON.stringify(e)).fail(function(){console.log("Error fetching class vocabulary")}).done(function(e){window.typevocabulary=e.terms;var t={concept:"dime.find.subtype"};$.post(path+"api/internal/vocabulary",JSON.stringify(t)).fail(function(){console.log("Error fetching subtype vocabulary")}).done(function(e){window.subtypevocabulary=e.terms;for(var t in subtypevocabulary){if($("#"+subtype_id).val()!=t){subtypevocabulary[t].optionelement=$("#"+subtype_id+' option[value="'+t+'"]').detach()}}initSubtype();initPeriod()})});$("#find_mint_content").closest(".form-group").hide();$("#find_issuer_content").closest(".form-group").hide();$("#find_secondary_term_looped").closest(".checkbox").hide()});
//# sourceMappingURL=ark.js.map

{# Standard table layout using only HTML5/Bootstrap #}

<div class='table-wrapper-div'>

    <table
        id="{{table.id}}"
        class="{{ table.classes }}"
        data-toggle="table"
        data-classes="{{ table.classes }}"
        data-sort-name="id"
        data-show-refresh="{{ table.canRefresh }}"
        data-show-toggle="{{ table.canToggleView }}"
        data-show-columns="{{ table.canChooseColumns }}"
        data-mobile-responsive="true"
        data-show-export="{{ table.canExportData }}"
        data-switchcardview="{{ table.canToggleView }}"
        data-click-to-select="true"
        {% if table.dataUrl %}
            data-url="{{ table.dataUrl }}"
        {% endif %}
        icons="{ columns: 'glyphicon-th-list icon-th-list' }">

        {% if table.showCaption %}
            <caption>{% table.keyword | translate('caption') %}</caption>
        {% endif %}

        {% if table.showHeader %}
            <thead>
                <tr>
                    {% if table.selection %}
                        <th class="checkedhead" data-field="checked" data-sortable="false" data-switchable="false" data-card-visible="false"></th>
                    {% endif %}
                    {% if table.image %}
                        <th class="thumbimagehead" data-field="{{table.image}}" data-title="{{table.image}}" data-sortable="false"></th>
                    {% endif %}
                    {% for cell in layout.cells %}
                        {% set label = cell.element.keyword | translate('label') %}
                        <th data-field="{{ cell.element.id }}" data-title="{{ label }}" data-sortable="{{ cell.sortable }}" data-sorter="alphanum" data-visible="{{ cell.visible }}" data-card-visible="false">
                            {% label %}
                        </th>
                    {% endfor %}
                    <th class="controlshead" data-field="controls" data-sortable="false" data-switchable="false" data-card-visible="false"></th>
                </tr>
            </thead>
        {% endif %}

        <tbody>
            {% for item in data %}
                <tr data-unique-id="{{ item.id }}">
                    {% if table.selection %}
                        <td class="not-card-visible">
                            <span class="tablecheckbox glyphicon glyphicon-unchecked"></span>
                        </td>
                    {% endif %}
                    {% if table.image %}
                        <td class="thumbimage">
                            {% set image = item.property(table.image).value() %}
                            {% if image is not empty %}
                                {% if item.property(table.image).attribute.hasMultipleOccurrences %}
                                    {% set image = image[0] %}
                                {% endif %}
                                <img src="{{path('img', {'image': image.id}) ~ '?p=thumb'}}" alt=''/>
                            {% else %}
                                <span class="glyphicon glyphicon-picture placeholder-img"></span>
                            {% endif %}
                        </td>
                    {% endif %}
                    {% for cell in layout.cells %}
                        <td>
                            <span class="cell-label">{{ cell.element.keyword | translate('label') }}</span>
                            {{ cell.element.renderView(item, state) }}
                        </td>
                    {% endfor %}
                    <td class="controls">
                    </td>
                </tr>
            {% endfor %}
        </tbody>

        {% if table.showFooter %}
            <tfoot>
            </tfoot>
        {% endif %}

    </table>

</div>

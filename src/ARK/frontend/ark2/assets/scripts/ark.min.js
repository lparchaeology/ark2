(function(e,t){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=e.document?t(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}}else{t(e)}})(typeof window!=="undefined"?window:this,function(e,t){"use strict";var i=[];var n=e.document;var r=Object.getPrototypeOf;var o=i.slice;var a=i.concat;var s=i.push;var l=i.indexOf;var u={};var c=u.toString;var f=u.hasOwnProperty;var d=f.toString;var h=d.call(Object);var p={};function m(e,t){t=t||n;var i=t.createElement("script");i.text=e;t.head.appendChild(i).parentNode.removeChild(i)}var v="3.2.1",g=function(e,t){return new g.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,w=/-([a-z])/g,x=function(e,t){return t.toUpperCase()};g.fn=g.prototype={jquery:v,constructor:g,length:0,toArray:function(){return o.call(this)},get:function(e){if(e==null){return o.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice};g.extend=g.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=false;if(typeof a==="boolean"){u=a;a=arguments[s]||{};s++}if(typeof a!=="object"&&!g.isFunction(a)){a={}}if(s===l){a=this;s--}for(;s<l;s++){if((e=arguments[s])!=null){for(t in e){i=a[t];n=e[t];if(a===n){continue}if(u&&n&&(g.isPlainObject(n)||(r=Array.isArray(n)))){if(r){r=false;o=i&&Array.isArray(i)?i:[]}else{o=i&&g.isPlainObject(i)?i:{}}a[t]=g.extend(u,o,n)}else if(n!==undefined){a[t]=n}}}}return a};g.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return g.type(e)==="function"},isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){var t=g.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;if(!e||c.call(e)!=="[object Object]"){return false}t=r(e);if(!t){return true}i=f.call(t,"constructor")&&t.constructor;return typeof i==="function"&&d.call(i)===h},isEmptyObject:function(e){var t;for(t in e){return false}return true},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?u[c.call(e)]||"object":typeof e},globalEval:function(e){m(e)},camelCase:function(e){return e.replace(b,"ms-").replace(w,x)},each:function(e,t){var i,n=0;if(C(e)){i=e.length;for(;n<i;n++){if(t.call(e[n],n,e[n])===false){break}}}else{for(n in e){if(t.call(e[n],n,e[n])===false){break}}}return e},trim:function(e){return e==null?"":(e+"").replace(y,"")},makeArray:function(e,t){var i=t||[];if(e!=null){if(C(Object(e))){g.merge(i,typeof e==="string"?[e]:e)}else{s.call(i,e)}}return i},inArray:function(e,t,i){return t==null?-1:l.call(t,e,i)},merge:function(e,t){var i=+t.length,n=0,r=e.length;for(;n<i;n++){e[r++]=t[n]}e.length=r;return e},grep:function(e,t,i){var n,r=[],o=0,a=e.length,s=!i;for(;o<a;o++){n=!t(e[o],o);if(n!==s){r.push(e[o])}}return r},map:function(e,t,i){var n,r,o=0,s=[];if(C(e)){n=e.length;for(;o<n;o++){r=t(e[o],o,i);if(r!=null){s.push(r)}}}else{for(o in e){r=t(e[o],o,i);if(r!=null){s.push(r)}}}return a.apply([],s)},guid:1,proxy:function(e,t){var i,n,r;if(typeof t==="string"){i=e[t];t=e;e=i}if(!g.isFunction(e)){return undefined}n=o.call(arguments,2);r=function(){return e.apply(t||this,n.concat(o.call(arguments)))};r.guid=e.guid=e.guid||g.guid++;return r},now:Date.now,support:p});if(typeof Symbol==="function"){g.fn[Symbol.iterator]=i[Symbol.iterator]}g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,i=g.type(e);if(i==="function"||g.isWindow(e)){return false}return i==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var k=function(e){var t,i,n,r,o,a,s,l,u,c,f,d,h,p,m,v,g,y,b,w="sizzle"+1*new Date,x=e.document,C=0,k=0,T=ae(),S=ae(),_=ae(),D=function(e,t){if(e===t){f=true}return 0},$={}.hasOwnProperty,A=[],E=A.pop,P=A.push,I=A.push,F=A.slice,N=function(e,t){var i=0,n=e.length;for(;i<n;i++){if(e[i]===t){return i}}return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",L=":("+R+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|"+".*"+")\\)|)",U=new RegExp(M+"+","g"),H=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),z=new RegExp("^"+M+"*,"+M+"*"),B=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),q=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),W=new RegExp(L),V=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){if(t){if(e==="\0"){return"ï¿½"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},ne=function(){d()},re=ye(function(e){return e.disabled===true&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(A=F.call(x.childNodes),x.childNodes);A[x.childNodes.length].nodeType}catch(e){I={apply:A.length?function(e,t){P.apply(e,F.call(t))}:function(e,t){var i=e.length,n=0;while(e[i++]=t[n++]){}e.length=i-1}}}function oe(e,t,n,r){var o,s,u,c,f,p,g,y=t&&t.ownerDocument,C=t?t.nodeType:9;n=n||[];if(typeof e!=="string"||!e||C!==1&&C!==9&&C!==11){return n}if(!r){if((t?t.ownerDocument||t:x)!==h){d(t)}t=t||h;if(m){if(C!==11&&(f=Q.exec(e))){if(o=f[1]){if(C===9){if(u=t.getElementById(o)){if(u.id===o){n.push(u);return n}}else{return n}}else{if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o){n.push(u);return n}}}else if(f[2]){I.apply(n,t.getElementsByTagName(e));return n}else if((o=f[3])&&i.getElementsByClassName&&t.getElementsByClassName){I.apply(n,t.getElementsByClassName(o));return n}}if(i.qsa&&!_[e+" "]&&(!v||!v.test(e))){if(C!==1){y=t;g=e}else if(t.nodeName.toLowerCase()!=="object"){if(c=t.getAttribute("id")){c=c.replace(te,ie)}else{t.setAttribute("id",c=w)}p=a(e);s=p.length;while(s--){p[s]="#"+c+" "+ge(p[s])}g=p.join(",");y=X.test(e)&&me(t.parentNode)||t}if(g){try{I.apply(n,y.querySelectorAll(g));return n}catch(e){}finally{if(c===w){t.removeAttribute("id")}}}}}}return l(e.replace(H,"$1"),t,n,r)}function ae(){var e=[];function t(i,r){if(e.push(i+" ")>n.cacheLength){delete t[e.shift()]}return t[i+" "]=r}return t}function se(e){e[w]=true;return e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function ue(e,t){var i=e.split("|"),r=i.length;while(r--){n.attrHandle[i[r]]=t}}function ce(e,t){var i=t&&e,n=i&&e.nodeType===1&&t.nodeType===1&&e.sourceIndex-t.sourceIndex;if(n){return n}if(i){while(i=i.nextSibling){if(i===t){return-1}}}return e?1:-1}function fe(e){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===e}}function de(e){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===e}}function he(e){return function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&re(t)===e}return t.disabled===e}else if("label"in t){return t.disabled===e}return false}}function pe(e){return se(function(t){t=+t;return se(function(i,n){var r,o=e([],i.length,t),a=o.length;while(a--){if(i[r=o[a]]){i[r]=!(n[r]=i[r])}}})})}function me(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}i=oe.support={};o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};d=oe.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:x;if(a===h||a.nodeType!==9||!a.documentElement){return h}h=a;p=h.documentElement;m=!o(h);if(x!==h&&(r=h.defaultView)&&r.top!==r){if(r.addEventListener){r.addEventListener("unload",ne,false)}else if(r.attachEvent){r.attachEvent("onunload",ne)}}i.attributes=le(function(e){e.className="i";return!e.getAttribute("className")});i.getElementsByTagName=le(function(e){e.appendChild(h.createComment(""));return!e.getElementsByTagName("*").length});i.getElementsByClassName=K.test(h.getElementsByClassName);i.getById=le(function(e){p.appendChild(e).id=w;return!h.getElementsByName||!h.getElementsByName(w).length});if(i.getById){n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var i=t.getElementById(e);return i?[i]:[]}}}else{n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){var i=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return i&&i.value===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var i,n,r,o=t.getElementById(e);if(o){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}r=t.getElementsByName(e);n=0;while(o=r[n++]){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}}}return[]}}}n.find["TAG"]=i.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(i.qsa){return t.querySelectorAll(e)}}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if(e==="*"){while(i=o[r++]){if(i.nodeType===1){n.push(i)}}return n}return o};n.find["CLASS"]=i.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&m){return t.getElementsByClassName(e)}};g=[];v=[];if(i.qsa=K.test(h.querySelectorAll)){le(function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a>"+"<select id='"+w+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){v.push("[*^$]="+M+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){v.push("\\["+M+"*(?:value|"+O+")")}if(!e.querySelectorAll("[id~="+w+"-]").length){v.push("~=")}if(!e.querySelectorAll(":checked").length){v.push(":checked")}if(!e.querySelectorAll("a#"+w+"+*").length){v.push(".#.+[+~]")}});le(function(e){e.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){v.push("name"+M+"*[*^$|!~]?=")}if(e.querySelectorAll(":enabled").length!==2){v.push(":enabled",":disabled")}p.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){v.push(":enabled",":disabled")}e.querySelectorAll("*,:x");v.push(",.*:")})}if(i.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)){le(function(e){i.disconnectedMatch=y.call(e,"*");y.call(e,"[s!='']:x");g.push("!=",L)})}v=v.length&&new RegExp(v.join("|"));g=g.length&&new RegExp(g.join("|"));t=K.test(p.compareDocumentPosition);b=t||K.test(p.contains)?function(e,t){var i=e.nodeType===9?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(i.contains?i.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};D=t?function(e,t){if(e===t){f=true;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n){return n}n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(n&1||!i.sortDetached&&t.compareDocumentPosition(e)===n){if(e===h||e.ownerDocument===x&&b(x,e)){return-1}if(t===h||t.ownerDocument===x&&b(x,t)){return 1}return c?N(c,e)-N(c,t):0}return n&4?-1:1}:function(e,t){if(e===t){f=true;return 0}var i,n=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o){return e===h?-1:t===h?1:r?-1:o?1:c?N(c,e)-N(c,t):0}else if(r===o){return ce(e,t)}i=e;while(i=i.parentNode){a.unshift(i)}i=t;while(i=i.parentNode){s.unshift(i)}while(a[n]===s[n]){n++}return n?ce(a[n],s[n]):a[n]===x?-1:s[n]===x?1:0};return h};oe.matches=function(e,t){return oe(e,null,null,t)};oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h){d(e)}t=t.replace(q,"='$1']");if(i.matchesSelector&&m&&!_[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t))){try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return oe(t,h,null,[e]).length>0};oe.contains=function(e,t){if((e.ownerDocument||e)!==h){d(e)}return b(e,t)};oe.attr=function(e,t){if((e.ownerDocument||e)!==h){d(e)}var r=n.attrHandle[t.toLowerCase()],o=r&&$.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):undefined;return o!==undefined?o:i.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null};oe.escape=function(e){return(e+"").replace(te,ie)};oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};oe.uniqueSort=function(e){var t,n=[],r=0,o=0;f=!i.detectDuplicates;c=!i.sortStable&&e.slice(0);e.sort(D);if(f){while(t=e[o++]){if(t===e[o]){r=n.push(o)}}while(r--){e.splice(n[r],1)}}c=null;return e};r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(!o){while(t=e[n++]){i+=r(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){i+=r(e)}}}else if(o===3||o===4){return e.nodeValue}return i};n=oe.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(J,ee);e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){oe.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){oe.error(e[0])}return e},PSEUDO:function(e){var t,i=!e[6]&&e[2];if(Y["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(i&&W.test(i)&&(t=a(i,true))&&(t=i.indexOf(")",i.length-t)-i.length)){e[0]=e[0].slice(0,t);e[2]=i.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&T(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);if(r==null){return t==="!="}if(!t){return true}r+="";return t==="="?r===i:t==="!="?r!==i:t==="^="?i&&r.indexOf(i)===0:t==="*="?i&&r.indexOf(i)>-1:t==="$="?i&&r.slice(-i.length)===i:t==="~="?(" "+r.replace(U," ")+" ").indexOf(i)>-1:t==="|="?r===i||r.slice(0,i.length+1)===i+"-":false}},CHILD:function(e,t,i,n,r){var o=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",s=t==="of-type";return n===1&&r===0?function(e){return!!e.parentNode}:function(t,i,l){var u,c,f,d,h,p,m=o!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=false;if(v){if(o){while(m){d=t;while(d=d[m]){if(s?d.nodeName.toLowerCase()===g:d.nodeType===1){return false}}p=m=e==="only"&&!p&&"nextSibling"}return true}p=[a?v.firstChild:v.lastChild];if(a&&y){d=v;f=d[w]||(d[w]={});c=f[d.uniqueID]||(f[d.uniqueID]={});u=c[e]||[];h=u[0]===C&&u[1];b=h&&u[2];d=h&&v.childNodes[h];while(d=++h&&d&&d[m]||(b=h=0)||p.pop()){if(d.nodeType===1&&++b&&d===t){c[e]=[C,h,b];break}}}else{if(y){d=t;f=d[w]||(d[w]={});c=f[d.uniqueID]||(f[d.uniqueID]={});u=c[e]||[];h=u[0]===C&&u[1];b=h}if(b===false){while(d=++h&&d&&d[m]||(b=h=0)||p.pop()){if((s?d.nodeName.toLowerCase()===g:d.nodeType===1)&&++b){if(y){f=d[w]||(d[w]={});c=f[d.uniqueID]||(f[d.uniqueID]={});c[e]=[C,b]}if(d===t){break}}}}}b-=r;return b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);if(r[w]){return r(t)}if(r.length>1){i=[e,e,"",t];return n.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,i){var n,o=r(e,t),a=o.length;while(a--){n=N(e,o[a]);e[n]=!(i[n]=o[a])}}):function(e){return r(e,0,i)}}return r}},pseudos:{not:se(function(e){var t=[],i=[],n=s(e.replace(H,"$1"));return n[w]?se(function(e,t,i,r){var o,a=n(e,null,r,[]),s=e.length;while(s--){if(o=a[s]){e[s]=!(t[s]=o)}}}):function(e,r,o){t[0]=e;n(t,null,o,i);t[0]=null;return!i.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){e=e.replace(J,ee);return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:se(function(e){if(!V.test(e||"")){oe.error("unsupported lang: "+e)}e=e.replace(J,ee).toLowerCase();return function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){i=i.toLowerCase();return i===e||i.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(false),disabled:he(true),checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!n.pseudos["empty"](e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(e,t){var i=0;for(;i<t;i+=2){e.push(i)}return e}),odd:pe(function(e,t){var i=1;for(;i<t;i+=2){e.push(i)}return e}),lt:pe(function(e,t,i){var n=i<0?i+t:i;for(;--n>=0;){e.push(n)}return e}),gt:pe(function(e,t,i){var n=i<0?i+t:i;for(;++n<t;){e.push(n)}return e})}};n.pseudos["nth"]=n.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){n.pseudos[t]=fe(t)}for(t in{submit:true,reset:true}){n.pseudos[t]=de(t)}function ve(){}ve.prototype=n.filters=n.pseudos;n.setFilters=new ve;a=oe.tokenize=function(e,t){var i,r,o,a,s,l,u,c=S[e+" "];if(c){return t?0:c.slice(0)}s=e;l=[];u=n.preFilter;while(s){if(!i||(r=z.exec(s))){if(r){s=s.slice(r[0].length)||s}l.push(o=[])}i=false;if(r=B.exec(s)){i=r.shift();o.push({value:i,type:r[0].replace(H," ")});s=s.slice(i.length)}for(a in n.filter){if((r=Y[a].exec(s))&&(!u[a]||(r=u[a](r)))){i=r.shift();o.push({value:i,type:a,matches:r});s=s.slice(i.length)}}if(!i){break}}return t?s.length:s?oe.error(e):S(e,l).slice(0)};function ge(e){var t=0,i=e.length,n="";for(;t<i;t++){n+=e[t].value}return n}function ye(e,t,i){var n=t.dir,r=t.next,o=r||n,a=i&&o==="parentNode",s=k++;return t.first?function(t,i,r){while(t=t[n]){if(t.nodeType===1||a){return e(t,i,r)}}return false}:function(t,i,l){var u,c,f,d=[C,s];if(l){while(t=t[n]){if(t.nodeType===1||a){if(e(t,i,l)){return true}}}}else{while(t=t[n]){if(t.nodeType===1||a){f=t[w]||(t[w]={});c=f[t.uniqueID]||(f[t.uniqueID]={});if(r&&r===t.nodeName.toLowerCase()){t=t[n]||t}else if((u=c[o])&&u[0]===C&&u[1]===s){return d[2]=u[2]}else{c[o]=d;if(d[2]=e(t,i,l)){return true}}}}}return false}}function be(e){return e.length>1?function(t,i,n){var r=e.length;while(r--){if(!e[r](t,i,n)){return false}}return true}:e[0]}function we(e,t,i){var n=0,r=t.length;for(;n<r;n++){oe(e,t[n],i)}return i}function xe(e,t,i,n,r){var o,a=[],s=0,l=e.length,u=t!=null;for(;s<l;s++){if(o=e[s]){if(!i||i(o,n,r)){a.push(o);if(u){t.push(s)}}}}return a}function Ce(e,t,i,n,r,o){if(n&&!n[w]){n=Ce(n)}if(r&&!r[w]){r=Ce(r,o)}return se(function(o,a,s,l){var u,c,f,d=[],h=[],p=a.length,m=o||we(t||"*",s.nodeType?[s]:s,[]),v=e&&(o||!t)?xe(m,d,e,s,l):m,g=i?r||(o?e:p||n)?[]:a:v;if(i){i(v,g,s,l)}if(n){u=xe(g,h);n(u,[],s,l);c=u.length;while(c--){if(f=u[c]){g[h[c]]=!(v[h[c]]=f)}}}if(o){if(r||e){if(r){u=[];c=g.length;while(c--){if(f=g[c]){u.push(v[c]=f)}}r(null,g=[],u,l)}c=g.length;while(c--){if((f=g[c])&&(u=r?N(o,f):d[c])>-1){o[u]=!(a[u]=f)}}}}else{g=xe(g===a?g.splice(p,g.length):g);if(r){r(null,a,g,l)}else{I.apply(a,g)}}})}function ke(e){var t,i,r,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,c=ye(function(e){return e===t},s,true),f=ye(function(e){return N(t,e)>-1},s,true),d=[function(e,i,n){var r=!a&&(n||i!==u)||((t=i).nodeType?c(e,i,n):f(e,i,n));t=null;return r}];for(;l<o;l++){if(i=n.relative[e[l].type]){d=[ye(be(d),i)]}else{i=n.filter[e[l].type].apply(null,e[l].matches);if(i[w]){r=++l;for(;r<o;r++){if(n.relative[e[r].type]){break}}return Ce(l>1&&be(d),l>1&&ge(e.slice(0,l-1).concat({value:e[l-2].type===" "?"*":""})).replace(H,"$1"),i,l<r&&ke(e.slice(l,r)),r<o&&ke(e=e.slice(r)),r<o&&ge(e))}d.push(i)}}return be(d)}function Te(e,t){var i=t.length>0,r=e.length>0,o=function(o,a,s,l,c){var f,p,v,g=0,y="0",b=o&&[],w=[],x=u,k=o||r&&n.find["TAG"]("*",c),T=C+=x==null?1:Math.random()||.1,S=k.length;if(c){u=a===h||a||c}for(;y!==S&&(f=k[y])!=null;y++){if(r&&f){p=0;if(!a&&f.ownerDocument!==h){d(f);s=!m}while(v=e[p++]){if(v(f,a||h,s)){l.push(f);break}}if(c){C=T}}if(i){if(f=!v&&f){g--}if(o){b.push(f)}}}g+=y;if(i&&y!==g){p=0;while(v=t[p++]){v(b,w,a,s)}if(o){if(g>0){while(y--){if(!(b[y]||w[y])){w[y]=E.call(l)}}}w=xe(w)}I.apply(l,w);if(c&&!o&&w.length>0&&g+t.length>1){oe.uniqueSort(l)}}if(c){C=T;u=x}return b};return i?se(o):o}s=oe.compile=function(e,t){var i,n=[],r=[],o=_[e+" "];if(!o){if(!t){t=a(e)}i=t.length;while(i--){o=ke(t[i]);if(o[w]){n.push(o)}else{r.push(o)}}o=_(e,Te(r,n));o.selector=e}return o};l=oe.select=function(e,t,i,r){var o,l,u,c,f,d=typeof e==="function"&&e,h=!r&&a(e=d.selector||e);i=i||[];if(h.length===1){l=h[0]=h[0].slice(0);if(l.length>2&&(u=l[0]).type==="ID"&&t.nodeType===9&&m&&n.relative[l[1].type]){t=(n.find["ID"](u.matches[0].replace(J,ee),t)||[])[0];if(!t){return i}else if(d){t=t.parentNode}e=e.slice(l.shift().value.length)}o=Y["needsContext"].test(e)?0:l.length;while(o--){u=l[o];if(n.relative[c=u.type]){break}if(f=n.find[c]){if(r=f(u.matches[0].replace(J,ee),X.test(l[0].type)&&me(t.parentNode)||t)){l.splice(o,1);e=r.length&&ge(l);if(!e){I.apply(i,r);return i}break}}}}(d||s(e,h))(r,t,!m,i,!t||X.test(e)&&me(t.parentNode)||t);return i};i.sortStable=w.split("").sort(D).join("")===w;i.detectDuplicates=!!f;d();i.sortDetached=le(function(e){return e.compareDocumentPosition(h.createElement("fieldset"))&1});if(!le(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){ue("type|href|height|width",function(e,t,i){if(!i){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!i.attributes||!le(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){ue("value",function(e,t,i){if(!i&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!le(function(e){return e.getAttribute("disabled")==null})){ue(O,function(e,t,i){var n;if(!i){return e[t]===true?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}})}return oe}(e);g.find=k;g.expr=k.selectors;g.expr[":"]=g.expr.pseudos;g.uniqueSort=g.unique=k.uniqueSort;g.text=k.getText;g.isXMLDoc=k.isXML;g.contains=k.contains;g.escapeSelector=k.escape;var T=function(e,t,i){var n=[],r=i!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(r&&g(e).is(i)){break}n.push(e)}}return n};var S=function(e,t){var i=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){i.push(e)}}return i};var _=g.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var $=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;var A=/^.[^:#\[\.,]*$/;function E(e,t,i){if(g.isFunction(t)){return g.grep(e,function(e,n){return!!t.call(e,n,e)!==i})}if(t.nodeType){return g.grep(e,function(e){return e===t!==i})}if(typeof t!=="string"){return g.grep(e,function(e){return l.call(t,e)>-1!==i})}if(A.test(t)){return g.filter(t,e,i)}t=g.filter(t,e);return g.grep(e,function(e){return l.call(t,e)>-1!==i&&e.nodeType===1})}g.filter=function(e,t,i){var n=t[0];if(i){e=":not("+e+")"}if(t.length===1&&n.nodeType===1){return g.find.matchesSelector(n,e)?[n]:[]}return g.find.matches(e,g.grep(t,function(e){return e.nodeType===1}))};g.fn.extend({find:function(e){var t,i,n=this.length,r=this;if(typeof e!=="string"){return this.pushStack(g(e).filter(function(){for(t=0;t<n;t++){if(g.contains(r[t],this)){return true}}}))}i=this.pushStack([]);for(t=0;t<n;t++){g.find(e,r[t],i)}return n>1?g.uniqueSort(i):i},filter:function(e){return this.pushStack(E(this,e||[],false))},not:function(e){return this.pushStack(E(this,e||[],true))},is:function(e){return!!E(this,typeof e==="string"&&_.test(e)?g(e):e||[],false).length}});var P,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,F=g.fn.init=function(e,t,i){var r,o;if(!e){return this}i=i||P;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){r=[null,e,null]}else{r=I.exec(e)}if(r&&(r[1]||!t)){if(r[1]){t=t instanceof g?t[0]:t;g.merge(this,g.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:n,true));if($.test(r[1])&&g.isPlainObject(t)){for(r in t){if(g.isFunction(this[r])){this[r](t[r])}else{this.attr(r,t[r])}}}return this}else{o=n.getElementById(r[2]);if(o){this[0]=o;this.length=1}return this}}else if(!t||t.jquery){return(t||i).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(g.isFunction(e)){return i.ready!==undefined?i.ready(e):e(g)}return g.makeArray(e,this)};F.prototype=g.fn;P=g(n);var N=/^(?:parents|prev(?:Until|All))/,O={children:true,contents:true,next:true,prev:true};g.fn.extend({has:function(e){var t=g(e,this),i=t.length;return this.filter(function(){var e=0;for(;e<i;e++){if(g.contains(this,t[e])){return true}}})},closest:function(e,t){var i,n=0,r=this.length,o=[],a=typeof e!=="string"&&g(e);if(!_.test(e)){for(;n<r;n++){for(i=this[n];i&&i!==t;i=i.parentNode){if(i.nodeType<11&&(a?a.index(i)>-1:i.nodeType===1&&g.find.matchesSelector(i,e))){o.push(i);break}}}}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return l.call(g(e),this[0])}return l.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function M(e,t){while((e=e[t])&&e.nodeType!==1){}return e}g.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,i){return T(e,"parentNode",i)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,i){return T(e,"nextSibling",i)},prevUntil:function(e,t,i){return T(e,"previousSibling",i)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){if(D(e,"iframe")){return e.contentDocument}if(D(e,"template")){e=e.content||e}return g.merge([],e.childNodes)}},function(e,t){g.fn[e]=function(i,n){var r=g.map(this,t,i);if(e.slice(-5)!=="Until"){n=i}if(n&&typeof n==="string"){r=g.filter(n,r)}if(this.length>1){if(!O[e]){g.uniqueSort(r)}if(N.test(e)){r.reverse()}}return this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function j(e){var t={};g.each(e.match(R)||[],function(e,i){t[i]=true});return t}g.Callbacks=function(e){e=typeof e==="string"?j(e):g.extend({},e);var t,i,n,r,o=[],a=[],s=-1,l=function(){r=r||e.once;n=t=true;for(;a.length;s=-1){i=a.shift();while(++s<o.length){if(o[s].apply(i[0],i[1])===false&&e.stopOnFalse){s=o.length;i=false}}}if(!e.memory){i=false}t=false;if(r){if(i){o=[]}else{o=""}}},u={add:function(){if(o){if(i&&!t){s=o.length-1;a.push(i)}(function t(i){g.each(i,function(i,n){if(g.isFunction(n)){if(!e.unique||!u.has(n)){o.push(n)}}else if(n&&n.length&&g.type(n)!=="string"){t(n)}})})(arguments);if(i&&!t){l()}}return this},remove:function(){g.each(arguments,function(e,t){var i;while((i=g.inArray(t,o,i))>-1){o.splice(i,1);if(i<=s){s--}}});return this},has:function(e){return e?g.inArray(e,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){r=a=[];o=i="";return this},disabled:function(){return!o},lock:function(){r=a=[];if(!i&&!t){o=i=""}return this},locked:function(){return!!r},fireWith:function(e,i){if(!r){i=i||[];i=[e,i.slice?i.slice():i];a.push(i);if(!t){l()}}return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!n}};return u};function L(e){return e}function U(e){throw e}function H(e,t,i,n){var r;try{if(e&&g.isFunction(r=e.promise)){r.call(e).done(t).fail(i)}else if(e&&g.isFunction(r=e.then)){r.call(e,t,i)}else{t.apply(undefined,[e].slice(n))}}catch(e){i.apply(undefined,[e])}}g.extend({Deferred:function(t){var i=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){o.done(arguments).fail(arguments);return this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return g.Deferred(function(t){g.each(i,function(i,n){var r=g.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);if(e&&g.isFunction(e.promise)){e.promise().progress(t.notify).done(t.resolve).fail(t.reject)}else{t[n[0]+"With"](this,r?[e]:arguments)}})});e=null}).promise()},then:function(t,n,r){var o=0;function a(t,i,n,r){return function(){var s=this,l=arguments,u=function(){var e,u;if(t<o){return}e=n.apply(s,l);if(e===i.promise()){throw new TypeError("Thenable self-resolution")}u=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(g.isFunction(u)){if(r){u.call(e,a(o,i,L,r),a(o,i,U,r))}else{o++;u.call(e,a(o,i,L,r),a(o,i,U,r),a(o,i,L,i.notifyWith))}}else{if(n!==L){s=undefined;l=[e]}(r||i.resolveWith)(s,l)}},c=r?u:function(){try{u()}catch(e){if(g.Deferred.exceptionHook){g.Deferred.exceptionHook(e,c.stackTrace)}if(t+1>=o){if(n!==U){s=undefined;l=[e]}i.rejectWith(s,l)}}};if(t){c()}else{if(g.Deferred.getStackHook){c.stackTrace=g.Deferred.getStackHook()}e.setTimeout(c)}}}return g.Deferred(function(e){i[0][3].add(a(0,e,g.isFunction(r)?r:L,e.notifyWith));i[1][3].add(a(0,e,g.isFunction(t)?t:L));i[2][3].add(a(0,e,g.isFunction(n)?n:U))}).promise()},promise:function(e){return e!=null?g.extend(e,r):r}},o={};g.each(i,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add;if(s){a.add(function(){n=s},i[3-e][2].disable,i[0][2].lock)}a.add(t[3].fire);o[t[0]]=function(){o[t[0]+"With"](this===o?undefined:this,arguments);return this};o[t[0]+"With"]=a.fireWith});r.promise(o);if(t){t.call(o,o)}return o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=o.call(arguments),a=g.Deferred(),s=function(e){return function(i){n[e]=this;r[e]=arguments.length>1?o.call(arguments):i;if(!--t){a.resolveWith(n,r)}}};if(t<=1){H(e,a.done(s(i)).resolve,a.reject,!t);if(a.state()==="pending"||g.isFunction(r[i]&&r[i].then)){return a.then()}}while(i--){H(r[i],s(i),a.reject)}return a.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,i){if(e.console&&e.console.warn&&t&&z.test(t.name)){e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)}};g.readyException=function(t){e.setTimeout(function(){throw t})};var B=g.Deferred();g.fn.ready=function(e){B.then(e).catch(function(e){g.readyException(e)});return this};g.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--g.readyWait:g.isReady){return}g.isReady=true;if(e!==true&&--g.readyWait>0){return}B.resolveWith(n,[g])}});g.ready.then=B.then;function q(){n.removeEventListener("DOMContentLoaded",q);e.removeEventListener("load",q);g.ready()}if(n.readyState==="complete"||n.readyState!=="loading"&&!n.documentElement.doScroll){e.setTimeout(g.ready)}else{n.addEventListener("DOMContentLoaded",q);e.addEventListener("load",q)}var W=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=i==null;if(g.type(i)==="object"){r=true;for(s in i){W(e,t,s,i[s],true,o,a)}}else if(n!==undefined){r=true;if(!g.isFunction(n)){a=true}if(u){if(a){t.call(e,n);t=null}else{u=t;t=function(e,t,i){return u.call(g(e),i)}}}if(t){for(;s<l;s++){t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)))}}}if(r){return e}if(u){return t.call(e)}return l?t(e[0],i):o};var V=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Y(){this.expando=g.expando+Y.uid++}Y.uid=1;Y.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(V(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,i){var n,r=this.cache(e);if(typeof t==="string"){r[g.camelCase(t)]=i}else{for(n in t){r[g.camelCase(n)]=t[n]}}return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,i){if(t===undefined||t&&typeof t==="string"&&i===undefined){return this.get(e,t)}this.set(e,t,i);return i!==undefined?i:t},remove:function(e,t){var i,n=e[this.expando];if(n===undefined){return}if(t!==undefined){if(Array.isArray(t)){t=t.map(g.camelCase)}else{t=g.camelCase(t);t=t in n?[t]:t.match(R)||[]}i=t.length;while(i--){delete n[t[i]]}}if(t===undefined||g.isEmptyObject(n)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!g.isEmptyObject(t)}};var Z=new Y;var G=new Y;var K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function X(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return+e}if(K.test(e)){return JSON.parse(e)}return e}function J(e,t,i){var n;if(i===undefined&&e.nodeType===1){n="data-"+t.replace(Q,"-$&").toLowerCase();i=e.getAttribute(n);if(typeof i==="string"){try{i=X(i)}catch(e){}G.set(e,t,i)}else{i=undefined}}return i}g.extend({hasData:function(e){return G.hasData(e)||Z.hasData(e)},data:function(e,t,i){return G.access(e,t,i)},removeData:function(e,t){G.remove(e,t)},_data:function(e,t,i){return Z.access(e,t,i)},_removeData:function(e,t){Z.remove(e,t)}});g.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(e===undefined){if(this.length){r=G.get(o);if(o.nodeType===1&&!Z.get(o,"hasDataAttrs")){i=a.length;while(i--){if(a[i]){n=a[i].name;if(n.indexOf("data-")===0){n=g.camelCase(n.slice(5));J(o,n,r[n])}}}Z.set(o,"hasDataAttrs",true)}}return r}if(typeof e==="object"){return this.each(function(){G.set(this,e)})}return W(this,function(t){var i;if(o&&t===undefined){i=G.get(o,e);if(i!==undefined){return i}i=J(o,e);if(i!==undefined){return i}return}this.each(function(){G.set(this,e,t)})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){G.remove(this,e)})}});g.extend({queue:function(e,t,i){var n;if(e){t=(t||"fx")+"queue";n=Z.get(e,t);if(i){if(!n||Array.isArray(i)){n=Z.access(e,t,g.makeArray(i))}else{n.push(i)}}return n||[]}},dequeue:function(e,t){t=t||"fx";var i=g.queue(e,t),n=i.length,r=i.shift(),o=g._queueHooks(e,t),a=function(){g.dequeue(e,t)};if(r==="inprogress"){r=i.shift();n--}if(r){if(t==="fx"){i.unshift("inprogress")}delete o.stop;r.call(e,a,o)}if(!n&&o){o.empty.fire()}},_queueHooks:function(e,t){var i=t+"queueHooks";return Z.get(e,i)||Z.access(e,i,{empty:g.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",i])})})}});g.fn.extend({queue:function(e,t){var i=2;if(typeof e!=="string"){t=e;e="fx";i--}if(arguments.length<i){return g.queue(this[0],e)}return t===undefined?this:this.each(function(){var i=g.queue(this,e,t);g._queueHooks(this,e);if(e==="fx"&&i[0]!=="inprogress"){g.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=g.Deferred(),o=this,a=this.length,s=function(){if(!--n){r.resolveWith(o,[o])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(a--){i=Z.get(o[a],e+"queueHooks");if(i&&i.empty){n++;i.empty.add(s)}}s();return r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i");var ie=["Top","Right","Bottom","Left"];var ne=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&g.contains(e.ownerDocument,e)&&g.css(e,"display")==="none"};var re=function(e,t,i,n){var r,o,a={};for(o in t){a[o]=e.style[o];e.style[o]=t[o]}r=i.apply(e,n||[]);for(o in t){e.style[o]=a[o]}return r};function oe(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){return g.css(e,t,"")},l=s(),u=i&&i[3]||(g.cssNumber[t]?"":"px"),c=(g.cssNumber[t]||u!=="px"&&+l)&&te.exec(g.css(e,t));if(c&&c[3]!==u){u=u||c[3];i=i||[];c=+l||1;do{o=o||".5";c=c/o;g.style(e,t,c+u)}while(o!==(o=s()/l)&&o!==1&&--a)}if(i){c=+c||+l||0;r=i[1]?c+(i[1]+1)*i[2]:+i[2];if(n){n.unit=u;n.start=c;n.end=r}}return r}var ae={};function se(e){var t,i=e.ownerDocument,n=e.nodeName,r=ae[n];if(r){return r}t=i.body.appendChild(i.createElement(n));r=g.css(t,"display");t.parentNode.removeChild(t);if(r==="none"){r="block"}ae[n]=r;return r}function le(e,t){var i,n,r=[],o=0,a=e.length;for(;o<a;o++){n=e[o];if(!n.style){continue}i=n.style.display;if(t){if(i==="none"){r[o]=Z.get(n,"display")||null;if(!r[o]){n.style.display=""}}if(n.style.display===""&&ne(n)){r[o]=se(n)}}else{if(i!=="none"){r[o]="none";Z.set(n,"display",i)}}}for(o=0;o<a;o++){if(r[o]!=null){e[o].style.display=r[o]}}return e}g.fn.extend({show:function(){return le(this,true)},hide:function(){return le(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(ne(this)){g(this).show()}else{g(this).hide()}})}});var ue=/^(?:checkbox|radio)$/i;var ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var fe=/^$|\/(?:java|ecma)script/i;var de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};de.optgroup=de.option;de.tbody=de.tfoot=de.colgroup=de.caption=de.thead;de.th=de.td;function he(e,t){var i;if(typeof e.getElementsByTagName!=="undefined"){i=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){i=e.querySelectorAll(t||"*")}else{i=[]}if(t===undefined||t&&D(e,t)){return g.merge([e],i)}return i}function pe(e,t){var i=0,n=e.length;for(;i<n;i++){Z.set(e[i],"globalEval",!t||Z.get(t[i],"globalEval"))}}var me=/<|&#?\w+;/;function ve(e,t,i,n,r){var o,a,s,l,u,c,f=t.createDocumentFragment(),d=[],h=0,p=e.length;for(;h<p;h++){o=e[h];if(o||o===0){if(g.type(o)==="object"){g.merge(d,o.nodeType?[o]:o)}else if(!me.test(o)){d.push(t.createTextNode(o))}else{a=a||f.appendChild(t.createElement("div"));s=(ce.exec(o)||["",""])[1].toLowerCase();l=de[s]||de._default;a.innerHTML=l[1]+g.htmlPrefilter(o)+l[2];c=l[0];while(c--){a=a.lastChild}g.merge(d,a.childNodes);a=f.firstChild;a.textContent=""}}}f.textContent="";h=0;while(o=d[h++]){if(n&&g.inArray(o,n)>-1){if(r){r.push(o)}continue}u=g.contains(o.ownerDocument,o);a=he(f.appendChild(o),"script");if(u){pe(a)}if(i){c=0;while(o=a[c++]){if(fe.test(o.type||"")){i.push(o)}}}}return f}(function(){var e=n.createDocumentFragment(),t=e.appendChild(n.createElement("div")),i=n.createElement("input");i.setAttribute("type","radio");i.setAttribute("checked","checked");i.setAttribute("name","t");t.appendChild(i);p.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";p.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var ge=n.documentElement;var ye=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function xe(){return true}function Ce(){return false}function ke(){try{return n.activeElement}catch(e){}}function Te(e,t,i,n,r,o){var a,s;if(typeof t==="object"){if(typeof i!=="string"){n=n||i;i=undefined}for(s in t){Te(e,s,i,n,t[s],o)}return e}if(n==null&&r==null){r=i;n=i=undefined}else if(r==null){if(typeof i==="string"){r=n;n=undefined}else{r=n;n=i;i=undefined}}if(r===false){r=Ce}else if(!r){return e}if(o===1){a=r;r=function(e){g().off(e);return a.apply(this,arguments)};r.guid=a.guid||(a.guid=g.guid++)}return e.each(function(){g.event.add(this,t,r,n,i)})}g.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,u,c,f,d,h,p,m,v=Z.get(e);if(!v){return}if(i.handler){o=i;i=o.handler;r=o.selector}if(r){g.find.matchesSelector(ge,r)}if(!i.guid){i.guid=g.guid++}if(!(l=v.events)){l=v.events={}}if(!(a=v.handle)){a=v.handle=function(t){return typeof g!=="undefined"&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match(R)||[""];u=t.length;while(u--){s=we.exec(t[u])||[];h=m=s[1];p=(s[2]||"").split(".").sort();if(!h){continue}f=g.event.special[h]||{};h=(r?f.delegateType:f.bindType)||h;f=g.event.special[h]||{};c=g.extend({type:h,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:p.join(".")},o);if(!(d=l[h])){d=l[h]=[];d.delegateCount=0;if(!f.setup||f.setup.call(e,n,p,a)===false){if(e.addEventListener){e.addEventListener(h,a)}}}if(f.add){f.add.call(e,c);if(!c.handler.guid){c.handler.guid=i.guid}}if(r){d.splice(d.delegateCount++,0,c)}else{d.push(c)}g.event.global[h]=true}},remove:function(e,t,i,n,r){var o,a,s,l,u,c,f,d,h,p,m,v=Z.hasData(e)&&Z.get(e);if(!v||!(l=v.events)){return}t=(t||"").match(R)||[""];u=t.length;while(u--){s=we.exec(t[u])||[];h=m=s[1];p=(s[2]||"").split(".").sort();if(!h){for(h in l){g.event.remove(e,h+t[u],i,n,true)}continue}f=g.event.special[h]||{};h=(n?f.delegateType:f.bindType)||h;d=l[h]||[];s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");a=o=d.length;while(o--){c=d[o];if((r||m===c.origType)&&(!i||i.guid===c.guid)&&(!s||s.test(c.namespace))&&(!n||n===c.selector||n==="**"&&c.selector)){d.splice(o,1);if(c.selector){d.delegateCount--}if(f.remove){f.remove.call(e,c)}}}if(a&&!d.length){if(!f.teardown||f.teardown.call(e,p,v.handle)===false){g.removeEvent(e,h,v.handle)}delete l[h]}}if(g.isEmptyObject(l)){Z.remove(e,"handle events")}},dispatch:function(e){var t=g.event.fix(e);var i,n,r,o,a,s,l=new Array(arguments.length),u=(Z.get(this,"events")||{})[t.type]||[],c=g.event.special[t.type]||{};l[0]=t;for(i=1;i<arguments.length;i++){l[i]=arguments[i]}t.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,t)===false){return}s=g.event.handlers.call(this,t,u);i=0;while((o=s[i++])&&!t.isPropagationStopped()){t.currentTarget=o.elem;n=0;while((a=o.handlers[n++])&&!t.isImmediatePropagationStopped()){if(!t.rnamespace||t.rnamespace.test(a.namespace)){t.handleObj=a;t.data=a.data;r=((g.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l);if(r!==undefined){if((t.result=r)===false){t.preventDefault();t.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,t)}return t.result},handlers:function(e,t){var i,n,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!(e.type==="click"&&e.button>=1)){for(;u!==this;u=u.parentNode||this){if(u.nodeType===1&&!(e.type==="click"&&u.disabled===true)){o=[];a={};for(i=0;i<l;i++){n=t[i];r=n.selector+" ";if(a[r]===undefined){a[r]=n.needsContext?g(r,this).index(u)>-1:g.find(r,this,null,[u]).length}if(a[r]){o.push(n)}}if(o.length){s.push({elem:u,handlers:o})}}}}u=this;if(l<t.length){s.push({elem:u,handlers:t.slice(l)})}return s},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:true,configurable:true,get:g.isFunction(t)?function(){if(this.originalEvent){return t(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(t){Object.defineProperty(this,e,{enumerable:true,configurable:true,writable:true,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ke()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&D(this,"input")){this.click();return false}},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};g.removeEvent=function(e,t,i){if(e.removeEventListener){e.removeEventListener(t,i)}};g.Event=function(e,t){if(!(this instanceof g.Event)){return new g.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?xe:Ce;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){g.extend(this,t)}this.timeStamp=e&&e.timeStamp||g.now();this[g.expando]=true};g.Event.prototype={constructor:g.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};g.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(e){var t=e.button;if(e.which==null&&ye.test(e.type)){return e.charCode!=null?e.charCode:e.keyCode}if(!e.which&&t!==undefined&&be.test(e.type)){if(t&1){return 1}if(t&2){return 3}if(t&4){return 2}return 0}return e.which}},g.event.addProp);g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;if(!r||r!==n&&!g.contains(n,r)){e.type=o.origType;i=o.handler.apply(this,arguments);e.type=t}return i}}});g.fn.extend({on:function(e,t,i,n){return Te(this,e,t,i,n)},one:function(e,t,i,n){return Te(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj){n=e.handleObj;g(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);return this}if(typeof e==="object"){for(r in e){this.off(r,t,e[r])}return this}if(t===false||typeof t==="function"){i=t;t=undefined}if(i===false){i=Ce}return this.each(function(){g.event.remove(this,e,i,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_e=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ee(e,t){if(D(e,"table")&&D(t.nodeType!==11?t:t.firstChild,"tr")){return g(">tbody",e)[0]||e}return e}function Pe(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function Ie(e){var t=$e.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function Fe(e,t){var i,n,r,o,a,s,l,u;if(t.nodeType!==1){return}if(Z.hasData(e)){o=Z.access(e);a=Z.set(t,o);u=o.events;if(u){delete a.handle;a.events={};for(r in u){for(i=0,n=u[r].length;i<n;i++){g.event.add(t,r,u[r][i])}}}}if(G.hasData(e)){s=G.access(e);l=g.extend({},s);G.set(t,l)}}function Ne(e,t){var i=t.nodeName.toLowerCase();if(i==="input"&&ue.test(e.type)){t.checked=e.checked}else if(i==="input"||i==="textarea"){t.defaultValue=e.defaultValue}}function Oe(e,t,i,n){t=a.apply([],t);var r,o,s,l,u,c,f=0,d=e.length,h=d-1,v=t[0],y=g.isFunction(v);if(y||d>1&&typeof v==="string"&&!p.checkClone&&De.test(v)){return e.each(function(r){var o=e.eq(r);if(y){t[0]=v.call(this,r,o.html())}Oe(o,t,i,n)})}if(d){r=ve(t,e[0].ownerDocument,false,e,n);o=r.firstChild;if(r.childNodes.length===1){r=o}if(o||n){s=g.map(he(r,"script"),Pe);l=s.length;for(;f<d;f++){u=r;if(f!==h){u=g.clone(u,true,true);if(l){g.merge(s,he(u,"script"))}}i.call(e[f],u,f)}if(l){c=s[s.length-1].ownerDocument;g.map(s,Ie);for(f=0;f<l;f++){u=s[f];if(fe.test(u.type||"")&&!Z.access(u,"globalEval")&&g.contains(c,u)){if(u.src){if(g._evalUrl){g._evalUrl(u.src)}}else{m(u.textContent.replace(Ae,""),c)}}}}}}return e}function Me(e,t,i){var n,r=t?g.filter(t,e):e,o=0;for(;(n=r[o])!=null;o++){if(!i&&n.nodeType===1){g.cleanData(he(n))}if(n.parentNode){if(i&&g.contains(n.ownerDocument,n)){pe(he(n,"script"))}n.parentNode.removeChild(n)}}return e}g.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,i){var n,r,o,a,s=e.cloneNode(true),l=g.contains(e.ownerDocument,e);if(!p.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!g.isXMLDoc(e)){a=he(s);o=he(e);for(n=0,r=o.length;n<r;n++){Ne(o[n],a[n])}}if(t){if(i){o=o||he(e);a=a||he(s);for(n=0,r=o.length;n<r;n++){Fe(o[n],a[n])}}else{Fe(e,s)}}a=he(s,"script");if(a.length>0){pe(a,!l&&he(e,"script"))}return s},cleanData:function(e){var t,i,n,r=g.event.special,o=0;for(;(i=e[o])!==undefined;o++){if(V(i)){if(t=i[Z.expando]){if(t.events){for(n in t.events){if(r[n]){g.event.remove(i,n)}else{g.removeEvent(i,n,t.handle)}}}i[Z.expando]=undefined}if(i[G.expando]){i[G.expando]=undefined}}}}});g.fn.extend({detach:function(e){return Me(this,e,true)},remove:function(e){return Me(this,e)},text:function(e){return W(this,function(e){return e===undefined?g.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ee(this,e);t.appendChild(e)}})},prepend:function(){return Oe(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ee(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Oe(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return Oe(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){g.cleanData(he(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return g.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!_e.test(e)&&!de[(ce.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;i<n;i++){t=this[i]||{};if(t.nodeType===1){g.cleanData(he(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,function(t){var i=this.parentNode;if(g.inArray(this,e)<0){g.cleanData(he(this));if(i){i.replaceChild(t,this)}}},e)}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){var i,n=[],r=g(e),o=r.length-1,a=0;for(;a<=o;a++){i=a===o?this:this.clone(true);g(r[a])[t](i);s.apply(n,i.get())}return this.pushStack(n)}});var Re=/^margin/;var je=new RegExp("^("+ee+")(?!px)[a-z%]+$","i");var Le=function(t){var i=t.ownerDocument.defaultView;if(!i||!i.opener){i=e}return i.getComputedStyle(t)};(function(){function t(){if(!l){return}l.style.cssText="box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";l.innerHTML="";ge.appendChild(s);var t=e.getComputedStyle(l);i=t.top!=="1%";a=t.marginLeft==="2px";r=t.width==="4px";l.style.marginRight="50%";o=t.marginRight==="4px";ge.removeChild(s);l=null}var i,r,o,a,s=n.createElement("div"),l=n.createElement("div");if(!l.style){return}l.style.backgroundClip="content-box";l.cloneNode(true).style.backgroundClip="";p.clearCloneStyle=l.style.backgroundClip==="content-box";s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";s.appendChild(l);g.extend(p,{pixelPosition:function(){t();return i},boxSizingReliable:function(){t();return r},pixelMarginRight:function(){t();return o},reliableMarginLeft:function(){t();return a}})})();function Ue(e,t,i){var n,r,o,a,s=e.style;i=i||Le(e);if(i){a=i.getPropertyValue(t)||i[t];if(a===""&&!g.contains(e.ownerDocument,e)){a=g.style(e,t)}if(!p.pixelMarginRight()&&je.test(a)&&Re.test(t)){n=s.width;r=s.minWidth;o=s.maxWidth;s.minWidth=s.maxWidth=s.width=a;a=i.width;s.width=n;s.minWidth=r;s.maxWidth=o}}return a!==undefined?a+"":a}function He(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var ze=/^(none|table(?!-c[ea]).+)/,Be=/^--/,qe={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ve=["Webkit","Moz","ms"],Ye=n.createElement("div").style;function Ze(e){if(e in Ye){return e}var t=e[0].toUpperCase()+e.slice(1),i=Ve.length;while(i--){e=Ve[i]+t;if(e in Ye){return e}}}function Ge(e){var t=g.cssProps[e];if(!t){t=g.cssProps[e]=Ze(e)||e}return t}function Ke(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Qe(e,t,i,n,r){var o,a=0;if(i===(n?"border":"content")){o=4}else{o=t==="width"?1:0}for(;o<4;o+=2){if(i==="margin"){a+=g.css(e,i+ie[o],true,r)}if(n){if(i==="content"){a-=g.css(e,"padding"+ie[o],true,r)}if(i!=="margin"){a-=g.css(e,"border"+ie[o]+"Width",true,r)}}else{a+=g.css(e,"padding"+ie[o],true,r);if(i!=="padding"){a+=g.css(e,"border"+ie[o]+"Width",true,r)}}}return a}function Xe(e,t,i){var n,r=Le(e),o=Ue(e,t,r),a=g.css(e,"boxSizing",false,r)==="border-box";if(je.test(o)){return o}n=a&&(p.boxSizingReliable()||o===e.style[t]);if(o==="auto"){o=e["offset"+t[0].toUpperCase()+t.slice(1)]}o=parseFloat(o)||0;return o+Qe(e,t,i||(a?"border":"content"),n,r)+"px"}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ue(e,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var r,o,a,s=g.camelCase(t),l=Be.test(t),u=e.style;if(!l){t=Ge(s)}a=g.cssHooks[t]||g.cssHooks[s];if(i!==undefined){o=typeof i;if(o==="string"&&(r=te.exec(i))&&r[1]){i=oe(e,t,r);o="number"}if(i==null||i!==i){return}if(o==="number"){i+=r&&r[3]||(g.cssNumber[s]?"":"px")}if(!p.clearCloneStyle&&i===""&&t.indexOf("background")===0){u[t]="inherit"}if(!a||!("set"in a)||(i=a.set(e,i,n))!==undefined){if(l){u.setProperty(t,i)}else{u[t]=i}}}else{if(a&&"get"in a&&(r=a.get(e,false,n))!==undefined){return r}return u[t]}},css:function(e,t,i,n){var r,o,a,s=g.camelCase(t),l=Be.test(t);if(!l){t=Ge(s)}a=g.cssHooks[t]||g.cssHooks[s];if(a&&"get"in a){r=a.get(e,true,i)}if(r===undefined){r=Ue(e,t,n)}if(r==="normal"&&t in We){r=We[t]}if(i===""||i){o=parseFloat(r);return i===true||isFinite(o)?o||0:r}return r}});g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,i,n){if(i){return ze.test(g.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?re(e,qe,function(){return Xe(e,t,n)}):Xe(e,t,n)}},set:function(e,i,n){var r,o=n&&Le(e),a=n&&Qe(e,t,n,g.css(e,"boxSizing",false,o)==="border-box",o);if(a&&(r=te.exec(i))&&(r[3]||"px")!=="px"){e.style[t]=i;i=g.css(e,t)}return Ke(e,i,a)}}});g.cssHooks.marginLeft=He(p.reliableMarginLeft,function(e,t){if(t){return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(i){var n=0,r={},o=typeof i==="string"?i.split(" "):[i];for(;n<4;n++){r[e+ie[n]+t]=o[n]||o[n-2]||o[0]}return r}};if(!Re.test(e)){g.cssHooks[e+t].set=Ke}});g.fn.extend({css:function(e,t){return W(this,function(e,t,i){var n,r,o={},a=0;if(Array.isArray(t)){n=Le(e);r=t.length;for(;a<r;a++){o[t[a]]=g.css(e,t[a],false,n)}return o}return i!==undefined?g.style(e,t,i):g.css(e,t)},e,t,arguments.length>1)}});function Je(e,t,i,n,r){return new Je.prototype.init(e,t,i,n,r)}g.Tween=Je;Je.prototype={constructor:Je,init:function(e,t,i,n,r,o){this.elem=e;this.prop=i;this.easing=r||g.easing._default;this.options=t;this.start=this.now=this.cur();this.end=n;this.unit=o||(g.cssNumber[i]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,i=Je.propHooks[this.prop];if(this.options.duration){this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(i&&i.set){i.set(this)}else{Je.propHooks._default.set(this)}return this}};Je.prototype.init.prototype=Je.prototype;Je.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=g.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(g.fx.step[e.prop]){g.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[g.cssProps[e.prop]]!=null||g.cssHooks[e.prop])){g.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};g.fx=Je.prototype.init;g.fx.step={};var et,tt,it=/^(?:toggle|show|hide)$/,nt=/queueHooks$/;function rt(){if(tt){if(n.hidden===false&&e.requestAnimationFrame){e.requestAnimationFrame(rt)}else{e.setTimeout(rt,g.fx.interval)}g.fx.tick()}}function ot(){e.setTimeout(function(){et=undefined});return et=g.now()}function at(e,t){var i,n=0,r={height:e};t=t?1:0;for(;n<4;n+=2-t){i=ie[n];r["margin"+i]=r["padding"+i]=e}if(t){r.opacity=r.width=e}return r}function st(e,t,i){var n,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=r.length;for(;o<a;o++){if(n=r[o].call(i,t,e)){return n}}}function lt(e,t,i){var n,r,o,a,s,l,u,c,f="width"in t||"height"in t,d=this,h={},p=e.style,m=e.nodeType&&ne(e),v=Z.get(e,"fxshow");if(!i.queue){a=g._queueHooks(e,"fx");if(a.unqueued==null){a.unqueued=0;s=a.empty.fire;a.empty.fire=function(){if(!a.unqueued){s()}}}a.unqueued++;d.always(function(){d.always(function(){a.unqueued--;if(!g.queue(e,"fx").length){a.empty.fire()}})})}for(n in t){r=t[n];if(it.test(r)){delete t[n];o=o||r==="toggle";if(r===(m?"hide":"show")){if(r==="show"&&v&&v[n]!==undefined){m=true}else{continue}}h[n]=v&&v[n]||g.style(e,n)}}l=!g.isEmptyObject(t);if(!l&&g.isEmptyObject(h)){return}if(f&&e.nodeType===1){i.overflow=[p.overflow,p.overflowX,p.overflowY];u=v&&v.display;if(u==null){u=Z.get(e,"display")}c=g.css(e,"display");if(c==="none"){if(u){c=u}else{le([e],true);u=e.style.display||u;c=g.css(e,"display");le([e])}}if(c==="inline"||c==="inline-block"&&u!=null){if(g.css(e,"float")==="none"){if(!l){d.done(function(){p.display=u});if(u==null){c=p.display;u=c==="none"?"":c}}p.display="inline-block"}}}if(i.overflow){p.overflow="hidden";d.always(function(){p.overflow=i.overflow[0];p.overflowX=i.overflow[1];p.overflowY=i.overflow[2]})}l=false;for(n in h){if(!l){if(v){if("hidden"in v){m=v.hidden}}else{v=Z.access(e,"fxshow",{display:u})}if(o){v.hidden=!m}if(m){le([e],true)}d.done(function(){if(!m){le([e])}Z.remove(e,"fxshow");for(n in h){g.style(e,n,h[n])}})}l=st(m?v[n]:0,n,d);if(!(n in v)){v[n]=l.start;if(m){l.end=l.start;l.start=0}}}}function ut(e,t){var i,n,r,o,a;for(i in e){n=g.camelCase(i);r=t[n];o=e[i];if(Array.isArray(o)){r=o[1];o=e[i]=o[0]}if(i!==n){e[n]=o;delete e[i]}a=g.cssHooks[n];if(a&&"expand"in a){o=a.expand(o);delete e[n];for(i in o){if(!(i in e)){e[i]=o[i];t[i]=r}}}else{t[n]=r}}}function ct(e,t,i){var n,r,o=0,a=ct.prefilters.length,s=g.Deferred().always(function(){delete l.elem}),l=function(){if(r){return false}var t=et||ot(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;for(;a<l;a++){u.tweens[a].run(o)}s.notifyWith(e,[u,o,i]);if(o<1&&l){return i}if(!l){s.notifyWith(e,[u,1,0])}s.resolveWith(e,[u]);return false},u=s.promise({elem:e,props:g.extend({},t),opts:g.extend(true,{specialEasing:{},easing:g.easing._default},i),originalProperties:t,originalOptions:i,startTime:et||ot(),duration:i.duration,tweens:[],createTween:function(t,i){var n=g.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);u.tweens.push(n);return n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r){return this}r=true;for(;i<n;i++){u.tweens[i].run(1)}if(t){s.notifyWith(e,[u,1,0]);s.resolveWith(e,[u,t])}else{s.rejectWith(e,[u,t])}return this}}),c=u.props;ut(c,u.opts.specialEasing);for(;o<a;o++){n=ct.prefilters[o].call(u,e,c,u.opts);if(n){if(g.isFunction(n.stop)){g._queueHooks(u.elem,u.opts.queue).stop=g.proxy(n.stop,n)}return n}}g.map(c,st,u);if(g.isFunction(u.opts.start)){u.opts.start.call(e,u)}u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always);g.fx.timer(g.extend(l,{elem:e,anim:u,queue:u.opts.queue}));return u}g.Animation=g.extend(ct,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);oe(i.elem,e,te.exec(t),i);return i}]},tweener:function(e,t){if(g.isFunction(e)){t=e;e=["*"]}else{e=e.match(R)}var i,n=0,r=e.length;for(;n<r;n++){i=e[n];ct.tweeners[i]=ct.tweeners[i]||[];ct.tweeners[i].unshift(t)}},prefilters:[lt],prefilter:function(e,t){if(t){ct.prefilters.unshift(e)}else{ct.prefilters.push(e)}}});g.speed=function(e,t,i){var n=e&&typeof e==="object"?g.extend({},e):{complete:i||!i&&t||g.isFunction(e)&&e,duration:e,easing:i&&t||t&&!g.isFunction(t)&&t};if(g.fx.off){n.duration=0}else{if(typeof n.duration!=="number"){if(n.duration in g.fx.speeds){n.duration=g.fx.speeds[n.duration]}else{n.duration=g.fx.speeds._default}}}if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete;n.complete=function(){if(g.isFunction(n.old)){n.old.call(this)}if(n.queue){g.dequeue(this,n.queue)}};return n};g.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ne).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=g.isEmptyObject(e),o=g.speed(t,i,n),a=function(){var t=ct(this,g.extend({},e),o);if(r||Z.get(this,"finish")){t.stop(true)}};a.finish=a;return r||o.queue===false?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop;t(i)};if(typeof e!=="string"){i=t;t=e;e=undefined}if(t&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,r=e!=null&&e+"queueHooks",o=g.timers,a=Z.get(this);if(r){if(a[r]&&a[r].stop){n(a[r])}}else{for(r in a){if(a[r]&&a[r].stop&&nt.test(r)){n(a[r])}}}for(r=o.length;r--;){if(o[r].elem===this&&(e==null||o[r].queue===e)){o[r].anim.stop(i);t=false;o.splice(r,1)}}if(t||!i){g.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,i=Z.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=g.timers,a=n?n.length:0;i.finish=true;g.queue(this,e,[]);if(r&&r.stop){r.stop.call(this,true)}for(t=o.length;t--;){if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(true);o.splice(t,1)}}for(t=0;t<a;t++){if(n[t]&&n[t].finish){n[t].finish.call(this)}}delete i.finish})}});g.each(["toggle","show","hide"],function(e,t){var i=g.fn[t];g.fn[t]=function(e,n,r){return e==null||typeof e==="boolean"?i.apply(this,arguments):this.animate(at(t,true),e,n,r)}});g.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}});g.timers=[];g.fx.tick=function(){var e,t=0,i=g.timers;et=g.now();for(;t<i.length;t++){e=i[t];if(!e()&&i[t]===e){i.splice(t--,1)}}if(!i.length){g.fx.stop()}et=undefined};g.fx.timer=function(e){g.timers.push(e);g.fx.start()};g.fx.interval=13;g.fx.start=function(){if(tt){return}tt=true;rt()};g.fx.stop=function(){tt=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fn.delay=function(t,i){t=g.fx?g.fx.speeds[t]||t:t;i=i||"fx";return this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})};(function(){var e=n.createElement("input"),t=n.createElement("select"),i=t.appendChild(n.createElement("option"));e.type="checkbox";p.checkOn=e.value!=="";p.optSelected=i.selected;e=n.createElement("input");e.value="t";e.type="radio";p.radioValue=e.value==="t"})();var ft,dt=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return W(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}});g.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(typeof e.getAttribute==="undefined"){return g.prop(e,t,i)}if(o!==1||!g.isXMLDoc(e)){r=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?ft:undefined)}if(i!==undefined){if(i===null){g.removeAttr(e,t);return}if(r&&"set"in r&&(n=r.set(e,i,t))!==undefined){return n}e.setAttribute(t,i+"");return i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}n=g.find.attr(e,t);return n==null?undefined:n},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&t==="radio"&&D(e,"input")){var i=e.value;e.setAttribute("type",t);if(i){e.value=i}return t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(R);if(r&&e.nodeType===1){while(i=r[n++]){e.removeAttribute(i)}}}});ft={set:function(e,t,i){if(t===false){g.removeAttr(e,i)}else{e.setAttribute(i,i)}return i}};g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var i=dt[t]||g.find.attr;dt[t]=function(e,t,n){var r,o,a=t.toLowerCase();if(!n){o=dt[a];dt[a]=r;r=i(e,t,n)!=null?a:null;dt[a]=o}return r}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return W(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}});g.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==1||!g.isXMLDoc(e)){t=g.propFix[t]||t;r=g.propHooks[t]}if(i!==undefined){if(r&&"set"in r&&(n=r.set(e,i,t))!==undefined){return n}return e[t]=i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}return e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");if(t){return parseInt(t,10)}if(ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!p.optSelected){g.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function mt(e){var t=e.match(R)||[];return t.join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0;if(g.isFunction(e)){return this.each(function(t){g(this).addClass(e.call(this,t,vt(this)))})}if(typeof e==="string"&&e){t=e.match(R)||[];while(i=this[l++]){r=vt(i);n=i.nodeType===1&&" "+mt(r)+" ";if(n){a=0;while(o=t[a++]){if(n.indexOf(" "+o+" ")<0){n+=o+" "}}s=mt(n);if(r!==s){i.setAttribute("class",s)}}}}return this},removeClass:function(e){var t,i,n,r,o,a,s,l=0;if(g.isFunction(e)){return this.each(function(t){g(this).removeClass(e.call(this,t,vt(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof e==="string"&&e){t=e.match(R)||[];while(i=this[l++]){r=vt(i);n=i.nodeType===1&&" "+mt(r)+" ";if(n){a=0;while(o=t[a++]){while(n.indexOf(" "+o+" ")>-1){n=n.replace(" "+o+" "," ")}}s=mt(n);if(r!==s){i.setAttribute("class",s)}}}}return this},toggleClass:function(e,t){var i=typeof e;if(typeof t==="boolean"&&i==="string"){return t?this.addClass(e):this.removeClass(e)}if(g.isFunction(e)){return this.each(function(i){g(this).toggleClass(e.call(this,i,vt(this),t),t)})}return this.each(function(){var t,n,r,o;if(i==="string"){n=0;r=g(this);o=e.match(R)||[];while(t=o[n++]){if(r.hasClass(t)){r.removeClass(t)}else{r.addClass(t)}}}else if(e===undefined||i==="boolean"){t=vt(this);if(t){Z.set(this,"__className__",t)}if(this.setAttribute){this.setAttribute("class",t||e===false?"":Z.get(this,"__className__")||"")}}})},hasClass:function(e){var t,i,n=0;t=" "+e+" ";while(i=this[n++]){if(i.nodeType===1&&(" "+mt(vt(i))+" ").indexOf(t)>-1){return true}}return false}});var gt=/\r/g;g.fn.extend({val:function(e){var t,i,n,r=this[0];if(!arguments.length){if(r){t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()];if(t&&"get"in t&&(i=t.get(r,"value"))!==undefined){return i}i=r.value;if(typeof i==="string"){return i.replace(gt,"")}return i==null?"":i}return}n=g.isFunction(e);return this.each(function(i){var r;if(this.nodeType!==1){return}if(n){r=e.call(this,i,g(this).val())}else{r=e}if(r==null){r=""}else if(typeof r==="number"){r+=""}else if(Array.isArray(r)){r=g.map(r,function(e){return e==null?"":e+""})}t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,r,"value")===undefined){this.value=r}})}});g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return t!=null?t:mt(g.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,a=e.type==="select-one",s=a?null:[],l=a?o+1:r.length;if(o<0){n=l}else{n=a?o:0}for(;n<l;n++){i=r[n];if((i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){t=g(i).val();if(a){return t}s.push(t)}}return s},set:function(e,t){var i,n,r=e.options,o=g.makeArray(t),a=r.length;while(a--){n=r[a];if(n.selected=g.inArray(g.valHooks.option.get(n),o)>-1){i=true}}if(!i){e.selectedIndex=-1}return o}}}});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=g.inArray(g(e).val(),t)>-1}}};if(!p.checkOn){g.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var yt=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,i,r,o){var a,s,l,u,c,d,h,p=[r||n],m=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];s=l=r=r||n;if(r.nodeType===3||r.nodeType===8){return}if(yt.test(m+g.event.triggered)){return}if(m.indexOf(".")>-1){v=m.split(".");m=v.shift();v.sort()}c=m.indexOf(":")<0&&"on"+m;t=t[g.expando]?t:new g.Event(m,typeof t==="object"&&t);t.isTrigger=o?2:3;t.namespace=v.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}i=i==null?[t]:g.makeArray(i,[t]);h=g.event.special[m]||{};if(!o&&h.trigger&&h.trigger.apply(r,i)===false){return}if(!o&&!h.noBubble&&!g.isWindow(r)){u=h.delegateType||m;if(!yt.test(u+m)){s=s.parentNode}for(;s;s=s.parentNode){p.push(s);l=s}if(l===(r.ownerDocument||n)){p.push(l.defaultView||l.parentWindow||e)}}a=0;while((s=p[a++])&&!t.isPropagationStopped()){t.type=a>1?u:h.bindType||m;d=(Z.get(s,"events")||{})[t.type]&&Z.get(s,"handle");if(d){d.apply(s,i)}d=c&&s[c];if(d&&d.apply&&V(s)){t.result=d.apply(s,i);if(t.result===false){t.preventDefault()}}}t.type=m;if(!o&&!t.isDefaultPrevented()){if((!h._default||h._default.apply(p.pop(),i)===false)&&V(r)){if(c&&g.isFunction(r[m])&&!g.isWindow(r)){l=r[c];if(l){r[c]=null}g.event.triggered=m;r[m]();g.event.triggered=undefined;if(l){r[c]=l}}}}return t.result},simulate:function(e,t,i){var n=g.extend(new g.Event,i,{type:e,isSimulated:true});g.event.trigger(n,null,t)}});g.fn.extend({trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i){return g.event.trigger(e,t,i,true)}}});g.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,t){g.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}});g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});p.focusin="onfocusin"in e;if(!p.focusin){g.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Z.access(n,t);if(!r){n.addEventListener(e,i,true)}Z.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Z.access(n,t)-1;if(!r){n.removeEventListener(e,i,true);Z.remove(n,t)}else{Z.access(n,t,r)}}}})}var bt=e.location;var wt=g.now();var xt=/\?/;g.parseXML=function(t){var i;if(!t||typeof t!=="string"){return null}try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=undefined}if(!i||i.getElementsByTagName("parsererror").length){g.error("Invalid XML: "+t)}return i};var Ct=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function _t(e,t,i,n){var r;if(Array.isArray(t)){g.each(t,function(t,r){if(i||Ct.test(e)){n(e,r)}else{_t(e+"["+(typeof r==="object"&&r!=null?t:"")+"]",r,i,n)}})}else if(!i&&g.type(t)==="object"){for(r in t){_t(e+"["+r+"]",t[r],i,n)}}else{n(e,t)}}g.param=function(e,t){var i,n=[],r=function(e,t){var i=g.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(i==null?"":i)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e)){g.each(e,function(){r(this.name,this.value)})}else{for(i in e){_t(i,e[i],t,r)}}return n.join("&")};g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&St.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var i=g(this).val();if(i==null){return null}if(Array.isArray(i)){return g.map(i,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})}return{name:t.name,value:i.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,$t=/#.*$/,At=/([?&])_=[^&]*/,Et=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,It=/^(?:GET|HEAD)$/,Ft=/^\/\//,Nt={},Ot={},Mt="*/".concat("*"),Rt=n.createElement("a");Rt.href=bt.href;function jt(e){return function(t,i){if(typeof t!=="string"){i=t;t="*"}var n,r=0,o=t.toLowerCase().match(R)||[];if(g.isFunction(i)){while(n=o[r++]){if(n[0]==="+"){n=n.slice(1)||"*";(e[n]=e[n]||[]).unshift(i)}else{(e[n]=e[n]||[]).push(i)}}}}}function Lt(e,t,i,n){var r={},o=e===Ot;function a(s){var l;r[s]=true;g.each(e[s]||[],function(e,s){var u=s(t,i,n);if(typeof u==="string"&&!o&&!r[u]){t.dataTypes.unshift(u);a(u);return false}else if(o){return!(l=u)}});return l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Ut(e,t){var i,n,r=g.ajaxSettings.flatOptions||{};for(i in t){if(t[i]!==undefined){(r[i]?e:n||(n={}))[i]=t[i]}}if(n){g.extend(true,e,n)}return e}function Ht(e,t,i){var n,r,o,a,s=e.contents,l=e.dataTypes;while(l[0]==="*"){l.shift();if(n===undefined){n=e.mimeType||t.getResponseHeader("Content-Type")}}if(n){for(r in s){if(s[r]&&s[r].test(n)){l.unshift(r);break}}}if(l[0]in i){o=l[0]}else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}if(!a){a=r}}o=o||a}if(o){if(o!==l[0]){l.unshift(o)}return i[o]}}function zt(e,t,i,n){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1]){for(a in e.converters){u[a.toLowerCase()]=e.converters[a]}}o=c.shift();while(o){if(e.responseFields[o]){i[e.responseFields[o]]=t}if(!l&&n&&e.dataFilter){t=e.dataFilter(t,e.dataType)}l=o;o=c.shift();if(o){if(o==="*"){o=l}else if(l!=="*"&&l!==o){a=u[l+" "+o]||u["* "+o];if(!a){for(r in u){s=r.split(" ");if(s[1]===o){a=u[l+" "+s[0]]||u["* "+s[0]];if(a){if(a===true){a=u[r]}else if(u[r]!==true){o=s[0];c.unshift(s[1])}break}}}}if(a!==true){if(a&&e.throws){t=a(t)}else{try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}}}}}return{state:"success",data:t}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:Pt.test(bt.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?Ut(Ut(e,g.ajaxSettings),t):Ut(g.ajaxSettings,e)},ajaxPrefilter:jt(Nt),ajaxTransport:jt(Ot),ajax:function(t,i){if(typeof t==="object"){i=t;t=undefined}i=i||{};var r,o,a,s,l,u,c,f,d,h,p=g.ajaxSetup({},i),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?g(m):g.event,y=g.Deferred(),b=g.Callbacks("once memory"),w=p.statusCode||{},x={},C={},k="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Et.exec(a)){s[t[1].toLowerCase()]=t[2]}}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){if(c==null){e=C[e.toLowerCase()]=C[e.toLowerCase()]||e;x[e]=t}return this},overrideMimeType:function(e){if(c==null){p.mimeType=e}return this},statusCode:function(e){var t;if(e){if(c){T.always(e[T.status])}else{for(t in e){w[t]=[w[t],e[t]]}}}return this},abort:function(e){var t=e||k;if(r){r.abort(t)}S(0,t);return this}};y.promise(T);p.url=((t||p.url||bt.href)+"").replace(Ft,bt.protocol+"//");p.type=i.method||i.type||p.method||p.type;p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""];if(p.crossDomain==null){u=n.createElement("a");try{u.href=p.url;u.href=u.href;p.crossDomain=Rt.protocol+"//"+Rt.host!==u.protocol+"//"+u.host}catch(e){p.crossDomain=true}}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=g.param(p.data,p.traditional)}Lt(Nt,p,i,T);if(c){return T}f=g.event&&p.global;if(f&&g.active++===0){g.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!It.test(p.type);o=p.url.replace($t,"");if(!p.hasContent){h=p.url.slice(o.length);if(p.data){o+=(xt.test(o)?"&":"?")+p.data;delete p.data}if(p.cache===false){o=o.replace(At,"$1");h=(xt.test(o)?"&":"?")+"_="+wt+++h}p.url=o+h}else if(p.data&&p.processData&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0){p.data=p.data.replace(Dt,"+")}if(p.ifModified){if(g.lastModified[o]){T.setRequestHeader("If-Modified-Since",g.lastModified[o])}if(g.etag[o]){T.setRequestHeader("If-None-Match",g.etag[o])}}if(p.data&&p.hasContent&&p.contentType!==false||i.contentType){T.setRequestHeader("Content-Type",p.contentType)}T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+Mt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers){T.setRequestHeader(d,p.headers[d])}if(p.beforeSend&&(p.beforeSend.call(m,T,p)===false||c)){return T.abort()}k="abort";b.add(p.complete);T.done(p.success);T.fail(p.error);r=Lt(Ot,p,i,T);if(!r){S(-1,"No Transport")}else{T.readyState=1;if(f){v.trigger("ajaxSend",[T,p])}if(c){return T}if(p.async&&p.timeout>0){l=e.setTimeout(function(){T.abort("timeout")},p.timeout)}try{c=false;r.send(x,S)}catch(e){if(c){throw e}S(-1,e)}}function S(t,i,n,s){var u,d,h,x,C,k=i;if(c){return}c=true;if(l){e.clearTimeout(l)}r=undefined;a=s||"";T.readyState=t>0?4:0;u=t>=200&&t<300||t===304;if(n){x=Ht(p,T,n)}x=zt(p,x,T,u);if(u){if(p.ifModified){C=T.getResponseHeader("Last-Modified");if(C){g.lastModified[o]=C}C=T.getResponseHeader("etag");if(C){g.etag[o]=C}}if(t===204||p.type==="HEAD"){k="nocontent"}else if(t===304){k="notmodified"}else{k=x.state;d=x.data;h=x.error;u=!h}}else{h=k;if(t||!k){k="error";if(t<0){t=0}}}T.status=t;T.statusText=(i||k)+"";if(u){y.resolveWith(m,[d,k,T])}else{y.rejectWith(m,[T,k,h])}T.statusCode(w);w=undefined;if(f){v.trigger(u?"ajaxSuccess":"ajaxError",[T,p,u?d:h])}b.fireWith(m,[T,k]);if(f){v.trigger("ajaxComplete",[T,p]);if(!--g.active){g.event.trigger("ajaxStop")}}}return T},getJSON:function(e,t,i){return g.get(e,t,i,"json")},getScript:function(e,t){return g.get(e,undefined,t,"script")}});g.each(["get","post"],function(e,t){g[t]=function(e,i,n,r){if(g.isFunction(i)){r=r||n;n=i;i=undefined}return g.ajax(g.extend({url:e,type:t,dataType:r,data:i,success:n},g.isPlainObject(e)&&e))}});g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};g.fn.extend({wrapAll:function(e){var t;if(this[0]){if(g.isFunction(e)){e=e.call(this[0])}t=g(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(g.isFunction(e)){return this.each(function(t){g(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=g(this),i=t.contents();if(i.length){i.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=g.isFunction(e);return this.each(function(i){g(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){this.parent(e).not("body").each(function(){g(this).replaceWith(this.childNodes)});return this}});g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)};g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},qt=g.ajaxSettings.xhr();p.cors=!!qt&&"withCredentials"in qt;p.ajax=qt=!!qt;g.ajaxTransport(function(t){var i,n;if(p.cors||qt&&!t.crossDomain){return{send:function(r,o){var a,s=t.xhr();s.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(a in t.xhrFields){s[a]=t.xhrFields[a]}}if(t.mimeType&&s.overrideMimeType){s.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!r["X-Requested-With"]){r["X-Requested-With"]="XMLHttpRequest"}for(a in r){s.setRequestHeader(a,r[a])}i=function(e){return function(){if(i){i=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null;if(e==="abort"){s.abort()}else if(e==="error"){if(typeof s.status!=="number"){o(0,"error")}else{o(s.status,s.statusText)}}else{o(Bt[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=i();n=s.onerror=i("error");if(s.onabort!==undefined){s.onabort=n}else{s.onreadystatechange=function(){if(s.readyState===4){e.setTimeout(function(){if(i){n()}})}}}i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(i){throw e}}},abort:function(){if(i){i()}}}}});g.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){g.globalEval(e);return e}}});g.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});g.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,o){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove();i=null;if(e){o(e.type==="error"?404:200,e.type)}});n.head.appendChild(t[0])},abort:function(){if(i){i()}}}}});var Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||g.expando+"_"+wt++;this[e]=true;return e}});g.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=t.jsonp!==false&&(Vt.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Vt.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp"){r=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(s){t[s]=t[s].replace(Vt,"$1"+r)}else if(t.jsonp!==false){t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+r}t.converters["script json"]=function(){if(!a){g.error(r+" was not called")}return a[0]};t.dataTypes[0]="json";o=e[r];e[r]=function(){a=arguments};n.always(function(){if(o===undefined){g(e).removeProp(r)}else{e[r]=o}if(t[r]){t.jsonpCallback=i.jsonpCallback;Wt.push(r)}if(a&&g.isFunction(o)){o(a[0])}a=o=undefined});return"script"}});p.createHTMLDocument=function(){var e=n.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();g.parseHTML=function(e,t,i){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){i=t;t=false}var r,o,a;if(!t){if(p.createHTMLDocument){t=n.implementation.createHTMLDocument("");r=t.createElement("base");r.href=n.location.href;t.head.appendChild(r)}else{t=n}}o=$.exec(e);a=!i&&[];if(o){return[t.createElement(o[1])]}o=ve([e],t,a);if(a&&a.length){g(a).remove()}return g.merge([],o.childNodes)};g.fn.load=function(e,t,i){var n,r,o,a=this,s=e.indexOf(" ");if(s>-1){n=mt(e.slice(s));e=e.slice(0,s)}if(g.isFunction(t)){i=t;t=undefined}else if(t&&typeof t==="object"){r="POST"}if(a.length>0){g.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments;a.html(n?g("<div>").append(g.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})})}return this};g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}});g.expr.pseudos.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length};g.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,u,c=g.css(e,"position"),f=g(e),d={};if(c==="static"){e.style.position="relative"}s=f.offset();o=g.css(e,"top");l=g.css(e,"left");u=(c==="absolute"||c==="fixed")&&(o+l).indexOf("auto")>-1;if(u){n=f.position();a=n.top;r=n.left}else{a=parseFloat(o)||0;r=parseFloat(l)||0}if(g.isFunction(t)){t=t.call(e,i,g.extend({},s))}if(t.top!=null){d.top=t.top-s.top+a}if(t.left!=null){d.left=t.left-s.left+r}if("using"in t){t.using.call(e,d)}else{f.css(d)}}};g.fn.extend({offset:function(e){if(arguments.length){return e===undefined?this:this.each(function(t){g.offset.setOffset(this,e,t)})}var t,i,n,r,o=this[0];if(!o){return}if(!o.getClientRects().length){return{top:0,left:0}}n=o.getBoundingClientRect();t=o.ownerDocument;i=t.documentElement;r=t.defaultView;return{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}},position:function(){if(!this[0]){return}var e,t,i=this[0],n={top:0,left:0};if(g.css(i,"position")==="fixed"){t=i.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!D(e[0],"html")){n=e.offset()}n={top:n.top+g.css(e[0],"borderTopWidth",true),left:n.left+g.css(e[0],"borderLeftWidth",true)}}return{top:t.top-n.top-g.css(i,"marginTop",true),left:t.left-n.left-g.css(i,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&g.css(e,"position")==="static"){e=e.offsetParent}return e||ge})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;g.fn[e]=function(n){return W(this,function(e,n,r){var o;if(g.isWindow(e)){o=e}else if(e.nodeType===9){o=e.defaultView}if(r===undefined){return o?o[t]:e[n]}if(o){o.scrollTo(!i?r:o.pageXOffset,i?r:o.pageYOffset)}else{e[n]=r}},e,n,arguments.length)}});g.each(["top","left"],function(e,t){g.cssHooks[t]=He(p.pixelPosition,function(e,i){if(i){i=Ue(e,t);return je.test(i)?g(e).position()[t]+"px":i}})});g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){g.fn[n]=function(r,o){var a=arguments.length&&(i||typeof r!=="boolean"),s=i||(r===true||o===true?"margin":"border");return W(this,function(t,i,r){var o;if(g.isWindow(t)){return n.indexOf("outer")===0?t["inner"+e]:t.document.documentElement["client"+e]}if(t.nodeType===9){o=t.documentElement;return Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])}return r===undefined?g.css(t,i,s):g.style(t,i,r,s)},t,a?r:undefined,a)}})});g.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",i)}});g.holdReady=function(e){if(e){g.readyWait++}else{g.ready(true)}};g.isArray=Array.isArray;g.parseJSON=JSON.parse;g.nodeName=D;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return g})}var Yt=e.jQuery,Zt=e.$;g.noConflict=function(t){if(e.$===g){e.$=Zt}if(t&&e.jQuery===g){e.jQuery=Yt}return g};if(!t){e.jQuery=e.$=g}return g});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){module.exports=function(t,i){if(typeof i==="undefined"){if(typeof window!=="undefined"){i=require("jquery")}else{i=require("jquery")(t)}}e(i);return i}}else{e(jQuery)}})(function(e){"use strict";var t=/\r?\n/g;var i={};i.fileapi=e('<input type="file">').get(0).files!==undefined;i.formdata=typeof window.FormData!=="undefined";var n=!!e.fn.prop;e.fn.attr2=function(){if(!n){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);if(e&&e.jquery||typeof e==="string"){return e}return this.attr.apply(this,arguments)};e.fn.ajaxSubmit=function(t,r,o,s){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var l,u,c,f=this;if(typeof t==="function"){t={success:t}}else if(typeof t==="string"||t===false&&arguments.length>0){t={url:t,data:r,dataType:o};if(typeof s==="function"){t.success=s}}else if(typeof t==="undefined"){t={}}l=t.method||t.type||this.attr2("method");u=t.url||this.attr2("action");c=typeof u==="string"?e.trim(u):"";c=c||window.location.href||"";if(c){c=(c.match(/^([^#]+)/)||[])[1]}t=e.extend(true,{url:c,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var d={};this.trigger("form-pre-serialize",[this,t,d]);if(d.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(t.beforeSerialize&&t.beforeSerialize(this,t)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var h=t.traditional;if(typeof h==="undefined"){h=e.ajaxSettings.traditional}var p=[];var m,v=this.formToArray(t.semantic,p,t.filtering);if(t.data){var g=e.isFunction(t.data)?t.data(v):t.data;t.extraData=g;m=e.param(g,h)}if(t.beforeSubmit&&t.beforeSubmit(v,this,t)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[v,this,t,d]);if(d.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=e.param(v,h);if(m){y=y?y+"&"+m:m}if(t.type.toUpperCase()==="GET"){t.url+=(t.url.indexOf("?")>=0?"&":"?")+y;t.data=null}else{t.data=y}var b=[];if(t.resetForm){b.push(function(){f.resetForm()})}if(t.clearForm){b.push(function(){f.clearForm(t.includeHidden)})}if(!t.dataType&&t.target){var w=t.success||function(){};b.push(function(i,n,r){var o=arguments,a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](i).each(function(){w.apply(this,o)})})}else if(t.success){if(e.isArray(t.success)){e.merge(b,t.success)}else{b.push(t.success)}}t.success=function(e,i,n){var r=t.context||this;for(var o=0,a=b.length;o<a;o++){b[o].apply(r,[e,i,n||f,f])}};if(t.error){var x=t.error;t.error=function(e,i,n){var r=t.context||this;x.apply(r,[e,i,n,f])}}if(t.complete){var C=t.complete;t.complete=function(e,i){var n=t.context||this;C.apply(n,[e,i,f])}}var k=e("input[type=file]:enabled",this).filter(function(){return e(this).val()!==""});var T=k.length>0;var S="multipart/form-data";var _=f.attr("enctype")===S||f.attr("encoding")===S;var D=i.fileapi&&i.formdata;a("fileAPI :"+D);var $=(T||_)&&!D;var A;if(t.iframe!==false&&(t.iframe||$)){if(t.closeKeepAlive){e.get(t.closeKeepAlive,function(){A=F(v)})}else{A=F(v)}}else if((T||_)&&D){A=I(v)}else{A=e.ajax(t)}f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<p.length;E++){p[E]=null}this.trigger("form-submit-notify",[this,t]);return this;function P(i){var n=e.param(i,t.traditional).split("&");var r=n.length;var o=[];var a,s;for(a=0;a<r;a++){n[a]=n[a].replace(/\+/g," ");s=n[a].split("=");o.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])])}return o}function I(i){var n=new FormData;for(var r=0;r<i.length;r++){n.append(i[r].name,i[r].value)}if(t.extraData){var o=P(t.extraData);for(r=0;r<o.length;r++){if(o[r]){n.append(o[r][0],o[r][1])}}}t.data=null;var a=e.extend(true,{},e.ajaxSettings,t,{contentType:false,processData:false,cache:false,type:l||"POST"});if(t.uploadProgress){a.xhr=function(){var i=e.ajaxSettings.xhr();if(i.upload){i.upload.addEventListener("progress",function(e){var i=0;var n=e.loaded||e.position;var r=e.total;if(e.lengthComputable){i=Math.ceil(n/r*100)}t.uploadProgress(e,n,r,i)},false)}return i}}a.data=null;var s=a.beforeSend;a.beforeSend=function(e,i){if(t.formData){i.data=t.formData}else{i.data=n}if(s){s.call(this,e,i)}};return e.ajax(a)}function F(i){var r=f[0],o,s,u,c,d,h,m,v,g,y,b,w;var x=e.Deferred();x.abort=function(e){v.abort(e)};if(i){for(s=0;s<p.length;s++){o=e(p[s]);if(n){o.prop("disabled",false)}else{o.removeAttr("disabled")}}}u=e.extend(true,{},e.ajaxSettings,t);u.context=u.context||u;d="jqFormIO"+(new Date).getTime();var C=r.ownerDocument;var k=f.closest("body");if(u.iframeTarget){h=e(u.iframeTarget,C);y=h.attr2("name");if(!y){h.attr2("name",d)}else{d=y}}else{h=e('<iframe name="'+d+'" src="'+u.iframeSrc+'" />',C);h.css({position:"absolute",top:"-1000px",left:"-1000px"})}m=h[0];v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i=t==="timeout"?"timeout":"aborted";a("aborting upload... "+i);this.aborted=1;try{if(m.contentWindow.document.execCommand){m.contentWindow.document.execCommand("Stop")}}catch(e){}h.attr("src",u.iframeSrc);v.error=i;if(u.error){u.error.call(u.context,v,i,t)}if(c){e.event.trigger("ajaxError",[v,u,i])}if(u.complete){u.complete.call(u.context,v,i)}}};c=u.global;if(c&&e.active++===0){e.event.trigger("ajaxStart")}if(c){e.event.trigger("ajaxSend",[v,u])}if(u.beforeSend&&u.beforeSend.call(u.context,v,u)===false){if(u.global){e.active--}x.reject();return x}if(v.aborted){x.reject();return x}g=r.clk;if(g){y=g.name;if(y&&!g.disabled){u.extraData=u.extraData||{};u.extraData[y]=g.value;if(g.type==="image"){u.extraData[y+".x"]=r.clk_x;u.extraData[y+".y"]=r.clk_y}}}var T=1;var S=2;function _(e){var t=null;try{if(e.contentWindow){t=e.contentWindow.document}}catch(e){a("cannot get iframe.contentWindow document: "+e)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(i){a("cannot get iframe.contentDocument: "+i);t=e.document}return t}var D=e("meta[name=csrf-token]").attr("content");var $=e("meta[name=csrf-param]").attr("content");if($&&D){u.extraData=u.extraData||{};u.extraData[$]=D}function A(){var t=f.attr2("target"),i=f.attr2("action"),n="multipart/form-data",o=f.attr("enctype")||f.attr("encoding")||n;r.setAttribute("target",d);if(!l||/post/i.test(l)){r.setAttribute("method","POST")}if(i!==u.url){r.setAttribute("action",u.url)}if(!u.skipEncodingOverride&&(!l||/post/i.test(l))){f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(u.timeout){w=setTimeout(function(){b=true;N(T)},u.timeout)}function s(){try{var e=_(m).readyState;a("state = "+e);if(e&&e.toLowerCase()==="uninitialized"){setTimeout(s,50)}}catch(e){a("Server abort: ",e," (",e.name,")");N(S);if(w){clearTimeout(w)}w=undefined}}var c=[];try{if(u.extraData){for(var p in u.extraData){if(u.extraData.hasOwnProperty(p)){if(e.isPlainObject(u.extraData[p])&&u.extraData[p].hasOwnProperty("name")&&u.extraData[p].hasOwnProperty("value")){c.push(e('<input type="hidden" name="'+u.extraData[p].name+'">',C).val(u.extraData[p].value).appendTo(r)[0])}else{c.push(e('<input type="hidden" name="'+p+'">',C).val(u.extraData[p]).appendTo(r)[0])}}}}if(!u.iframeTarget){h.appendTo(k)}if(m.attachEvent){m.attachEvent("onload",N)}else{m.addEventListener("load",N,false)}setTimeout(s,15);try{r.submit()}catch(e){var v=document.createElement("form").submit;v.apply(r)}}finally{r.setAttribute("action",i);r.setAttribute("enctype",o);if(t){r.setAttribute("target",t)}else{f.removeAttr("target")}e(c).remove()}}if(u.forceSync){A()}else{setTimeout(A,10)}var E,P,I=50,F;function N(t){if(v.aborted||F){return}P=_(m);if(!P){a("cannot access response document");t=S}if(t===T&&v){v.abort("timeout");x.reject(v,"timeout");return}else if(t===S&&v){v.abort("server abort");x.reject(v,"error","server abort");return}if(!P||P.location.href===u.iframeSrc){if(!b){return}}if(m.detachEvent){m.detachEvent("onload",N)}else{m.removeEventListener("load",N,false)}var i="success",n;try{if(b){throw"timeout"}var r=u.dataType==="xml"||P.XMLDocument||e.isXMLDoc(P);a("isXml="+r);if(!r&&window.opera&&(P.body===null||!P.body.innerHTML)){if(--I){a("requeing onLoad callback, DOM not available");setTimeout(N,250);return}}var o=P.body?P.body:P.documentElement;v.responseText=o?o.innerHTML:null;v.responseXML=P.XMLDocument?P.XMLDocument:P;if(r){u.dataType="xml"}v.getResponseHeader=function(e){var t={"content-type":u.dataType};return t[e.toLowerCase()]};if(o){v.status=Number(o.getAttribute("status"))||v.status;v.statusText=o.getAttribute("statusText")||v.statusText}var s=(u.dataType||"").toLowerCase();var l=/(json|script|text)/.test(s);if(l||u.textarea){var f=P.getElementsByTagName("textarea")[0];if(f){v.responseText=f.value;v.status=Number(f.getAttribute("status"))||v.status;v.statusText=f.getAttribute("statusText")||v.statusText}else if(l){var d=P.getElementsByTagName("pre")[0];var p=P.getElementsByTagName("body")[0];if(d){v.responseText=d.textContent?d.textContent:d.innerText}else if(p){v.responseText=p.textContent?p.textContent:p.innerText}}}else if(s==="xml"&&!v.responseXML&&v.responseText){v.responseXML=O(v.responseText)}try{E=R(v,s,u)}catch(e){i="parsererror";v.error=n=e||i}}catch(e){a("error caught: ",e);i="error";v.error=n=e||i}if(v.aborted){a("upload aborted");i=null}if(v.status){i=v.status>=200&&v.status<300||v.status===304?"success":"error"}if(i==="success"){if(u.success){u.success.call(u.context,E,"success",v)}x.resolve(v.responseText,"success",v);if(c){e.event.trigger("ajaxSuccess",[v,u])}}else if(i){if(typeof n==="undefined"){n=v.statusText}if(u.error){u.error.call(u.context,v,i,n)}x.reject(v,"error",n);if(c){e.event.trigger("ajaxError",[v,u,n])}}if(c){e.event.trigger("ajaxComplete",[v,u])}if(c&&!--e.active){e.event.trigger("ajaxStop")}if(u.complete){u.complete.call(u.context,v,i)}F=true;if(u.timeout){clearTimeout(w)}setTimeout(function(){if(!u.iframeTarget){h.remove()}else{h.attr("src",u.iframeSrc)}v.responseXML=null},100)}var O=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!=="parsererror"?t:null};var M=e.parseJSON||function(e){return window["eval"]("("+e+")")};var R=function(t,i,n){var r=t.getResponseHeader("content-type")||"",o=(i==="xml"||!i)&&r.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;if(o&&a.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(n&&n.dataFilter){a=n.dataFilter(a,i)}if(typeof a==="string"){if((i==="json"||!i)&&r.indexOf("json")>=0){a=M(a)}else if((i==="script"||!i)&&r.indexOf("javascript")>=0){e.globalEval(a)}}return a};return x}};e.fn.ajaxForm=function(t,i,n,s){if(typeof t==="string"||t===false&&arguments.length>0){t={url:t,data:i,dataType:n};if(typeof s==="function"){t.success=s}}t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var l={s:this.selector,c:this.context};if(!e.isReady&&l.s){a("DOM not ready, queuing ajaxForm");e(function(){e(l.s,l.c).ajaxForm(t)});return this}a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,o).on("submit.form-plugin",this.selector,t,r).on("click.form-plugin",this.selector,t,o);return this}return this.ajaxFormUnbind().on("submit.form-plugin",t,r).on("click.form-plugin",t,o)};function r(t){var i=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(t.target).closest("form").ajaxSubmit(i)}}function o(t){var i=t.target;var n=e(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(r.length===0){return}i=r[0]}var o=i.form;o.clk=i;if(i.type==="image"){if(typeof t.offsetX!=="undefined"){o.clk_x=t.offsetX;o.clk_y=t.offsetY}else if(typeof e.fn.offset==="function"){var a=n.offset();o.clk_x=t.pageX-a.left;o.clk_y=t.pageY-a.top}else{o.clk_x=t.pageX-i.offsetLeft;o.clk_y=t.pageY-i.offsetTop}}setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(t,n,r){var o=[];if(this.length===0){return o}var a=this[0];var s=this.attr("id");var l=t||typeof a.elements==="undefined"?a.getElementsByTagName("*"):a.elements;var u;if(l){l=e.makeArray(l)}if(s&&(t||/(Edge|Trident)\//.test(navigator.userAgent))){u=e(':input[form="'+s+'"]').get();if(u.length){l=(l||[]).concat(u)}}if(!l||!l.length){return o}if(e.isFunction(r)){l=e.map(l,r)}var c,f,d,h,p,m,v;for(c=0,m=l.length;c<m;c++){p=l[c];d=p.name;if(!d||p.disabled){continue}if(t&&a.clk&&p.type==="image"){if(a.clk===p){o.push({name:d,value:e(p).val(),type:p.type});o.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y})}continue}h=e.fieldValue(p,true);if(h&&h.constructor===Array){if(n){n.push(p)}for(f=0,v=h.length;f<v;f++){o.push({name:d,value:h[f]})}}else if(i.fileapi&&p.type==="file"){if(n){n.push(p)}var g=p.files;if(g.length){for(f=0;f<g.length;f++){o.push({name:d,value:g[f],type:p.type})}}else{o.push({name:d,value:"",type:p.type})}}else if(h!==null&&typeof h!=="undefined"){if(n){n.push(p)}o.push({name:d,value:h,type:p.type,required:p.required})}}if(!t&&a.clk){var y=e(a.clk),b=y[0];d=b.name;if(d&&!b.disabled&&b.type==="image"){o.push({name:d,value:y.val()});o.push({name:d+".x",value:a.clk_x},{name:d+".y",value:a.clk_y})}}return o};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var i=[];this.each(function(){var n=this.name;if(!n){return}var r=e.fieldValue(this,t);if(r&&r.constructor===Array){for(var o=0,a=r.length;o<a;o++){i.push({name:n,value:r[o]})}}else if(r!==null&&typeof r!=="undefined"){i.push({name:this.name,value:r})}});return e.param(i)};e.fn.fieldValue=function(t){for(var i=[],n=0,r=this.length;n<r;n++){var o=this[n];var a=e.fieldValue(o,t);if(a===null||typeof a==="undefined"||a.constructor===Array&&!a.length){continue}if(a.constructor===Array){e.merge(i,a)}else{i.push(a)}}return i};e.fieldValue=function(i,n){var r=i.name,o=i.type,a=i.tagName.toLowerCase();if(typeof n==="undefined"){n=true}if(n&&(!r||i.disabled||o==="reset"||o==="button"||(o==="checkbox"||o==="radio")&&!i.checked||(o==="submit"||o==="image")&&i.form&&i.form.clk!==i||a==="select"&&i.selectedIndex===-1)){return null}if(a==="select"){var s=i.selectedIndex;if(s<0){return null}var l=[],u=i.options;var c=o==="select-one";var f=c?s+1:u.length;for(var d=c?s:0;d<f;d++){var h=u[d];if(h.selected&&!h.disabled){var p=h.value;if(!p){p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value}if(c){return p}l.push(p)}}return l}return e(i).val().replace(t,"\r\n")};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();if(i.test(n)||r==="textarea"){this.value=""}else if(n==="checkbox"||n==="radio"){this.checked=false}else if(r==="select"){this.selectedIndex=-1}else if(n==="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone(true))}else{e(this).val("")}}else if(t){if(t===true&&/hidden/.test(n)||typeof t==="string"&&e(this).is(t)){this.value=""}}})};e.fn.resetForm=function(){return this.each(function(){var t=e(this);var i=this.tagName.toLowerCase();switch(i){case"input":this.checked=this.defaultChecked;case"textarea":this.value=this.defaultValue;return true;case"option":case"optgroup":var n=t.parents("select");if(n.length&&n[0].multiple){if(i==="option"){this.selected=this.defaultSelected}else{t.find("option").resetForm()}}else{n.resetForm()}return true;case"select":t.find("option").each(function(e){this.selected=this.defaultSelected;if(this.defaultSelected&&!t[0].multiple){t[0].selectedIndex=e;return false}});return true;case"label":var r=e(t.attr("for"));var o=t.find("input,select,textarea");if(r[0]){o.unshift(r[0])}o.resetForm();return true;case"form":if(typeof this.reset==="function"||typeof this.reset==="object"&&!this.reset.nodeType){this.reset()}return true;default:t.find("form,input,label,select,textarea").resetForm();return true}})};e.fn.enable=function(e){if(typeof e==="undefined"){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(typeof t==="undefined"){t=true}return this.each(function(){var i=this.type;if(i==="checkbox"||i==="radio"){this.checked=t}else if(this.tagName.toLowerCase()==="option"){var n=e(this).parent("select");if(t&&n[0]&&n[0].type==="select-one"){n.find("option").selected(false)}this.selected=t}})};e.fn.ajaxSubmit.debug=false;function a(){if(!e.fn.ajaxSubmit.debug){return}var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else if(window.opera&&window.opera.postError){window.opera.postError(t)}}});if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1||t[0]>3){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}}(jQuery);+function(e){"use strict";function t(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t){if(e.style[i]!==undefined){return{end:t[i]}}}return false}e.fn.emulateTransitionEnd=function(t){var i=false;var n=this;e(this).one("bsTransitionEnd",function(){i=true});var r=function(){if(!i)e(n).trigger(e.support.transition.end)};setTimeout(r,t);return this};e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function(e){"use strict";var t='[data-dismiss="alert"]';var i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.3.7";i.TRANSITION_DURATION=150;i.prototype.close=function(t){var n=e(this);var r=n.attr("data-target");if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}var o=e(r==="#"?[]:r);if(t)t.preventDefault();if(!o.length){o=n.closest(".alert")}o.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;o.removeClass("in");function a(){o.detach().trigger("closed.bs.alert").remove()}e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a()};function n(t){return this.each(function(){var n=e(this);var r=n.data("bs.alert");if(!r)n.data("bs.alert",r=new i(this));if(typeof t=="string")r[t].call(n)})}var r=e.fn.alert;e.fn.alert=n;e.fn.alert.Constructor=i;e.fn.alert.noConflict=function(){e.fn.alert=r;return this};e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery);+function(e){"use strict";var t=function(i,n){this.$element=e(i);this.options=e.extend({},t.DEFAULTS,n);this.isLoading=false};t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled";var n=this.$element;var r=n.is("input")?"val":"html";var o=n.data();t+="Text";if(o.resetText==null)n.data("resetText",n[r]());setTimeout(e.proxy(function(){n[r](o[t]==null?this.options[t]:o[t]);if(t=="loadingText"){this.isLoading=true;n.addClass(i).attr(i,i).prop(i,true)}else if(this.isLoading){this.isLoading=false;n.removeClass(i).removeAttr(i).prop(i,false)}},this),0)};t.prototype.toggle=function(){var e=true;var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");if(i.prop("type")=="radio"){if(i.prop("checked"))e=false;t.find(".active").removeClass("active");this.$element.addClass("active")}else if(i.prop("type")=="checkbox"){if(i.prop("checked")!==this.$element.hasClass("active"))e=false;this.$element.toggleClass("active")}i.prop("checked",this.$element.hasClass("active"));if(e)i.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.button");var o=typeof i=="object"&&i;if(!r)n.data("bs.button",r=new t(this,o));if(i=="toggle")r.toggle();else if(i)r.setState(i)})}var n=e.fn.button;e.fn.button=i;e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=n;return this};e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var n=e(t.target).closest(".btn");i.call(n,"toggle");if(!e(t.target).is('input[type="radio"], input[type="checkbox"]')){t.preventDefault();if(n.is("input,button"))n.trigger("focus");else n.find("input:visible,button:visible").first().trigger("focus")}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(e){"use strict";var t=function(t,i){this.$element=e(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:true,keyboard:true};t.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};t.prototype.cycle=function(t){t||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval));return this};t.prototype.getItemIndex=function(e){this.$items=e.parent().children(".item");return this.$items.index(e||this.$active)};t.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);var n=e=="prev"&&i===0||e=="next"&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r=e=="prev"?-1:1;var o=(i+r)%this.$items.length;return this.$items.eq(o)};t.prototype.to=function(e){var t=this;var i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(e>this.$items.length-1||e<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){t.to(e)});if(i==e)return this.pause().cycle();return this.slide(e>i?"next":"prev",this.$items.eq(e))};t.prototype.pause=function(t){t||(this.paused=true);if(this.$element.find(".next, .prev").length&&e.support.transition){this.$element.trigger(e.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};t.prototype.next=function(){if(this.sliding)return;return this.slide("next")};t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};t.prototype.slide=function(i,n){var r=this.$element.find(".item.active");var o=n||this.getItemForDirection(i,r);var a=this.interval;var s=i=="next"?"left":"right";var l=this;if(o.hasClass("active"))return this.sliding=false;var u=o[0];var c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});this.$element.trigger(c);if(c.isDefaultPrevented())return;this.sliding=true;a&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});if(e.support.transition&&this.$element.hasClass("slide")){o.addClass(i);o[0].offsetWidth;r.addClass(s);o.addClass(s);r.one("bsTransitionEnd",function(){o.removeClass([i,s].join(" ")).addClass("active");r.removeClass(["active",s].join(" "));l.sliding=false;setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)}else{r.removeClass("active");o.addClass("active");this.sliding=false;this.$element.trigger(d)}a&&this.cycle();return this};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.carousel");var o=e.extend({},t.DEFAULTS,n.data(),typeof i=="object"&&i);var a=typeof i=="string"?i:o.slide;if(!r)n.data("bs.carousel",r=new t(this,o));if(typeof i=="number")r.to(i);else if(a)r[a]();else if(o.interval)r.pause().cycle()})}var n=e.fn.carousel;e.fn.carousel=i;e.fn.carousel.Constructor=t;e.fn.carousel.noConflict=function(){e.fn.carousel=n;return this};var r=function(t){var n;var r=e(this);var o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(!o.hasClass("carousel"))return;var a=e.extend({},o.data(),r.data());var s=r.attr("data-slide-to");if(s)a.interval=false;i.call(o,a);if(s){o.data("bs.carousel").to(s)}t.preventDefault()};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery);+function(e){"use strict";var t=function(i,n){this.$element=e(i);this.options=e.extend({},t.DEFAULTS,n);this.$trigger=e('[data-toggle="collapse"][href="#'+i.id+'"],'+'[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:true};t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"};t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var i;var r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(r&&r.length){i=r.data("bs.collapse");if(i&&i.transitioning)return}var o=e.Event("show.bs.collapse");this.$element.trigger(o);if(o.isDefaultPrevented())return;if(r&&r.length){n.call(r,"hide");i||r.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][l])};t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var i=e.Event("hide.bs.collapse");this.$element.trigger(i);if(i.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var r=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,n){var r=e(n);this.addAriaAndCollapsedClass(i(r),r)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};function i(t){var i;var n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function n(i){return this.each(function(){var n=e(this);var r=n.data("bs.collapse");var o=e.extend({},t.DEFAULTS,n.data(),typeof i=="object"&&i);if(!r&&o.toggle&&/show|hide/.test(i))o.toggle=false;if(!r)n.data("bs.collapse",r=new t(this,o));if(typeof i=="string")r[i]()})}var r=e.fn.collapse;e.fn.collapse=n;e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=r;return this};e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r=e(this);if(!r.attr("data-target"))t.preventDefault();var o=i(r);var a=o.data("bs.collapse");var s=a?"toggle":r.data();n.call(o,s)})}(jQuery);+function(e){"use strict";var t=".dropdown-backdrop";var i='[data-toggle="dropdown"]';var n=function(t){e(t).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.7";function r(t){var i=t.attr("data-target");if(!i){i=t.attr("href");i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var n=i&&e(i);return n&&n.length?n:t.parent()}function o(n){if(n&&n.which===3)return;e(t).remove();e(i).each(function(){var t=e(this);var i=r(t);var o={relatedTarget:this};if(!i.hasClass("open"))return;if(n&&n.type=="click"&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target))return;i.trigger(n=e.Event("hide.bs.dropdown",o));if(n.isDefaultPrevented())return;t.attr("aria-expanded","false");i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o))})}n.prototype.toggle=function(t){var i=e(this);if(i.is(".disabled, :disabled"))return;var n=r(i);var a=n.hasClass("open");o();if(!a){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length){e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o)}var s={relatedTarget:this};n.trigger(t=e.Event("show.bs.dropdown",s));if(t.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true");n.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return false};n.prototype.keydown=function(t){if(!/(38|40|27|32)/.test(t.which)||/input|textarea/i.test(t.target.tagName))return;var n=e(this);t.preventDefault();t.stopPropagation();if(n.is(".disabled, :disabled"))return;var o=r(n);var a=o.hasClass("open");if(!a&&t.which!=27||a&&t.which==27){if(t.which==27)o.find(i).trigger("focus");return n.trigger("click")}var s=" li:not(.disabled):visible a";var l=o.find(".dropdown-menu"+s);if(!l.length)return;var u=l.index(t.target);if(t.which==38&&u>0)u--;if(t.which==40&&u<l.length-1)u++;if(!~u)u=0;l.eq(u).trigger("focus")};function a(t){return this.each(function(){var i=e(this);var r=i.data("bs.dropdown");if(!r)i.data("bs.dropdown",r=new n(this));if(typeof t=="string")r[t].call(i)})}var s=e.fn.dropdown;e.fn.dropdown=a;e.fn.dropdown.Constructor=n;e.fn.dropdown.noConflict=function(){e.fn.dropdown=s;return this};e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,n.prototype.toggle).on("keydown.bs.dropdown.data-api",i,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery);+function(e){"use strict";var t=function(t,i){this.options=i;this.$body=e(document.body);this.$element=e(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};t.prototype.show=function(i){var n=this;var r=e.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){if(e(t.target).is(n.$element))n.ignoreBackdropClick=true})});this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");if(!n.$element.parent().length){n.$element.appendTo(n.$body)}n.$element.show().scrollTop(0);n.adjustDialog();if(r){n.$element[0].offsetWidth}n.$element.addClass("in");n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:i});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)})};t.prototype.hide=function(i){if(i)i.preventDefault();i=e.Event("hide.bs.modal");this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();e(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};t.prototype.resize=function(){if(this.isShown){e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this))}else{e(window).off("resize.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var n=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(o)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!i)return;o?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop();i&&i()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else if(i){i()}};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",e+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var t=e.offsetWidth-e.clientWidth;this.$body[0].removeChild(e);return t};function i(i,n){return this.each(function(){var r=e(this);var o=r.data("bs.modal");var a=e.extend({},t.DEFAULTS,r.data(),typeof i=="object"&&i);if(!o)r.data("bs.modal",o=new t(this,a));if(typeof i=="string")o[i](n);else if(a.show)o.show(n)})}var n=e.fn.modal;e.fn.modal=i;e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=n;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this);var r=n.attr("href");var o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());if(n.is("a"))t.preventDefault();o.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})});i.call(o,a,this)})}(jQuery);+function(e){"use strict";var t=function(e,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",e,t)};t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,n){this.enabled=true;this.type=t;this.$element=e(i);this.options=this.getOptions(n);this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:false,hover:false,focus:false};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var r=this.options.trigger.split(" ");for(var o=r.length;o--;){var a=r[o];if(a=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(a!="manual"){var s=a=="hover"?"mouseenter":"focusin";var l=a=="hover"?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){t=e.extend({},this.getDefaults(),this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t};t.prototype.getDelegateOptions=function(){var t={};var i=this.getDefaults();this._options&&e.each(this._options,function(e,n){if(i[e]!=n)t[e]=n});return t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}if(t instanceof e.Event){i.inState[t.type=="focusin"?"focus":"hover"]=true}if(i.tip().hasClass("in")||i.hoverState=="in"){i.hoverState="in";return}clearTimeout(i.timeout);i.hoverState="in";if(!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){if(i.hoverState=="in")i.show()},i.options.delay.show)};t.prototype.isInStateTrue=function(){for(var e in this.inState){if(this.inState[e])return true}return false};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}if(t instanceof e.Event){i.inState[t.type=="focusout"?"focus":"hover"]=false}if(i.isInStateTrue())return;clearTimeout(i.timeout);i.hoverState="out";if(!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)};t.prototype.show=function(){var i=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var r=this;var o=this.tip();var a=this.getUID(this.type);this.setContent();o.attr("id",a);this.$element.attr("aria-describedby",a);if(this.options.animation)o.addClass("fade");var s=typeof this.options.placement=="function"?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement;var l=/\s?auto?\s?/i;var u=l.test(s);if(u)s=s.replace(l,"")||"top";o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this);this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition();var f=o[0].offsetWidth;var d=o[0].offsetHeight;if(u){var h=s;var p=this.getPosition(this.$viewport);s=s=="bottom"&&c.bottom+d>p.bottom?"top":s=="top"&&c.top-d<p.top?"bottom":s=="right"&&c.right+f>p.width?"left":s=="left"&&c.left-f<p.left?"right":s;o.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,f,d);this.applyPlacement(m,s);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type);r.hoverState=null;if(e=="out")r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}};t.prototype.applyPlacement=function(t,i){var n=this.tip();var r=n[0].offsetWidth;var o=n[0].offsetHeight;var a=parseInt(n.css("margin-top"),10);var s=parseInt(n.css("margin-left"),10);if(isNaN(a))a=0;if(isNaN(s))s=0;t.top+=a;t.left+=s;e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0);n.addClass("in");var l=n[0].offsetWidth;var u=n[0].offsetHeight;if(i=="top"&&u!=o){t.top=t.top+o-u}var c=this.getViewportAdjustedDelta(i,t,l,u);if(c.left)t.left+=c.left;else t.top+=c.top;var f=/top|bottom/.test(i);var d=f?c.left*2-r+l:c.top*2-o+u;var h=f?"offsetWidth":"offsetHeight";n.offset(t);this.replaceArrow(d,n[0][h],f)};t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){var n=this;var r=e(this.$tip);var o=e.Event("hide.bs."+this.type);function a(){if(n.hoverState!="in")r.detach();if(n.$element){n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type)}i&&i()}this.$element.trigger(o);if(o.isDefaultPrevented())return;r.removeClass("in");e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a();this.hoverState=null;return this};t.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var i=t[0];var n=i.tagName=="BODY";var r=i.getBoundingClientRect();if(r.width==null){r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top})}var o=window.SVGElement&&i instanceof window.SVGElement;var a=n?{top:0,left:0}:o?null:t.offset();var s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()};var l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)};t.prototype.getCalculatedOffset=function(e,t,i,n){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:e=="top"?{top:t.top-n,left:t.left+t.width/2-i/2}:e=="left"?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0;var a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll;var l=t.top+o-a.scroll+n;if(s<a.top){r.top=a.top-s}else if(l>a.top+a.height){r.top=a.top+a.height-l}}else{var u=t.left-o;var c=t.left+o+i;if(u<a.left){r.left=a.left-u}else if(c>a.right){r.left=a.left+a.width-c}}return r};t.prototype.getTitle=function(){var e;var t=this.$element;var i=this.options;e=t.attr("data-original-title")||(typeof i.title=="function"?i.title.call(t[0]):i.title);return e};t.prototype.getUID=function(e){do{e+=~~(Math.random()*1e6)}while(document.getElementById(e));return e};t.prototype.tip=function(){if(!this.$tip){this.$tip=e(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=true};t.prototype.disable=function(){this.enabled=false};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;if(t){i=e(t.currentTarget).data("bs."+this.type);if(!i){i=new this.constructor(t.currentTarget,this.getDelegateOptions());e(t.currentTarget).data("bs."+this.type,i)}}if(t){i.inState.click=!i.inState.click;if(i.isInStateTrue())i.enter(i);else i.leave(i)}else{i.tip().hasClass("in")?i.leave(i):i.enter(i)}};t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout);this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type);if(e.$tip){e.$tip.detach()}e.$tip=null;e.$arrow=null;e.$viewport=null;e.$element=null})};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.tooltip");var o=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.tooltip",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.tooltip;e.fn.tooltip=i;e.fn.tooltip.Constructor=t;e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(jQuery);+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();var i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content").children().detach().end()[this.options.html?typeof i=="string"?"html":"append":"text"](i);e.removeClass("fade top bottom left right in");if(!e.find(".popover-title").html())e.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var e=this.$element;var t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.popover");var o=typeof i=="object"&&i;if(!r&&/destroy|hide/.test(i))return;if(!r)n.data("bs.popover",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.popover;e.fn.popover=i;e.fn.popover.Constructor=t;e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(jQuery);+function(e){"use strict";function t(i,n){this.$body=e(document.body);this.$scrollElement=e(i).is(document.body)?e(window):e(i);this.options=e.extend({},t.DEFAULTS,n);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this));this.refresh();this.process()}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this;var i="offset";var n=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!e.isWindow(this.$scrollElement[0])){i="position";n=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var t=e(this);var r=t.data("target")||t.attr("href");var o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset;var t=this.getScrollHeight();var i=this.options.offset+t-this.$scrollElement.height();var n=this.offsets;var r=this.targets;var o=this.activeTarget;var a;if(this.scrollHeight!=t){this.refresh()}if(e>=i){return o!=(a=r[r.length-1])&&this.activate(a)}if(o&&e<n[0]){this.activeTarget=null;return this.clear()}for(a=n.length;a--;){o!=r[a]&&e>=n[a]&&(n[a+1]===undefined||e<n[a+1])&&this.activate(r[a])}};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';var n=e(i).parents("li").addClass("active");if(n.parent(".dropdown-menu").length){n=n.closest("li.dropdown").addClass("active")}n.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.scrollspy");var o=typeof i=="object"&&i;if(!r)n.data("bs.scrollspy",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.scrollspy;e.fn.scrollspy=i;e.fn.scrollspy.Constructor=t;e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=n;return this};e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery);+function(e){"use strict";var t=function(t){this.element=e(t)};t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element;var i=t.closest("ul:not(.dropdown-menu)");var n=t.data("target");if(!n){n=t.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;var r=i.find(".active:last a");var o=e.Event("hide.bs.tab",{relatedTarget:t[0]});var a=e.Event("show.bs.tab",{relatedTarget:r[0]});r.trigger(o);t.trigger(a);if(a.isDefaultPrevented()||o.isDefaultPrevented())return;var s=e(n);this.activate(t.closest("li"),i);this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})};t.prototype.activate=function(i,n,r){var o=n.find("> .active");var a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(a){i[0].offsetWidth;i.addClass("in")}else{i.removeClass("fade")}if(i.parent(".dropdown-menu").length){i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}r&&r()}o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s();o.removeClass("in")};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.tab");if(!r)n.data("bs.tab",r=new t(this));if(typeof i=="string")r[i]()})}var n=e.fn.tab;e.fn.tab=i;e.fn.tab.Constructor=t;e.fn.tab.noConflict=function(){e.fn.tab=n;return this};var r=function(t){t.preventDefault();i.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery);+function(e){"use strict";var t=function(i,n){this.options=e.extend({},t.DEFAULTS,n);this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this));this.$element=e(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop();var o=this.$element.offset();var a=this.$target.height();if(i!=null&&this.affixed=="top")return r<i?"top":false;if(this.affixed=="bottom"){if(i!=null)return r+this.unpin<=o.top?false:"bottom";return r+a<=e-n?false:"bottom"}var s=this.affixed==null;var l=s?r:o.top;var u=s?a:t;if(i!=null&&r<=i)return"top";if(n!=null&&l+u>=e-n)return"bottom";return false};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop();var i=this.$element.offset();return this.pinnedOffset=i.top-e};t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var i=this.$element.height();var n=this.options.offset;var r=n.top;var o=n.bottom;var a=Math.max(e(document).height(),e(document.body).height());if(typeof n!="object")o=r=n;if(typeof r=="function")r=n.top(this.$element);if(typeof o=="function")o=n.bottom(this.$element);var s=this.getState(a,i,r,o);if(this.affixed!=s){if(this.unpin!=null)this.$element.css("top","");var l="affix"+(s?"-"+s:"");var u=e.Event(l+".bs.affix");this.$element.trigger(u);if(u.isDefaultPrevented())return;this.affixed=s;this.unpin=s=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}if(s=="bottom"){this.$element.offset({top:a-i-o})}};function i(i){return this.each(function(){var n=e(this);var r=n.data("bs.affix");var o=typeof i=="object"&&i;if(!r)n.data("bs.affix",r=new t(this,o));if(typeof i=="string")r[i]()})}var n=e.fn.affix;e.fn.affix=i;e.fn.affix.Constructor=t;e.fn.affix.noConflict=function(){e.fn.affix=n;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this);var n=t.data();n.offset=n.offset||{};if(n.offsetBottom!=null)n.offset.bottom=n.offsetBottom;if(n.offsetTop!=null)n.offset.top=n.offsetTop;i.call(t,n)})})}(jQuery);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){module.exports=e(require("jquery"))}else{e(window.jQuery)}})(function(e){"use strict";var t=typeof define==="function"&&define.amd;var i=function(t){var i=t==="Comic Sans MS"?"Courier New":"Comic Sans MS";var n=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body);var r=n.css("fontFamily",i).width();var o=n.css("fontFamily",t+","+i).width();n.remove();return r!==o};var n=navigator.userAgent;var r=/MSIE|Trident/i.test(n);var o;if(r){var a=/MSIE (\d+[.]\d+)/.exec(n);if(a){o=parseFloat(a[1])}a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(n);if(a){o=parseFloat(a[1])}}var s=/Edge\/\d+/.test(n);var l=!!window.CodeMirror;if(!l&&t){if(typeof __webpack_require__==="function"){try{require.resolve("codemirror");l=true}catch(e){}}else if(typeof require!=="undefined"){if(typeof require.resolve!=="undefined"){try{require.resolve("codemirror");l=true}catch(e){}}else if(typeof require.specified!=="undefined"){l=require.specified("codemirror")}}}var u="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;var c={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isEdge:s,isFF:!s&&/firefox/i.test(n),isPhantom:/PhantomJS/i.test(n),isWebkit:!s&&/webkit/i.test(n),isChrome:!s&&/chrome/i.test(n),isSafari:!s&&/safari/i.test(n),browserVersion:o,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:t,isSupportTouch:u,hasCodeMirror:l,isFontInstalled:i,isW3CRangeSupport:!!document.createRange};var f=function(){var t=function(e){return function(t){return e===t}};var i=function(e,t){return e===t};var n=function(e){return function(t,i){return t[e]===i[e]}};var r=function(){return true};var o=function(){return false};var a=function(e){return function(){return!e.apply(e,arguments)}};var s=function(e,t){return function(i){return e(i)&&t(i)}};var l=function(e){return e};var u=function(e,t){return function(){return e[t].apply(e,arguments)}};var c=0;var f=function(e){var t=++c+"";return e?e+t:t};var d=function(t){var i=e(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}};var h=function(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){t[e[i]]=i}}return t};var p=function(e,t){t=t||"";return t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};var m=function(e,t,i){var n;return function(){var r=this,o=arguments;var a=function(){n=null;if(!i){e.apply(r,o)}};var s=i&&!n;clearTimeout(n);n=setTimeout(a,t);if(s){e.apply(r,o)}}};return{eq:t,eq2:i,peq2:n,ok:r,fail:o,self:l,not:a,and:s,invoke:u,uniqueId:f,rect2bnd:d,invertObject:h,namespaceToCamel:p,debounce:m}}();var d=function(){var t=function(e){return e[0]};var i=function(e){return e[e.length-1]};var n=function(e){return e.slice(0,e.length-1)};var r=function(e){return e.slice(1)};var o=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(t(r)){return r}}};var a=function(e,t){for(var i=0,n=e.length;i<n;i++){if(!t(e[i])){return false}}return true};var s=function(t,i){return e.inArray(i,t)};var l=function(e,t){return s(e,t)!==-1};var u=function(e,t){t=t||f.self;return e.reduce(function(e,i){return e+t(i)},0)};var c=function(e){var t=[],i=-1,n=e.length;while(++i<n){t[i]=e[i]}return t};var d=function(e){return!e||!e.length};var h=function(e,n){if(!e.length){return[]}var o=r(e);return o.reduce(function(e,t){var r=i(e);if(n(i(r),t)){r[r.length]=t}else{e[e.length]=[t]}return e},[[t(e)]])};var p=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){if(e[i]){t.push(e[i])}}return t};var m=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){if(!l(t,e[i])){t.push(e[i])}}return t};var v=function(e,t){var i=s(e,t);if(i===-1){return null}return e[i+1]};var g=function(e,t){var i=s(e,t);if(i===-1){return null}return e[i-1]};return{head:t,last:i,initial:n,tail:r,prev:g,next:v,find:o,contains:l,all:a,sum:u,from:c,isEmpty:d,clusterBy:h,compact:p,unique:m}}();var h=String.fromCharCode(160);var p="\ufeff";var m=function(){var t=function(t){return t&&e(t).hasClass("note-editable")};var i=function(t){return t&&e(t).hasClass("note-control-sizing")};var n=function(e){e=e.toUpperCase();return function(t){return t&&t.nodeName.toUpperCase()===e}};var r=function(e){return e&&e.nodeType===3};var o=function(e){return e&&e.nodeType===1};var a=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())};var s=function(e){if(t(e)){return false}return e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())};var l=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())};var u=n("PRE");var v=n("LI");var g=function(e){return s(e)&&!v(e)};var y=n("TABLE");var b=n("DATA");var w=function(e){return!S(e)&&!x(e)&&!C(e)&&!s(e)&&!y(e)&&!T(e)&&!b(e)};var x=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())};var C=n("HR");var k=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())};var T=n("BLOCKQUOTE");var S=function(e){return k(e)||T(e)||t(e)};var _=n("A");var D=function(e){return w(e)&&!!M(e,s)};var $=function(e){return w(e)&&!M(e,s)};var A=n("BODY");var E=function(e,t){return e.nextSibling===t||e.previousSibling===t};var P=function(e,t){t=t||f.ok;var i=[];if(e.previousSibling&&t(e.previousSibling)){i.push(e.previousSibling)}i.push(e);if(e.nextSibling&&t(e.nextSibling)){i.push(e.nextSibling)}return i};var I=c.isMSIE&&c.browserVersion<11?"&nbsp;":"<br>";var F=function(e){if(r(e)){return e.nodeValue.length}if(e){return e.childNodes.length}return 0};var N=function(e){var t=F(e);if(t===0){return true}else if(!r(e)&&t===1&&e.innerHTML===I){return true}else if(d.all(e.childNodes,r)&&e.innerHTML===""){return true}return false};var O=function(e){if(!a(e)&&!F(e)){e.innerHTML=I}};var M=function(e,i){while(e){if(i(e)){return e}if(t(e)){break}e=e.parentNode}return null};var R=function(e,i){e=e.parentNode;while(e){if(F(e)!==1){break}if(i(e)){return e}if(t(e)){break}e=e.parentNode}return null};var j=function(e,i){i=i||f.fail;var n=[];M(e,function(e){if(!t(e)){n.push(e)}return i(e)});return n};var L=function(e,t){var i=j(e);return d.last(i.filter(t))};var U=function(t,i){var n=j(t);for(var r=i;r;r=r.parentNode){if(e.inArray(r,n)>-1){return r}}return null};var H=function(e,t){t=t||f.fail;var i=[];while(e){if(t(e)){break}i.push(e);e=e.previousSibling}return i};var z=function(e,t){t=t||f.fail;var i=[];while(e){if(t(e)){break}i.push(e);e=e.nextSibling}return i};var B=function(e,t){var i=[];t=t||f.ok;(function n(r){if(e!==r&&t(r)){i.push(r)}for(var o=0,a=r.childNodes.length;o<a;o++){n(r.childNodes[o])}})(e);return i};var q=function(t,i){var n=t.parentNode;var r=e("<"+i+">")[0];n.insertBefore(r,t);r.appendChild(t);return r};var W=function(e,t){var i=t.nextSibling,n=t.parentNode;if(i){n.insertBefore(e,i)}else{n.appendChild(e)}return e};var V=function(t,i){e.each(i,function(e,i){t.appendChild(i)});return t};var Y=function(e){return e.offset===0};var Z=function(e){return e.offset===F(e.node)};var G=function(e){return Y(e)||Z(e)};var K=function(e,t){while(e&&e!==t){if(ee(e)!==0){return false}e=e.parentNode}return true};var Q=function(e,t){if(!t){return false}while(e&&e!==t){if(ee(e)!==F(e.parentNode)-1){return false}e=e.parentNode}return true};var X=function(e,t){return Y(e)&&K(e.node,t)};var J=function(e,t){return Z(e)&&Q(e.node,t)};var ee=function(e){var t=0;while(e=e.previousSibling){t+=1}return t};var te=function(e){return!!(e&&e.childNodes&&e.childNodes.length)};var ie=function(e,i){var n,r;if(e.offset===0){if(t(e.node)){return null}n=e.node.parentNode;r=ee(e.node)}else if(te(e.node)){n=e.node.childNodes[e.offset-1];r=F(n)}else{n=e.node;r=i?0:e.offset-1}return{node:n,offset:r}};var ne=function(e,i){var n,r;if(F(e.node)===e.offset){if(t(e.node)){return null}n=e.node.parentNode;r=ee(e.node)+1}else if(te(e.node)){n=e.node.childNodes[e.offset];r=0}else{n=e.node;r=i?F(e.node):e.offset+1}return{node:n,offset:r}};var re=function(e,t){return e.node===t.node&&e.offset===t.offset};var oe=function(e){if(r(e.node)||!te(e.node)||N(e.node)){return true}var t=e.node.childNodes[e.offset-1];var i=e.node.childNodes[e.offset];if((!t||a(t))&&(!i||a(i))){return true}return false};var ae=function(e,t){while(e){if(t(e)){return e}e=ie(e)}return null};var se=function(e,t){while(e){if(t(e)){return e}e=ne(e)}return null};var le=function(e){if(!r(e.node)){return false}var t=e.node.nodeValue.charAt(e.offset-1);return t&&(t!==" "&&t!==h)};var ue=function(e,t,i,n){var r=e;while(r){i(r);if(re(r,t)){break}var o=n&&e.node!==r.node&&t.node!==r.node;r=ne(r,o)}};var ce=function(e,t){var i=j(t,f.eq(e));return i.map(ee).reverse()};var fe=function(e,t){var i=e;for(var n=0,r=t.length;n<r;n++){if(i.childNodes.length<=t[n]){i=i.childNodes[i.childNodes.length-1]}else{i=i.childNodes[t[n]]}}return i};var de=function(e,t){var i=t&&t.isSkipPaddingBlankHTML;var n=t&&t.isNotSplitEdgePoint;if(G(e)&&(r(e.node)||n)){if(Y(e)){return e.node}else if(Z(e)){return e.node.nextSibling}}if(r(e.node)){return e.node.splitText(e.offset)}else{var o=e.node.childNodes[e.offset];var a=W(e.node.cloneNode(false),e.node);V(a,z(o));if(!i){O(e.node);O(a)}return a}};var he=function(e,t,i){var n=j(t.node,f.eq(e));if(!n.length){return null}else if(n.length===1){return de(t,i)}return n.reduce(function(e,n){if(e===t.node){e=de(t,i)}return de({node:n,offset:e?m.position(e):F(n)},i)})};var pe=function(e,t){var i=t?s:S;var n=j(e.node,i);var r=d.last(n)||e.node;var o,a;if(i(r)){o=n[n.length-2];a=r}else{o=r;a=o.parentNode}var l=o&&he(o,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});if(!l&&a===e.node){l=e.node.childNodes[e.offset]}return{rightNode:l,container:a}};var me=function(e){return document.createElement(e)};var ve=function(e){return document.createTextNode(e)};var ge=function(e,t){if(!e||!e.parentNode){return}if(e.removeNode){return e.removeNode(t)}var i=e.parentNode;if(!t){var n=[];var r,o;for(r=0,o=e.childNodes.length;r<o;r++){n.push(e.childNodes[r])}for(r=0,o=n.length;r<o;r++){i.insertBefore(n[r],e)}}i.removeChild(e)};var ye=function(e,i){while(e){if(t(e)||!i(e)){break}var n=e.parentNode;ge(e);e=n}};var be=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase()){return e}var i=me(t);if(e.style.cssText){i.style.cssText=e.style.cssText}V(i,d.from(e.childNodes));W(i,e);ge(e);return i};var we=n("TEXTAREA");var xe=function(e,t){var i=we(e[0])?e.val():e.html();if(t){return i.replace(/[\n\r]/g,"")}return i};var Ce=function(t,i){var n=xe(t);if(i){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(r,function(e,t,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t;var r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(n||r?"\n":"")});n=e.trim(n)}return n};var ke=function(t){var i=e(t);var n=i.offset();var r=i.outerHeight(true);return{left:n.left,top:n.top+r}};var Te=function(e,t){Object.keys(t).forEach(function(i){e.on(i,t[i])})};var Se=function(e,t){Object.keys(t).forEach(function(i){e.off(i,t[i])})};var _e=function(e){return e&&!m.isText(e)&&d.contains(e.classList,"note-styletag")};return{NBSP_CHAR:h,ZERO_WIDTH_NBSP_CHAR:p,blank:I,emptyPara:"<p>"+I+"</p>",makePredByNodeName:n,isEditable:t,isControlSizing:i,isText:r,isElement:o,isVoid:a,isPara:s,isPurePara:g,isHeading:l,isInline:w,isBlock:f.not(w),isBodyInline:$,isBody:A,isParaInline:D,isPre:u,isList:x,isTable:y,isData:b,isCell:k,isBlockquote:T,isBodyContainer:S,isAnchor:_,isDiv:n("DIV"),isLi:v,isBR:n("BR"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:we,isEmpty:N,isEmptyAnchor:f.and(_,N),isClosestSibling:E,withClosestSiblings:P,nodeLength:F,isLeftEdgePoint:Y,isRightEdgePoint:Z,isEdgePoint:G,isLeftEdgeOf:K,isRightEdgeOf:Q,isLeftEdgePointOf:X,isRightEdgePointOf:J,prevPoint:ie,nextPoint:ne,isSamePoint:re,isVisiblePoint:oe,prevPointUntil:ae,nextPointUntil:se,isCharPoint:le,walkPoint:ue,ancestor:M,singleChildAncestor:R,listAncestor:j,lastAncestor:L,listNext:z,listPrev:H,listDescendant:B,commonAncestor:U,wrap:q,insertAfter:W,appendChildNodes:V,position:ee,hasChildren:te,makeOffsetPath:ce,fromOffsetPath:fe,splitTree:he,splitPoint:pe,create:me,createText:ve,remove:ge,removeWhile:ye,replace:be,html:Ce,value:xe,posFromPlaceholder:ke,attachEvents:Te,detachEvents:Se,isCustomStyleTag:_e}}();var v=function(t,i){var n=this;var r=e.summernote.ui;this.memos={};this.modules={};this.layoutInfo={};this.options=i;this.initialize=function(){this.layoutInfo=r.createLayout(t,i);this._initialize();t.hide();return this};this.destroy=function(){this._destroy();t.removeData("summernote");r.removeLayout(t,this.layoutInfo)};this.reset=function(){var e=n.isDisabled();this.code(m.emptyPara);this._destroy();this._initialize();if(e){n.disable()}};this._initialize=function(){var t=e.extend({},this.options.buttons);Object.keys(t).forEach(function(e){n.memo("button."+e,t[e])});var i=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(i).forEach(function(e){n.module(e,i[e],true)});Object.keys(this.modules).forEach(function(e){n.initializeModule(e)})};this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){n.removeModule(e)});Object.keys(this.memos).forEach(function(e){n.removeMemo(e)});this.triggerEvent("destroy",this)};this.code=function(e){var i=this.invoke("codeview.isActivated");if(e===undefined){this.invoke("codeview.sync");return i?this.layoutInfo.codable.val():this.layoutInfo.editable.html()}else{if(i){this.layoutInfo.codable.val(e)}else{this.layoutInfo.editable.html(e)}t.val(e);this.triggerEvent("change",e)}};this.isDisabled=function(){return this.layoutInfo.editable.attr("contenteditable")==="false"};this.enable=function(){this.layoutInfo.editable.attr("contenteditable",true);this.invoke("toolbar.activate",true);this.triggerEvent("disable",false)};this.disable=function(){if(this.invoke("codeview.isActivated")){this.invoke("codeview.deactivate")}this.layoutInfo.editable.attr("contenteditable",false);this.invoke("toolbar.deactivate",true);this.triggerEvent("disable",true)};this.triggerEvent=function(){var e=d.head(arguments);var i=d.tail(d.from(arguments));var n=this.options.callbacks[f.namespaceToCamel(e,"on")];if(n){n.apply(t[0],i)}t.trigger("summernote."+e,i)};this.initializeModule=function(e){var i=this.modules[e];i.shouldInitialize=i.shouldInitialize||f.ok;if(!i.shouldInitialize()){return}if(i.initialize){i.initialize()}if(i.events){m.attachEvents(t,i.events)}};this.module=function(e,t,i){if(arguments.length===1){return this.modules[e]}this.modules[e]=new t(this);if(!i){this.initializeModule(e)}};this.removeModule=function(e){var i=this.modules[e];if(i.shouldInitialize()){if(i.events){m.detachEvents(t,i.events)}if(i.destroy){i.destroy()}}delete this.modules[e]};this.memo=function(e,t){if(arguments.length===1){return this.memos[e]}this.memos[e]=t};this.removeMemo=function(e){if(this.memos[e]&&this.memos[e].destroy){this.memos[e].destroy()}delete this.memos[e]};this.createInvokeHandlerAndUpdateState=function(e,t){return function(i){n.createInvokeHandler(e,t)(i);n.invoke("buttons.updateCurrentStyle")}};this.createInvokeHandler=function(t,i){return function(r){r.preventDefault();var o=e(r.target);n.invoke(t,i||o.closest("[data-value]").data("value"),o)}};this.invoke=function(){var e=d.head(arguments);var t=d.tail(d.from(arguments));var i=e.split(".");var n=i.length>1;var r=n&&d.head(i);var o=n?d.last(i):d.head(i);var a=this.modules[r||"editor"];if(!r&&this[o]){return this[o].apply(this,t)}else if(a&&a[o]&&a.shouldInitialize()){return a[o].apply(a,t)}};return this.initialize()};e.fn.extend({summernote:function(){var t=e.type(d.head(arguments));var i=t==="string";var n=t==="object";var r=n?d.head(arguments):{};r=e.extend({},e.summernote.options,r);r.langInfo=e.extend(true,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]);r.icons=e.extend(true,{},e.summernote.options.icons,r.icons);r.tooltip=r.tooltip==="auto"?!c.isSupportTouch:r.tooltip;this.each(function(t,i){var n=e(i);if(!n.data("summernote")){var o=new v(n,r);n.data("summernote",o);n.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var a=o.data("summernote");if(i){return a.invoke.apply(a,d.from(arguments))}else if(r.focus){a.invoke("editor.focus")}}return this}});var g=function(t,i,n,r){this.render=function(o){var a=e(t);if(n&&n.contents){a.html(n.contents)}if(n&&n.className){a.addClass(n.className)}if(n&&n.data){e.each(n.data,function(e,t){a.attr("data-"+e,t)})}if(n&&n.click){a.on("click",n.click)}if(i){var s=a.find(".note-children-container");i.forEach(function(e){e.render(s.length?s:a)})}if(r){r(a,n)}if(n&&n.callback){n.callback(a)}if(o){o.append(a)}return a}};var y={create:function(t,i){return function(){var n=e.isArray(arguments[0])?arguments[0]:[];var r=typeof arguments[1]==="object"?arguments[1]:arguments[0];if(r&&r.children){n=r.children}return new g(t,n,r,i)}}};var b=y.create('<div class="note-editor note-frame panel panel-default"/>');var w=y.create('<div class="note-toolbar panel-heading"/>');var x=y.create('<div class="note-editing-area"/>');var C=y.create('<textarea class="note-codable"/>');var k=y.create('<div class="note-editable panel-body" contentEditable="true"/>');var T=y.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join(""));var S=y.create('<div class="note-editor"/>');var _=y.create('<div class="note-editable" contentEditable="true"/>');var D=y.create('<div class="note-btn-group btn-group">');var $=y.create('<div class="dropdown-menu">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t=typeof e==="string"?e:e.value||"";var n=i.template?i.template(e):e;var r=typeof e==="object"?e.option:undefined;var o='data-value="'+t+'"';var a=r!==undefined?' data-option="'+r+'"':"";return'<li><a href="#" '+(o+a)+">"+n+"</a></li>"}).join(""):i.items;t.html(n)});var A=function(e,t){return e+" "+O(t.icons.caret,"span")};var E=y.create('<div class="dropdown-menu note-check">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t=typeof e==="string"?e:e.value||"";var n=i.template?i.template(e):e;return'<li><a href="#" data-value="'+t+'">'+O(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;t.html(n)});var P=y.create('<div class="note-color-palette"/>',function(e,t){var i=[];for(var n=0,r=t.colors.length;n<r;n++){var o=t.eventName;var a=t.colors[n];var s=[];for(var l=0,u=a.length;l<u;l++){var c=a[l];s.push(['<button type="button" class="note-color-btn"','style="background-color:',c,'" ','data-event="',o,'" ','data-value="',c,'" ','title="',c,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+s.join("")+"</div>")}e.html(i.join(""));if(t.tooltip){e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}});var I=y.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){if(t.fade){e.addClass("fade")}e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">'+'      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+'      <h4 class="modal-title">'+t.title+"</h4>"+"    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))});var F=y.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var i=typeof t.direction!=="undefined"?t.direction:"bottom";e.addClass(i);if(t.hideArrow){e.find(".arrow").hide()}});var N=y.create('<div class="checkbox"></div>',function(e,t){e.html([" <label"+(t.id?' for="'+t.id+'"':"")+">",' <input type="checkbox"'+(t.id?' id="'+t.id+'"':""),(t.checked?" checked":"")+"/>",t.text?t.text:"","</label>"].join(""))});var O=function(e,t){t=t||"i";return"<"+t+' class="'+e+'"/>'};var M={editor:b,toolbar:w,editingArea:x,codable:C,editable:k,statusbar:T,airEditor:S,airEditable:_,buttonGroup:D,dropdown:$,dropdownButtonContents:A,dropdownCheck:E,palette:P,dialog:I,popover:F,checkbox:N,icon:O,options:{},button:function(e,t){return y.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){if(t&&t.tooltip&&self.options.tooltip){e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t);e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){self.options=t;var i=(t.airMode?M.airEditor([M.editingArea([M.airEditable()])]):M.editor([M.toolbar(),M.editingArea([M.codable(),M.editable()]),M.statusbar()])).render();i.insertAfter(e);return{note:e,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html());t.editor.remove();e.show()}};e.summernote=e.summernote||{lang:{}};e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var R=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return d.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE,e.DELETE],t)},isMove:function(t){return d.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:f.invertObject(e),code:e}}();var j=function(){var t=function(e,t){var i=e.parentElement(),n;var r=document.body.createTextRange(),o;var a=d.from(i.childNodes);for(n=0;n<a.length;n++){if(m.isText(a[n])){continue}r.moveToElementText(a[n]);if(r.compareEndPoints("StartToStart",e)>=0){break}o=a[n]}if(n!==0&&m.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i);s.collapse(!o);l=o?o.nextSibling:i.firstChild;var u=e.duplicate();u.setEndPoint("StartToStart",s);var c=u.text.replace(/[\r\n]/g,"").length;while(c>l.nodeValue.length&&l.nextSibling){c-=l.nodeValue.length;l=l.nextSibling}var f=l.nodeValue;if(t&&l.nextSibling&&m.isText(l.nextSibling)&&c===l.nodeValue.length){c-=l.nodeValue.length;l=l.nextSibling}i=l;n=c}return{cont:i,offset:n}};var i=function(e){var t=function(e,i){var n,r;if(m.isText(e)){var o=m.listPrev(e,f.not(m.isText));var a=d.last(o).previousSibling;n=a||e.parentNode;i+=d.sum(d.tail(o),m.nodeLength);r=!a}else{n=e.childNodes[i]||e;if(m.isText(n)){return t(n,0)}i=0;r=false}return{node:n,collapseToStart:r,offset:i}};var i=document.body.createTextRange();var n=t(e.node,e.offset);i.moveToElementText(n.node);i.collapse(n.collapseToStart);i.moveStart("character",n.offset);return i};var n=function(t,r,o,a){this.sc=t;this.so=r;this.ec=o;this.eo=a;var s=function(){if(c.isW3CRangeSupport){var e=document.createRange();e.setStart(t,r);e.setEnd(o,a);return e}else{var n=i({node:t,offset:r});n.setEndPoint("EndToEnd",i({node:o,offset:a}));return n}};this.getPoints=function(){return{sc:t,so:r,ec:o,eo:a}};this.getStartPoint=function(){return{node:t,offset:r}};this.getEndPoint=function(){return{node:o,offset:a}};this.select=function(){var e=s();if(c.isW3CRangeSupport){var t=document.getSelection();if(t.rangeCount>0){t.removeAllRanges()}t.addRange(e)}else{e.select()}return this};this.scrollIntoView=function(t){var i=e(t).height();if(t.scrollTop+i<this.sc.offsetTop){t.scrollTop+=Math.abs(t.scrollTop+i-this.sc.offsetTop)}return this};this.normalize=function(){var e=function(e,t){if(m.isVisiblePoint(e)&&!m.isEdgePoint(e)||m.isVisiblePoint(e)&&m.isRightEdgePoint(e)&&!t||m.isVisiblePoint(e)&&m.isLeftEdgePoint(e)&&t||m.isVisiblePoint(e)&&m.isBlock(e.node)&&m.isEmpty(e.node)){return e}var i=m.ancestor(e.node,m.isBlock);if((m.isLeftEdgePointOf(e,i)||m.isVoid(m.prevPoint(e).node))&&!t||(m.isRightEdgePointOf(e,i)||m.isVoid(m.nextPoint(e).node))&&t){if(m.isVisiblePoint(e)){return e}t=!t}var n=t?m.nextPointUntil(m.nextPoint(e),m.isVisiblePoint):m.prevPointUntil(m.prevPoint(e),m.isVisiblePoint);return n||e};var t=e(this.getEndPoint(),false);var i=this.isCollapsed()?t:e(this.getStartPoint(),true);return new n(i.node,i.offset,t.node,t.offset)};this.nodes=function(e,t){e=e||f.ok;var i=t&&t.includeAncestor;var n=t&&t.fullyContains;var r=this.getStartPoint();var o=this.getEndPoint();var a=[];var s=[];m.walkPoint(r,o,function(t){if(m.isEditable(t.node)){return}var r;if(n){if(m.isLeftEdgePoint(t)){s.push(t.node)}if(m.isRightEdgePoint(t)&&d.contains(s,t.node)){r=t.node}}else if(i){r=m.ancestor(t.node,e)}else{r=t.node}if(r&&e(r)){a.push(r)}},true);return d.unique(a)};this.commonAncestor=function(){return m.commonAncestor(t,o)};this.expand=function(e){var i=m.ancestor(t,e);var s=m.ancestor(o,e);if(!i&&!s){return new n(t,r,o,a)}var l=this.getPoints();if(i){l.sc=i;l.so=0}if(s){l.ec=s;l.eo=m.nodeLength(s)}return new n(l.sc,l.so,l.ec,l.eo)};this.collapse=function(e){if(e){return new n(t,r,t,r)}else{return new n(o,a,o,a)}};this.splitText=function(){var e=t===o;var i=this.getPoints();if(m.isText(o)&&!m.isEdgePoint(this.getEndPoint())){o.splitText(a)}if(m.isText(t)&&!m.isEdgePoint(this.getStartPoint())){i.sc=t.splitText(r);i.so=0;if(e){i.ec=i.sc;i.eo=a-r}}return new n(i.sc,i.so,i.ec,i.eo)};this.deleteContents=function(){if(this.isCollapsed()){return this}var t=this.splitText();var i=t.nodes(null,{fullyContains:true});var r=m.prevPointUntil(t.getStartPoint(),function(e){return!d.contains(i,e.node)});var o=[];e.each(i,function(e,t){var i=t.parentNode;if(r.node!==i&&m.nodeLength(i)===1){o.push(i)}m.remove(t,false)});e.each(o,function(e,t){m.remove(t,false)});return new n(r.node,r.offset,r.node,r.offset).normalize()};var l=function(e){return function(){var i=m.ancestor(t,e);return!!i&&i===m.ancestor(o,e)}};this.isOnEditable=l(m.isEditable);this.isOnList=l(m.isList);this.isOnAnchor=l(m.isAnchor);this.isOnCell=l(m.isCell);this.isOnData=l(m.isData);this.isLeftEdgeOf=function(e){if(!m.isLeftEdgePoint(this.getStartPoint())){return false}var t=m.ancestor(this.sc,e);return t&&m.isLeftEdgeOf(this.sc,t)};this.isCollapsed=function(){return t===o&&r===a};this.wrapBodyInlineWithPara=function(){if(m.isBodyContainer(t)&&m.isEmpty(t)){t.innerHTML=m.emptyPara;return new n(t.firstChild,0,t.firstChild,0)}var e=this.normalize();if(m.isParaInline(t)||m.isPara(t)){return e}var i;if(m.isInline(e.sc)){var r=m.listAncestor(e.sc,f.not(m.isInline));i=d.last(r);if(!m.isInline(i)){i=r[r.length-2]||e.sc.childNodes[e.so]}}else{i=e.sc.childNodes[e.so>0?e.so-1:0]}var o=m.listPrev(i,m.isParaInline).reverse();o=o.concat(m.listNext(i.nextSibling,m.isParaInline));if(o.length){var a=m.wrap(d.head(o),"p");m.appendChildNodes(a,d.tail(o))}return this.normalize()};this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents();var i=m.splitPoint(t.getStartPoint(),m.isInline(e));if(i.rightNode){i.rightNode.parentNode.insertBefore(e,i.rightNode)}else{i.container.appendChild(e)}return e};this.pasteHTML=function(t){var i=e("<div></div>").html(t)[0];var n=d.from(i.childNodes);var r=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return r.insertNode(e)}).reverse()};this.toString=function(){var e=s();return c.isW3CRangeSupport?e.toString():e.text};this.getWordRange=function(e){var t=this.getEndPoint();if(!m.isCharPoint(t)){return this}var i=m.prevPointUntil(t,function(e){return!m.isCharPoint(e)});if(e){t=m.nextPointUntil(t,function(e){return!m.isCharPoint(e)})}return new n(i.node,i.offset,t.node,t.offset)};this.bookmark=function(e){return{s:{path:m.makeOffsetPath(e,t),offset:r},e:{path:m.makeOffsetPath(e,o),offset:a}}};this.paraBookmark=function(e){return{s:{path:d.tail(m.makeOffsetPath(d.head(e),t)),offset:r},e:{path:d.tail(m.makeOffsetPath(d.last(e),o)),offset:a}}};this.getClientRects=function(){var e=s();return e.getClientRects()}};return{create:function(e,t,i,r){if(arguments.length===4){return new n(e,t,i,r)}else if(arguments.length===2){i=e;r=t;return new n(e,t,i,r)}else{var o=this.createFromSelection();if(!o&&arguments.length===1){o=this.createFromNode(arguments[0]);return o.collapse(m.emptyPara===arguments[0].innerHTML)}return o}},createFromSelection:function(){var e,i,r,o;if(c.isW3CRangeSupport){var a=document.getSelection();if(!a||a.rangeCount===0){return null}else if(m.isBody(a.anchorNode)){return null}var s=a.getRangeAt(0);e=s.startContainer;i=s.startOffset;r=s.endContainer;o=s.endOffset}else{var l=document.selection.createRange();var u=l.duplicate();u.collapse(false);var f=l;f.collapse(true);var d=t(f,true),h=t(u,false);if(m.isText(d.node)&&m.isLeftEdgePoint(d)&&m.isTextNode(h.node)&&m.isRightEdgePoint(h)&&h.node.nextSibling===d.node){d=h}e=d.cont;i=d.offset;r=h.cont;o=h.offset}return new n(e,i,r,o)},createFromNode:function(e){var t=e;var i=0;var n=e;var r=m.nodeLength(n);if(m.isVoid(t)){i=m.listPrev(t).length-1;t=t.parentNode}if(m.isBR(n)){r=m.listPrev(n).length-1;n=n.parentNode}else if(m.isVoid(n)){r=m.listPrev(n).length;n=n.parentNode}return this.create(t,i,n,r)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(true)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=m.fromOffsetPath(e,t.s.path);var r=t.s.offset;var o=m.fromOffsetPath(e,t.e.path);var a=t.e.offset;return new n(i,r,o,a)},createFromParaBookmark:function(e,t){var i=e.s.offset;var r=e.e.offset;var o=m.fromOffsetPath(d.head(t),e.s.path);var a=m.fromOffsetPath(d.last(t),e.e.path);return new n(o,i,a,r)}}}();var L=function(){var t=function(t){return e.Deferred(function(i){e.extend(new FileReader,{onload:function(e){var t=e.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()};var i=function(t){return e.Deferred(function(i){var n=e("<img>");n.one("load",function(){n.off("error abort");i.resolve(n)}).one("error abort",function(){n.off("load").detach();i.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:i}}();var U=function(e){var t=[],i=-1;var n=e[0];var r=function(){var t=j.create(n);var i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(n):i}};var o=function(t){if(t.contents!==null){e.html(t.contents)}if(t.bookmark!==null){j.createFromBookmark(n,t.bookmark).select()}};this.rewind=function(){if(e.html()!==t[i].contents){this.recordUndo()}i=0;o(t[i])};this.reset=function(){t=[];i=-1;e.html("");this.recordUndo()};this.undo=function(){if(e.html()!==t[i].contents){this.recordUndo()}if(0<i){i--;o(t[i])}};this.redo=function(){if(t.length-1>i){i++;o(t[i])}};this.recordUndo=function(){i++;if(t.length>i){t=t.slice(0,i)}t.push(r())}};var H=function(){var t=function(t,i){if(c.jqueryVersion<1.9){var n={};e.each(i,function(e,i){n[i]=t.css(i)});return n}return t.css.call(t,i)};this.fromNode=function(e){var i=["font-family","font-size","text-align","list-style-type","line-height"];var n=t(e,i)||{};n["font-size"]=parseInt(n["font-size"],10);return n};this.stylePara=function(t,i){e.each(t.nodes(m.isPara,{includeAncestor:true}),function(t,n){e(n).css(i)})};this.styleNodes=function(t,i){t=t.splitText();var n=i&&i.nodeName||"SPAN";var r=!!(i&&i.expandClosestSibling);var o=!!(i&&i.onlyPartialContains);if(t.isCollapsed()){return[t.insertNode(m.create(n))]}var a=m.makePredByNodeName(n);var s=t.nodes(m.isText,{fullyContains:true}).map(function(e){return m.singleChildAncestor(e,a)||m.wrap(e,n)});if(r){if(o){var l=t.nodes();a=f.and(a,function(e){return d.contains(l,e)})}return s.map(function(t){var i=m.withClosestSiblings(t,a);var n=d.head(i);var r=d.tail(i);e.each(r,function(e,t){m.appendChildNodes(n,t.childNodes);m.remove(t)});return d.head(i)})}else{return s}};this.current=function(t){var i=e(!m.isElement(t.sc)?t.sc.parentNode:t.sc);var n=this.fromNode(i);try{n=e.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(!t.isOnList()){n["list-style"]="none"}else{var r=["circle","disc","disc-leading-zero","square"];var o=e.inArray(n["list-style-type"],r)>-1;n["list-style"]=o?"unordered":"ordered"}var a=m.ancestor(t.sc,m.isPara);if(a&&a.style["line-height"]){n["line-height"]=a.style.lineHeight}else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}n.anchor=t.isOnAnchor()&&m.ancestor(t.sc,m.isAnchor);n.ancestors=m.listAncestor(t.sc,m.isEditable);n.range=t;return n}};var z=function(){var t=this;this.insertOrderedList=function(e){this.toggleList("OL",e)};this.insertUnorderedList=function(e){this.toggleList("UL",e)};this.indent=function(t){var i=this;var n=j.create(t).wrapBodyInlineWithPara();var r=n.nodes(m.isPara,{includeAncestor:true});var o=d.clusterBy(r,f.peq2("parentNode"));e.each(o,function(t,n){var r=d.head(n);if(m.isLi(r)){i.wrapList(n,r.parentNode.nodeName)}else{e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}});n.select()};this.outdent=function(t){var i=this;var n=j.create(t).wrapBodyInlineWithPara();var r=n.nodes(m.isPara,{includeAncestor:true});var o=d.clusterBy(r,f.peq2("parentNode"));e.each(o,function(t,n){var r=d.head(n);if(m.isLi(r)){i.releaseList([n])}else{e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){t=parseInt(t,10)||0;return t>25?t-25:""})})}});n.select()};this.toggleList=function(i,n){var r=j.create(n).wrapBodyInlineWithPara();var o=r.nodes(m.isPara,{includeAncestor:true});var a=r.paraBookmark(o);var s=d.clusterBy(o,f.peq2("parentNode"));if(d.find(o,m.isPurePara)){var l=[];e.each(s,function(e,n){l=l.concat(t.wrapList(n,i))});o=l}else{var u=r.nodes(m.isList,{includeAncestor:true}).filter(function(t){return!e.nodeName(t,i)});if(u.length){e.each(u,function(e,t){m.replace(t,i)})}else{o=this.releaseList(s,true)}}j.createFromParaBookmark(a,o).select()};this.wrapList=function(e,t){var i=d.head(e);var n=d.last(e);var r=m.isList(i.previousSibling)&&i.previousSibling;var o=m.isList(n.nextSibling)&&n.nextSibling;var a=r||m.insertAfter(m.create(t||"UL"),n);e=e.map(function(e){return m.isPurePara(e)?m.replace(e,"LI"):e});m.appendChildNodes(a,e);if(o){m.appendChildNodes(a,d.from(o.childNodes));m.remove(o)}return e};this.releaseList=function(t,i){var n=[];e.each(t,function(t,r){var o=d.head(r);var a=d.last(r);var s=i?m.lastAncestor(o,m.isList):o.parentNode;var l=s.childNodes.length>1?m.splitTree(s,{node:a.parentNode,offset:m.position(a)+1},{isSkipPaddingBlankHTML:true}):null;var u=m.splitTree(s,{node:o.parentNode,offset:m.position(o)},{isSkipPaddingBlankHTML:true});r=i?m.listDescendant(u,m.isLi):d.from(u.childNodes).filter(m.isLi);if(i||!m.isList(s.parentNode)){r=r.map(function(e){return m.replace(e,"P")})}e.each(d.from(r).reverse(),function(e,t){m.insertAfter(t,s)});var c=d.compact([s,u,l]);e.each(c,function(t,i){var n=[i].concat(m.listDescendant(i,m.isList));e.each(n.reverse(),function(e,t){if(!m.nodeLength(t)){m.remove(t,true)}})});n=n.concat(r)});return n}};var B=function(){var t=new z;this.insertTab=function(e,t){var i=m.createText(new Array(t+1).join(m.NBSP_CHAR));e=e.deleteContents();e.insertNode(i,true);e=j.create(i,t);e.select()};this.insertParagraph=function(i){var n=j.create(i);n=n.deleteContents();n=n.wrapBodyInlineWithPara();var r=m.ancestor(n.sc,m.isPara);var o;if(r){if(m.isEmpty(r)&&m.isLi(r)){t.toggleList(r.parentNode.nodeName);return}else if(m.isEmpty(r)&&m.isPara(r)&&m.isBlockquote(r.parentNode)){m.insertAfter(r,r.parentNode);o=r}else{o=m.splitTree(r,n.getStartPoint());var a=m.listDescendant(r,m.isEmptyAnchor);a=a.concat(m.listDescendant(o,m.isEmptyAnchor));e.each(a,function(e,t){m.remove(t)});if((m.isHeading(o)||m.isPre(o)||m.isCustomStyleTag(o))&&m.isEmpty(o)){o=m.replace(o,"p")}}}else{var s=n.sc.childNodes[n.so];o=e(m.emptyPara)[0];if(s){n.sc.insertBefore(o,s)}else{n.sc.appendChild(o)}}j.create(o,0).normalize().select().scrollIntoView(i)}};var q=function(e,t,i,n){var r={colPos:0,rowPos:0};var o=[];var a=[];function s(){if(!e||!e.tagName||e.tagName.toLowerCase()!=="td"&&e.tagName.toLowerCase()!=="th"){console.error("Impossible to identify start Cell point.",e);return}r.colPos=e.cellIndex;if(!e.parentElement||!e.parentElement.tagName||e.parentElement.tagName.toLowerCase()!=="tr"){console.error("Impossible to identify start Row point.",e);return}r.rowPos=e.parentElement.rowIndex}function l(e,t,i,n,r,a,s){var l={baseRow:i,baseCell:n,isRowSpan:r,isColSpan:a,isVirtual:s};if(!o[e]){o[e]=[]}o[e][t]=l}function u(e,t,i,n){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:n}}}function c(e,t){if(!o[e]){return t}if(!o[e][t]){return t}var i=t;while(o[e][i]){i++;if(!o[e][i]){return i}}}function f(e,t){var i=c(e.rowIndex,t.cellIndex);var n=t.colSpan>1;var o=t.rowSpan>1;var a=e.rowIndex===r.rowPos&&t.cellIndex===r.colPos;l(e.rowIndex,i,e,t,o,n,false);var s=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(s>1){for(var u=1;u<s;u++){var f=e.rowIndex+u;d(f,i,t,a);l(f,i,e,t,true,n,true)}}var h=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(h>1){for(var p=1;p<h;p++){var m=c(e.rowIndex,i+p);d(e.rowIndex,m,t,a);l(e.rowIndex,m,e,t,o,true,true)}}}function d(e,t,i,n){if(e===r.rowPos&&r.colPos>=i.cellIndex&&i.cellIndex<=t&&!n){r.colPos++}}function h(){var e=n.rows;for(var t=0;t<e.length;t++){var i=e[t].cells;for(var r=0;r<i.length;r++){f(e[t],i[r])}}}function p(e){switch(t){case q.where.Column:if(e.isColSpan){return q.resultAction.SubtractSpanCount}break;case q.where.Row:if(!e.isVirtual&&e.isRowSpan){return q.resultAction.AddCell}else if(e.isRowSpan){return q.resultAction.SubtractSpanCount}break}return q.resultAction.RemoveCell}function m(e){switch(t){case q.where.Column:if(e.isColSpan){return q.resultAction.SumSpanCount}else if(e.isRowSpan&&e.isVirtual){return q.resultAction.Ignore}break;case q.where.Row:if(e.isRowSpan){return q.resultAction.SumSpanCount}else if(e.isColSpan&&e.isVirtual){return q.resultAction.Ignore}break}return q.resultAction.AddCell}function v(){s();h()}this.getActionList=function(){var e=t===q.where.Row?r.rowPos:-1;var n=t===q.where.Column?r.colPos:-1;var s=0;var l=true;while(l){var c=e>=0?e:s;var f=n>=0?n:s;var d=o[c];if(!d){l=false;return a}var h=d[f];if(!h){l=false;return a}var v=q.resultAction.Ignore;switch(i){case q.requestAction.Add:v=m(h);break;case q.requestAction.Delete:v=p(h);break}a.push(u(h,v,c,f));s++}return a};v()};q.where={Row:0,Column:1};q.requestAction={Add:0,Delete:1};q.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var W=function(){this.tab=function(e,t){var i=m.ancestor(e.commonAncestor(),m.isCell);var n=m.ancestor(i,m.isTable);var r=m.listDescendant(n,m.isCell);var o=d[t?"prev":"next"](r,i);if(o){j.create(o,0).select()}};this.addRow=function(t,i){var n=m.ancestor(t.commonAncestor(),m.isCell);var r=e(n).closest("tr");var o=this.recoverAttributes(r);var a=e("<tr"+o+"></tr>");var s=new q(n,q.where.Row,q.requestAction.Add,e(r).closest("table")[0]);var l=s.getActionList();for(var u=0;u<l.length;u++){var c=l[u];var f=this.recoverAttributes(c.baseCell);switch(c.action){case q.resultAction.AddCell:a.append("<td"+f+">"+m.blank+"</td>");break;case q.resultAction.SumSpanCount:if(i==="top"){var d=c.baseCell.parent;var h=(!d?0:c.baseCell.closest("tr").rowIndex)<=r[0].rowIndex;if(h){var p=e("<div></div>").append(e("<td"+f+">"+m.blank+"</td>").removeAttr("rowspan")).html();a.append(p);break}}var v=parseInt(c.baseCell.rowSpan,10);v++;c.baseCell.setAttribute("rowSpan",v);break}}if(i==="top"){r.before(a)}else{var g=n.rowSpan>1;if(g){var y=r[0].rowIndex+(n.rowSpan-2);e(e(r).parent().find("tr")[y]).after(e(a));return}r.after(a)}};this.addCol=function(t,i){var n=m.ancestor(t.commonAncestor(),m.isCell);var r=e(n).closest("tr");var o=e(r).siblings();o.push(r);var a=new q(n,q.where.Column,q.requestAction.Add,e(r).closest("table")[0]);var s=a.getActionList();for(var l=0;l<s.length;l++){var u=s[l];var c=this.recoverAttributes(u.baseCell);switch(u.action){case q.resultAction.AddCell:if(i==="right"){e(u.baseCell).after("<td"+c+">"+m.blank+"</td>")}else{e(u.baseCell).before("<td"+c+">"+m.blank+"</td>")}break;case q.resultAction.SumSpanCount:if(i==="right"){var f=parseInt(u.baseCell.colSpan,10);f++;u.baseCell.setAttribute("colSpan",f)}else{e(u.baseCell).before("<td"+c+">"+m.blank+"</td>")}break}}};this.recoverAttributes=function(e){var t="";if(!e){return t}var i=e.attributes||[];for(var n=0;n<i.length;n++){if(i[n].name.toLowerCase()==="id"){continue}if(i[n].specified){t+=" "+i[n].name+"='"+i[n].value+"'"}}return t};this.deleteRow=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);var n=e(i).closest("tr");var r=n.children("td, th").index(e(i));var o=n[0].rowIndex;var a=new q(i,q.where.Row,q.requestAction.Delete,e(n).closest("table")[0]);var s=a.getActionList();for(var l=0;l<s.length;l++){if(!s[l]){continue}var u=s[l].baseCell;var c=s[l].virtualTable;var f=u.rowSpan&&u.rowSpan>1;var d=f?parseInt(u.rowSpan,10):0;switch(s[l].action){case q.resultAction.Ignore:continue;case q.resultAction.AddCell:var h=n.next("tr")[0];if(!h){continue}var p=n[0].cells[r];if(f){if(d>2){d--;h.insertBefore(p,h.cells[r]);h.cells[r].setAttribute("rowSpan",d);h.cells[r].innerHTML=""}else if(d===2){h.insertBefore(p,h.cells[r]);h.cells[r].removeAttribute("rowSpan");h.cells[r].innerHTML=""}}continue;case q.resultAction.SubtractSpanCount:if(f){if(d>2){d--;u.setAttribute("rowSpan",d);if(c.rowIndex!==o&&u.cellIndex===r){u.innerHTML=""}}else if(d===2){u.removeAttribute("rowSpan");if(c.rowIndex!==o&&u.cellIndex===r){u.innerHTML=""}}}continue;case q.resultAction.RemoveCell:continue}}n.remove()};this.deleteCol=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);var n=e(i).closest("tr");var r=n.children("td, th").index(e(i));var o=new q(i,q.where.Column,q.requestAction.Delete,e(n).closest("table")[0]);var a=o.getActionList();for(var s=0;s<a.length;s++){if(!a[s]){continue}switch(a[s].action){case q.resultAction.Ignore:continue;case q.resultAction.SubtractSpanCount:var l=a[s].baseCell;var u=l.colSpan&&l.colSpan>1;if(u){var c=l.colSpan?parseInt(l.colSpan,10):0;if(c>2){c--;l.setAttribute("colSpan",c);if(l.cellIndex===r){l.innerHTML=""}}else if(c===2){l.removeAttribute("colSpan");if(l.cellIndex===r){l.innerHTML=""}}}continue;case q.resultAction.RemoveCell:m.remove(a[s].baseCell,true);continue}}};this.createTable=function(t,i,n){var r=[],o;for(var a=0;a<t;a++){r.push("<td>"+m.blank+"</td>")}o=r.join("");var s=[],l;for(var u=0;u<i;u++){s.push("<tr>"+o+"</tr>")}l=s.join("");var c=e("<table>"+l+"</table>");if(n&&n.tableClassName){c.addClass(n.tableClassName)}return c[0]};this.deleteTable=function(t){var i=m.ancestor(t.commonAncestor(),m.isCell);e(i).closest("table").remove()}};var V="bogus";var Y=function(t){var i=this;var n=t.layoutInfo.note;var r=t.layoutInfo.editor;var o=t.layoutInfo.editable;var a=t.options;var s=a.langInfo;var l=o[0];var u=null;var h=new H;var p=new W;var v=new B;var g=new z;var y=new U(o);this.initialize=function(){o.on("keydown",function(e){if(e.keyCode===R.code.ENTER){t.triggerEvent("enter",e)}t.triggerEvent("keydown",e);if(!e.isDefaultPrevented()){if(a.shortcuts){i.handleKeyMap(e)}else{i.preventDefaultEditableShortCuts(e)}}}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)});o.html(m.html(n)||m.emptyPara);var e=c.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(e,f.debounce(function(){t.triggerEvent("change",o.html())},100));r.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)});if(!a.airMode){if(a.width){r.outerWidth(a.width)}if(a.height){o.outerHeight(a.height)}if(a.maxHeight){o.css("max-height",a.maxHeight)}if(a.minHeight){o.css("min-height",a.minHeight)}}y.recordUndo()};this.destroy=function(){o.off()};this.handleKeyMap=function(e){var i=a.keyMap[c.isMac?"mac":"pc"];var n=[];if(e.metaKey){n.push("CMD")}if(e.ctrlKey&&!e.altKey){n.push("CTRL")}if(e.shiftKey){n.push("SHIFT")}var r=R.nameFromCode[e.keyCode];if(r){n.push(r)}var o=i[n.join("+")];if(o){e.preventDefault();t.invoke(o)}else if(R.isEdit(e.keyCode)){this.afterCommand()}};this.preventDefaultEditableShortCuts=function(e){if((e.ctrlKey||e.metaKey)&&d.contains([66,73,85],e.keyCode)){e.preventDefault()}};this.createRange=function(){this.focus();return j.create(l)};this.saveRange=function(e){u=this.createRange();if(e){u.collapse().select()}};this.restoreRange=function(){if(u){u.select();this.focus()}};this.saveTarget=function(e){o.data("target",e)};this.clearTarget=function(){o.removeData("target")};this.restoreTarget=function(){return o.data("target")};this.currentStyle=function(){var e=j.create();if(e){e=e.normalize()}return e?h.current(e):h.fromNode(o)};this.styleFromNode=function(e){return h.fromNode(e)};this.undo=function(){t.triggerEvent("before.command",o.html());y.undo();t.triggerEvent("change",o.html())};t.memo("help.undo",s.help.undo);this.redo=function(){t.triggerEvent("before.command",o.html());y.redo();t.triggerEvent("change",o.html())};t.memo("help.redo",s.help.redo);var b=this.beforeCommand=function(){t.triggerEvent("before.command",o.html());i.focus()};var w=this.afterCommand=function(e){y.recordUndo();if(!e){t.triggerEvent("change",o.html())}};var x=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","fontName"];for(var C=0,k=x.length;C<k;C++){this[x[C]]=function(e){return function(t){b();document.execCommand(e,false,t);w(true)}}(x[C]);t.memo("help."+x[C],s.help[x[C]])}this.tab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell()){p.tab(e)}else{b();v.insertTab(e,a.tabSize);w()}};t.memo("help.tab",s.help.tab);this.untab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell()){p.tab(e,true)}};t.memo("help.untab",s.help.untab);this.wrapCommand=function(e){return function(){b();e.apply(i,arguments);w()}};this.insertParagraph=this.wrapCommand(function(){v.insertParagraph(l)});t.memo("help.insertParagraph",s.help.insertParagraph);this.insertOrderedList=this.wrapCommand(function(){g.insertOrderedList(l)});t.memo("help.insertOrderedList",s.help.insertOrderedList);this.insertUnorderedList=this.wrapCommand(function(){g.insertUnorderedList(l)});t.memo("help.insertUnorderedList",s.help.insertUnorderedList);this.indent=this.wrapCommand(function(){g.indent(l)});t.memo("help.indent",s.help.indent);this.outdent=this.wrapCommand(function(){g.outdent(l)});t.memo("help.outdent",s.help.outdent);this.insertImage=function(e,i){return L.createImage(e,i).then(function(e){b();if(typeof i==="function"){i(e)}else{if(typeof i==="string"){e.attr("data-filename",i)}e.css("width",Math.min(o.width(),e.width()))}e.show();j.create(l).insertNode(e[0]);j.createFromNodeAfter(e[0]).select();w()}).fail(function(e){t.triggerEvent("image.upload.error",e)})};this.insertImages=function(n){e.each(n,function(e,n){var r=n.name;if(a.maximumImageFileSize&&a.maximumImageFileSize<n.size){t.triggerEvent("image.upload.error",s.image.maximumFileSizeError)}else{L.readFileAsDataURL(n).then(function(e){return i.insertImage(e,r)}).fail(function(){t.triggerEvent("image.upload.error")})}})};this.insertImagesOrCallback=function(e){var i=a.callbacks;if(i.onImageUpload){t.triggerEvent("image.upload",e)}else{this.insertImages(e)}};this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e);j.createFromNodeAfter(e).select()});this.insertText=this.wrapCommand(function(e){var t=this.createRange();var i=t.insertNode(m.createText(e));j.create(i,m.nodeLength(i)).select()});this.getSelectedText=function(){var e=this.createRange();if(e.isOnAnchor()){e=j.createFromNode(m.ancestor(e.sc,m.isAnchor))}return e.toString()};this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);j.createFromNodeAfter(d.last(t)).select()});this.formatBlock=this.wrapCommand(function(e,i){var n=t.options.callbacks.onApplyCustomStyle;if(n){n.call(this,i,t,this.onFormatBlock)}else{this.onFormatBlock(e)}});this.onFormatBlock=function(e){e=c.isMSIE?"<"+e+">":e;document.execCommand("FormatBlock",false,e)};this.formatPara=function(){this.formatBlock("P")};t.memo("help.formatPara",s.help.formatPara);for(var C=1;C<=6;C++){this["formatH"+C]=function(e){return function(){this.formatBlock("H"+e)}}(C);t.memo("help.formatH"+C,s.help["formatH"+C])}this.fontSize=function(t){var i=this.createRange();if(i&&i.isCollapsed()){var n=h.styleNodes(i);var r=d.head(n);e(n).css({"font-size":t+"px"});if(r&&!m.nodeLength(r)){r.innerHTML=m.ZERO_WIDTH_NBSP_CHAR;j.createFromNodeAfter(r.firstChild).select();o.data(V,r)}}else{b();e(h.styleNodes(i)).css({"font-size":t+"px"});w()}};this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(m.create("HR"));if(e.nextSibling){j.create(e.nextSibling,0).normalize().select()}});t.memo("help.insertHorizontalRule",s.help.insertHorizontalRule);this.removeBogus=function(){var e=o.data(V);if(!e){return}var t=d.find(d.from(e.childNodes),m.isText);var i=t.nodeValue.indexOf(m.ZERO_WIDTH_NBSP_CHAR);if(i!==-1){t.deleteData(i,1)}if(m.isEmpty(e)){m.remove(e)}o.removeData(V)};this.lineHeight=this.wrapCommand(function(e){h.stylePara(this.createRange(),{lineHeight:e})});this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=m.ancestor(e.sc,m.isAnchor);e=j.createFromNode(t);e.select();b();document.execCommand("unlink");w()}};this.createLink=this.wrapCommand(function(t){var i=t.url;var n=t.text;var r=t.isNewWindow;var o=t.range||this.createRange();var s=o.toString()!==n;if(typeof i==="string"){i=i.trim()}if(a.onCreateLink){i=a.onCreateLink(i)}else{i=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i}var l=[];if(s){o=o.deleteContents();var u=o.insertNode(e("<A>"+n+"</A>")[0]);l.push(u)}else{l=h.styleNodes(o,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true})}e.each(l,function(t,n){e(n).attr("href",i);if(r){e(n).attr("target","_blank")}else{e(n).removeAttr("target")}});var c=j.createFromNodeBefore(d.head(l));var f=c.getStartPoint();var p=j.createFromNodeAfter(d.last(l));var m=p.getEndPoint();j.create(f.node,f.offset,m.node,m.offset).select()});this.getLinkInfo=function(){var t=this.createRange().expand(m.isAnchor);var i=e(d.head(t.nodes(m.isAnchor)));var n={range:t,text:t.toString(),url:i.length?i.attr("href"):""};if(i.length){n.isNewWindow=i.attr("target")==="_blank"}return n};this.color=this.wrapCommand(function(e){var t=e.foreColor;var i=e.backColor;if(t){document.execCommand("foreColor",false,t)}if(i){document.execCommand("backColor",false,i)}});this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",false,true);document.execCommand("foreColor",false,e)});this.insertTable=this.wrapCommand(function(e){var t=e.split("x");var i=this.createRange().deleteContents();i.insertNode(p.createTable(t[0],t[1],a))});this.addRow=function(e){var t=this.createRange(o);if(t.isCollapsed()&&t.isOnCell()){b();p.addRow(t,e);w()}};this.addCol=function(e){var t=this.createRange(o);if(t.isCollapsed()&&t.isOnCell()){b();p.addCol(t,e);w()}};this.deleteRow=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteRow(e);w()}};this.deleteCol=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteCol(e);w()}};this.deleteTable=function(){var e=this.createRange(o);if(e.isCollapsed()&&e.isOnCell()){b();p.deleteTable(e);w()}};this.floatMe=this.wrapCommand(function(t){var i=e(this.restoreTarget());i.toggleClass("note-float-left",t==="left");i.toggleClass("note-float-right",t==="right");i.css("float",t)});this.resize=this.wrapCommand(function(t){var i=e(this.restoreTarget());i.css({width:t*100+"%",height:""})});this.resizeTo=function(e,t,i){var n;if(i){var r=e.y/e.x;var o=t.data("ratio");n={width:o>r?e.x:e.y/o,height:o>r?e.x*o:e.y}}else{n={width:e.x,height:e.y}}t.css(n)};this.removeMedia=this.wrapCommand(function(){var i=e(this.restoreTarget()).detach();t.triggerEvent("media.delete",i,o)});this.hasFocus=function(){return o.is(":focus")};this.focus=function(){if(!this.hasFocus()){o.focus()}};this.isEmpty=function(){return m.isEmpty(o[0])||m.emptyPara===o.html()};this.empty=function(){t.invoke("code",m.emptyPara)}};var Z=function(t){var i=this;var n=t.layoutInfo.editable;this.events={"summernote.keydown":function(e,n){if(i.needKeydownHook()){if((n.ctrlKey||n.metaKey)&&n.keyCode===R.code.V){t.invoke("editor.saveRange");i.$paste.focus();setTimeout(function(){i.pasteByHook()},0)}}}};this.needKeydownHook=function(){return c.isMSIE&&c.browserVersion>10||c.isFF};this.initialize=function(){if(this.needKeydownHook()){this.$paste=e('<div tabindex="-1" />').attr("contenteditable",true).css({position:"absolute",left:-1e5,opacity:0});n.before(this.$paste);this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})}else{n.on("paste",this.pasteByEvent)}};this.destroy=function(){if(this.needKeydownHook()){this.$paste.remove();this.$paste=null}};this.pasteByHook=function(){var i=this.$paste[0].firstChild;var n=i&&i.src;if(m.isImg(i)&&n.indexOf("data:")===0){var r=atob(i.src.split(",")[1]);var o=new Uint8Array(r.length);for(var a=0;a<r.length;a++){o[a]=r.charCodeAt(a)}var s=new Blob([o],{type:"image/png"});s.name="clipboard.png";t.invoke("editor.restoreRange");t.invoke("editor.focus");t.invoke("editor.insertImagesOrCallback",[s])}else{var l=e("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange");t.invoke("editor.focus");if(l){t.invoke("editor.pasteHTML",l)}}this.$paste.empty()};this.pasteByEvent=function(e){var i=e.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var n=d.head(i.items);if(n.kind==="file"&&n.type.indexOf("image/")!==-1){t.invoke("editor.insertImagesOrCallback",[n.getAsFile()])}t.invoke("editor.afterCommand")}}};var G=function(t){var i=e(document);var n=t.layoutInfo.editor;var r=t.layoutInfo.editable;var o=t.options;var a=o.langInfo;var s={};var l=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n);var u=function(){Object.keys(s).forEach(function(e){i.off(e.substr(2).toLowerCase(),s[e])});s={}};this.initialize=function(){if(o.disableDragAndDrop){s.onDrop=function(e){e.preventDefault()};i.on("drop",s.onDrop)}else{this.attachDragAndDropEvent()}};this.attachDragAndDropEvent=function(){var o=e(),u=l.find(".note-dropzone-message");s.onDragenter=function(e){var i=t.invoke("codeview.isActivated");var r=n.width()>0&&n.height()>0;if(!i&&!o.length&&r){n.addClass("dragover");l.width(n.width());l.height(n.height());u.text(a.image.dragImageHere)}o=o.add(e.target)};s.onDragleave=function(e){o=o.not(e.target);if(!o.length){n.removeClass("dragover")}};s.onDrop=function(){o=e();n.removeClass("dragover")};i.on("dragenter",s.onDragenter).on("dragleave",s.onDragleave).on("drop",s.onDrop);l.on("dragenter",function(){l.addClass("hover");u.text(a.image.dropImage)}).on("dragleave",function(){l.removeClass("hover");u.text(a.image.dragImageHere)});l.on("drop",function(i){var n=i.originalEvent.dataTransfer;if(n&&n.files&&n.files.length){i.preventDefault();r.focus();t.invoke("editor.insertImagesOrCallback",n.files)}else{e.each(n.types,function(i,r){var o=n.getData(r);if(r.toLowerCase().indexOf("text")>-1){t.invoke("editor.pasteHTML",o)}else{e(o).each(function(){t.invoke("editor.insertNode",this)})}})}}).on("dragover",false)};this.destroy=function(){u()}};var K;if(c.hasCodeMirror){if(c.isSupportAmd){require(["codemirror"],function(e){K=e})}else{K=window.CodeMirror}}var Q=function(e){var t=e.layoutInfo.editor;var i=e.layoutInfo.editable;var n=e.layoutInfo.codable;var r=e.options;this.sync=function(){var e=this.isActivated();if(e&&c.hasCodeMirror){n.data("cmEditor").save()}};this.isActivated=function(){return t.hasClass("codeview")};this.toggle=function(){if(this.isActivated()){this.deactivate()}else{this.activate()}e.triggerEvent("codeview.toggled")};this.activate=function(){n.val(m.html(i,r.prettifyHtml));n.height(i.height());e.invoke("toolbar.updateCodeview",true);t.addClass("codeview");n.focus();if(c.hasCodeMirror){var o=K.fromTextArea(n[0],r.codemirror);if(r.codemirror.tern){var a=new K.TernServer(r.codemirror.tern);o.ternServer=a;o.on("cursorActivity",function(e){a.updateArgHints(e)})}o.setSize(null,i.outerHeight());n.data("cmEditor",o)}};this.deactivate=function(){if(c.hasCodeMirror){var o=n.data("cmEditor");n.val(o.getValue());o.toTextArea()}var a=m.value(n,r.prettifyHtml)||m.emptyPara;var s=i.html()!==a;i.html(a);i.height(r.height?n.height():"auto");t.removeClass("codeview");if(s){e.triggerEvent("change",i.html(),i)}i.focus();e.invoke("toolbar.updateCodeview",false)};this.destroy=function(){if(this.isActivated()){this.deactivate()}}};var X=24;var J=function(t){var i=e(document);var n=t.layoutInfo.statusbar;var r=t.layoutInfo.editable;var o=t.options;this.initialize=function(){if(o.airMode||o.disableResizeEditor){this.destroy();return}n.on("mousedown",function(e){e.preventDefault();e.stopPropagation();var t=r.offset().top-i.scrollTop();var n=function(e){var i=e.clientY-(t+X);i=o.minheight>0?Math.max(i,o.minheight):i;i=o.maxHeight>0?Math.min(i,o.maxHeight):i;r.height(i)};i.on("mousemove",n).one("mouseup",function(){i.off("mousemove",n)})})};this.destroy=function(){n.off();n.remove()}};var ee=function(t){var i=this;var n=t.layoutInfo.editor;var r=t.layoutInfo.toolbar;var o=t.layoutInfo.editable;var a=t.layoutInfo.codable;var s=e(window);var l=e("html, body");this.resizeTo=function(e){o.css("height",e.h);a.css("height",e.h);if(a.data("cmeditor")){a.data("cmeditor").setsize(null,e.h)}};this.onResize=function(){i.resizeTo({h:s.height()-r.outerHeight()})};this.toggle=function(){n.toggleClass("fullscreen");if(this.isFullscreen()){o.data("orgHeight",o.css("height"));s.on("resize",this.onResize).trigger("resize");l.css("overflow","hidden")}else{s.off("resize",this.onResize);this.resizeTo({h:o.data("orgHeight")});l.css("overflow","visible")}t.invoke("toolbar.updateFullscreen",this.isFullscreen())};this.isFullscreen=function(){return n.hasClass("fullscreen")}};var te=function(t){var i=this;var n=e(document);var r=t.layoutInfo.editingArea;var o=t.options;this.events={"summernote.mousedown":function(e,t){if(i.update(t.target)){t.preventDefault()}},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}};this.initialize=function(){this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',o.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',o.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(r);this.$handle.on("mousedown",function(e){if(m.isControlSizing(e.target)){e.preventDefault();e.stopPropagation();var r=i.$handle.find(".note-control-selection").data("target"),o=r.offset(),a=n.scrollTop();var s=function(e){t.invoke("editor.resizeTo",{x:e.clientX-o.left,y:e.clientY-(o.top-a)},r,!e.shiftKey);i.update(r[0])};n.on("mousemove",s).one("mouseup",function(e){e.preventDefault();n.off("mousemove",s);t.invoke("editor.afterCommand")});if(!r.data("ratio")){r.data("ratio",r.height()/r.width())}}});this.$handle.on("wheel",function(e){e.preventDefault();i.update()})};this.destroy=function(){this.$handle.remove()};this.update=function(i){if(t.isDisabled()){return false}var n=m.isImg(i);var r=this.$handle.find(".note-control-selection");t.invoke("imagePopover.update",i);if(n){var o=e(i);var a=o.position();var s={left:a.left+parseInt(o.css("marginLeft"),10),top:a.top+parseInt(o.css("marginTop"),10)};var l={w:o.outerWidth(false),h:o.outerHeight(false)};r.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",o);var u=l.w+"x"+l.h;r.find(".note-control-selection-info").text(u);t.invoke("editor.saveTarget",i)}else{this.hide()}return n};this.hide=function(){t.invoke("editor.clearTarget");this.$handle.children().hide()}};var ie=function(t){var i=this;var n="http://";var r=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,t){if(!t.isDefaultPrevented()){i.handleKeyup(t)}},"summernote.keydown":function(e,t){i.handleKeydown(t)}};this.initialize=function(){this.lastWordRange=null};this.destroy=function(){this.lastWordRange=null};this.replace=function(){if(!this.lastWordRange){return}var i=this.lastWordRange.toString();var o=i.match(r);if(o&&(o[1]||o[2])){var a=o[1]?i:n+i;var s=e("<a />").html(i).attr("href",a)[0];this.lastWordRange.insertNode(s);this.lastWordRange=null;t.invoke("editor.focus")}};this.handleKeydown=function(e){if(d.contains([R.code.ENTER,R.code.SPACE],e.keyCode)){var i=t.invoke("editor.createRange").getWordRange();this.lastWordRange=i}};this.handleKeyup=function(e){if(d.contains([R.code.ENTER,R.code.SPACE],e.keyCode)){this.replace()}}};var ne=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}};this.shouldInitialize=function(){return m.isTextarea(t[0])}};var re=function(t){var i=this;var n=t.layoutInfo.editingArea;var r=t.options;this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}};this.shouldInitialize=function(){return!!r.placeholder};this.initialize=function(){this.$placeholder=e('<div class="note-placeholder">');this.$placeholder.on("click",function(){t.invoke("focus")}).text(r.placeholder).prependTo(n);this.update()};this.destroy=function(){this.$placeholder.remove()};this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}};var oe=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.toolbar;var o=t.options;var a=o.langInfo;var s=f.invertObject(o.keyMap[c.isMac?"mac":"pc"]);var l=this.representShortcut=function(e){var t=s[e];if(!o.shortcuts||!t){return""}if(c.isMac){t=t.replace("CMD","â").replace("SHIFT","â§")}t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return" ("+t+")"};this.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.addTablePopoverButtons();this.fontInstalledMap={}};this.destroy=function(){delete this.fontInstalledMap};this.isFontInstalled=function(e){if(!i.fontInstalledMap.hasOwnProperty(e)){i.fontInstalledMap[e]=c.isFontInstalled(e)||d.contains(o.fontNamesIgnoreCheck,e)}return i.fontInstalledMap[e]};this.addToolbarButtons=function(){t.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.magic),o),tooltip:a.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(e){if(typeof e==="string"){e={tag:e,title:a.style.hasOwnProperty(e)?a.style[e]:e}}var t=e.tag;var i=e.title;var n=e.style?' style="'+e.style+'" ':"";var r=e.className?' class="'+e.className+'"':"";return"<"+t+n+r+">"+i+"</"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()});t.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(o.icons.bold),tooltip:a.font.bold+l("bold"),click:t.createInvokeHandlerAndUpdateState("editor.bold")}).render()});t.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(o.icons.italic),tooltip:a.font.italic+l("italic"),click:t.createInvokeHandlerAndUpdateState("editor.italic")}).render()});t.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(o.icons.underline),tooltip:a.font.underline+l("underline"),click:t.createInvokeHandlerAndUpdateState("editor.underline")}).render()});t.memo("button.clear",function(){return n.button({contents:n.icon(o.icons.eraser),tooltip:a.font.clear+l("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()});t.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(o.icons.strikethrough),tooltip:a.font.strikethrough+l("strikethrough"),click:t.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()});t.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(o.icons.superscript),tooltip:a.font.superscript,click:t.createInvokeHandlerAndUpdateState("editor.superscript")}).render()});t.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(o.icons.subscript),tooltip:a.font.subscript,click:t.createInvokeHandlerAndUpdateState("editor.subscript")}).render()});t.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents('<span class="note-current-fontname"/>',o),tooltip:a.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:o.icons.menuCheck,items:o.fontNames.filter(i.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:t.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()});t.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents('<span class="note-current-fontsize"/>',o),tooltip:a.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:o.icons.menuCheck,items:o.fontSizes,click:t.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()});t.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(o.icons.font+" note-recent-color"),tooltip:a.color.recent,click:function(i){var n=e(i.currentTarget);t.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00");e.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents("",o),tooltip:a.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+a.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',a.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+a.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',a.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=e(this);t.append(n.palette({colors:o.colors,eventName:t.data("event"),tooltip:o.tooltip}).render())})},click:function(i){var n=e(i.target);var r=n.data("event");var o=n.data("value");if(r&&o){var a=r==="backColor"?"background-color":"color";var s=n.closest(".note-color").find(".note-recent-color");var l=n.closest(".note-color").find(".note-current-color-button");s.css(a,o);l.attr("data-"+r,o);t.invoke("editor."+r,o)}}})]}).render()});t.memo("button.ul",function(){return n.button({contents:n.icon(o.icons.unorderedlist),tooltip:a.lists.unordered+l("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()});t.memo("button.ol",function(){return n.button({contents:n.icon(o.icons.orderedlist),tooltip:a.lists.ordered+l("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var r=n.button({contents:n.icon(o.icons.alignLeft),tooltip:a.paragraph.left+l("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")});var s=n.button({contents:n.icon(o.icons.alignCenter),tooltip:a.paragraph.center+l("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")});var u=n.button({contents:n.icon(o.icons.alignRight),tooltip:a.paragraph.right+l("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")});var c=n.button({contents:n.icon(o.icons.alignJustify),tooltip:a.paragraph.justify+l("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")});var d=n.button({contents:n.icon(o.icons.outdent),tooltip:a.paragraph.outdent+l("outdent"),click:t.createInvokeHandler("editor.outdent")});var h=n.button({contents:n.icon(o.icons.indent),tooltip:a.paragraph.indent+l("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",f.invoke(r,"render"));t.memo("button.justifyCenter",f.invoke(s,"render"));t.memo("button.justifyRight",f.invoke(u,"render"));t.memo("button.justifyFull",f.invoke(c,"render"));t.memo("button.outdent",f.invoke(d,"render"));t.memo("button.indent",f.invoke(h,"render"));t.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.alignLeft),o),tooltip:a.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[r,s,u,c]}),n.buttonGroup({className:"note-list",children:[d,h]})])]).render()});t.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.textHeight),o),tooltip:a.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:o.lineHeights,checkClassName:o.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()});t.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.dropdownButtonContents(n.icon(o.icons.table),o),tooltip:a.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){var n=e.find(".note-dimension-picker-mousecatcher");n.css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",i.tableMoveHandler)}}).render()});t.memo("button.link",function(){return n.button({contents:n.icon(o.icons.link),tooltip:a.link.link+l("linkDialog.show"),click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.picture",function(){return n.button({contents:n.icon(o.icons.picture),tooltip:a.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()});t.memo("button.video",function(){return n.button({contents:n.icon(o.icons.video),tooltip:a.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()});t.memo("button.hr",function(){return n.button({contents:n.icon(o.icons.minus),tooltip:a.hr.insert+l("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()});t.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(o.icons.arrowsAlt),tooltip:a.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()});t.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(o.icons.code),tooltip:a.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()});t.memo("button.redo",function(){return n.button({contents:n.icon(o.icons.redo),tooltip:a.history.redo+l("redo"),click:t.createInvokeHandler("editor.redo")}).render()});t.memo("button.undo",function(){return n.button({contents:n.icon(o.icons.undo),tooltip:a.history.undo+l("undo"),click:t.createInvokeHandler("editor.undo")}).render()});t.memo("button.help",function(){return n.button({contents:n.icon(o.icons.question),tooltip:a.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})};this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()});t.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()});t.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()});t.memo("button.floatLeft",function(){return n.button({contents:n.icon(o.icons.alignLeft),tooltip:a.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()});t.memo("button.floatRight",function(){return n.button({contents:n.icon(o.icons.alignRight),tooltip:a.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()});t.memo("button.floatNone",function(){return n.button({contents:n.icon(o.icons.alignJustify),tooltip:a.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()});t.memo("button.removeMedia",function(){return n.button({contents:n.icon(o.icons.trash),tooltip:a.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})};this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(o.icons.link),tooltip:a.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()});t.memo("button.unlink",function(){return n.button({contents:n.icon(o.icons.unlink),tooltip:a.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})};this.addTablePopoverButtons=function(){t.memo("button.addRowUp",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowAbove),tooltip:a.table.addRowAbove,click:t.createInvokeHandler("editor.addRow","top")}).render()});t.memo("button.addRowDown",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowBelow),tooltip:a.table.addRowBelow,click:t.createInvokeHandler("editor.addRow","bottom")}).render()});t.memo("button.addColLeft",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colBefore),tooltip:a.table.addColLeft,click:t.createInvokeHandler("editor.addCol","left")}).render()});t.memo("button.addColRight",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colAfter),tooltip:a.table.addColRight,click:t.createInvokeHandler("editor.addCol","right")}).render()});t.memo("button.deleteRow",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.rowRemove),tooltip:a.table.delRow,click:t.createInvokeHandler("editor.deleteRow")}).render()});t.memo("button.deleteCol",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.colRemove),tooltip:a.table.delCol,click:t.createInvokeHandler("editor.deleteCol")}).render()});t.memo("button.deleteTable",function(){return n.button({className:"btn-md",contents:n.icon(o.icons.trash),tooltip:a.table.delTable,click:t.createInvokeHandler("editor.deleteTable")}).render()})};this.build=function(e,i){for(var r=0,o=i.length;r<o;r++){var a=i[r];var s=a[0];var l=a[1];var u=n.buttonGroup({className:"note-"+s}).render();for(var c=0,f=l.length;c<f;c++){var d=t.memo("button."+l[c]);if(d){u.append(typeof d==="function"?d(t):d)}}u.appendTo(e)}};this.updateCurrentStyle=function(n){var o=n||r;var a=t.invoke("editor.currentStyle");this.updateBtnStates(o,{".note-btn-bold":function(){return a["font-bold"]==="bold"},".note-btn-italic":function(){return a["font-italic"]==="italic"},".note-btn-underline":function(){return a["font-underline"]==="underline"},".note-btn-subscript":function(){return a["font-subscript"]==="subscript"},".note-btn-superscript":function(){return a["font-superscript"]==="superscript"},".note-btn-strikethrough":function(){return a["font-strikethrough"]==="strikethrough"}});if(a["font-family"]){var s=a["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")});var l=d.find(s,i.isFontInstalled);o.find(".dropdown-fontname a").each(function(){var t=e(this);var i=t.data("value")+""===l+"";t.toggleClass("checked",i)});o.find(".note-current-fontname").text(l)}if(a["font-size"]){var u=a["font-size"];o.find(".dropdown-fontsize a").each(function(){var t=e(this);var i=t.data("value")+""===u+"";t.toggleClass("checked",i)});o.find(".note-current-fontsize").text(u)}if(a["line-height"]){var c=a["line-height"];o.find(".dropdown-line-height li a").each(function(){var t=e(this).data("value")+""===c+"";this.className=t?"checked":""})}};this.updateBtnStates=function(t,i){e.each(i,function(e,i){n.toggleBtnActive(t.find(e),i())})};this.tableMoveHandler=function(t){var i=18;var n=e(t.target.parentNode);var r=n.next();var a=n.find(".note-dimension-picker-mousecatcher");var s=n.find(".note-dimension-picker-highlighted");var l=n.find(".note-dimension-picker-unhighlighted");var u;if(t.offsetX===undefined){var c=e(t.target).offset();u={x:t.pageX-c.left,y:t.pageY-c.top}}else{u={x:t.offsetX,y:t.offsetY}}var f={c:Math.ceil(u.x/i)||1,r:Math.ceil(u.y/i)||1};s.css({width:f.c+"em",height:f.r+"em"});a.data("value",f.c+"x"+f.r);if(3<f.c&&f.c<o.insertTableMaxSize.col){l.css({width:f.c+1+"em"})}if(3<f.r&&f.r<o.insertTableMaxSize.row){l.css({height:f.r+1+"em"})}r.html(f.c+" x "+f.r)}};var ae=function(t){var i=e.summernote.ui;var n=t.layoutInfo.note;var r=t.layoutInfo.editor;var o=t.layoutInfo.toolbar;var a=t.options;this.shouldInitialize=function(){return!a.airMode};this.initialize=function(){a.toolbar=a.toolbar||[];if(!a.toolbar.length){o.hide()}else{t.invoke("buttons.build",o,a.toolbar)}if(a.toolbarContainer){o.appendTo(a.toolbarContainer)}this.changeContainer(false);n.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")});t.invoke("buttons.updateCurrentStyle")};this.destroy=function(){o.children().remove()};this.changeContainer=function(e){if(e){o.prependTo(r)}else{if(a.toolbarContainer){o.appendTo(a.toolbarContainer)}}};this.updateFullscreen=function(e){i.toggleBtnActive(o.find(".btn-fullscreen"),e);this.changeContainer(e)};this.updateCodeview=function(e){i.toggleBtnActive(o.find(".btn-codeview"),e);if(e){this.deactivate()}else{this.activate()}};this.activate=function(e){var t=o.find("button");if(!e){t=t.not(".btn-codeview")}i.toggleBtn(t,true)};this.deactivate=function(e){var t=o.find("button");if(!e){t=t.not(".btn-codeview")}i.toggleBtn(t,false)}};var se=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var a=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i='<div class="form-group note-form-group">'+'<label class="note-form-label">'+a.link.textToDisplay+"</label>"+'<input class="note-link-text form-control '+' note-form-control  note-input" type="text" />'+"</div>"+'<div class="form-group note-form-group">'+'<label class="note-form-label">'+a.link.url+"</label>"+'<input class="note-link-url form-control note-form-control '+'note-input" type="text" value="http://" />'+"</div>"+(!o.disableLinkTarget?e("<div/>").append(n.checkbox({id:"sn-checkbox-open-in-new-window",text:a.link.openInNewWindow,checked:true}).render()).html():"");var s='<button href="#" class="btn btn-primary note-btn note-btn-primary '+'note-link-btn disabled" disabled>'+a.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:a.link.insert,fade:o.dialogsFade,body:i,footer:s}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===R.code.ENTER){t.trigger("click")}})};this.toggleLinkBtn=function(e,t,i){n.toggleBtn(e,t.val()&&i.val())};this.showLinkDialog=function(r){return e.Deferred(function(e){var o=i.$dialog.find(".note-link-text"),a=i.$dialog.find(".note-link-url"),s=i.$dialog.find(".note-link-btn"),l=i.$dialog.find("input[type=checkbox]");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");if(!r.url){r.url=r.text}o.val(r.text);var u=function(){i.toggleLinkBtn(s,o,a);r.text=o.val()};o.on("input",u).on("paste",function(){setTimeout(u,0)});var c=function(){i.toggleLinkBtn(s,o,a);if(!r.text){o.val(a.val())}};a.on("input",c).on("paste",function(){setTimeout(c,0)}).val(r.url).trigger("focus");i.toggleLinkBtn(s,o,a);i.bindEnterKey(a,s);i.bindEnterKey(o,s);var f=r.isNewWindow!==undefined?r.isNewWindow:t.options.linkTargetBlank;l.prop("checked",f);s.one("click",function(t){t.preventDefault();e.resolve({range:r.range,url:a.val(),text:o.val(),isNewWindow:l.is(":checked")});n.hideDialog(i.$dialog)})});n.onDialogHidden(i.$dialog,function(){o.off("input paste keypress");a.off("input paste keypress");s.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)}).promise()};this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange");this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange");t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})};t.memo("help.linkDialog.show",o.langInfo.help["linkDialog.show"])};var le=function(t){var i=this;var n=e.summernote.ui;var r=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()}};this.shouldInitialize=function(){return!d.isEmpty(r.popover.link)};this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content,.note-popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,r.popover.link)};this.destroy=function(){this.$popover.remove()};this.update=function(){if(!t.invoke("editor.hasFocus")){this.hide();return}var i=t.invoke("editor.createRange");if(i.isCollapsed()&&i.isOnAnchor()){var n=m.ancestor(i.sc,m.isAnchor);var r=e(n).attr("href");this.$popover.find("a").attr("href",r).html(r);var o=m.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var ue=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var a=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i="";if(o.maximumImageFileSize){var s=Math.floor(Math.log(o.maximumImageFileSize)/Math.log(1024));var l=(o.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)*1+" "+" KMGTP"[s]+"B";i="<small>"+a.image.maximumFileSize+" : "+l+"</small>"}var u='<div class="form-group note-form-group note-group-select-from-files">'+'<label class="note-form-label">'+a.image.selectFromFiles+"</label>"+'<input class="note-image-input form-control note-form-control note-input" '+' type="file" name="files" accept="image/*" multiple="multiple" />'+i+"</div>"+'<div class="form-group note-group-image-url" style="overflow:auto;">'+'<label class="note-form-label">'+a.image.url+"</label>"+'<input class="note-image-url form-control note-form-control note-input '+' col-md-12" type="text" />'+"</div>";var c='<button href="#" class="btn btn-primary note-btn note-btn-primary '+'note-image-btn disabled" disabled>'+a.image.insert+"</button>";this.$dialog=n.dialog({title:a.image.insert,fade:o.dialogsFade,body:u,footer:c}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===R.code.ENTER){t.trigger("click")}})};this.show=function(){t.invoke("editor.saveRange");this.showImageDialog().then(function(e){n.hideDialog(i.$dialog);t.invoke("editor.restoreRange");if(typeof e==="string"){t.invoke("editor.insertImage",e)}else{t.invoke("editor.insertImagesOrCallback",e)}}).fail(function(){t.invoke("editor.restoreRange")})};this.showImageDialog=function(){return e.Deferred(function(e){var r=i.$dialog.find(".note-image-input"),o=i.$dialog.find(".note-image-url"),a=i.$dialog.find(".note-image-btn");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");r.replaceWith(r.clone().on("change",function(){e.resolve(this.files||this.value)}).val(""));a.click(function(t){t.preventDefault();e.resolve(o.val())});o.on("keyup paste",function(){var e=o.val();n.toggleBtn(a,e)}).val("").trigger("focus");i.bindEnterKey(o,a)});n.onDialogHidden(i.$dialog,function(){r.off("change");o.off("keyup paste keypress");a.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)})}};var ce=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editable;var o=r[0];var a=t.options;this.events={"summernote.disable":function(){i.hide()}};this.shouldInitialize=function(){return!d.isEmpty(a.popover.image)};this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,a.popover.image)};this.destroy=function(){this.$popover.remove()};this.update=function(e){if(m.isImg(e)){var t=m.posFromPlaceholder(e);var i=m.posFromPlaceholder(o);this.$popover.css({display:"block",left:t.left,top:Math.min(t.top,i.top)})}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var fe=function(t){var i=this;var n=e.summernote.ui;var r=t.options;this.events={"summernote.mousedown":function(e,t){i.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}};this.shouldInitialize=function(){return!d.isEmpty(r.popover.table)};this.initialize=function(){this.$popover=n.popover({className:"note-table-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content,.note-popover-content");t.invoke("buttons.build",e,r.popover.table);if(c.isFF){document.execCommand("enableInlineTableEditing",false,false)}};this.destroy=function(){this.$popover.remove()};this.update=function(e){if(t.isDisabled()){return false}var i=m.isCell(e);if(i){var n=m.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else{this.hide()}return i};this.hide=function(){this.$popover.hide()}};var de=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var a=o.langInfo;this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i='<div class="form-group note-form-group row-fluid">'+'<label class="note-form-label">'+a.video.url+' <small class="text-muted">'+a.video.providers+"</small></label>"+'<input class="note-video-url form-control  note-form-control note-input span12" '+' type="text" />'+"</div>";var s='<button href="#" class="btn btn-primary note-btn note-btn-primary '+' note-video-btn disabled" disabled>'+a.video.insert+"</button>";this.$dialog=n.dialog({title:a.video.insert,fade:o.dialogsFade,body:i,footer:s}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(e,t){e.on("keypress",function(e){if(e.keyCode===R.code.ENTER){t.trigger("click")}})};this.createVideoNode=function(t){var i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;var n=t.match(i);var r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/;var o=t.match(r);var a=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/;var s=t.match(a);var l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/;var u=t.match(l);var c=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var f=t.match(c);var d=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/;var h=t.match(d);var p=/\/\/v\.qq\.com.*?vid=(.+)/;var m=t.match(p);var v=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/;var g=t.match(v);var y=/^.+.(mp4|m4v)$/;var b=t.match(y);var w=/^.+.(ogg|ogv)$/;var x=t.match(w);var C=/^.+.(webm)$/;var k=t.match(C);var T;if(n&&n[1].length===11){var S=n[1];T=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+S).attr("width","640").attr("height","360")}else if(o&&o[0].length){T=e("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true")}else if(s&&s[0].length){T=e("<iframe>").attr("frameborder",0).attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed")}else if(u&&u[3].length){T=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+u[3]).attr("width","640").attr("height","360")}else if(f&&f[2].length){T=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+f[2]).attr("width","640").attr("height","360")}else if(h&&h[1].length){T=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+h[1])}else if(m&&m[1].length||g&&g[2].length){var _=m&&m[1].length?m[1]:g[2];T=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+_+"&amp;auto=0")}else if(b||x||k){T=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}else{return false}T.addClass("note-video-clip");return T[0]};this.show=function(){var e=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange");this.showVideoDialog(e).then(function(e){n.hideDialog(i.$dialog);t.invoke("editor.restoreRange");var r=i.createVideoNode(e);if(r){t.invoke("editor.insertNode",r)}}).fail(function(){t.invoke("editor.restoreRange")})};this.showVideoDialog=function(r){return e.Deferred(function(e){var o=i.$dialog.find(".note-video-url"),a=i.$dialog.find(".note-video-btn");n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");o.val(r).on("input",function(){n.toggleBtn(a,o.val())}).trigger("focus");a.click(function(t){t.preventDefault();e.resolve(o.val())});i.bindEnterKey(o,a)});n.onDialogHidden(i.$dialog,function(){o.off("input");a.off("click");if(e.state()==="pending"){e.reject()}});n.showDialog(i.$dialog)})}};var he=function(t){var i=this;var n=e.summernote.ui;var r=t.layoutInfo.editor;var o=t.options;var a=o.langInfo;this.createShortCutList=function(){var i=o.keyMap[c.isMac?"mac":"pc"];return Object.keys(i).map(function(n){var r=i[n];var o=e('<div><div class="help-list-item"/></div>');o.append(e("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.memo("help."+r)||r));return o.html()}).join("")};this.initialize=function(){var t=o.dialogsInBody?e(document.body):r;var i=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.8</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:a.options.help,fade:o.dialogsFade,body:this.createShortCutList(),footer:i,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)};this.destroy=function(){n.hideDialog(this.$dialog);this.$dialog.remove()};this.showHelpDialog=function(){return e.Deferred(function(e){n.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown");e.resolve()});n.showDialog(i.$dialog)}).promise()};this.show=function(){t.invoke("editor.saveRange");this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}};var pe=function(t){var i=this;var n=e.summernote.ui;var r=t.options;var o=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(e,t){if(c.isFF){return}if(!t.relatedTarget||!m.ancestor(t.relatedTarget,f.eq(i.$popover[0]))){i.hide()}}};this.shouldInitialize=function(){return r.airMode&&!d.isEmpty(r.popover.air)};this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,r.popover.air)};this.destroy=function(){this.$popover.remove()};this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var i=d.last(e.range.getClientRects());if(i){var n=f.rect2bnd(i);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-o,top:n.top+n.height});t.invoke("buttons.updateCurrentStyle",this.$popover)}}else{this.hide()}};this.hide=function(){this.$popover.hide()}};var me=function(t){var i=this;var n=e.summernote.ui;var r=5;var o=t.options.hint||[];var a=t.options.hintDirection||"bottom";var s=e.isArray(o)?o:[o];this.events={"summernote.keyup":function(e,t){if(!t.isDefaultPrevented()){i.handleKeyup(t)}},"summernote.keydown":function(e,t){i.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){i.hide()}};this.shouldInitialize=function(){return s.length>0};this.initialize=function(){this.lastWordRange=null;this.$popover=n.popover({className:"note-hint-popover",hideArrow:true,direction:""}).render().appendTo("body");this.$popover.hide();this.$content=this.$popover.find(".popover-content,.note-popover-content");this.$content.on("click",".note-hint-item",function(){i.$content.find(".active").removeClass("active");e(this).addClass("active");i.replace()})};this.destroy=function(){this.$popover.remove()};this.selectItem=function(e){this.$content.find(".active").removeClass("active");e.addClass("active");this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2};this.moveDown=function(){var e=this.$content.find(".note-hint-item.active");var t=e.next();if(t.length){this.selectItem(t)}else{var i=e.parent().next();if(!i.length){i=this.$content.find(".note-hint-group").first()}this.selectItem(i.find(".note-hint-item").first())}};this.moveUp=function(){var e=this.$content.find(".note-hint-item.active");var t=e.prev();if(t.length){this.selectItem(t)}else{var i=e.parent().prev();if(!i.length){i=this.$content.find(".note-hint-group").last()}this.selectItem(i.find(".note-hint-item").last())}};this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var i=this.nodeFromItem(e);this.lastWordRange.insertNode(i);j.createFromNode(i).collapse().select();this.lastWordRange=null;this.hide();t.triggerEvent("change",t.layoutInfo.editable.html(),t.layoutInfo.editable);t.invoke("editor.focus")}};this.nodeFromItem=function(e){var t=s[e.data("index")];var i=e.data("item");var n=t.content?t.content(i):i;if(typeof n==="string"){n=m.createText(n)}return n};this.createItemTemplates=function(t,i){var n=s[t];return i.map(function(i,r){var o=e('<div class="note-hint-item"/>');o.append(n.template?n.template(i):i+"");o.data({index:t,item:i});if(t===0&&r===0){o.addClass("active")}return o})};this.handleKeydown=function(e){if(!this.$popover.is(":visible")){return}if(e.keyCode===R.code.ENTER){e.preventDefault();this.replace()}else if(e.keyCode===R.code.UP){e.preventDefault();this.moveUp()}else if(e.keyCode===R.code.DOWN){e.preventDefault();this.moveDown()}};this.searchKeyword=function(e,t,i){var n=s[e];if(n&&n.match.test(t)&&n.search){var r=n.match.exec(t);n.search(r[1],i)}else{i()}};this.createGroup=function(t,n){var r=e('<div class="note-hint-group note-hint-group-'+t+'"/>');this.searchKeyword(t,n,function(e){e=e||[];if(e.length){r.html(i.createItemTemplates(t,e));i.show()}});return r};this.handleKeyup=function(e){if(d.contains([R.code.ENTER,R.code.UP,R.code.DOWN],e.keyCode)){if(e.keyCode===R.code.ENTER){if(this.$popover.is(":visible")){return}}}else{var n=t.invoke("editor.createRange").getWordRange();var o=n.toString();if(s.length&&o){this.$content.empty();var l=f.rect2bnd(d.last(n.getClientRects()));if(l){this.$popover.hide();this.lastWordRange=n;s.forEach(function(e,t){if(e.match.test(o)){i.createGroup(t,o).appendTo(i.$content)}});if(a==="top"){this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-r})}else{this.$popover.css({left:l.left,top:l.top+l.height+r})}}}else{this.hide()}}};this.show=function(){this.$popover.show()};this.hide=function(){this.$popover.hide()}};e.summernote=e.extend(e.summernote,{version:"0.8.8",ui:M,dom:m,plugins:{},options:{modules:{editor:Y,clipboard:Z,dropzone:G,codeview:Q,statusbar:J,fullscreen:ee,handle:te,hintPopover:me,autoLink:ie,autoSync:ne,placeholder:re,buttons:oe,toolbar:ae,linkDialog:se,linkPopover:le,imageDialog:ue,imagePopover:ce,tablePopover:fe,videoDialog:de,helpDialog:he,airPopover:pe},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:false,width:null,height:null,linkTargetBlank:true,focus:false,tabSize:4,styleWithSpan:true,shortcuts:true,textareaAutoSync:true,direction:null,tooltip:"auto",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:false,dialogsFade:false,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(jQuery)}})(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd){var t=e.fn.select2.amd}var t;(function(){if(!t||!t.requirejs){if(!t){t={}}else{i=t}var e,i,n;(function(t){var r,o,a,s,l={},u={},c={},f={},d=Object.prototype.hasOwnProperty,h=[].slice,p=/\.js$/;function m(e,t){return d.call(e,t)}function v(e,t){var i,n,r,o,a,s,l,u,f,d,h,m=t&&t.split("/"),v=c.map,g=v&&v["*"]||{};if(e&&e.charAt(0)==="."){if(t){e=e.split("/");a=e.length-1;if(c.nodeIdCompat&&p.test(e[a])){e[a]=e[a].replace(p,"")}e=m.slice(0,m.length-1).concat(e);for(f=0;f<e.length;f+=1){h=e[f];if(h==="."){e.splice(f,1);f-=1}else if(h===".."){if(f===1&&(e[2]===".."||e[0]==="..")){break}else if(f>0){e.splice(f-1,2);f-=2}}}e=e.join("/")}else if(e.indexOf("./")===0){e=e.substring(2)}}if((m||g)&&v){i=e.split("/");for(f=i.length;f>0;f-=1){n=i.slice(0,f).join("/");if(m){for(d=m.length;d>0;d-=1){r=v[m.slice(0,d).join("/")];if(r){r=r[n];if(r){o=r;s=f;break}}}}if(o){break}if(!l&&g&&g[n]){l=g[n];u=f}}if(!o&&l){o=l;s=u}if(o){i.splice(0,s,o);e=i.join("/")}}return e}function g(e,i){return function(){var n=h.call(arguments,0);if(typeof n[0]!=="string"&&n.length===1){n.push(null)}return o.apply(t,n.concat([e,i]))}}function y(e){return function(t){return v(t,e)}}function b(e){return function(t){l[e]=t}}function w(e){if(m(u,e)){var i=u[e];delete u[e];f[e]=true;r.apply(t,i)}if(!m(l,e)&&!m(f,e)){throw new Error("No "+e)}return l[e]}function x(e){var t,i=e?e.indexOf("!"):-1;if(i>-1){t=e.substring(0,i);e=e.substring(i+1,e.length)}return[t,e]}a=function(e,t){var i,n=x(e),r=n[0];e=n[1];if(r){r=v(r,t);i=w(r)}if(r){if(i&&i.normalize){e=i.normalize(e,y(t))}else{e=v(e,t)}}else{e=v(e,t);n=x(e);r=n[0];e=n[1];if(r){i=w(r)}}return{f:r?r+"!"+e:e,n:e,pr:r,p:i}};function C(e){return function(){return c&&c.config&&c.config[e]||{}}}s={require:function(e){return g(e)},exports:function(e){var t=l[e];if(typeof t!=="undefined"){return t}else{return l[e]={}}},module:function(e){return{id:e,uri:"",exports:l[e],config:C(e)}}};r=function(e,i,n,r){var o,c,d,h,p,v=[],y=typeof n,x;r=r||e;if(y==="undefined"||y==="function"){i=!i.length&&n.length?["require","exports","module"]:i;for(p=0;p<i.length;p+=1){h=a(i[p],r);c=h.f;if(c==="require"){v[p]=s.require(e)}else if(c==="exports"){v[p]=s.exports(e);x=true}else if(c==="module"){o=v[p]=s.module(e)}else if(m(l,c)||m(u,c)||m(f,c)){v[p]=w(c)}else if(h.p){h.p.load(h.n,g(r,true),b(c),{});v[p]=l[c]}else{throw new Error(e+" missing "+c)}}d=n?n.apply(l[e],v):undefined;if(e){if(o&&o.exports!==t&&o.exports!==l[e]){l[e]=o.exports}else if(d!==t||!x){l[e]=d}}}else if(e){l[e]=n}};e=i=o=function(e,i,n,l,u){if(typeof e==="string"){if(s[e]){return s[e](i)}return w(a(e,i).f)}else if(!e.splice){c=e;if(c.deps){o(c.deps,c.callback)}if(!i){return}if(i.splice){e=i;i=n;n=null}else{e=t}}i=i||function(){};if(typeof n==="function"){n=l;l=u}if(l){r(t,e,i,n)}else{setTimeout(function(){r(t,e,i,n)},4)}return o};o.config=function(e){return o(e)};e._defined=l;n=function(e,t,i){if(typeof e!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!t.splice){i=t;t=[]}if(!m(l,e)&&!m(u,e)){u[e]=[e,t,i]}};n.amd={jQuery:true}})();t.requirejs=e;t.require=i;t.define=n}})();t.define("almond",function(){});t.define("jquery",[],function(){var t=e||$;if(t==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return t});t.define("select2/utils",["jquery"],function(e){var t={};t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var r in t){if(i.call(t,r)){e[r]=t[r]}}n.prototype=t.prototype;e.prototype=new n;e.__super__=t.prototype;return e};function i(e){var t=e.prototype;var i=[];for(var n in t){var r=t[n];if(typeof r!=="function"){continue}if(n==="constructor"){continue}i.push(n)}return i}t.Decorate=function(e,t){var n=i(t);var r=i(e);function o(){var i=Array.prototype.unshift;var n=t.prototype.constructor.length;var r=e.prototype.constructor;if(n>0){i.call(arguments,e.prototype.constructor);r=t.prototype.constructor}r.apply(this,arguments)}t.displayName=e.displayName;function a(){this.constructor=o}o.prototype=new a;for(var s=0;s<r.length;s++){var l=r[s];o.prototype[l]=e.prototype[l]}var u=function(e){var i=function(){};if(e in o.prototype){i=o.prototype[e]}var n=t.prototype[e];return function(){var e=Array.prototype.unshift;e.call(arguments,i);return n.apply(this,arguments)}};for(var c=0;c<n.length;c++){var f=n[c];o.prototype[f]=u(f)}return o};var n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{};if(e in this.listeners){this.listeners[e].push(t)}else{this.listeners[e]=[t]}};n.prototype.trigger=function(e){var t=Array.prototype.slice;var i=t.call(arguments,1);this.listeners=this.listeners||{};if(i==null){i=[]}if(i.length===0){i.push({})}i[0]._type=e;if(e in this.listeners){this.invoke(this.listeners[e],t.call(arguments,1))}if("*"in this.listeners){this.invoke(this.listeners["*"],arguments)}};n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++){e[i].apply(this,t)}};t.Observable=n;t.generateChars=function(e){var t="";for(var i=0;i<e;i++){var n=Math.floor(Math.random()*36);t+=n.toString(36)}return t};t.bind=function(e,t){return function(){e.apply(t,arguments)}};t._convertData=function(e){for(var t in e){var i=t.split("-");var n=e;if(i.length===1){continue}for(var r=0;r<i.length;r++){var o=i[r];o=o.substring(0,1).toLowerCase()+o.substring(1);if(!(o in n)){n[o]={}}if(r==i.length-1){n[o]=e[t]}n=n[o]}delete e[t]}return e};t.hasScroll=function(t,i){var n=e(i);var r=i.style.overflowX;var o=i.style.overflowY;if(r===o&&(o==="hidden"||o==="visible")){return false}if(r==="scroll"||o==="scroll"){return true}return n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth};t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof e!=="string"){return e}return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})};t.appendMany=function(t,i){if(e.fn.jquery.substr(0,3)==="1.7"){var n=e();e.map(i,function(e){n=n.add(e)});i=n}t.append(i)};return t});t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e;this.data=n;this.options=t;i.__super__.constructor.call(this)}t.Extend(i,t.Observable);i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){t.attr("aria-multiselectable","true")}this.$results=t;return t};i.prototype.clear=function(){this.$results.empty()};i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear();this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive"'+' class="select2-results__option"></li>');var r=this.options.get("translations").get(t.message);n.append(i(r(t.args)));n[0].className+=" select2-results__message";this.$results.append(n)};i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};i.prototype.append=function(e){this.hideLoading();var t=[];if(e.results==null||e.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i];var r=this.option(n);t.push(r)}this.$results.append(t)};i.prototype.position=function(e,t){var i=t.find(".select2-results");i.append(e)};i.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)};i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]");var t=e.filter("[aria-selected=true]");if(t.length>0){t.first().trigger("mouseenter")}else{e.first().trigger("mouseenter")}this.ensureHighlightVisible()};i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()});var r=t.$results.find(".select2-results__option[aria-selected]");r.each(function(){var t=e(this);var i=e.data(this,"data");var r=""+i.id;if(i.element!=null&&i.element.selected||i.element==null&&e.inArray(r,n)>-1){t.attr("aria-selected","true")}else{t.attr("aria-selected","false")}})})};i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching");var i={disabled:true,loading:true,text:t(e)};var n=this.option(i);n.className+=" loading-results";this.$results.prepend(n)};i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};i.prototype.option=function(t){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};if(t.disabled){delete n["aria-selected"];n["aria-disabled"]="true"}if(t.id==null){delete n["aria-selected"]}if(t._resultId!=null){i.id=t._resultId}if(t.title){i.title=t.title}if(t.children){n.role="group";n["aria-label"]=t.text;delete n["aria-selected"]}for(var r in n){var o=n[r];i.setAttribute(r,o)}if(t.children){var a=e(i);var s=document.createElement("strong");s.className="select2-results__group";var l=e(s);this.template(t,s);var u=[];for(var c=0;c<t.children.length;c++){var f=t.children[c];var d=this.option(f);u.push(d)}var h=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(u);a.append(s);a.append(h)}else{this.template(t,i)}e.data(i,"data",t);return i};i.prototype.bind=function(t,i){var n=this;var r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(e){n.clear();n.append(e.data);if(t.isOpen()){n.setClasses();n.highlightFirstItem()}});t.on("results:append",function(e){n.append(e.data);if(t.isOpen()){n.setClasses()}});t.on("query",function(e){n.hideMessages();n.showLoading(e)});t.on("select",function(){if(!t.isOpen()){return}n.setClasses();n.highlightFirstItem()});t.on("unselect",function(){if(!t.isOpen()){return}n.setClasses();n.highlightFirstItem()});t.on("open",function(){n.$results.attr("aria-expanded","true");n.$results.attr("aria-hidden","false");n.setClasses();n.ensureHighlightVisible()});t.on("close",function(){n.$results.attr("aria-expanded","false");n.$results.attr("aria-hidden","true");n.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var e=n.getHighlightedResults();if(e.length===0){return}e.trigger("mouseup")});t.on("results:select",function(){var e=n.getHighlightedResults();if(e.length===0){return}var t=e.data("data");if(e.attr("aria-selected")=="true"){n.trigger("close",{})}else{n.trigger("select",{data:t})}});t.on("results:previous",function(){var e=n.getHighlightedResults();var t=n.$results.find("[aria-selected]");var i=t.index(e);if(i===0){return}var r=i-1;if(e.length===0){r=0}var o=t.eq(r);o.trigger("mouseenter");var a=n.$results.offset().top;var s=o.offset().top;var l=n.$results.scrollTop()+(s-a);if(r===0){n.$results.scrollTop(0)}else if(s-a<0){n.$results.scrollTop(l)}});t.on("results:next",function(){var e=n.getHighlightedResults();var t=n.$results.find("[aria-selected]");var i=t.index(e);var r=i+1;if(r>=t.length){return}var o=t.eq(r);o.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(false);var s=o.offset().top+o.outerHeight(false);var l=n.$results.scrollTop()+s-a;if(r===0){n.$results.scrollTop(0)}else if(s>a){n.$results.scrollTop(l)}});t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(e){n.displayMessage(e)});if(e.fn.mousewheel){this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop();var i=n.$results.get(0).scrollHeight-t+e.deltaY;var r=e.deltaY>0&&t-e.deltaY<=0;var o=e.deltaY<0&&i<=n.$results.height();if(r){n.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else if(o){n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height());e.preventDefault();e.stopPropagation()}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this);var r=i.data("data");if(i.attr("aria-selected")==="true"){if(n.options.get("multiple")){n.trigger("unselect",{originalEvent:t,data:r})}else{n.trigger("close",{})}return}n.trigger("select",{originalEvent:t,data:r})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted");n.trigger("results:focus",{data:i,element:e(this)})})};i.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e};i.prototype.destroy=function(){this.$results.remove()};i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(e.length===0){return}var t=this.$results.find("[aria-selected]");var i=t.index(e);var n=this.$results.offset().top;var r=e.offset().top;var o=this.$results.scrollTop()+(r-n);var a=r-n;o-=e.outerHeight(false)*2;if(i<=2){this.$results.scrollTop(0)}else if(a>this.$results.outerHeight()||a<0){this.$results.scrollTop(o)}};i.prototype.template=function(t,i){var n=this.options.get("templateResult");var r=this.options.get("escapeMarkup");var o=n(t,i);if(o==null){i.style.display="none"}else if(typeof o==="string"){i.innerHTML=r(o)}else{e(i).append(o)}};return i});t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e});t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e;this.options=t;n.__super__.constructor.call(this)}t.Extend(n,t.Observable);n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this._tabindex=0;if(this.$element.data("old-tabindex")!=null){this._tabindex=this.$element.data("old-tabindex")}else if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}t.attr("title",this.$element.attr("title"));t.attr("tabindex",this._tabindex);this.$selection=t;return t};n.prototype.bind=function(e,t){var n=this;var r=e.id+"-container";var o=e.id+"-results";this.container=e;this.$selection.on("focus",function(e){n.trigger("focus",e)});this.$selection.on("blur",function(e){n._handleBlur(e)});this.$selection.on("keydown",function(e){n.trigger("keypress",e);if(e.which===i.SPACE){e.preventDefault()}});e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)});e.on("selection:update",function(e){n.update(e.data)});e.on("open",function(){n.$selection.attr("aria-expanded","true");n.$selection.attr("aria-owns",o);n._attachCloseHandler(e)});e.on("close",function(){n.$selection.attr("aria-expanded","false");n.$selection.removeAttr("aria-activedescendant");n.$selection.removeAttr("aria-owns");n.$selection.focus();n._detachCloseHandler(e)});e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)});e.on("disable",function(){n.$selection.attr("tabindex","-1")})};n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){if(document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)){return}i.trigger("blur",t)},1)};n.prototype._attachCloseHandler=function(t){var i=this;e(document.body).on("mousedown.select2."+t.id,function(t){var i=e(t.target);var n=i.closest(".select2");var r=e(".select2.select2-container--open");r.each(function(){var t=e(this);if(this==n[0]){return}var i=t.data("element");i.select2("close")})})};n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)};n.prototype.position=function(e,t){var i=t.find(".selection");i.append(e)};n.prototype.destroy=function(){this._detachCloseHandler(this.container)};n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")};return n});t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}i.Extend(r,t);r.prototype.render=function(){var e=r.__super__.render.call(this);e.addClass("select2-selection--single");e.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return e};r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n);this.$selection.attr("aria-labelledby",n);this.$selection.on("mousedown",function(e){if(e.which!==1){return}i.trigger("toggle",{originalEvent:e})});this.$selection.on("focus",function(e){});this.$selection.on("blur",function(e){});e.on("focus",function(t){if(!e.isOpen()){i.$selection.focus()}});e.on("selection:update",function(e){i.update(e.data)})};r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};r.prototype.display=function(e,t){var i=this.options.get("templateSelection");var n=this.options.get("escapeMarkup");return n(i(e,t))};r.prototype.selectionContainer=function(){return e("<span></span>")};r.prototype.update=function(e){if(e.length===0){this.clear();return}var t=e[0];var i=this.$selection.find(".select2-selection__rendered");var n=this.display(t,i);i.empty().append(n);i.prop("title",t.title||t.text)};return r});t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}i.Extend(n,t);n.prototype.render=function(){var e=n.__super__.render.call(this);e.addClass("select2-selection--multiple");e.html('<ul class="select2-selection__rendered"></ul>');return e};n.prototype.bind=function(t,i){var r=this;n.__super__.bind.apply(this,arguments);this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})});this.$selection.on("click",".select2-selection__choice__remove",function(t){if(r.options.get("disabled")){return}var i=e(this);var n=i.parent();var o=n.data("data");r.trigger("unselect",{originalEvent:t,data:o})})};n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};n.prototype.display=function(e,t){var i=this.options.get("templateSelection");var n=this.options.get("escapeMarkup");return n(i(e,t))};n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+"&times;"+"</span>"+"</li>");return t};n.prototype.update=function(e){this.clear();if(e.length===0){return}var t=[];for(var n=0;n<e.length;n++){var r=e[n];var o=this.selectionContainer();var a=this.display(r,o);o.append(a);o.prop("title",r.title||r.text);o.data("data",r);t.push(o)}var s=this.$selection.find(".select2-selection__rendered");i.appendMany(s,t)};return n});t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));e.call(this,t,i)}t.prototype.normalizePlaceholder=function(e,t){if(typeof t==="string"){t={id:"",text:t}}return t};t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();i.html(this.display(t));i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return i};t.prototype.update=function(e,t){var i=t.length==1&&t[0].id!=this.placeholder.id;var n=t.length>1;if(n||i){return e.call(this,t)}this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)};return t});t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)});t.on("keypress",function(e){n._handleKeyboardClear(e,t)})};i.prototype._handleClear=function(e,t){if(this.options.get("disabled")){return}var i=this.$selection.find(".select2-selection__clear");if(i.length===0){return}t.stopPropagation();var n=i.data("data");for(var r=0;r<n.length;r++){var o={data:n[r]};this.trigger("unselect",o);if(o.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})};i.prototype._handleKeyboardClear=function(e,i,n){if(n.isOpen()){return}if(i.which==t.DELETE||i.which==t.BACKSPACE){this._handleClear(i)}};i.prototype.update=function(t,i){t.call(this,i);if(this.$selection.find(".select2-selection__placeholder").length>0||i.length===0){return}var n=e('<span class="select2-selection__clear">'+"&times;"+"</span>");n.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(n)};return i});t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=i;this.$search=i.find("input");var n=t.call(this);this._transferTabIndex();return n};n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n);t.on("open",function(){r.$search.trigger("focus")});t.on("close",function(){r.$search.val("");r.$search.removeAttr("aria-activedescendant");r.$search.trigger("focus")});t.on("enable",function(){r.$search.prop("disabled",false);r._transferTabIndex()});t.on("disable",function(){r.$search.prop("disabled",true)});t.on("focus",function(e){r.$search.trigger("focus")});t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)});this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)});this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)});this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation();r.trigger("keypress",e);r._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===i.BACKSPACE&&r.$search.val()===""){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=n.data("data");r.searchRemoveChoice(o);e.preventDefault()}}});var o=document.documentMode;var a=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(a){r.$selection.off("input.search input.searchcheck");return}r.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&e.type==="input"){r.$selection.off("input.search input.searchcheck");return}var t=e.which;if(t==i.SHIFT||t==i.CTRL||t==i.ALT){return}if(t==i.TAB){return}r.handleSearch(e)})};n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)};n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");e.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(i){this.$search.focus()}};n.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=false};n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()};n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(this.$search.attr("placeholder")!==""){e=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var t=this.$search.val().length+1;e=t*.75+"em"}this.$search.css("width",e)};return n});t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}t.prototype.bind=function(t,i,n){var r=this;var o=["open","opening","close","closing","select","selecting","unselect","unselecting"];var a=["opening","closing","selecting","unselecting"];t.call(this,i,n);i.on("*",function(t,i){if(e.inArray(t,o)===-1){return}i=i||{};var n=e.Event("select2:"+t,{params:i});r.$element.trigger(n);if(e.inArray(t,a)===-1){return}i.prevented=n.isDefaultPrevented()})};return t});t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}i.prototype.all=function(){return this.dict};i.prototype.get=function(e){return this.dict[e]};i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)};i._cache={};i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])};return i});t.define("select2/diacritics",[],function(){var e={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};return e});t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}e.Extend(t,e.Observable);t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")};t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")};t.prototype.bind=function(e,t){};t.prototype.destroy=function(){};t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";n+=e.generateChars(4);if(i.id!=null){n+="-"+i.id.toString()}else{n+="-"+e.generateChars(4)}return n};return t});t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e;this.options=t;n.__super__.constructor.call(this)}t.Extend(n,e);n.prototype.current=function(e){var t=[];var n=this;this.$element.find(":selected").each(function(){var e=i(this);var r=n.item(e);t.push(r)});e(t)};n.prototype.select=function(e){var t=this;e.selected=true;if(i(e.element).is("option")){e.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(n){var r=[];e=[e];e.push.apply(e,n);for(var o=0;o<e.length;o++){var a=e[o].id;if(i.inArray(a,r)===-1){r.push(a)}}t.$element.val(r);t.$element.trigger("change")})}else{var n=e.id;this.$element.val(n);this.$element.trigger("change")}};n.prototype.unselect=function(e){var t=this;if(!this.$element.prop("multiple")){return}e.selected=false;if(i(e.element).is("option")){e.element.selected=false;this.$element.trigger("change");return}this.current(function(n){var r=[];for(var o=0;o<n.length;o++){var a=n[o].id;if(a!==e.id&&i.inArray(a,r)===-1){r.push(a)}}t.$element.val(r);t.$element.trigger("change")})};n.prototype.bind=function(e,t){var i=this;this.container=e;e.on("select",function(e){i.select(e.data)});e.on("unselect",function(e){i.unselect(e.data)})};n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})};n.prototype.query=function(e,t){var n=[];var r=this;var o=this.$element.children();o.each(function(){var t=i(this);if(!t.is("option")&&!t.is("optgroup")){return}var o=r.item(t);var a=r.matches(e,o);if(a!==null){n.push(a)}});t({results:n})};n.prototype.addOptions=function(e){t.appendMany(this.$element,e)};n.prototype.option=function(e){var t;if(e.children){t=document.createElement("optgroup");t.label=e.text}else{t=document.createElement("option");if(t.textContent!==undefined){t.textContent=e.text}else{t.innerText=e.text}}if(e.id){t.value=e.id}if(e.disabled){t.disabled=true}if(e.selected){t.selected=true}if(e.title){t.title=e.title}var n=i(t);var r=this._normalizeItem(e);r.element=t;i.data(t,"data",r);return n};n.prototype.item=function(e){var t={};t=i.data(e[0],"data");if(t!=null){return t}if(e.is("option")){t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")}}else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};var n=e.children("option");var r=[];for(var o=0;o<n.length;o++){var a=i(n[o]);var s=this.item(a);r.push(s)}t.children=r}t=this._normalizeItem(t);t.element=e[0];i.data(e[0],"data",t);return t};n.prototype._normalizeItem=function(e){if(!i.isPlainObject(e)){e={id:e,text:e}}e=i.extend({},{text:""},e);var t={selected:false,disabled:false};if(e.id!=null){e.id=e.id.toString()}if(e.text!=null){e.text=e.text.toString()}if(e._resultId==null&&e.id&&this.container!=null){e._resultId=this.generateResultId(this.container,e)}return i.extend({},t,e)};n.prototype.matches=function(e,t){var i=this.options.get("matcher");return i(e,t)};return n});t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t);this.addOptions(this.convertToOptions(i))}t.Extend(n,e);n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});if(t.length===0){t=this.option(e);this.addOptions(t)}n.__super__.select.call(this,e)};n.prototype.convertToOptions=function(e){var n=this;var r=this.$element.find("option");var o=r.map(function(){return n.item(i(this)).id}).get();var a=[];function s(e){return function(){return i(this).val()==e.id}}for(var l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(i.inArray(u.id,o)>=0){var c=r.filter(s(u));var f=this.item(c);var d=i.extend(true,{},u,f);var h=this.option(d);c.replaceWith(h);continue}var p=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(p,m)}a.push(p)}return a};return n});t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}n.__super__.constructor.call(this,e,t)}t.Extend(n,e);n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);r.then(t);r.fail(n);return r}};return i.extend({},t,e,true)};n.prototype.processResults=function(e){return e};n.prototype.query=function(e,t){var n=[];var r=this;if(this._request!=null){if(i.isFunction(this._request.abort)){this._request.abort()}this._request=null}var o=i.extend({type:"GET"},this.ajaxOptions);if(typeof o.url==="function"){o.url=o.url.call(this.$element,e)}if(typeof o.data==="function"){o.data=o.data.call(this.$element,e)}function a(){var n=o.transport(o,function(n){var o=r.processResults(n,e);if(r.options.get("debug")&&window.console&&console.error){if(!o||!o.results||!i.isArray(o.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}t(o)},function(){if(n.status&&n.status==="0"){return}r.trigger("results:message",{message:"errorLoading"})});r._request=n}if(this.ajaxOptions.delay&&e.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(a,this.ajaxOptions.delay)}else{a()}};return n});t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var r=n.get("tags");var o=n.get("createTag");if(o!==undefined){this.createTag=o}var a=n.get("insertTag");if(a!==undefined){this.insertTag=a}t.call(this,i,n);if(e.isArray(r)){for(var s=0;s<r.length;s++){var l=r[s];var u=this._normalizeItem(l);var c=this.option(u);this.$element.append(c)}}}t.prototype.query=function(e,t,i){var n=this;this._removeOldTags();if(t.term==null||t.page!=null){e.call(this,t,i);return}function r(e,o){var a=e.results;for(var s=0;s<a.length;s++){var l=a[s];var u=l.children!=null&&!r({results:l.children},true);var c=l.text===t.term;if(c||u){if(o){return false}e.data=a;i(e);return}}if(o){return true}var f=n.createTag(t);if(f!=null){var d=n.option(f);d.attr("data-select2-tag",true);n.addOptions([d]);n.insertTag(a,f)}e.results=a;i(e)}e.call(this,t,r)};t.prototype.createTag=function(t,i){var n=e.trim(i.term);if(n===""){return null}return{id:n,text:n}};t.prototype.insertTag=function(e,t,i){t.unshift(i)};t.prototype._removeOldTags=function(t){var i=this._lastTag;var n=this.$element.find("option[data-select2-tag]");n.each(function(){if(this.selected){return}e(this).remove()})};return t});t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");if(n!==undefined){this.tokenizer=n}e.call(this,t,i)}t.prototype.bind=function(e,t,i){e.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")};t.prototype.query=function(t,i,n){var r=this;function o(t){var i=r._normalizeItem(t);var n=r.$element.find("option").filter(function(){return e(this).val()===i.id});if(!n.length){var o=r.option(i);o.attr("data-select2-tag",true);r._removeOldTags();r.addOptions([o])}a(i)}function a(e){r.trigger("select",{data:e})}i.term=i.term||"";var s=this.tokenizer(i,this.options,o);if(s.term!==i.term){if(this.$search.length){this.$search.val(s.term);this.$search.focus()}i.term=s.term}t.call(this,i,n)};t.prototype.tokenizer=function(t,i,n,r){var o=n.get("tokenSeparators")||[];var a=i.term;var s=0;var l=this.createTag||function(e){return{id:e.term,text:e.term}};while(s<a.length){var u=a[s];if(e.inArray(u,o)===-1){s++;continue}var c=a.substr(0,s);var f=e.extend({},i,{term:c});var d=l(f);if(d==null){s++;continue}r(d);a=a.substr(s+1)||"";s=0}return{term:a}};return t});t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){t.term=t.term||"";if(t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}e.call(this,t,i)};return e});t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){t.term=t.term||"";if(this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}e.call(this,t,i)};return e});t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");e.call(this,t,i)}e.prototype.query=function(e,t,i){var n=this;this.current(function(r){var o=r!=null?r.length:0;if(n.maximumSelectionLength>0&&o>=n.maximumSelectionLength){n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});return}e.call(n,t,i)})};return e});t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e;this.options=t;i.__super__.constructor.call(this)}t.Extend(i,t.Observable);i.prototype.render=function(){var t=e('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");t.attr("dir",this.options.get("dir"));this.$dropdown=t;return t};i.prototype.bind=function(){};i.prototype.position=function(e,t){};i.prototype.destroy=function(){this.$dropdown.remove()};return i});t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}i.prototype.render=function(t){var i=t.call(this);var n=e('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=n;this.$search=n.find("input");i.prepend(n);return i};i.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n);this.$search.on("keydown",function(e){r.trigger("keypress",e);r._keyUpPrevented=e.isDefaultPrevented()});this.$search.on("input",function(t){e(this).off("keyup")});this.$search.on("keyup input",function(e){r.handleSearch(e)});i.on("open",function(){r.$search.attr("tabindex",0);r.$search.focus();window.setTimeout(function(){r.$search.focus()},0)});i.on("close",function(){r.$search.attr("tabindex",-1);r.$search.val("")});i.on("focus",function(){if(i.isOpen()){r.$search.focus()}});i.on("results:all",function(e){if(e.query.term==null||e.query.term===""){var t=r.showSearch(e);if(t){r.$searchContainer.removeClass("select2-search--hide")}else{r.$searchContainer.addClass("select2-search--hide")}}})};i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=false};i.prototype.showSearch=function(e,t){return true};return i});t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));e.call(this,t,i,n)}e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results);e.call(this,t)};e.prototype.normalizePlaceholder=function(e,t){if(typeof t==="string"){t={id:"",text:t}}return t};e.prototype.removePlaceholder=function(e,t){var i=t.slice(0);for(var n=t.length-1;n>=0;n--){var r=t[n];if(this.placeholder.id===r.id){i.splice(n,1)}}return i};return e});t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={};e.call(this,t,i,n);this.$loadingMore=this.createLoadingMore();this.loading=false}t.prototype.append=function(e,t){this.$loadingMore.remove();this.loading=false;e.call(this,t);if(this.showLoadingMore(t)){this.$results.append(this.$loadingMore)}};t.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n);i.on("query",function(e){r.lastParams=e;r.loading=true});i.on("query:append",function(e){r.lastParams=e;r.loading=true});this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);if(r.loading||!t){return}var i=r.$results.offset().top+r.$results.outerHeight(false);var n=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(false);if(i+50>=n){r.loadMore()}})};t.prototype.loadMore=function(){this.loading=true;var t=e.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)};t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more};t.prototype.createLoadingMore=function(){var t=e("<li "+'class="select2-results__option select2-results__option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var i=this.options.get("translations").get("loadingMore");t.html(i(this.lastParams));return t};return t});t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body);t.call(this,i,n)}i.prototype.bind=function(e,t,i){var n=this;var r=false;e.call(this,t,i);t.on("open",function(){n._showDropdown();n._attachPositioningHandler(t);if(!r){r=true;t.on("results:all",function(){n._positionDropdown();n._resizeDropdown()});t.on("results:append",function(){n._positionDropdown();n._resizeDropdown()})}});t.on("close",function(){n._hideDropdown();n._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})};i.prototype.destroy=function(e){e.call(this);this.$dropdownContainer.remove()};i.prototype.position=function(e,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i};i.prototype.render=function(t){var i=e("<span></span>");var n=t.call(this);i.append(n);this.$dropdownContainer=i;return i};i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()};i.prototype._attachPositioningHandler=function(i,n){var r=this;var o="scroll.select2."+n.id;var a="resize.select2."+n.id;var s="orientationchange.select2."+n.id;var l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})});l.on(o,function(t){var i=e(this).data("select2-scroll-position");e(this).scrollTop(i.y)});e(window).on(o+" "+a+" "+s,function(e){r._positionDropdown();r._resizeDropdown()})};i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id;var o="resize.select2."+n.id;var a="orientationchange.select2."+n.id;var s=this.$container.parents().filter(t.hasScroll);s.off(r);e(window).off(r+" "+o+" "+a)};i.prototype._positionDropdown=function(){var t=e(window);var i=this.$dropdown.hasClass("select2-dropdown--above");var n=this.$dropdown.hasClass("select2-dropdown--below");var r=null;var o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(false);var a={height:this.$container.outerHeight(false)};a.top=o.top;a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(false)};var l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()};var u=l.top<o.top-s.height;var c=l.bottom>o.bottom+s.height;var f={left:o.left,top:a.bottom};var d=this.$dropdownParent;if(d.css("position")==="static"){d=d.offsetParent()}var h=d.offset();f.top-=h.top;f.left-=h.left;if(!i&&!n){r="below"}if(!c&&u&&!i){r="above"}else if(!u&&c&&i){r="below"}if(r=="above"||i&&r!=="below"){f.top=a.top-h.top-s.height}if(r!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)}this.$dropdownContainer.css(f)};i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){e.minWidth=e.width;e.position="relative";e.width="auto"}this.$dropdown.css(e)};i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return i});t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){var i=0;for(var n=0;n<t.length;n++){var r=t[n];if(r.children){i+=e(r.children)}else{i++}}return i}function t(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}e.call(this,t,i,n)}t.prototype.showSearch=function(t,i){if(e(i.data.results)<this.minimumResultsForSearch){return false}return t.call(this,i)};return t});t.define("select2/dropdown/selectOnClose",[],function(){function e(){}e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);t.on("close",function(e){n._handleSelectOnClose(e)})};e.prototype._handleSelectOnClose=function(e,t){if(t&&t.originalSelect2Event!=null){var i=t.originalSelect2Event;if(i._type==="select"||i._type==="unselect"){return}}var n=this.getHighlightedResults();if(n.length<1){return}var r=n.data("data");if(r.element!=null&&r.element.selected||r.element==null&&r.selected){return}this.trigger("select",{data:r})};return e});t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i);t.on("select",function(e){n._selectTriggered(e)});t.on("unselect",function(e){n._selectTriggered(e)})};e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;if(i&&i.ctrlKey){return}this.trigger("close",{originalEvent:i,originalSelect2Event:t})};return e});t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum;var i="Please delete "+t+" character";if(t!=1){i+="s"}return i},inputTooShort:function(e){var t=e.minimum-e.input.length;var i="Please enter "+t+" or more characters";return i},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";if(e.maximum!=1){t+="s"}return t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"}}});t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,r,o,a,s,l,u,c,f,d,h,p,m,v,g,y,b,w,x,C,k,T,S,_,D,$){function A(){this.reset()}A.prototype.apply=function(f){f=e.extend(true,{},this.defaults,f);if(f.dataAdapter==null){if(f.ajax!=null){f.dataAdapter=p}else if(f.data!=null){f.dataAdapter=h}else{f.dataAdapter=d}if(f.minimumInputLength>0){f.dataAdapter=u.Decorate(f.dataAdapter,g)}if(f.maximumInputLength>0){f.dataAdapter=u.Decorate(f.dataAdapter,y)}if(f.maximumSelectionLength>0){f.dataAdapter=u.Decorate(f.dataAdapter,b)}if(f.tags){f.dataAdapter=u.Decorate(f.dataAdapter,m)}if(f.tokenSeparators!=null||f.tokenizer!=null){f.dataAdapter=u.Decorate(f.dataAdapter,v)}if(f.query!=null){var $=t(f.amdBase+"compat/query");f.dataAdapter=u.Decorate(f.dataAdapter,$)}if(f.initSelection!=null){var A=t(f.amdBase+"compat/initSelection");f.dataAdapter=u.Decorate(f.dataAdapter,A)}}if(f.resultsAdapter==null){f.resultsAdapter=i;if(f.ajax!=null){f.resultsAdapter=u.Decorate(f.resultsAdapter,k)}if(f.placeholder!=null){f.resultsAdapter=u.Decorate(f.resultsAdapter,C)}if(f.selectOnClose){f.resultsAdapter=u.Decorate(f.resultsAdapter,_)}}if(f.dropdownAdapter==null){if(f.multiple){f.dropdownAdapter=w}else{var E=u.Decorate(w,x);f.dropdownAdapter=E}if(f.minimumResultsForSearch!==0){f.dropdownAdapter=u.Decorate(f.dropdownAdapter,S)}if(f.closeOnSelect){f.dropdownAdapter=u.Decorate(f.dropdownAdapter,D)}if(f.dropdownCssClass!=null||f.dropdownCss!=null||f.adaptDropdownCssClass!=null){var P=t(f.amdBase+"compat/dropdownCss");f.dropdownAdapter=u.Decorate(f.dropdownAdapter,P)}f.dropdownAdapter=u.Decorate(f.dropdownAdapter,T)}if(f.selectionAdapter==null){if(f.multiple){f.selectionAdapter=r}else{f.selectionAdapter=n}if(f.placeholder!=null){f.selectionAdapter=u.Decorate(f.selectionAdapter,o)}if(f.allowClear){f.selectionAdapter=u.Decorate(f.selectionAdapter,a)}if(f.multiple){f.selectionAdapter=u.Decorate(f.selectionAdapter,s)}if(f.containerCssClass!=null||f.containerCss!=null||f.adaptContainerCssClass!=null){var I=t(f.amdBase+"compat/containerCss");f.selectionAdapter=u.Decorate(f.selectionAdapter,I)}f.selectionAdapter=u.Decorate(f.selectionAdapter,l)}if(typeof f.language==="string"){if(f.language.indexOf("-")>0){var F=f.language.split("-");var N=F[0];f.language=[f.language,N]}else{f.language=[f.language]}}if(e.isArray(f.language)){var O=new c;f.language.push("en");var M=f.language;for(var R=0;R<M.length;R++){var j=M[R];var L={};try{L=c.loadPath(j)}catch(e){try{j=this.defaults.amdLanguageBase+j;L=c.loadPath(j)}catch(e){if(f.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+j+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}O.extend(L)}f.translations=O}else{var U=c.loadPath(this.defaults.amdLanguageBase+"en");var H=new c(f.language);H.extend(U);f.translations=H}return f};A.prototype.reset=function(){function t(e){function t(e){return f[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(n,r){if(e.trim(n.term)===""){return r}if(r.children&&r.children.length>0){var o=e.extend(true,{},r);for(var a=r.children.length-1;a>=0;a--){var s=r.children[a];var l=i(n,s);if(l==null){o.children.splice(a,1)}}if(o.children.length>0){return o}return i(n,o)}var u=t(r.text).toUpperCase();var c=t(n.term).toUpperCase();if(u.indexOf(c)>-1){return r}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:u.escapeMarkup,language:$,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}};A.prototype.set=function(t,i){var n=e.camelCase(t);var r={};r[n]=i;var o=u._convertData(r);e.extend(this.defaults,o)};var E=new A;return E});t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function r(t,r){this.options=t;if(r!=null){this.fromElement(r)}this.options=i.apply(this.options);if(r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}r.prototype.fromElement=function(e){var i=["select2"];if(this.options.multiple==null){this.options.multiple=e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=e.prop("disabled")}if(this.options.language==null){if(e.prop("lang")){this.options.language=e.prop("lang").toLowerCase()}else if(e.closest("[lang]").prop("lang")){this.options.language=e.closest("[lang]").prop("lang")}}if(this.options.dir==null){if(e.prop("dir")){this.options.dir=e.prop("dir")}else if(e.closest("[dir]").prop("dir")){this.options.dir=e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}e.prop("disabled",this.options.disabled);e.prop("multiple",this.options.multiple);if(e.data("select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}e.data("data",e.data("select2Tags"));e.data("tags",true)}if(e.data("ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}e.attr("ajax--url",e.data("ajaxUrl"));e.data("ajax--url",e.data("ajaxUrl"))}var r={};if(t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&e[0].dataset){r=t.extend(true,{},e[0].dataset,e.data())}else{r=e.data()}var o=t.extend(true,{},r);o=n._convertData(o);for(var a in o){if(t.inArray(a,i)>-1){continue}if(t.isPlainObject(this.options[a])){t.extend(this.options[a],o[a])}else{this.options[a]=o[a]}}return this};r.prototype.get=function(e){return this.options[e]};r.prototype.set=function(e,t){this.options[e]=t};return r});t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var r=function(e,i){if(e.data("select2")!=null){e.data("select2").destroy()}this.$element=e;this.id=this._generateId(e);i=i||{};this.options=new t(i,e);r.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n);e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,a);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})});e.addClass("select2-hidden-accessible");e.attr("aria-hidden","true");this._syncAttributes();e.data("select2",this)};i.Extend(r,i.Observable);r.prototype._generateId=function(e){var t="";if(e.attr("id")!=null){t=e.attr("id")}else if(e.attr("name")!=null){t=e.attr("name")+"-"+i.generateChars(2)}else{t=i.generateChars(4)}t=t.replace(/(:|\.|\[|\]|,)/g,"");t="select2-"+t;return t};r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));if(t!=null){e.css("width",t)}};r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(t=="resolve"){var n=this._resolveWidth(e,"style");if(n!=null){return n}return this._resolveWidth(e,"element")}if(t=="element"){var r=e.outerWidth(false);if(r<=0){return"auto"}return r+"px"}if(t=="style"){var o=e.attr("style");if(typeof o!=="string"){return null}var a=o.split(";");for(var s=0,l=a.length;s<l;s=s+1){var u=a[s].replace(/\s/g,"");var c=u.match(i);if(c!==null&&c.length>=1){return c[1]}}return null}return t};r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})});this.$element.on("focus.select2",function(e){t.trigger("focus",e)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(n!=null){this._observer=new n(function(i){e.each(i,t._syncA);e.each(i,t._syncS)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",t._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",t._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,false)}};r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerSelectionEvents=function(){var t=this;var i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(e){t.focus(e)});this.selection.on("*",function(n,r){if(e.inArray(n,i)!==-1){return}t.trigger(n,r)})};r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})};r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")});this.on("close",function(){e.$container.removeClass("select2-container--open")});this.on("enable",function(){e.$container.removeClass("select2-container--disabled")});this.on("disable",function(){e.$container.addClass("select2-container--disabled")});this.on("blur",function(){e.$container.removeClass("select2-container--focus")});this.on("query",function(t){if(!e.isOpen()){e.trigger("open",{})}this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;if(e.isOpen()){if(i===n.ESC||i===n.TAB||i===n.UP&&t.altKey){e.close();t.preventDefault()}else if(i===n.ENTER){e.trigger("results:select",{});t.preventDefault()}else if(i===n.SPACE&&t.ctrlKey){e.trigger("results:toggle",{});t.preventDefault()}else if(i===n.UP){e.trigger("results:previous",{});t.preventDefault()}else if(i===n.DOWN){e.trigger("results:next",{});t.preventDefault()}}else{if(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey){e.open();t.preventDefault()}}})};r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};r.prototype._syncSubtree=function(e,t){var i=false;var n=this;if(e&&e.target&&(e.target.nodeName!=="OPTION"&&e.target.nodeName!=="OPTGROUP")){return}if(!t){i=true}else if(t.addedNodes&&t.addedNodes.length>0){for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];if(o.selected){i=true}}}else if(t.removedNodes&&t.removedNodes.length>0){i=true}if(i){this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}};r.prototype.trigger=function(e,t){var i=r.__super__.trigger;var n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t===undefined){t={}}if(e in n){var o=n[e];var a={prevented:false,name:e,args:t};i.call(this,o,a);if(a.prevented){t.prevented=true;return}}i.call(this,e,t)};r.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};r.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};r.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};r.prototype.focus=function(e){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};r.prototype.enable=function(e){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(e==null||e.length===0){e=[true]}var t=!e[0];this.$element.prop("disabled",t)};r.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var e=[];this.dataAdapter.current(function(t){e=t});return e};r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(t==null||t.length===0){return this.$element.val()}var i=t[0];if(e.isArray(i)){i=e.map(i,function(e){return e.toString()})}this.$element.val(i).trigger("change")};r.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};r.prototype.render=function(){var t=e('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");t.attr("dir",this.options.get("dir"));this.$container=t;this.$container.addClass("select2-container--"+this.options.get("theme"));t.data("element",this.$element);return t};return r});t.define("jquery-mousewheel",["jquery"],function(e){return e});t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,i,n){if(e.fn.select2==null){var r=["open","close","destroy"];e.fn.select2=function(t){t=t||{};if(typeof t==="object"){this.each(function(){var n=e.extend(true,{},t);var r=new i(e(this),n)});return this}else if(typeof t==="string"){var n;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e(this).data("select2");if(i==null&&window.console&&console.error){console.error("The select2('"+t+"') method was called on an "+"element that is not using Select2.")}n=i[t].apply(i,o)});if(e.inArray(t,r)>-1){return this}return n}else{throw new Error("Invalid arguments for Select2: "+t)}}}if(e.fn.select2.defaults==null){e.fn.select2.defaults=n}return i});return{define:t.define,require:t.require}}();var i=t.require("jquery.select2");e.fn.select2.amd=t;return i});(function(e){e.fn.extend({tableExport:function(t){function i(t){var i=[];e(t).find("thead").first().find("th").each(function(t,n){void 0!==e(n).attr("data-field")?i[t]=e(n).attr("data-field"):i[t]=t.toString()});return i}function n(t,i,n,r,o){if(-1==e.inArray(n,T.ignoreRow)&&-1==e.inArray(n-r,T.ignoreRow)){var a=e(t).filter(function(){return"none"!=e(this).data("tableexport-display")&&(e(this).is(":visible")||"always"==e(this).data("tableexport-display")||"always"==e(this).closest("table").data("tableexport-display"))}).find(i),s=0;a.each(function(t){if(("always"==e(this).data("tableexport-display")||"none"!=e(this).css("display")&&"hidden"!=e(this).css("visibility")&&"none"!=e(this).data("tableexport-display"))&&"function"===typeof o){var i,r=1,l=1;var u=a.length;if("undefined"!=typeof E[n]&&0<E[n].length){var c=t;for(i=0;i<=c;i++)"undefined"!=typeof E[n][i]&&(o(null,n,i),delete E[n][i],c++);t+=E[n].length;u+=E[n].length}e(this).is("[colspan]")&&(r=parseInt(e(this).attr("colspan"))||1,s+=0<r?r-1:0);e(this).is("[rowspan]")&&(l=parseInt(e(this).attr("rowspan"))||1);i=u;u=t+s;c=!1;0<T.ignoreColumn.length&&(-1!=e.inArray(u,T.ignoreColumn)||-1!=e.inArray(u-i,T.ignoreColumn)||I.length>u&&"undefined"!=typeof I[u]&&-1!=e.inArray(I[u],T.ignoreColumn))&&(c=!0);if(!1===c)for(o(this,n,t),i=1;i<r;i++)o(null,n,t+i);if(1<l)for(u=1;u<l;u++)for("undefined"==typeof E[n+u]&&(E[n+u]=[]),E[n+u][t+s]="",i=1;i<r;i++)E[n+u][t+s-i]=""}});if("undefined"!=typeof E[n]&&0<E[n].length)for(t=0;t<=E[n].length;t++)"undefined"!=typeof E[n][t]&&(o(null,n,t),delete E[n][t])}}function r(e,t){!0===T.consoleLog&&console.log(e.output());if("string"===T.outputMode)return e.output();if("base64"===T.outputMode)return k(e.output());if("window"===T.outputMode)window.open(URL.createObjectURL(e.output("blob")));else try{var i=e.output("blob");saveAs(i,T.fileName+".pdf")}catch(i){C(T.fileName+".pdf","data:application/pdf"+(t?"":";base64")+",",t?e.output("blob"):e.output())}}function o(e,t,i){var n=0;"undefined"!=typeof i&&(n=i.colspan);if(0<=n){for(var r=e.width,o=e.textPos.x,a=t.table.columns.indexOf(t.column),s=1;s<n;s++)r+=t.table.columns[a+s].width;1<n&&("right"===e.styles.halign?o=e.textPos.x+r-e.width:"center"===e.styles.halign&&(o=e.textPos.x+(r-e.width)/2));e.width=r;e.textPos.x=o;"undefined"!=typeof i&&1<i.rowspan&&(e.height*=i.rowspan);if("middle"===e.styles.valign||"bottom"===e.styles.valign)i=("string"===typeof e.text?e.text.split(/\r\n|\r|\n/g):e.text).length||1,2<i&&(e.textPos.y-=(2-1.15)/2*t.row.styles.fontSize*(i-2)/3);return!0}return!1}function a(t,i,n){"undefined"!=typeof n.images&&i.each(function(){var i=e(this).children();if(e(this).is("img")){var r=x(this.src);n.images[r]={url:this.src,src:this.src}}"undefined"!=typeof i&&0<i.length&&a(t,i,n)})}function s(e,t){function i(e){if(e.url){var i=new Image;r=++o;i.crossOrigin="Anonymous";i.onerror=i.onload=function(){if(i.complete&&(0===i.src.indexOf("data:image/")&&(i.width=e.width||i.width||0,i.height=e.height||i.height||0),i.width+i.height)){var n=document.createElement("canvas"),a=n.getContext("2d");n.width=i.width;n.height=i.height;a.drawImage(i,0,0);e.src=n.toDataURL("image/jpeg")}--o||t(r)};i.src=e.url}}var n,r=0,o=0;if("undefined"!=typeof e.images)for(n in e.images)e.images.hasOwnProperty(n)&&i(e.images[n]);(n=o)||(t(r),n=void 0);return n}function l(t,i,n){i.each(function(){var i=e(this).children(),r=0;if(e(this).is("div")){var o=p(v(this,"background-color"),[255,255,255]),a=p(v(this,"border-top-color"),[0,0,0]),s=g(this,"border-top-width",T.jspdf.unit),u=this.getBoundingClientRect(),c=this.offsetLeft*n.dw;r=this.offsetTop*n.dh;var f=u.width*n.dw;u=u.height*n.dh;n.doc.setDrawColor.apply(void 0,a);n.doc.setFillColor.apply(void 0,o);n.doc.setLineWidth(s);n.doc.rect(t.x+c,t.y+r,f,u,s?"FD":"F")}else if(e(this).is("img")&&"undefined"!=typeof n.images&&(o=x(this.src),o=n.images[o],"undefined"!=typeof o)){a=t.width/t.height;s=this.width/this.height;c=t.width;f=t.height;u=19.049976/25.4;s<=a?(f=Math.min(t.height,this.height),c=this.width*f/this.height):s>a&&(c=Math.min(t.width,this.width),f=this.height*c/this.width);c*=u;f*=u;f<t.height&&(r=(t.height-f)/2);try{n.doc.addImage(o.src,t.textPos.x,t.y+r,c,f)}catch(e){}t.textPos.x+=c}"undefined"!=typeof i&&0<i.length&&l(t,i,n)})}function u(t,i,n){if("function"===typeof n.onAutotableText)n.onAutotableText(n.doc,t,i);else{var r=t.textPos.x,o=t.textPos.y,a={halign:t.styles.halign,valign:t.styles.valign};if(i.length){for(i=i[0];i.previousSibling;)i=i.previousSibling;for(var s=!1,l=!1;i;){var u=i.innerText||i.textContent||"";u=(u.length&&" "==u[0]?" ":"")+e.trim(u)+(1<u.length&&" "==u[u.length-1]?" ":"");e(i).is("br")&&(r=t.textPos.x,o+=n.doc.internal.getFontSize());e(i).is("b")?s=!0:e(i).is("i")&&(l=!0);(s||l)&&n.doc.setFontType(s&&l?"bolditalic":s?"bold":"italic");var c=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize();if(c){if("linebreak"===t.styles.overflow&&r>t.textPos.x&&r+c>t.textPos.x+t.width){if(0<=".,!%*;:=-".indexOf(u.charAt(0))){var f=u.charAt(0);c=n.doc.getStringUnitWidth(f)*n.doc.internal.getFontSize();r+c<=t.textPos.x+t.width&&(n.doc.autoTableText(f,r,o,a),u=u.substring(1,u.length));c=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize()}r=t.textPos.x;o+=n.doc.internal.getFontSize()}for(;u.length&&r+c>t.textPos.x+t.width;)u=u.substring(0,u.length-1),c=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize();n.doc.autoTableText(u,r,o,a);r+=c}if(s||l)e(i).is("b")?s=!1:e(i).is("i")&&(l=!1),n.doc.setFontType(s||l?s?"bold":"italic":"normal");i=i.nextSibling}t.textPos.x=r;t.textPos.y=o}else n.doc.autoTableText(t.text,t.textPos.x,t.textPos.y,a)}}function c(e,t,i){return e.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),i)}function f(e){e=c(e||"0",T.numbers.html.thousandsSeparator,"");e=c(e,T.numbers.html.decimalMark,".");return"number"===typeof e||!1!==jQuery.isNumeric(e)?e:!1}function d(t,i,n){var r="";if(null!==t){var o=e(t);if(o[0].hasAttribute("data-tableexport-value"))var a=(a=o.data("tableexport-value"))?a+"":"";else if(a=o.html(),"function"===typeof T.onCellHtmlData)a=T.onCellHtmlData(o,i,n,a);else if(""!=a){t=e.parseHTML(a);var s=0,l=0;a="";e.each(t,function(){if(e(this).is("input"))a+=o.find("input").eq(s++).val();else if(e(this).is("select"))a+=o.find("select option:selected").eq(l++).text();else if("undefined"===typeof e(this).html())a+=e(this).text();else if(void 0===jQuery().bootstrapTable||!0!==e(this).hasClass("filterControl"))a+=e(this).html()})}if(!0===T.htmlContent)r=e.trim(a);else if(a&&""!=a){var u=a.replace(/\n/g,"\u2028").replace(/<br\s*[\/]?>/gi,"â "),c=e("<div/>").html(u).contents();t=!1;u="";e.each(c.text().split("\u2028"),function(t,i){0<t&&(u+=" ");u+=e.trim(i)});e.each(u.split("â "),function(t,i){0<t&&(r+="\n");r+=e.trim(i).replace(/\u00AD/g,"")});if("json"==T.type||"excel"===T.type&&"xmlss"===T.excelFileFormat||!1===T.numbers.output)t=f(r),!1!==t&&(r=Number(t));else if(T.numbers.html.decimalMark!=T.numbers.output.decimalMark||T.numbers.html.thousandsSeparator!=T.numbers.output.thousandsSeparator)if(t=f(r),!1!==t){c=(""+t.substr(0>t?1:0)).split(".");1==c.length&&(c[1]="");var d=3<c[0].length?c[0].length%3:0;r=(0>t?"-":"")+(T.numbers.output.thousandsSeparator?(d?c[0].substr(0,d)+T.numbers.output.thousandsSeparator:"")+c[0].substr(d).replace(/(\d{3})(?=\d)/g,"$1"+T.numbers.output.thousandsSeparator):c[0])+(c[1].length?T.numbers.output.decimalMark+c[1]:"")}}!0===T.escape&&(r=escape(r));"function"===typeof T.onCellData&&(r=T.onCellData(o,i,n,r))}return r}function h(e,t,i){return t+"-"+i.toLowerCase()}function p(e,t){var i=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(e),n=t;i&&(n=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]);return n}function m(t){var i=v(t,"text-align"),n=v(t,"font-weight"),r=v(t,"font-style"),o="";"start"==i&&(i="rtl"==v(t,"direction")?"right":"left");700<=n&&(o="bold");"italic"==r&&(o+=r);""===o&&(o="normal");i={style:{align:i,bcolor:p(v(t,"background-color"),[255,255,255]),color:p(v(t,"color"),[0,0,0]),fstyle:o},colspan:parseInt(e(t).attr("colspan"))||0,rowspan:parseInt(e(t).attr("rowspan"))||0};null!==t&&(t=t.getBoundingClientRect(),i.rect={width:t.width,height:t.height});return i}function v(e,t){try{return window.getComputedStyle?(t=t.replace(/([a-z])([A-Z])/,h),window.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?e.currentStyle[t]:e.style[t]}catch(e){}return""}function g(e,t,i){t=v(e,t).match(/\d+/);if(null!==t){t=t[0];e=e.parentElement;var n=document.createElement("div");n.style.overflow="hidden";n.style.visibility="hidden";e.appendChild(n);n.style.width=100+i;i=100/n.offsetWidth;e.removeChild(n);return t*i}return 0}function y(){if(!(this instanceof y))return new y;this.SheetNames=[];this.Sheets={}}function b(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!=e.length;++n)i[n]=e.charCodeAt(n)&255;return t}function w(e){for(var t={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!=e.length;++n)for(var r=0;r!=e[n].length;++r){i.s.r>n&&(i.s.r=n);i.s.c>r&&(i.s.c=r);i.e.r<n&&(i.e.r=n);i.e.c<r&&(i.e.c=r);var o={v:e[n][r]};if(null!==o.v){var a=XLSX.utils.encode_cell({c:r,r:n});if("number"===typeof o.v)o.t="n";else if("boolean"===typeof o.v)o.t="b";else if(o.v instanceof Date){o.t="n";o.z=XLSX.SSF._table[14];var s=o;var l=(Date.parse(o.v)-new Date(Date.UTC(1899,11,30)))/864e5;s.v=l}else o.t="s";t[a]=o}}1e7>i.s.c&&(t["!ref"]=XLSX.utils.encode_range(i));return t}function x(e){var t=0,i;if(0===e.length)return t;var n=0;for(i=e.length;n<i;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r;t|=0}return t}function C(e,t,i){var n=window.navigator.userAgent;if(!1!==e&&(0<n.indexOf("MSIE ")||n.match(/Trident.*rv\:11\./)))if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([i]),e);else{if(t=document.createElement("iframe"))document.body.appendChild(t),t.setAttribute("style","display:none"),t.contentDocument.open("txt/html","replace"),t.contentDocument.write(i),t.contentDocument.close(),t.focus(),t.contentDocument.execCommand("SaveAs",!0,e),document.body.removeChild(t)}else if(n=document.createElement("a")){var r=null;n.style.display="none";!1!==e?n.download=e:n.target="_blank";"object"==typeof i?(r=window.URL.createObjectURL(i),n.href=r):0<=t.toLowerCase().indexOf("base64,")?n.href=t+k(i):n.href=t+encodeURIComponent(i);document.body.appendChild(n);if(document.createEvent)null===_&&(_=document.createEvent("MouseEvents")),_.initEvent("click",!0,!1),n.dispatchEvent(_);else if(document.createEventObject)n.fireEvent("onclick");else if("function"==typeof n.onclick)n.onclick();r&&window.URL.revokeObjectURL(r);document.body.removeChild(n)}}function k(e){var t,i="",n=0;e=e.replace(/\x0d\x0a/g,"\n");var r="";for(t=0;t<e.length;t++){var o=e.charCodeAt(t);128>o?r+=String.fromCharCode(o):(127<o&&2048>o?r+=String.fromCharCode(o>>6|192):(r+=String.fromCharCode(o>>12|224),r+=String.fromCharCode(o>>6&63|128)),r+=String.fromCharCode(o&63|128))}for(e=r;n<e.length;){var a=e.charCodeAt(n++);r=e.charCodeAt(n++);t=e.charCodeAt(n++);o=a>>2;a=(a&3)<<4|r>>4;var s=(r&15)<<2|t>>6;var l=t&63;isNaN(r)?s=l=64:isNaN(t)&&(l=64);i=i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}return i}var T={consoleLog:!1,csvEnclosure:'"',csvSeparator:",",csvUseBOM:!0,displayTableName:!1,escape:!1,excelFileFormat:"xlshtml",excelstyles:[],fileName:"tableExport",htmlContent:!1,ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"left",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:!0}}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onCellData:null,onCellHtmlData:null,onMsoNumberFormat:null,outputMode:"file",pdfmake:{enabled:!1,docDefinition:{pageOrientation:"portrait",defaultStyle:{font:"Roboto"}},fonts:{}},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"myTableName",type:"csv",worksheetName:"Worksheet"},S=this,_=null,D=[],$=[],A=0,E=[],P="",I=[];e.extend(!0,T,t);I=i(S);if("csv"==T.type||"tsv"==T.type||"txt"==T.type){var F="",N=0;A=0;var O=function(t,i,r){t.each(function(){P="";n(this,i,A,r+t.length,function(e,t,i){var n=P,r="";if(null!==e)if(e=d(e,t,i),t=null===e||""===e?"":e.toString(),"tsv"==T.type)e instanceof Date&&e.toLocaleString(),r=c(t,"\t"," ");else if(e instanceof Date)r=T.csvEnclosure+e.toLocaleString()+T.csvEnclosure;else if(r=c(t,T.csvEnclosure,T.csvEnclosure+T.csvEnclosure),0<=r.indexOf(T.csvSeparator)||/[\r\n ]/g.test(r))r=T.csvEnclosure+r+T.csvEnclosure;P=n+(r+("tsv"==T.type?"\t":T.csvSeparator))});P=e.trim(P).substring(0,P.length-1);0<P.length&&(0<F.length&&(F+="\n"),F+=P);A++});return t.length};N+=O(e(S).find("thead").first().find(T.theadSelector),"th,td",N);e(S).find("tbody").each(function(){N+=O(e(this).find(T.tbodySelector),"td,th",N)});T.tfootSelector.length&&O(e(S).find("tfoot").first().find(T.tfootSelector),"td,th",N);F+="\n";!0===T.consoleLog&&console.log(F);if("string"===T.outputMode)return F;if("base64"===T.outputMode)return k(F);if("window"===T.outputMode){C(!1,"data:text/"+("csv"==T.type?"csv":"plain")+";charset=utf-8,",F);return}try{var M=new Blob([F],{type:"text/"+("csv"==T.type?"csv":"plain")+";charset=utf-8"});saveAs(M,T.fileName+"."+T.type,"csv"!=T.type||!1===T.csvUseBOM)}catch(e){C(T.fileName+"."+T.type,"data:text/"+("csv"==T.type?"csv":"plain")+";charset=utf-8,"+("csv"==T.type&&T.csvUseBOM?"\ufeff":""),F)}}else if("sql"==T.type){A=0;var R="INSERT INTO `"+T.tableName+"` (";D=e(S).find("thead").first().find(T.theadSelector);D.each(function(){n(this,"th,td",A,D.length,function(e,t,i){R+="'"+d(e,t,i)+"',"});A++;R=e.trim(R);R=e.trim(R).substring(0,R.length-1)});R+=") VALUES ";e(S).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(S).find("tfoot").find(T.tfootSelector));e($).each(function(){P="";n(this,"td,th",A,D.length+$.length,function(e,t,i){P+="'"+d(e,t,i)+"',"});3<P.length&&(R+="("+P,R=e.trim(R).substring(0,R.length-1),R+="),");A++});R=e.trim(R).substring(0,R.length-1);R+=";";!0===T.consoleLog&&console.log(R);if("string"===T.outputMode)return R;if("base64"===T.outputMode)return k(R);try{M=new Blob([R],{type:"text/plain;charset=utf-8"}),saveAs(M,T.fileName+".sql")}catch(e){C(T.fileName+".sql","data:application/sql;charset=utf-8,",R)}}else if("json"==T.type){var j=[];D=e(S).find("thead").first().find(T.theadSelector);D.each(function(){var e=[];n(this,"th,td",A,D.length,function(t,i,n){e.push(d(t,i,n))});j.push(e)});var L=[];e(S).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(S).find("tfoot").find(T.tfootSelector));e($).each(function(){var t={},i=0;n(this,"td,th",A,D.length+$.length,function(e,n,r){j.length?t[j[j.length-1][i]]=d(e,n,r):t[i]=d(e,n,r);i++});!1===e.isEmptyObject(t)&&L.push(t);A++});t="";t="head"==T.jsonScope?JSON.stringify(j):"data"==T.jsonScope?JSON.stringify(L):JSON.stringify({header:j,data:L});!0===T.consoleLog&&console.log(t);if("string"===T.outputMode)return t;if("base64"===T.outputMode)return k(t);try{M=new Blob([t],{type:"application/json;charset=utf-8"}),saveAs(M,T.fileName+".json")}catch(e){C(T.fileName+".json","data:application/json;charset=utf-8;base64,",t)}}else if("xml"===T.type){A=0;var U='<?xml version="1.0" encoding="utf-8"?>';U+="<tabledata><fields>";D=e(S).find("thead").first().find(T.theadSelector);D.each(function(){n(this,"th,td",A,D.length,function(e,t,i){U+="<field>"+d(e,t,i)+"</field>"});A++});U+="</fields><data>";var H=1;e(S).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(S).find("tfoot").find(T.tfootSelector));e($).each(function(){var e=1;P="";n(this,"td,th",A,D.length+$.length,function(t,i,n){P+="<column-"+e+">"+d(t,i,n)+"</column-"+e+">";e++});0<P.length&&"<column-1></column-1>"!=P&&(U+='<row id="'+H+'">'+P+"</row>",H++);A++});U+="</data></tabledata>";!0===T.consoleLog&&console.log(U);if("string"===T.outputMode)return U;if("base64"===T.outputMode)return k(U);try{M=new Blob([U],{type:"application/xml;charset=utf-8"}),saveAs(M,T.fileName+".xml")}catch(e){C(T.fileName+".xml","data:application/xml;charset=utf-8;base64,",U)}}else if("excel"===T.type&&"xmlss"===T.excelFileFormat){var z=[];e(S).filter(function(){return"none"!=e(this).data("tableexport-display")&&(e(this).is(":visible")||"always"==e(this).data("tableexport-display"))}).each(function(){var t=e(this),r="";A=0;I=i(this);D=t.find("thead").first().find(T.theadSelector);r+="<Table>";var o=0;D.each(function(){P="";n(this,"th,td",A,D.length,function(e,t,i){null!==e&&(P+='<Cell><Data ss:Type="String">'+d(e,t,i)+"</Data></Cell>",o++)});0<P.length&&(r+="<Row>"+P+"</Row>");A++});$=[];t.find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});e($).each(function(){P="";n(this,"td,th",A,D.length+$.length,function(e,t,i){if(null!==e){var n="String",r="";e=d(e,t,i);!1!==jQuery.isNumeric(e)?n="Number":(t=e,-1<t.indexOf("%")?(t=f(t.replace(/%/g,"")),!1!==t&&(t/=100)):t=!1,!1!==t&&(e=t,n="Number",r=' ss:StyleID="pct1"'));"Number"!==n&&(e=e.replace(/\n/g,"<br>"));P+="<Cell"+r+'><Data ss:Type="'+n+'">'+e+"</Data></Cell>"}});0<P.length&&(r+="<Row>"+P+"</Row>");A++});r+="</Table>";z.push(r);!0===T.consoleLog&&console.log(r)});t='<?xml version="1.0" encoding="UTF-8"?><?mso-application progid="Excel.Sheet"?> <Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"> <DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> <Created>'+(new Date).toISOString()+'</Created> </DocumentProperties> <OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> <AllowPNG/> </OfficeDocumentSettings> <ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> <WindowHeight>9000</WindowHeight> <WindowWidth>13860</WindowWidth> <WindowTopX>0</WindowTopX> <WindowTopY>0</WindowTopY> <ProtectStructure>False</ProtectStructure> <ProtectWindows>False</ProtectWindows> </ExcelWorkbook> <Styles> <Style ss:ID="Default" ss:Name="Default"> <Alignment ss:Vertical="Center"/> <Borders/> <Font/> <Interior/> <NumberFormat/> <Protection/> </Style> <Style ss:ID="Normal" ss:Name="Normal"/> <Style ss:ID="pct1">   <NumberFormat ss:Format="Percent"/> </Style> </Styles>';for(var B=0;B<z.length;B++)t+='<Worksheet ss:Name="'+("string"===typeof T.worksheetName?T.worksheetName+" "+(B+1):"undefined"!==typeof T.worksheetName[B]?T.worksheetName[B]:"Table "+(B+1))+'">'+z[B]+"<WorksheetOptions/> </Worksheet>";t+="</Workbook>";!0===T.consoleLog&&console.log(t);if("string"===T.outputMode)return t;if("base64"===T.outputMode)return k(t);try{M=new Blob([t],{type:"application/xml;charset=utf-8"}),saveAs(M,T.fileName+".xml")}catch(e){C(T.fileName+".xml","data:application/xml;charset=utf-8;base64,",t)}}else if("excel"==T.type||"xls"==T.type||"word"==T.type||"doc"==T.type){t="excel"==T.type||"xls"==T.type?"excel":"word";B="excel"==t?"xls":"doc";var q='xmlns:x="urn:schemas-microsoft-com:office:'+t+'"',W="";e(S).filter(function(){return"none"!=e(this).data("tableexport-display")&&(e(this).is(":visible")||"always"==e(this).data("tableexport-display"))}).each(function(){var t=e(this);A=0;I=i(this);W+="<table><thead>";D=t.find("thead").first().find(T.theadSelector);D.each(function(){P="";n(this,"th,td",A,D.length,function(t,i,n){if(null!==t){var r="";P+="<th";for(var o in T.excelstyles)if(T.excelstyles.hasOwnProperty(o)){var a=e(t).css(T.excelstyles[o]);""!==a&&"0px none rgb(0, 0, 0)"!=a&&"rgba(0, 0, 0, 0)"!=a&&(r+=""===r?'style="':";",r+=T.excelstyles[o]+":"+a)}""!==r&&(P+=" "+r+'"');e(t).is("[colspan]")&&(P+=' colspan="'+e(t).attr("colspan")+'"');e(t).is("[rowspan]")&&(P+=' rowspan="'+e(t).attr("rowspan")+'"');P+=">"+d(t,i,n)+"</th>"}});0<P.length&&(W+="<tr>"+P+"</tr>");A++});W+="</thead><tbody>";t.find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,t.find("tfoot").find(T.tfootSelector));e($).each(function(){var t=e(this);P="";n(this,"td,th",A,D.length+$.length,function(i,n,r){if(null!==i){var o="",a=e(i).data("tableexport-msonumberformat");"undefined"==typeof a&&"function"===typeof T.onMsoNumberFormat&&(a=T.onMsoNumberFormat(i,n,r));"undefined"!=typeof a&&""!==a&&(o="style=\"mso-number-format:'"+a+"'");for(var s in T.excelstyles)T.excelstyles.hasOwnProperty(s)&&(a=e(i).css(T.excelstyles[s]),""===a&&(a=t.css(T.excelstyles[s])),""!==a&&"0px none rgb(0, 0, 0)"!=a&&"rgba(0, 0, 0, 0)"!=a&&(o+=""===o?'style="':";",o+=T.excelstyles[s]+":"+a));P+="<td";""!==o&&(P+=" "+o+'"');e(i).is("[colspan]")&&(P+=' colspan="'+e(i).attr("colspan")+'"');e(i).is("[rowspan]")&&(P+=' rowspan="'+e(i).attr("rowspan")+'"');P+=">"+d(i,n,r).replace(/\n/g,"<br>")+"</td>"}});0<P.length&&(W+="<tr>"+P+"</tr>");A++});T.displayTableName&&(W+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+d(e("<p>"+T.tableName+"</p>"))+"</td></tr>");W+="</tbody></table>";!0===T.consoleLog&&console.log(W)});q='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+q+' xmlns="http://www.w3.org/TR/REC-html40">'+('<meta http-equiv="content-type" content="application/vnd.ms-'+t+'; charset=UTF-8">')+"<head>";"excel"===t&&(q+="\x3c!--[if gte mso 9]>",q+="<xml>",q+="<x:ExcelWorkbook>",q+="<x:ExcelWorksheets>",q+="<x:ExcelWorksheet>",q+="<x:Name>",q+=T.worksheetName,q+="</x:Name>",q+="<x:WorksheetOptions>",q+="<x:DisplayGridlines/>",q+="</x:WorksheetOptions>",q+="</x:ExcelWorksheet>",q+="</x:ExcelWorksheets>",q+="</x:ExcelWorkbook>",q+="</xml>",q+="<![endif]--\x3e");q+="<style>br {mso-data-placement:same-cell;}</style>";q+="</head>";q+="<body>";q+=W;q+="</body>";q+="</html>";!0===T.consoleLog&&console.log(q);if("string"===T.outputMode)return q;if("base64"===T.outputMode)return k(q);try{M=new Blob([q],{type:"application/vnd.ms-"+T.type}),saveAs(M,T.fileName+"."+B)}catch(e){C(T.fileName+"."+B,"data:application/vnd.ms-"+t+";base64,",q)}}else if("xlsx"==T.type){var V=[],Y=[];A=0;$=e(S).find("thead").first().find(T.theadSelector);e(S).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(S).find("tfoot").find(T.tfootSelector));e($).each(function(){var e=[];n(this,"th,td",A,$.length,function(t,i,n){if("undefined"!==typeof t&&null!==t){n=d(t,i,n);i=parseInt(t.getAttribute("colspan"));t=parseInt(t.getAttribute("rowspan"));Y.forEach(function(t){if(A>=t.s.r&&A<=t.e.r&&e.length>=t.s.c&&e.length<=t.e.c)for(var i=0;i<=t.e.c-t.s.c;++i)e.push(null)});if(t||i)i=i||1,Y.push({s:{r:A,c:e.length},e:{r:A+(t||1)-1,c:e.length+i-1}});"function"!==typeof T.onCellData&&""!==n&&n==+n&&(n=+n);e.push(""!==n?n:null);if(i)for(t=0;t<i-1;++t)e.push(null)}});V.push(e);A++});t=new y;B=w(V);B["!merges"]=Y;t.SheetNames.push(T.worksheetName);t.Sheets[T.worksheetName]=B;t=XLSX.write(t,{bookType:T.type,bookSST:!1,type:"binary"});try{M=new Blob([b(t)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),saveAs(M,T.fileName+"."+T.type)}catch(e){C(T.fileName+"."+T.type,"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8,",b(t))}}else if("png"==T.type)html2canvas(e(S)[0]).then(function(e){e=e.toDataURL();for(var t=atob(e.substring(22)),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);!0===T.consoleLog&&console.log(t);if("string"===T.outputMode)return t;if("base64"===T.outputMode)return k(e);if("window"===T.outputMode)window.open(e);else try{M=new Blob([i],{type:"image/png"}),saveAs(M,T.fileName+".png")}catch(e){C(T.fileName+".png","data:image/png,",M)}});else if("pdf"==T.type)if(!0===T.pdfmake.enabled){t=[];var Z=[];A=0;B=function(t,i,r){var o=0;e(t).each(function(){var e=[];n(this,i,A,r,function(t,i,n){if("undefined"!==typeof t&&null!==t){var r=parseInt(t.getAttribute("colspan")),o=parseInt(t.getAttribute("rowspan"));t=d(t,i,n)||" ";1<r||1<o?e.push({colSpan:r||1,rowSpan:o||1,text:t}):e.push(t)}else e.push(" ")});e.length&&Z.push(e);o<e.length&&(o=e.length);A++});return o};D=e(this).find("thead").first().find(T.theadSelector);q=B(D,"th,td",D.length);for(var G=t.length;G<q;G++)t.push("*");e(this).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(this).find("tfoot").find(T.tfootSelector));B($,"th,td",D.length+$.length);t={content:[{table:{headerRows:D.length,widths:t,body:Z}}]};e.extend(!0,t,T.pdfmake.docDefinition);pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};e.extend(!0,pdfMake.fonts,T.pdfmake.fonts);pdfMake.createPdf(t).getBuffer(function(e){try{var t=new Blob([e],{type:"application/pdf"});saveAs(t,T.fileName+".pdf")}catch(t){C(T.fileName+".pdf","data:application/pdf;base64,",e)}})}else if(!1===T.jspdf.autotable){t={dim:{w:g(e(S).first().get(0),"width","mm"),h:g(e(S).first().get(0),"height","mm")},pagesplit:!1};var K=new jsPDF(T.jspdf.orientation,T.jspdf.unit,T.jspdf.format);K.addHTML(e(S).first(),T.jspdf.margins.left,T.jspdf.margins.top,t,function(){r(K,!1)})}else{var Q=T.jspdf.autotable.tableExport;if("string"===typeof T.jspdf.format&&"bestfit"===T.jspdf.format.toLowerCase()){var X={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89]},J="",ee="",te=0;e(S).filter(":visible").each(function(){if("none"!=e(this).css("display")){var t=g(e(this).get(0),"width","pt");if(t>te){t>X.a0[0]&&(J="a0",ee="l");for(var i in X)X.hasOwnProperty(i)&&X[i][1]>t&&(J=i,ee="l",X[i][0]>t&&(ee="p"));te=t}}});T.jspdf.format=""===J?"a4":J;T.jspdf.orientation=""===ee?"w":ee}if(null==Q.doc&&(Q.doc=new jsPDF(T.jspdf.orientation,T.jspdf.unit,T.jspdf.format),"function"===typeof T.jspdf.onDocCreated))T.jspdf.onDocCreated(Q.doc);!0===Q.outputImages&&(Q.images={});"undefined"!=typeof Q.images&&(e(S).filter(function(){return"none"!=e(this).data("tableexport-display")&&(e(this).is(":visible")||"always"==e(this).data("tableexport-display"))}).each(function(){var t=0;D=e(this).find("thead").find(T.theadSelector);e(this).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(this).find("tfoot").find(T.tfootSelector));e($).each(function(){n(this,"td,th",D.length+t,D.length+$.length,function(t){if("undefined"!==typeof t&&null!==t){var i=e(t).children();"undefined"!=typeof i&&0<i.length&&a(t,i,Q)}});t++})}),D=[],$=[]);s(Q,function(){e(S).filter(function(){return"none"!=e(this).data("tableexport-display")&&(e(this).is(":visible")||"always"==e(this).data("tableexport-display"))}).each(function(){var t,r=0;I=i(this);Q.columns=[];Q.rows=[];Q.rowoptions={};if("function"===typeof Q.onTable&&!1===Q.onTable(e(this),T))return!0;T.jspdf.autotable.tableExport=null;var a=e.extend(!0,{},T.jspdf.autotable);T.jspdf.autotable.tableExport=Q;a.margin={};e.extend(!0,a.margin,T.jspdf.margins);a.tableExport=Q;"function"!==typeof a.beforePageContent&&(a.beforePageContent=function(e){1==e.pageCount&&e.table.rows.concat(e.table.headerRow).forEach(function(t){0<t.height&&(t.height+=(2-1.15)/2*t.styles.fontSize,e.table.height+=(2-1.15)/2*t.styles.fontSize)})});"function"!==typeof a.createdHeaderCell&&(a.createdHeaderCell=function(t,i){t.styles=e.extend({},i.row.styles);if("undefined"!=typeof Q.columns[i.column.dataKey]){var n=Q.columns[i.column.dataKey];if("undefined"!=typeof n.rect){t.contentWidth=n.rect.width;if("undefined"==typeof Q.heightRatio||0===Q.heightRatio){var r=i.row.raw[i.column.dataKey].rowspan?i.row.raw[i.column.dataKey].rect.height/i.row.raw[i.column.dataKey].rowspan:i.row.raw[i.column.dataKey].rect.height;Q.heightRatio=t.styles.rowHeight/r}r=i.row.raw[i.column.dataKey].rect.height*Q.heightRatio;r>t.styles.rowHeight&&(t.styles.rowHeight=r)}"undefined"!=typeof n.style&&!0!==n.style.hidden&&(t.styles.halign=n.style.align,"inherit"===a.styles.fillColor&&(t.styles.fillColor=n.style.bcolor),"inherit"===a.styles.textColor&&(t.styles.textColor=n.style.color),"inherit"===a.styles.fontStyle&&(t.styles.fontStyle=n.style.fstyle))}});"function"!==typeof a.createdCell&&(a.createdCell=function(e,t){var i=Q.rowoptions[t.row.index+":"+t.column.dataKey];"undefined"!=typeof i&&"undefined"!=typeof i.style&&!0!==i.style.hidden&&(e.styles.halign=i.style.align,"inherit"===a.styles.fillColor&&(e.styles.fillColor=i.style.bcolor),"inherit"===a.styles.textColor&&(e.styles.textColor=i.style.color),"inherit"===a.styles.fontStyle&&(e.styles.fontStyle=i.style.fstyle))});"function"!==typeof a.drawHeaderCell&&(a.drawHeaderCell=function(e,t){var i=Q.columns[t.column.dataKey];return(!0!==i.style.hasOwnProperty("hidden")||!0!==i.style.hidden)&&0<=i.rowIndex?o(e,t,i):!1});"function"!==typeof a.drawCell&&(a.drawCell=function(e,t){var i=Q.rowoptions[t.row.index+":"+t.column.dataKey];if(o(e,t,i))if(Q.doc.rect(e.x,e.y,e.width,e.height,e.styles.fillStyle),"undefined"!=typeof i&&"undefined"!=typeof i.kids&&0<i.kids.length){var n=e.height/i.rect.height;if(n>Q.dh||"undefined"==typeof Q.dh)Q.dh=n;Q.dw=e.width/i.rect.width;n=e.textPos.y;l(e,i.kids,Q);e.textPos.y=n;u(e,i.kids,Q)}else u(e,{},Q);return!1});Q.headerrows=[];D=e(this).find("thead").find(T.theadSelector);D.each(function(){t=0;Q.headerrows[r]=[];n(this,"th,td",r,D.length,function(e,i,n){var o=m(e);o.title=d(e,i,n);o.key=t++;o.rowIndex=r;Q.headerrows[r].push(o)});r++});if(0<r)for(var s=r-1;0<=s;)e.each(Q.headerrows[s],function(){var e=this;0<s&&null===this.rect&&(e=Q.headerrows[s-1][this.key]);null!==e&&0<=e.rowIndex&&(!0!==e.style.hasOwnProperty("hidden")||!0!==e.style.hidden)&&Q.columns.push(e)}),s=0<Q.columns.length?-1:s-1;var c=0;$=[];e(this).find("tbody").each(function(){$.push.apply($,e(this).find(T.tbodySelector))});T.tfootSelector.length&&$.push.apply($,e(this).find("tfoot").find(T.tfootSelector));e($).each(function(){var i=[];t=0;n(this,"td,th",r,D.length+$.length,function(n,r,o){if("undefined"===typeof Q.columns[t]){var a={title:"",key:t,style:{hidden:!0}};Q.columns.push(a)}"undefined"!==typeof n&&null!==n?(a=m(n),a.kids=e(n).children()):(a=e.extend(!0,{},Q.rowoptions[c+":"+(t-1)]),a.colspan=-1);Q.rowoptions[c+":"+t++]=a;i.push(d(n,r,o))});i.length&&(Q.rows.push(i),c++);r++});if("function"===typeof Q.onBeforeAutotable)Q.onBeforeAutotable(e(this),Q.columns,Q.rows,a);Q.doc.autoTable(Q.columns,Q.rows,a);if("function"===typeof Q.onAfterAutotable)Q.onAfterAutotable(e(this),a);T.jspdf.autotable.startY=Q.doc.autoTableEndPosY()+a.margin.top});r(Q.doc,"undefined"!=typeof Q.images&&!1===jQuery.isEmptyObject(Q.images));"undefined"!=typeof Q.headerrows&&(Q.headerrows.length=0);"undefined"!=typeof Q.columns&&(Q.columns.length=0);"undefined"!=typeof Q.rows&&(Q.rows.length=0);delete Q.doc;Q.doc=null})}return this}})})(jQuery);(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):e.moment=t()})(this,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function i(t){e=t}function n(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function r(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function o(e){var t;for(t in e){return false}return true}function a(e){return e===void 0}function s(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function l(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u(e,t){var i=[],n;for(n=0;n<e.length;++n){i.push(t(e[n],n))}return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var i in t){if(c(t,i)){e[i]=t[i]}}if(c(t,"toString")){e.toString=t.toString}if(c(t,"valueOf")){e.valueOf=t.valueOf}return e}function d(e,t,i,n){return Ui(e,t,i,n,true).utc()}function h(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function p(e){if(e._pf==null){e._pf=h()}return e._pf}var m;if(Array.prototype.some){m=Array.prototype.some}else{m=function(e){var t=Object(this);var i=t.length>>>0;for(var n=0;n<i;n++){if(n in t&&e.call(this,t[n],n,t)){return true}}return false}}var v=m;function g(e){if(e._isValid==null){var t=p(e);var i=v.call(t.parsedDateParts,function(e){return e!=null});var n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict){n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=n}else{return n}}return e._isValid}function y(e){var t=d(NaN);if(e!=null){f(p(t),e)}else{p(t).userInvalidated=true}return t}var b=t.momentProperties=[];function w(e,t){var i,n,r;if(!a(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!a(t._i)){e._i=t._i}if(!a(t._f)){e._f=t._f}if(!a(t._l)){e._l=t._l}if(!a(t._strict)){e._strict=t._strict}if(!a(t._tzm)){e._tzm=t._tzm}if(!a(t._isUTC)){e._isUTC=t._isUTC}if(!a(t._offset)){e._offset=t._offset}if(!a(t._pf)){e._pf=p(t)}if(!a(t._locale)){e._locale=t._locale}if(b.length>0){for(i=0;i<b.length;i++){n=b[i];r=t[n];if(!a(r)){e[n]=r}}}return e}var x=false;function C(e){w(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(x===false){x=true;t.updateOffset(this);x=false}}function k(e){return e instanceof C||e!=null&&e._isAMomentObject!=null}function T(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function S(e){var t=+e,i=0;if(t!==0&&isFinite(t)){i=T(t)}return i}function _(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,a;for(a=0;a<n;a++){if(i&&e[a]!==t[a]||!i&&S(e[a])!==S(t[a])){o++}}return o+r}function D(e){if(t.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function $(e,i){var n=true;return f(function(){if(t.deprecationHandler!=null){t.deprecationHandler(null,e)}if(n){var r=[];var o;for(var a=0;a<arguments.length;a++){o="";if(typeof arguments[a]==="object"){o+="\n["+a+"] ";for(var s in arguments[0]){o+=s+": "+arguments[0][s]+", "}o=o.slice(0,-2)}else{o=arguments[a]}r.push(o)}D(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack);n=false}return i.apply(this,arguments)},i)}var A={};function E(e,i){if(t.deprecationHandler!=null){t.deprecationHandler(e,i)}if(!A[e]){D(i);A[e]=true}}t.suppressDeprecationWarnings=false;t.deprecationHandler=null;function P(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function I(e){var t,i;for(i in e){t=e[i];if(P(t)){this[i]=t}else{this["_"+i]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F(e,t){var i=f({},e),n;for(n in t){if(c(t,n)){if(r(e[n])&&r(t[n])){i[n]={};f(i[n],e[n]);f(i[n],t[n])}else if(t[n]!=null){i[n]=t[n]}else{delete i[n]}}}for(n in e){if(c(e,n)&&!c(t,n)&&r(e[n])){i[n]=f({},i[n])}}return i}function N(e){if(e!=null){this.set(e)}}var O;if(Object.keys){O=Object.keys}else{O=function(e){var t,i=[];for(t in e){if(c(e,t)){i.push(t)}}return i}}var M=O;var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,i){var n=this._calendar[e]||this._calendar["sameElse"];return P(n)?n.call(t,i):n}var L={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function U(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];if(t||!i){return t}this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var H="Invalid date";function z(){return this._invalidDate}var B="%d";var q=/\d{1,2}/;function W(e){return this._ordinal.replace("%d",e)}var V={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Y(e,t,i,n){var r=this._relativeTime[i];return P(r)?r(e,t,i,n):r.replace(/%d/i,e)}function Z(e,t){var i=this._relativeTime[e>0?"future":"past"];return P(i)?i(t):i.replace(/%s/i,t)}var G={};function K(e,t){var i=e.toLowerCase();G[i]=G[i+"s"]=G[t]=e}function Q(e){return typeof e==="string"?G[e]||G[e.toLowerCase()]:undefined}function X(e){var t={},i,n;for(n in e){if(c(e,n)){i=Q(n);if(i){t[i]=e[n]}}}return t}var J={};function ee(e,t){J[e]=t}function te(e){var t=[];for(var i in e){t.push({unit:i,priority:J[i]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ie(e,i){return function(n){if(n!=null){re(this,e,n);t.updateOffset(this,i);return this}else{return ne(this,e)}}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,i){if(e.isValid()){e._d["set"+(e._isUTC?"UTC":"")+t](i)}}function oe(e){e=Q(e);if(P(this[e])){return this[e]()}return this}function ae(e,t){if(typeof e==="object"){e=X(e);var i=te(e);for(var n=0;n<i.length;n++){this[i[n].unit](e[i[n].unit])}}else{e=Q(e);if(P(this[e])){return this[e](t)}}return this}function se(e,t,i){var n=""+Math.abs(e),r=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var le=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var ue=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var ce={};var fe={};function de(e,t,i,n){var r=n;if(typeof n==="string"){r=function(){return this[n]()}}if(e){fe[e]=r}if(t){fe[t[0]]=function(){return se(r.apply(this,arguments),t[1],t[2])}}if(i){fe[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)}}}function he(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function pe(e){var t=e.match(le),i,n;for(i=0,n=t.length;i<n;i++){if(fe[t[i]]){t[i]=fe[t[i]]}else{t[i]=he(t[i])}}return function(i){var r="",o;for(o=0;o<n;o++){r+=P(t[o])?t[o].call(i,e):t[o]}return r}}function me(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=ve(t,e.localeData());ce[t]=ce[t]||pe(t);return ce[t](e)}function ve(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}ue.lastIndex=0;while(i>=0&&ue.test(e)){e=e.replace(ue,n);ue.lastIndex=0;i-=1}return e}var ge=/\d/;var ye=/\d\d/;var be=/\d{3}/;var we=/\d{4}/;var xe=/[+-]?\d{6}/;var Ce=/\d\d?/;var ke=/\d\d\d\d?/;var Te=/\d\d\d\d\d\d?/;var Se=/\d{1,3}/;var _e=/\d{1,4}/;var De=/[+-]?\d{1,6}/;var $e=/\d+/;var Ae=/[+-]?\d+/;var Ee=/Z|[+-]\d\d:?\d\d/gi;var Pe=/Z|[+-]\d\d(?::?\d\d)?/gi;var Ie=/[+-]?\d+(\.\d{1,3})?/;var Fe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Ne={};function Oe(e,t,i){Ne[e]=P(t)?t:function(e,n){return e&&i?i:t}}function Me(e,t){if(!c(Ne,e)){return new RegExp(Re(e))}return Ne[e](t._strict,t._locale)}function Re(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Le={};function Ue(e,t){var i,n=t;if(typeof e==="string"){e=[e]}if(s(t)){n=function(e,i){i[t]=S(e)}}for(i=0;i<e.length;i++){Le[e[i]]=n}}function He(e,t){Ue(e,function(e,i,n,r){n._w=n._w||{};t(e,n._w,n,r)})}function ze(e,t,i){if(t!=null&&c(Le,e)){Le[e](t,i._a,i,e)}}var Be=0;var qe=1;var We=2;var Ve=3;var Ye=4;var Ze=5;var Ge=6;var Ke=7;var Qe=8;var Xe;if(Array.prototype.indexOf){Xe=Array.prototype.indexOf}else{Xe=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}var Je=Xe;function et(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}de("M",["MM",2],"Mo",function(){return this.month()+1});de("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});de("MMMM",0,0,function(e){return this.localeData().months(this,e)});K("month","M");ee("month",8);Oe("M",Ce);Oe("MM",Ce,ye);Oe("MMM",function(e,t){return t.monthsShortRegex(e)});Oe("MMMM",function(e,t){return t.monthsRegex(e)});Ue(["M","MM"],function(e,t){t[qe]=S(e)-1});Ue(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);if(r!=null){t[qe]=r}else{p(i).invalidMonth=e}});var tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function nt(e,t){if(!e){return n(this._months)?this._months:this._months["standalone"]}return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tt).test(t)?"format":"standalone"][e.month()]}var rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ot(e,t){if(!e){return n(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tt.test(t)?"format":"standalone"][e.month()]}function at(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){o=d([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase()}}if(i){if(t==="MMM"){r=Je.call(this._shortMonthsParse,a);return r!==-1?r:null}else{r=Je.call(this._longMonthsParse,a);return r!==-1?r:null}}else{if(t==="MMM"){r=Je.call(this._shortMonthsParse,a);if(r!==-1){return r}r=Je.call(this._longMonthsParse,a);return r!==-1?r:null}else{r=Je.call(this._longMonthsParse,a);if(r!==-1){return r}r=Je.call(this._shortMonthsParse,a);return r!==-1?r:null}}}function st(e,t,i){var n,r,o;if(this._monthsParseExact){return at.call(this,e,t,i)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=d([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){o="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="MMMM"&&this._longMonthsParse[n].test(e)){return n}else if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e)){return n}else if(!i&&this._monthsParse[n].test(e)){return n}}}function lt(e,t){var i;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=S(t)}else{t=e.localeData().monthsParse(t);if(!s(t)){return e}}}i=Math.min(e.date(),et(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i);return e}function ut(e){if(e!=null){lt(this,e);t.updateOffset(this,true);return this}else{return ne(this,"Month")}}function ct(){return et(this.year(),this.month())}var ft=Fe;function dt(e){if(this._monthsParseExact){if(!c(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!c(this,"_monthsShortRegex")){this._monthsShortRegex=ft}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var ht=Fe;function pt(e){if(this._monthsParseExact){if(!c(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!c(this,"_monthsRegex")){this._monthsRegex=ht}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function mt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r,o;for(r=0;r<12;r++){o=d([2e3,r]);t.push(this.monthsShort(o,""));i.push(this.months(o,""));n.push(this.months(o,""));n.push(this.monthsShort(o,""))}t.sort(e);i.sort(e);n.sort(e);for(r=0;r<12;r++){t[r]=je(t[r]);i[r]=je(i[r])}for(r=0;r<24;r++){n[r]=je(n[r])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}de("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});de(0,["YY",2],0,function(){return this.year()%100});de(0,["YYYY",4],0,"year");de(0,["YYYYY",5],0,"year");de(0,["YYYYYY",6,true],0,"year");K("year","y");ee("year",1);Oe("Y",Ae);Oe("YY",Ce,ye);Oe("YYYY",_e,we);Oe("YYYYY",De,xe);Oe("YYYYYY",De,xe);Ue(["YYYYY","YYYYYY"],Be);Ue("YYYY",function(e,i){i[Be]=e.length===2?t.parseTwoDigitYear(e):S(e)});Ue("YY",function(e,i){i[Be]=t.parseTwoDigitYear(e)});Ue("Y",function(e,t){t[Be]=parseInt(e,10)});function vt(e){return gt(e)?366:365}function gt(e){return e%4===0&&e%100!==0||e%400===0}t.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var yt=ie("FullYear",true);function bt(){return gt(this.year())}function wt(e,t,i,n,r,o,a){var s=new Date(e,t,i,n,r,o,a);if(e<100&&e>=0&&isFinite(s.getFullYear())){s.setFullYear(e)}return s}function xt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function Ct(e,t,i){var n=7+t-i,r=(7+xt(e,0,n).getUTCDay()-t)%7;return-r+n-1}function kt(e,t,i,n,r){var o=(7+i-n)%7,a=Ct(e,n,r),s=1+7*(t-1)+o+a,l,u;if(s<=0){l=e-1;u=vt(l)+s}else if(s>vt(e)){l=e+1;u=s-vt(e)}else{l=e;u=s}return{year:l,dayOfYear:u}}function Tt(e,t,i){var n=Ct(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1,o,a;if(r<1){a=e.year()-1;o=r+St(a,t,i)}else if(r>St(e.year(),t,i)){o=r-St(e.year(),t,i);a=e.year()+1}else{a=e.year();o=r}return{week:o,year:a}}function St(e,t,i){var n=Ct(e,t,i),r=Ct(e+1,t,i);return(vt(e)-n+r)/7}de("w",["ww",2],"wo","week");de("W",["WW",2],"Wo","isoWeek");K("week","w");K("isoWeek","W");ee("week",5);ee("isoWeek",5);Oe("w",Ce);Oe("ww",Ce,ye);Oe("W",Ce);Oe("WW",Ce,ye);He(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=S(e)});function _t(e){return Tt(e,this._week.dow,this._week.doy).week}var Dt={dow:0,doy:6};function $t(){return this._week.dow}function At(){return this._week.doy}function Et(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Pt(e){var t=Tt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}de("d",0,"do","day");de("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});de("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});de("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});de("e",0,0,"weekday");de("E",0,0,"isoWeekday");K("day","d");K("weekday","e");K("isoWeekday","E");ee("day",11);ee("weekday",11);ee("isoWeekday",11);Oe("d",Ce);Oe("e",Ce);Oe("E",Ce);Oe("dd",function(e,t){return t.weekdaysMinRegex(e)});Oe("ddd",function(e,t){return t.weekdaysShortRegex(e)});Oe("dddd",function(e,t){return t.weekdaysRegex(e)});He(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);if(r!=null){t.d=r}else{p(i).invalidWeekday=e}});He(["d","e","E"],function(e,t,i,n){t[n]=S(e)});function It(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function Ft(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Nt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Ot(e,t){if(!e){return n(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Mt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Rt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Lt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){o=d([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase()}}if(i){if(t==="dddd"){r=Je.call(this._weekdaysParse,a);return r!==-1?r:null}else if(t==="ddd"){r=Je.call(this._shortWeekdaysParse,a);return r!==-1?r:null}else{r=Je.call(this._minWeekdaysParse,a);return r!==-1?r:null}}else{if(t==="dddd"){r=Je.call(this._weekdaysParse,a);if(r!==-1){return r}r=Je.call(this._shortWeekdaysParse,a);if(r!==-1){return r}r=Je.call(this._minWeekdaysParse,a);return r!==-1?r:null}else if(t==="ddd"){r=Je.call(this._shortWeekdaysParse,a);if(r!==-1){return r}r=Je.call(this._weekdaysParse,a);if(r!==-1){return r}r=Je.call(this._minWeekdaysParse,a);return r!==-1?r:null}else{r=Je.call(this._minWeekdaysParse,a);if(r!==-1){return r}r=Je.call(this._weekdaysParse,a);if(r!==-1){return r}r=Je.call(this._shortWeekdaysParse,a);return r!==-1?r:null}}}function Ht(e,t,i){var n,r,o;if(this._weekdaysParseExact){return Ut.call(this,e,t,i)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=d([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[n]){o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")}if(i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e)){return n}else if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e)){return n}else if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e)){return n}else if(!i&&this._weekdaysParse[n].test(e)){return n}}}function zt(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=It(e,this.localeData());return this.add(e-t,"d")}else{return t}}function Bt(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function qt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=Ft(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var Wt=Fe;function Vt(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!c(this,"_weekdaysRegex")){this._weekdaysRegex=Wt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var Yt=Fe;function Zt(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!c(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Yt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Gt=Fe;function Kt(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Qt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!c(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Gt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Qt(){function e(e,t){return t.length-e.length}var t=[],i=[],n=[],r=[],o,a,s,l,u;for(o=0;o<7;o++){a=d([2e3,1]).day(o);s=this.weekdaysMin(a,"");l=this.weekdaysShort(a,"");u=this.weekdays(a,"");t.push(s);i.push(l);n.push(u);r.push(s);r.push(l);r.push(u)}t.sort(e);i.sort(e);n.sort(e);r.sort(e);for(o=0;o<7;o++){i[o]=je(i[o]);n[o]=je(n[o]);r[o]=je(r[o])}this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}de("H",["HH",2],0,"hour");de("h",["hh",2],0,Xt);de("k",["kk",2],0,Jt);de("hmm",0,0,function(){return""+Xt.apply(this)+se(this.minutes(),2)});de("hmmss",0,0,function(){return""+Xt.apply(this)+se(this.minutes(),2)+se(this.seconds(),2)});de("Hmm",0,0,function(){return""+this.hours()+se(this.minutes(),2)});de("Hmmss",0,0,function(){return""+this.hours()+se(this.minutes(),2)+se(this.seconds(),2)});function ei(e,t){de(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ei("a",true);ei("A",false);K("hour","h");ee("hour",13);function ti(e,t){return t._meridiemParse}Oe("a",ti);Oe("A",ti);Oe("H",Ce);Oe("h",Ce);Oe("k",Ce);Oe("HH",Ce,ye);Oe("hh",Ce,ye);Oe("kk",Ce,ye);Oe("hmm",ke);Oe("hmmss",Te);Oe("Hmm",ke);Oe("Hmmss",Te);Ue(["H","HH"],Ve);Ue(["k","kk"],function(e,t,i){var n=S(e);t[Ve]=n===24?0:n});Ue(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e);i._meridiem=e});Ue(["h","hh"],function(e,t,i){t[Ve]=S(e);p(i).bigHour=true});Ue("hmm",function(e,t,i){var n=e.length-2;t[Ve]=S(e.substr(0,n));t[Ye]=S(e.substr(n));p(i).bigHour=true});Ue("hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ve]=S(e.substr(0,n));t[Ye]=S(e.substr(n,2));t[Ze]=S(e.substr(r));p(i).bigHour=true});Ue("Hmm",function(e,t,i){var n=e.length-2;t[Ve]=S(e.substr(0,n));t[Ye]=S(e.substr(n))});Ue("Hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[Ve]=S(e.substr(0,n));t[Ye]=S(e.substr(n,2));t[Ze]=S(e.substr(r))});function ii(e){return(e+"").toLowerCase().charAt(0)==="p"}var ni=/[ap]\.?m?\.?/i;function ri(e,t,i){if(e>11){return i?"pm":"PM"}else{return i?"am":"AM"}}var oi=ie("Hours",true);var ai={calendar:R,longDateFormat:L,invalidDate:H,ordinal:B,dayOfMonthOrdinalParse:q,relativeTime:V,months:it,monthsShort:rt,week:Dt,weekdays:Nt,weekdaysMin:jt,weekdaysShort:Mt,meridiemParse:ni};var si={};var li={};var ui;function ci(e){return e?e.toLowerCase().replace("_","-"):e}function fi(e){var t=0,i,n,r,o;while(t<e.length){o=ci(e[t]).split("-");i=o.length;n=ci(e[t+1]);n=n?n.split("-"):null;while(i>0){r=di(o.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&_(o,n,true)>=i-1){break}i--}t++}return null}function di(e){var t=null;if(!si[e]&&typeof module!=="undefined"&&module&&module.exports){try{t=ui._abbr;require("./locale/"+e);hi(t)}catch(e){}}return si[e]}function hi(e,t){var i;if(e){if(a(t)){i=vi(e)}else{i=pi(e,t)}if(i){ui=i}}return ui._abbr}function pi(e,t){if(t!==null){var i=ai;t.abbr=e;if(si[e]!=null){E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");i=si[e]._config}else if(t.parentLocale!=null){if(si[t.parentLocale]!=null){i=si[t.parentLocale]._config}else{if(!li[t.parentLocale]){li[t.parentLocale]=[]}li[t.parentLocale].push({name:e,config:t});return null}}si[e]=new N(F(i,t));if(li[e]){li[e].forEach(function(e){pi(e.name,e.config)})}hi(e);return si[e]}else{delete si[e];return null}}function mi(e,t){if(t!=null){var i,n=ai;if(si[e]!=null){n=si[e]._config}t=F(n,t);i=new N(t);i.parentLocale=si[e];si[e]=i;hi(e)}else{if(si[e]!=null){if(si[e].parentLocale!=null){si[e]=si[e].parentLocale}else if(si[e]!=null){delete si[e]}}}return si[e]}function vi(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return ui}if(!n(e)){t=di(e);if(t){return t}e=[e]}return fi(e)}function gi(){return M(si)}function yi(e){var t;var i=e._a;if(i&&p(e).overflow===-2){t=i[qe]<0||i[qe]>11?qe:i[We]<1||i[We]>et(i[Be],i[qe])?We:i[Ve]<0||i[Ve]>24||i[Ve]===24&&(i[Ye]!==0||i[Ze]!==0||i[Ge]!==0)?Ve:i[Ye]<0||i[Ye]>59?Ye:i[Ze]<0||i[Ze]>59?Ze:i[Ge]<0||i[Ge]>999?Ge:-1;if(p(e)._overflowDayOfYear&&(t<Be||t>We)){t=We}if(p(e)._overflowWeeks&&t===-1){t=Ke}if(p(e)._overflowWeekday&&t===-1){t=Qe}p(e).overflow=t}return e}var bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var xi=/Z|[+-]\d\d(?::?\d\d)?/;var Ci=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var ki=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Ti=/^\/?Date\((\-?\d+)/i;function Si(e){var t,i,n=e._i,r=bi.exec(n)||wi.exec(n),o,a,s,l;if(r){p(e).iso=true;for(t=0,i=Ci.length;t<i;t++){if(Ci[t][1].exec(r[1])){a=Ci[t][0];o=Ci[t][2]!==false;break}}if(a==null){e._isValid=false;return}if(r[3]){for(t=0,i=ki.length;t<i;t++){if(ki[t][1].exec(r[3])){s=(r[2]||" ")+ki[t][0];break}}if(s==null){e._isValid=false;return}}if(!o&&s!=null){e._isValid=false;return}if(r[4]){if(xi.exec(r[4])){l="Z"}else{e._isValid=false;return}}e._f=a+(s||"")+(l||"");Fi(e)}else{e._isValid=false}}var _i=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function Di(e){var t,i,n,r,o,a;var s={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var l="YXWVUTSRQPONZABCDEFGHIKLM";var u,c;t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");i=_i.exec(t);if(i){n=i[1]?"ddd"+(i[1].length===5?", ":" "):"";r="D MMM "+(i[2].length>10?"YYYY ":"YY ");o="HH:mm"+(i[4]?":ss":"");if(i[1]){var f=new Date(i[2]);var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(i[1].substr(0,3)!==d){p(e).weekdayMismatch=true;e._isValid=false;return}}switch(i[5].length){case 2:if(c===0){u=" +0000"}else{c=l.indexOf(i[5][1].toUpperCase())-12;u=(c<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00"}break;case 4:u=s[i[5]];break;default:u=s[" GMT"]}i[5]=u;e._i=i.splice(1).join("");a=" ZZ";e._f=n+r+o+a;Fi(e);p(e).rfc2822=true}else{e._isValid=false}}function $i(e){var i=Ti.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}Si(e);if(e._isValid===false){delete e._isValid}else{return}Di(e);if(e._isValid===false){delete e._isValid}else{return}t.createFromInputFallback(e)}t.createFromInputFallback=$("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ai(e,t,i){if(e!=null){return e}if(t!=null){return t}return i}function Ei(e){var i=new Date(t.now());if(e._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}return[i.getFullYear(),i.getMonth(),i.getDate()]}function Pi(e){var t,i,n=[],r,o;if(e._d){return}r=Ei(e);if(e._w&&e._a[We]==null&&e._a[qe]==null){Ii(e)}if(e._dayOfYear!=null){o=Ai(e._a[Be],r[Be]);if(e._dayOfYear>vt(o)||e._dayOfYear===0){p(e)._overflowDayOfYear=true}i=xt(o,0,e._dayOfYear);e._a[qe]=i.getUTCMonth();e._a[We]=i.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=r[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ve]===24&&e._a[Ye]===0&&e._a[Ze]===0&&e._a[Ge]===0){e._nextDay=true;e._a[Ve]=0}e._d=(e._useUTC?xt:wt).apply(null,n);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ve]=24}}function Ii(e){var t,i,n,r,o,a,s,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){o=1;a=4;i=Ai(t.GG,e._a[Be],Tt(Hi(),1,4).year);n=Ai(t.W,1);r=Ai(t.E,1);if(r<1||r>7){l=true}}else{o=e._locale._week.dow;a=e._locale._week.doy;var u=Tt(Hi(),o,a);i=Ai(t.gg,e._a[Be],u.year);n=Ai(t.w,u.week);if(t.d!=null){r=t.d;if(r<0||r>6){l=true}}else if(t.e!=null){r=t.e+o;if(t.e<0||t.e>6){l=true}}else{r=o}}if(n<1||n>St(i,o,a)){p(e)._overflowWeeks=true}else if(l!=null){p(e)._overflowWeekday=true}else{s=kt(i,n,r,o,a);e._a[Be]=s.year;e._dayOfYear=s.dayOfYear}}t.ISO_8601=function(){};t.RFC_2822=function(){};function Fi(e){if(e._f===t.ISO_8601){Si(e);return}if(e._f===t.RFC_2822){Di(e);return}e._a=[];p(e).empty=true;var i=""+e._i,n,r,o,a,s,l=i.length,u=0;o=ve(e._f,e._locale).match(le)||[];for(n=0;n<o.length;n++){a=o[n];r=(i.match(Me(a,e))||[])[0];if(r){s=i.substr(0,i.indexOf(r));if(s.length>0){p(e).unusedInput.push(s)}i=i.slice(i.indexOf(r)+r.length);u+=r.length}if(fe[a]){if(r){p(e).empty=false}else{p(e).unusedTokens.push(a)}ze(a,r,e)}else if(e._strict&&!r){p(e).unusedTokens.push(a)}}p(e).charsLeftOver=l-u;if(i.length>0){p(e).unusedInput.push(i)}if(e._a[Ve]<=12&&p(e).bigHour===true&&e._a[Ve]>0){p(e).bigHour=undefined}p(e).parsedDateParts=e._a.slice(0);p(e).meridiem=e._meridiem;e._a[Ve]=Ni(e._locale,e._a[Ve],e._meridiem);Pi(e);yi(e)}function Ni(e,t,i){var n;if(i==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,i)}else if(e.isPM!=null){n=e.isPM(i);if(n&&t<12){t+=12}if(!n&&t===12){t=0}return t}else{return t}}function Oi(e){var t,i,n,r,o;if(e._f.length===0){p(e).invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){o=0;t=w({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[r];Fi(t);if(!g(t)){continue}o+=p(t).charsLeftOver;o+=p(t).unusedTokens.length*10;p(t).score=o;if(n==null||o<n){n=o;i=t}}f(e,i||t)}function Mi(e){if(e._d){return}var t=X(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});Pi(e)}function Ri(e){var t=new C(yi(ji(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function ji(e){var t=e._i,i=e._f;e._locale=e._locale||vi(e._l);if(t===null||i===undefined&&t===""){return y({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(k(t)){return new C(yi(t))}else if(l(t)){e._d=t}else if(n(i)){Oi(e)}else if(i){Fi(e)}else{Li(e)}if(!g(e)){e._d=null}return e}function Li(e){var i=e._i;if(a(i)){e._d=new Date(t.now())}else if(l(i)){e._d=new Date(i.valueOf())}else if(typeof i==="string"){$i(e)}else if(n(i)){e._a=u(i.slice(0),function(e){return parseInt(e,10)});Pi(e)}else if(r(i)){Mi(e)}else if(s(i)){e._d=new Date(i)}else{t.createFromInputFallback(e)}}function Ui(e,t,i,a,s){var l={};if(i===true||i===false){a=i;i=undefined}if(r(e)&&o(e)||n(e)&&e.length===0){e=undefined}l._isAMomentObject=true;l._useUTC=l._isUTC=s;l._l=i;l._i=e;l._f=t;l._strict=a;return Ri(l)}function Hi(e,t,i,n){return Ui(e,t,i,n,false)}var zi=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hi.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return y()}});var Bi=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hi.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return y()}});function qi(e,t){var i,r;if(t.length===1&&n(t[0])){t=t[0]}if(!t.length){return Hi()}i=t[0];for(r=1;r<t.length;++r){if(!t[r].isValid()||t[r][e](i)){i=t[r]}}return i}function Wi(){var e=[].slice.call(arguments,0);return qi("isBefore",e)}function Vi(){var e=[].slice.call(arguments,0);return qi("isAfter",e)}var Yi=function(){return Date.now?Date.now():+new Date};var Zi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Gi(e){for(var t in e){if(!(Zi.indexOf(t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var i=false;for(var n=0;n<Zi.length;++n){if(e[Zi[n]]){if(i){return false}if(parseFloat(e[Zi[n]])!==S(e[Zi[n]])){i=true}}}return true}function Ki(){return this._isValid}function Qi(){return wn(NaN)}function Xi(e){var t=X(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Gi(t);this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60;this._days=+a+o*7;this._months=+r+n*3+i*12;this._data={};this._locale=vi();this._bubble()}function Ji(e){return e instanceof Xi}function en(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function tn(e,t){de(e,0,0,function(){var e=this.utcOffset();var i="+";if(e<0){e=-e;i="-"}return i+se(~~(e/60),2)+t+se(~~e%60,2)})}tn("Z",":");tn("ZZ","");Oe("Z",Pe);Oe("ZZ",Pe);Ue(["Z","ZZ"],function(e,t,i){i._useUTC=true;i._tzm=rn(Pe,e)});var nn=/([\+\-]|\d\d)/gi;function rn(e,t){var i=(t||"").match(e);if(i===null){return null}var n=i[i.length-1]||[];var r=(n+"").match(nn)||["-",0,0];var o=+(r[1]*60)+S(r[2]);return o===0?0:r[0]==="+"?o:-o}function on(e,i){var n,r;if(i._isUTC){n=i.clone();r=(k(e)||l(e)?e.valueOf():Hi(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);t.updateOffset(n,false);return n}else{return Hi(e).local()}}function an(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}t.updateOffset=function(){};function sn(e,i,n){var r=this._offset||0,o;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=rn(Pe,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&i){o=an(this)}this._offset=e;this._isUTC=true;if(o!=null){this.add(o,"m")}if(r!==e){if(!i||this._changeInProgress){Sn(this,wn(e-r,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;t.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?r:an(this)}}function ln(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function un(e){return this.utcOffset(0,e)}function cn(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(an(this),"m")}}return this}function fn(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=rn(Ee,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function dn(e){if(!this.isValid()){return false}e=e?Hi(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function hn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pn(){if(!a(this._isDSTShifted)){return this._isDSTShifted}var e={};w(e,this);e=ji(e);if(e._a){var t=e._isUTC?d(e._a):Hi(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function mn(){return this.isValid()?!this._isUTC:false}function vn(){return this.isValid()?this._isUTC:false}function gn(){return this.isValid()?this._isUTC&&this._offset===0:false}var yn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var bn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function wn(e,t){var i=e,n=null,r,o,a;if(Ji(e)){i={ms:e._milliseconds,d:e._days,M:e._months}}else if(s(e)){i={};if(t){i[t]=e}else{i.milliseconds=e}}else if(!!(n=yn.exec(e))){r=n[1]==="-"?-1:1;i={y:0,d:S(n[We])*r,h:S(n[Ve])*r,m:S(n[Ye])*r,s:S(n[Ze])*r,ms:S(en(n[Ge]*1e3))*r}}else if(!!(n=bn.exec(e))){r=n[1]==="-"?-1:1;i={y:xn(n[2],r),M:xn(n[3],r),w:xn(n[4],r),d:xn(n[5],r),h:xn(n[6],r),m:xn(n[7],r),s:xn(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){a=kn(Hi(i.from),Hi(i.to));i={};i.ms=a.milliseconds;i.M=a.months}o=new Xi(i);if(Ji(e)&&c(e,"_locale")){o._locale=e._locale}return o}wn.fn=Xi.prototype;wn.invalid=Qi;function xn(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Cn(e,t){var i={milliseconds:0,months:0};i.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(i.months,"M").isAfter(t)){--i.months}i.milliseconds=+t-+e.clone().add(i.months,"M");return i}function kn(e,t){var i;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=on(t,e);if(e.isBefore(t)){i=Cn(e,t)}else{i=Cn(t,e);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function Tn(e,t){return function(i,n){var r,o;if(n!==null&&!isNaN(+n)){E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");o=i;i=n;n=o}i=typeof i==="string"?+i:i;r=wn(i,n);Sn(this,r,e);return this}}function Sn(e,i,n,r){var o=i._milliseconds,a=en(i._days),s=en(i._months);if(!e.isValid()){return}r=r==null?true:r;if(o){e._d.setTime(e._d.valueOf()+o*n)}if(a){re(e,"Date",ne(e,"Date")+a*n)}if(s){lt(e,ne(e,"Month")+s*n)}if(r){t.updateOffset(e,a||s)}}var _n=Tn(1,"add");var Dn=Tn(-1,"subtract");function $n(e,t){var i=e.diff(t,"days",true);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function An(e,i){var n=e||Hi(),r=on(n,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse";var a=i&&(P(i[o])?i[o].call(this,n):i[o]);return this.format(a||this.localeData().calendar(o,this,Hi(n)))}function En(){return new C(this)}function Pn(e,t){var i=k(e)?e:Hi(e);if(!(this.isValid()&&i.isValid())){return false}t=Q(!a(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>i.valueOf()}else{return i.valueOf()<this.clone().startOf(t).valueOf()}}function In(e,t){var i=k(e)?e:Hi(e);if(!(this.isValid()&&i.isValid())){return false}t=Q(!a(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<i.valueOf()}else{return this.clone().endOf(t).valueOf()<i.valueOf()}}function Fn(e,t,i,n){n=n||"()";return(n[0]==="("?this.isAfter(e,i):!this.isBefore(e,i))&&(n[1]===")"?this.isBefore(t,i):!this.isAfter(t,i))}function Nn(e,t){var i=k(e)?e:Hi(e),n;if(!(this.isValid()&&i.isValid())){return false}t=Q(t||"millisecond");if(t==="millisecond"){return this.valueOf()===i.valueOf()}else{n=i.valueOf();return this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()}}function On(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Mn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Rn(e,t,i){var n,r,o,a;if(!this.isValid()){return NaN}n=on(e,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;t=Q(t);if(t==="year"||t==="month"||t==="quarter"){a=jn(this,n);if(t==="quarter"){a=a/3}else if(t==="year"){a=a/12}}else{o=this-n;a=t==="second"?o/1e3:t==="minute"?o/6e4:t==="hour"?o/36e5:t==="day"?(o-r)/864e5:t==="week"?(o-r)/6048e5:o}return i?a:T(a)}function jn(e,t){var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),r,o;if(t-n<0){r=e.clone().add(i-1,"months");o=(t-n)/(n-r)}else{r=e.clone().add(i+1,"months");o=(t-n)/(r-n)}return-(i+o)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Un(){if(!this.isValid()){return null}var e=this.clone().utc();if(e.year()<0||e.year()>9999){return me(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(P(Date.prototype.toISOString)){return this.toDate().toISOString()}return me(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Hn(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var i="["+e+'("]';var n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var r="-MM-DD[T]HH:mm:ss.SSS";var o=t+'[")]';return this.format(i+n+r+o)}function zn(e){if(!e){e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat}var i=me(this,e);return this.localeData().postformat(i)}function Bn(e,t){if(this.isValid()&&(k(e)&&e.isValid()||Hi(e).isValid())){return wn({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function qn(e){return this.from(Hi(),e)}function Wn(e,t){if(this.isValid()&&(k(e)&&e.isValid()||Hi(e).isValid())){return wn({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Vn(e){return this.to(Hi(),e)}function Yn(e){var t;if(e===undefined){return this._locale._abbr}else{t=vi(e);if(t!=null){this._locale=t}return this}}var Zn=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function Gn(){return this._locale}function Kn(e){e=Q(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Qn(e){e=Q(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function Xn(){return this._d.valueOf()-(this._offset||0)*6e4}function Jn(){return Math.floor(this.valueOf()/1e3)}function er(){return new Date(this.valueOf())}function tr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ir(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function nr(){return this.isValid()?this.toISOString():null}function rr(){return g(this)}function or(){return f({},p(this))}function ar(){return p(this).overflow}function sr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}de(0,["gg",2],0,function(){return this.weekYear()%100});de(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lr(e,t){de(0,[e,e.length],0,t)}lr("gggg","weekYear");lr("ggggg","weekYear");lr("GGGG","isoWeekYear");lr("GGGGG","isoWeekYear");K("weekYear","gg");K("isoWeekYear","GG");ee("weekYear",1);ee("isoWeekYear",1);Oe("G",Ae);Oe("g",Ae);Oe("GG",Ce,ye);Oe("gg",Ce,ye);Oe("GGGG",_e,we);Oe("gggg",_e,we);Oe("GGGGG",De,xe);Oe("ggggg",De,xe);He(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=S(e)});He(["gg","GG"],function(e,i,n,r){i[r]=t.parseTwoDigitYear(e)});function ur(e){return hr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function cr(e){return hr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function fr(){return St(this.year(),1,4)}function dr(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function hr(e,t,i,n,r){var o;if(e==null){return Tt(this,n,r).year}else{o=St(e,n,r);if(t>o){t=o}return pr.call(this,e,t,i,n,r)}}function pr(e,t,i,n,r){var o=kt(e,t,i,n,r),a=xt(o.year,0,o.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}de("Q",0,"Qo","quarter");K("quarter","Q");ee("quarter",7);Oe("Q",ge);Ue("Q",function(e,t){t[qe]=(S(e)-1)*3});function mr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}de("D",["DD",2],"Do","date");K("date","D");ee("date",9);Oe("D",Ce);Oe("DD",Ce,ye);Oe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ue(["D","DD"],We);Ue("Do",function(e,t){t[We]=S(e.match(Ce)[0],10)});var vr=ie("Date",true);de("DDD",["DDDD",3],"DDDo","dayOfYear");K("dayOfYear","DDD");ee("dayOfYear",4);Oe("DDD",Se);Oe("DDDD",be);Ue(["DDD","DDDD"],function(e,t,i){i._dayOfYear=S(e)});function gr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}de("m",["mm",2],0,"minute");K("minute","m");ee("minute",14);Oe("m",Ce);Oe("mm",Ce,ye);Ue(["m","mm"],Ye);var yr=ie("Minutes",false);de("s",["ss",2],0,"second");K("second","s");ee("second",15);Oe("s",Ce);Oe("ss",Ce,ye);Ue(["s","ss"],Ze);var br=ie("Seconds",false);de("S",0,0,function(){return~~(this.millisecond()/100)});de(0,["SS",2],0,function(){return~~(this.millisecond()/10)});de(0,["SSS",3],0,"millisecond");de(0,["SSSS",4],0,function(){return this.millisecond()*10});de(0,["SSSSS",5],0,function(){return this.millisecond()*100});de(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});de(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});de(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});de(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});K("millisecond","ms");ee("millisecond",16);Oe("S",Se,ge);Oe("SS",Se,ye);Oe("SSS",Se,be);var wr;for(wr="SSSS";wr.length<=9;wr+="S"){Oe(wr,$e)}function xr(e,t){t[Ge]=S(("0."+e)*1e3)}for(wr="S";wr.length<=9;wr+="S"){Ue(wr,xr)}var Cr=ie("Milliseconds",false);de("z",0,0,"zoneAbbr");de("zz",0,0,"zoneName");function kr(){return this._isUTC?"UTC":""}function Tr(){return this._isUTC?"Coordinated Universal Time":""}var Sr=C.prototype;Sr.add=_n;Sr.calendar=An;Sr.clone=En;Sr.diff=Rn;Sr.endOf=Qn;Sr.format=zn;Sr.from=Bn;Sr.fromNow=qn;Sr.to=Wn;Sr.toNow=Vn;Sr.get=oe;Sr.invalidAt=ar;Sr.isAfter=Pn;Sr.isBefore=In;Sr.isBetween=Fn;Sr.isSame=Nn;Sr.isSameOrAfter=On;Sr.isSameOrBefore=Mn;Sr.isValid=rr;Sr.lang=Zn;Sr.locale=Yn;Sr.localeData=Gn;Sr.max=Bi;Sr.min=zi;Sr.parsingFlags=or;Sr.set=ae;Sr.startOf=Kn;Sr.subtract=Dn;Sr.toArray=tr;Sr.toObject=ir;Sr.toDate=er;Sr.toISOString=Un;Sr.inspect=Hn;Sr.toJSON=nr;Sr.toString=Ln;Sr.unix=Jn;Sr.valueOf=Xn;Sr.creationData=sr;Sr.year=yt;Sr.isLeapYear=bt;Sr.weekYear=ur;Sr.isoWeekYear=cr;Sr.quarter=Sr.quarters=mr;Sr.month=ut;Sr.daysInMonth=ct;Sr.week=Sr.weeks=Et;Sr.isoWeek=Sr.isoWeeks=Pt;Sr.weeksInYear=dr;Sr.isoWeeksInYear=fr;Sr.date=vr;Sr.day=Sr.days=zt;Sr.weekday=Bt;Sr.isoWeekday=qt;Sr.dayOfYear=gr;Sr.hour=Sr.hours=oi;Sr.minute=Sr.minutes=yr;Sr.second=Sr.seconds=br;Sr.millisecond=Sr.milliseconds=Cr;Sr.utcOffset=sn;Sr.utc=un;Sr.local=cn;Sr.parseZone=fn;Sr.hasAlignedHourOffset=dn;Sr.isDST=hn;Sr.isLocal=mn;Sr.isUtcOffset=vn;Sr.isUtc=gn;Sr.isUTC=gn;Sr.zoneAbbr=kr;Sr.zoneName=Tr;Sr.dates=$("dates accessor is deprecated. Use date instead.",vr);Sr.months=$("months accessor is deprecated. Use month instead",ut);Sr.years=$("years accessor is deprecated. Use year instead",yt);Sr.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ln);Sr.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pn);function _r(e){return Hi(e*1e3)}function Dr(){return Hi.apply(null,arguments).parseZone()}function $r(e){return e}var Ar=N.prototype;Ar.calendar=j;Ar.longDateFormat=U;Ar.invalidDate=z;Ar.ordinal=W;Ar.preparse=$r;Ar.postformat=$r;Ar.relativeTime=Y;Ar.pastFuture=Z;Ar.set=I;Ar.months=nt;Ar.monthsShort=ot;Ar.monthsParse=st;Ar.monthsRegex=pt;Ar.monthsShortRegex=dt;Ar.week=_t;Ar.firstDayOfYear=At;Ar.firstDayOfWeek=$t;Ar.weekdays=Ot;Ar.weekdaysMin=Lt;Ar.weekdaysShort=Rt;Ar.weekdaysParse=Ht;Ar.weekdaysRegex=Vt;Ar.weekdaysShortRegex=Zt;Ar.weekdaysMinRegex=Kt;Ar.isPM=ii;Ar.meridiem=ri;function Er(e,t,i,n){var r=vi();var o=d().set(n,t);return r[i](o,e)}function Pr(e,t,i){if(s(e)){t=e;e=undefined}e=e||"";if(t!=null){return Er(e,t,i,"month")}var n;var r=[];for(n=0;n<12;n++){r[n]=Er(e,n,i,"month")}return r}function Ir(e,t,i,n){if(typeof e==="boolean"){if(s(t)){i=t;t=undefined}t=t||""}else{t=e;i=t;e=false;if(s(t)){i=t;t=undefined}t=t||""}var r=vi(),o=e?r._week.dow:0;if(i!=null){return Er(t,(i+o)%7,n,"day")}var a;var l=[];for(a=0;a<7;a++){l[a]=Er(t,(a+o)%7,n,"day")}return l}function Fr(e,t){return Pr(e,t,"months")}function Nr(e,t){return Pr(e,t,"monthsShort")}function Or(e,t,i){return Ir(e,t,i,"weekdays")}function Mr(e,t,i){return Ir(e,t,i,"weekdaysShort")}function Rr(e,t,i){return Ir(e,t,i,"weekdaysMin")}hi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=S(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});t.lang=$("moment.lang is deprecated. Use moment.locale instead.",hi);t.langData=$("moment.langData is deprecated. Use moment.localeData instead.",vi);var jr=Math.abs;function Lr(){var e=this._data;this._milliseconds=jr(this._milliseconds);this._days=jr(this._days);this._months=jr(this._months);e.milliseconds=jr(e.milliseconds);e.seconds=jr(e.seconds);e.minutes=jr(e.minutes);e.hours=jr(e.hours);e.months=jr(e.months);e.years=jr(e.years);return this}function Ur(e,t,i,n){var r=wn(t,i);e._milliseconds+=n*r._milliseconds;e._days+=n*r._days;e._months+=n*r._months;return e._bubble()}function Hr(e,t){return Ur(this,e,t,1)}function zr(e,t){return Ur(this,e,t,-1)}function Br(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function qr(){var e=this._milliseconds;var t=this._days;var i=this._months;var n=this._data;var r,o,a,s,l;if(!(e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0)){e+=Br(Vr(i)+t)*864e5;t=0;i=0}n.milliseconds=e%1e3;r=T(e/1e3);n.seconds=r%60;o=T(r/60);n.minutes=o%60;a=T(o/60);n.hours=a%24;t+=T(a/24);l=T(Wr(t));i+=l;t-=Br(Vr(l));s=T(i/12);i%=12;n.days=t;n.months=i;n.years=s;return this}function Wr(e){return e*4800/146097}function Vr(e){return e*146097/4800}function Yr(e){if(!this.isValid()){return NaN}var t;var i;var n=this._milliseconds;e=Q(e);if(e==="month"||e==="year"){t=this._days+n/864e5;i=this._months+Wr(t);return e==="month"?i:i/12}else{t=this._days+Math.round(Vr(this._months));switch(e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}}function Zr(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+S(this._months/12)*31536e6}function Gr(e){return function(){return this.as(e)}}var Kr=Gr("ms");var Qr=Gr("s");var Xr=Gr("m");var Jr=Gr("h");var eo=Gr("d");var to=Gr("w");var io=Gr("M");var no=Gr("y");function ro(e){e=Q(e);return this.isValid()?this[e+"s"]():NaN}function oo(e){return function(){return this.isValid()?this._data[e]:NaN}}var ao=oo("milliseconds");var so=oo("seconds");var lo=oo("minutes");var uo=oo("hours");var co=oo("days");var fo=oo("months");var ho=oo("years");function po(){return T(this.days()/7)}var mo=Math.round;var vo={ss:44,s:45,m:45,h:22,d:26,M:11};function go(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function yo(e,t,i){var n=wn(e).abs();var r=mo(n.as("s"));var o=mo(n.as("m"));var a=mo(n.as("h"));var s=mo(n.as("d"));var l=mo(n.as("M"));var u=mo(n.as("y"));var c=r<=vo.ss&&["s",r]||r<vo.s&&["ss",r]||o<=1&&["m"]||o<vo.m&&["mm",o]||a<=1&&["h"]||a<vo.h&&["hh",a]||s<=1&&["d"]||s<vo.d&&["dd",s]||l<=1&&["M"]||l<vo.M&&["MM",l]||u<=1&&["y"]||["yy",u];c[2]=t;c[3]=+e>0;c[4]=i;return go.apply(null,c)}function bo(e){if(e===undefined){return mo}if(typeof e==="function"){mo=e;return true}return false}function wo(e,t){if(vo[e]===undefined){return false}if(t===undefined){return vo[e]}vo[e]=t;if(e==="s"){vo.ss=t-1}return true}function xo(e){if(!this.isValid()){return this.localeData().invalidDate()}var t=this.localeData();var i=yo(this,!e,t);if(e){i=t.pastFuture(+this,i)}return t.postformat(i)}var Co=Math.abs;function ko(){if(!this.isValid()){return this.localeData().invalidDate()}var e=Co(this._milliseconds)/1e3;var t=Co(this._days);var i=Co(this._months);var n,r,o;n=T(e/60);r=T(n/60);e%=60;n%=60;o=T(i/12);i%=12;var a=o;var s=i;var l=t;var u=r;var c=n;var f=e;var d=this.asSeconds();if(!d){return"P0D"}return(d<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||f?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(f?f+"S":"")}var To=Xi.prototype;To.isValid=Ki;To.abs=Lr;To.add=Hr;To.subtract=zr;To.as=Yr;To.asMilliseconds=Kr;To.asSeconds=Qr;To.asMinutes=Xr;To.asHours=Jr;To.asDays=eo;To.asWeeks=to;To.asMonths=io;To.asYears=no;To.valueOf=Zr;To._bubble=qr;To.get=ro;To.milliseconds=ao;To.seconds=so;To.minutes=lo;To.hours=uo;To.days=co;To.weeks=po;To.months=fo;To.years=ho;To.humanize=xo;To.toISOString=ko;To.toString=ko;To.toJSON=ko;To.locale=Yn;To.localeData=Gn;To.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ko);To.lang=Zn;de("X",0,0,"unix");de("x",0,0,"valueOf");Oe("x",Ae);Oe("X",Ie);Ue("X",function(e,t,i){i._d=new Date(parseFloat(e,10)*1e3)});Ue("x",function(e,t,i){i._d=new Date(S(e))});t.version="2.18.1";i(Hi);t.fn=Sr;t.min=Wi;t.max=Vi;t.now=Yi;t.utc=d;t.unix=_r;t.months=Fr;t.isDate=l;t.locale=hi;t.invalid=y;t.duration=wn;t.isMoment=k;t.weekdays=Or;t.parseZone=Dr;t.localeData=vi;t.isDuration=Ji;t.monthsShort=Nr;t.weekdaysMin=Rr;t.defineLocale=pi;t.updateLocale=mi;t.locales=gi;t.weekdaysShort=Mr;t.normalizeUnits=Q;t.relativeTimeRounding=bo;t.relativeTimeThreshold=wo;t.calendarFormat=$n;t.prototype=Sr;return t});(function(e){"use strict";var t=typeof window==="undefined"?null:window;if(typeof define==="function"&&define.amd){define(function(){return e(t)})}else if(typeof module!=="undefined"){module.exports=e(t)}else{t.DOMPurify=e(t)}})(function e(t){"use strict";var i=function(t){return e(t)};i.version="0.7.4";if(!t||!t.document||t.document.nodeType!==9){i.isSupported=false;return i}var n=t.document;var r=n;var o=t.DocumentFragment;var a=t.HTMLTemplateElement;var s=t.NodeFilter;var l=t.NamedNodeMap||t.MozNamedAttrMap;var u=t.Text;var c=t.Comment;var f=t.DOMParser;if(typeof a==="function"){var d=n.createElement("template");if(d.content&&d.content.ownerDocument){n=d.content.ownerDocument}}var h=n.implementation;var p=n.createNodeIterator;var m=n.getElementsByTagName;var v=n.createDocumentFragment;var g=r.importNode;var y={};i.isSupported=typeof h.createHTMLDocument!=="undefined"&&n.documentMode!==9;var b=function(e,t){var i=t.length;while(i--){if(typeof t[i]==="string"){t[i]=t[i].toLowerCase()}e[t[i]]=true}return e};var w=function(e){var t={};var i;for(i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t};var x=null;var C=b({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]);var k=null;var T=b({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var S=null;var _=null;var D=true;var $=false;var A=false;var E=false;var P=/\{\{[\s\S]*|[\s\S]*\}\}/gm;var I=/<%[\s\S]*|[\s\S]*%>/gm;var F=false;var N=false;var O=false;var M=false;var R=true;var j=true;var L=b({},["audio","head","math","script","style","svg","video"]);var U=b({},["audio","video","img","source"]);var H=b({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]);var z=null;var B=n.createElement("form");var q=function(e){if(typeof e!=="object"){e={}}x="ALLOWED_TAGS"in e?b({},e.ALLOWED_TAGS):C;k="ALLOWED_ATTR"in e?b({},e.ALLOWED_ATTR):T;S="FORBID_TAGS"in e?b({},e.FORBID_TAGS):{};_="FORBID_ATTR"in e?b({},e.FORBID_ATTR):{};D=e.ALLOW_DATA_ATTR!==false;$=e.ALLOW_UNKNOWN_PROTOCOLS||false;A=e.SAFE_FOR_JQUERY||false;E=e.SAFE_FOR_TEMPLATES||false;F=e.WHOLE_DOCUMENT||false;N=e.RETURN_DOM||false;O=e.RETURN_DOM_FRAGMENT||false;M=e.RETURN_DOM_IMPORT||false;R=e.SANITIZE_DOM!==false;j=e.KEEP_CONTENT!==false;if(E){D=false}if(O){N=true}if(e.ADD_TAGS){if(x===C){x=w(x)}b(x,e.ADD_TAGS)}if(e.ADD_ATTR){if(k===T){k=w(k)}b(k,e.ADD_ATTR)}if(j){x["#text"]=true}if(Object&&"freeze"in Object){Object.freeze(e)}z=e};var W=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}};var V=function(e){var t,i;try{t=(new f).parseFromString(e,"text/html")}catch(e){}if(!t){t=h.createHTMLDocument("");i=t.body;i.parentNode.removeChild(i.parentNode.firstElementChild);i.outerHTML=e}if(typeof t.getElementsByTagName==="function"){return t.getElementsByTagName(F?"html":"body")[0]}return m.call(t,F?"html":"body")[0]};var Y=function(e){return p.call(e.ownerDocument||e,e,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,function(){return s.FILTER_ACCEPT},false)};var Z=function(e){if(e instanceof u||e instanceof c){return false}if(typeof e.nodeName!=="string"||typeof e.textContent!=="string"||typeof e.removeChild!=="function"||!(e.attributes instanceof l)||typeof e.removeAttribute!=="function"||typeof e.setAttribute!=="function"){return true}return false};var G=function(e){var t,i;ie("beforeSanitizeElements",e,null);if(Z(e)){W(e);return true}t=e.nodeName.toLowerCase();ie("uponSanitizeElement",e,{tagName:t});if(!x[t]||S[t]){if(j&&!L[t]&&typeof e.insertAdjacentHTML==="function"){try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}}W(e);return true}if(A&&!e.firstElementChild&&(!e.content||!e.content.firstElementChild)){e.innerHTML=e.textContent.replace(/</g,"&lt;")}if(E&&e.nodeType===3){i=e.textContent;i=i.replace(P," ");i=i.replace(I," ");e.textContent=i}ie("afterSanitizeElements",e,null);return false};var K=/^data-[\w.\u00B7-\uFFFF-]/;var Q=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;var X=/^(?:\w+script|data):/i;var J=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;var ee=function(e){var i,r,o,a,s,l,u,c;ie("beforeSanitizeAttributes",e,null);l=e.attributes;if(!l){return}u={attrName:"",attrValue:"",keepAttr:true};c=l.length;while(c--){i=l[c];r=i.name;o=i.value;a=r.toLowerCase();u.attrName=a;u.attrValue=o;u.keepAttr=true;ie("uponSanitizeAttribute",e,u);o=u.attrValue;if(a==="name"&&e.nodeName==="IMG"&&l.id){s=l.id;l=Array.prototype.slice.apply(l);e.removeAttribute("id");e.removeAttribute(r);if(l.indexOf(s)>c){e.setAttribute("id",s.value)}}else{if(r==="id"){e.setAttribute(r,"")}e.removeAttribute(r)}if(!u.keepAttr){continue}if(R&&(a==="id"||a==="name")&&(o in t||o in n||o in B)){continue}if(E){o=o.replace(P," ");o=o.replace(I," ")}if(k[a]&&!_[a]&&(H[a]||Q.test(o.replace(J,""))||a==="src"&&o.indexOf("data:")===0&&U[e.nodeName.toLowerCase()])||D&&K.test(a)||$&&!X.test(o.replace(J,""))){try{e.setAttribute(r,o)}catch(e){}}}ie("afterSanitizeAttributes",e,null)};var te=function(e){var t;var i=Y(e);ie("beforeSanitizeShadowDOM",e,null);while(t=i.nextNode()){ie("uponSanitizeShadowNode",t,null);if(G(t)){continue}if(t.content instanceof o){te(t.content)}ee(t)}ie("afterSanitizeShadowDOM",e,null)};var ie=function(e,t,n){if(!y[e]){return}y[e].forEach(function(e){e.call(i,t,n,z)})};i.sanitize=function(e,n){var a,s,l,u,c;if(!e){e=""}if(typeof e!=="string"){if(typeof e.toString!=="function"){throw new TypeError("toString is not a function")}else{e=e.toString()}}if(!i.isSupported){if(typeof t.toStaticHTML==="object"||typeof t.toStaticHTML==="function"){return t.toStaticHTML(e)}return e}q(n);if(!N&&!F&&e.indexOf("<")===-1){return e}a=V(e);if(!a){return N?null:""}u=Y(a);while(s=u.nextNode()){if(s.nodeType===3&&s===l){continue}if(G(s)){continue}if(s.content instanceof o){te(s.content)}ee(s);l=s}if(N){if(O){c=v.call(a.ownerDocument);while(a.firstChild){c.appendChild(a.firstChild)}}else{c=a}if(M){c=g.call(r,c,true)}return c}return F?a.outerHTML:a.innerHTML};i.addHook=function(e,t){if(typeof t!=="function"){return}y[e]=y[e]||[];y[e].push(t)};i.removeHook=function(e){if(y[e]){y[e].pop()}};i.removeHooks=function(e){if(y[e]){y[e]=[]}};i.removeAllHooks=function(){y=[]};return i});(function e(t){"use strict";if(typeof define==="function"&&define.amd){define(t)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=t()}else{window["KvSortable"]=t()}})(function e(){"use strict";if(typeof window=="undefined"||!window.document){return function e(){throw new Error("KvSortable.js requires a window with a document")}}var t,i,n,r,o,a,s,l,u,c,f,d,h,p,m,v,g,y={},b,w,x,C=/\s+/g,k=/left|right|inline/,T="KvSortable"+(new Date).getTime(),S=window,_=S.document,D=S.parseInt,$=S.jQuery||S.Zepto,A=S.Polymer,E=false,P=!!("draggable"in _.createElement("div")),I=function(e){if(!!navigator.userAgent.match(/Trident.*rv[ :]?11\./)){return false}e=_.createElement("x");e.style.cssText="pointer-events:auto";return e.style.pointerEvents==="auto"}(),F=false,N=Math.abs,O=Math.min,M=[],R=[],j=re(function(e,t,i){if(i&&t.scroll){var n=i[T],r,o,a=t.scrollSensitivity,s=t.scrollSpeed,f=e.clientX,d=e.clientY,h=window.innerWidth,p=window.innerHeight,m,v,g,b;if(u!==i){l=t.scroll;u=i;c=t.scrollFn;if(l===true){l=i;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight){break}}while(l=l.parentNode)}}if(l){r=l;o=l.getBoundingClientRect();m=(N(o.right-f)<=a)-(N(o.left-f)<=a);v=(N(o.bottom-d)<=a)-(N(o.top-d)<=a)}if(!(m||v)){m=(h-f<=a)-(f<=a);v=(p-d<=a)-(d<=a);(m||v)&&(r=S)}if(y.vx!==m||y.vy!==v||y.el!==r){y.el=r;y.vx=m;y.vy=v;clearInterval(y.pid);if(r){y.pid=setInterval(function(){b=v?v*s:0;g=m?m*s:0;if("function"===typeof c){return c.call(n,g,b,e)}if(r===S){S.scrollTo(S.pageXOffset+g,S.pageYOffset+b)}else{r.scrollTop+=b;r.scrollLeft+=g}},24)}}}},30),L=function(e){function t(e,t){if(e===void 0||e===true){e=i.name}if(typeof e==="function"){return e}else{return function(i,n){var r=n.options.group.name;return t?e:e&&(e.join?e.indexOf(r)>-1:r==e)}}}var i={};var n=e.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=t(n.pull,true);i.checkPut=t(n.put);i.revertClone=n.revertClone;e.group=i};function U(e,t){if(!(e&&e.nodeType&&e.nodeType===1)){throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(e)}this.el=e;this.options=t=oe({},t);e[T]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"kvsortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i){!(n in t)&&(t[n]=i[n])}L(t);for(var r in this){if(r.charAt(0)==="_"&&typeof this[r]==="function"){this[r]=this[r].bind(this)}}this.nativeDraggable=t.forceFallback?false:P;W(e,"mousedown",this._onTapStart);W(e,"touchstart",this._onTapStart);W(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){W(e,"dragover",this);W(e,"dragenter",this)}R.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}U.prototype={constructor:U,_onTapStart:function(e){var i=this,n=this.el,r=this.options,o=r.preventOnFilter,a=e.type,l=e.touches&&e.touches[0],u=(l||e).target,c=e.target.shadowRoot&&e.path[0]||u,f=r.filter,d;se(n);if(t){return}if(a==="mousedown"&&e.button!==0||r.disabled){return}u=z(u,r.draggable,n);if(!u){return}if(s===u){return}d=ie(u,r.draggable);if(typeof f==="function"){if(f.call(this,e,u,this)){K(i,c,"filter",u,n,d);o&&e.preventDefault();return}}else if(f){f=f.split(",").some(function(e){e=z(c,e.trim(),n);if(e){K(i,e,"filter",u,n,d);return true}});if(f){o&&e.preventDefault();return}}if(r.handle&&!z(c,r.handle,n)){return}this._prepareDragStart(e,l,u,d)},_prepareDragStart:function(e,n,r,l){var u=this,c=u.el,f=u.options,d=c.ownerDocument,h;if(r&&!t&&r.parentNode===c){b=e;o=c;t=r;i=t.parentNode;a=t.nextSibling;s=r;v=f.group;p=l;this._lastX=(n||e).clientX;this._lastY=(n||e).clientY;t.style["will-change"]="transform";h=function(){u._disableDelayedDrag();t.draggable=u.nativeDraggable;Y(t,f.chosenClass,true);u._triggerDragStart(e,n);K(u,o,"choose",t,o,p)};f.ignore.split(",").forEach(function(e){G(t,e.trim(),X)});W(d,"mouseup",u._onDrop);W(d,"touchend",u._onDrop);W(d,"touchcancel",u._onDrop);W(d,"pointercancel",u._onDrop);W(d,"selectstart",u);if(f.delay){W(d,"mouseup",u._disableDelayedDrag);W(d,"touchend",u._disableDelayedDrag);W(d,"touchcancel",u._disableDelayedDrag);W(d,"mousemove",u._disableDelayedDrag);W(d,"touchmove",u._disableDelayedDrag);W(d,"pointermove",u._disableDelayedDrag);u._dragStartTimer=setTimeout(h,f.delay)}else{h()}}},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer);V(e,"mouseup",this._disableDelayedDrag);V(e,"touchend",this._disableDelayedDrag);V(e,"touchcancel",this._disableDelayedDrag);V(e,"mousemove",this._disableDelayedDrag);V(e,"touchmove",this._disableDelayedDrag);V(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,i){i=i||(e.pointerType=="touch"?e:null);if(i){b={target:t,clientX:i.clientX,clientY:i.clientY};this._onDragStart(b,"touch")}else if(!this.nativeDraggable){this._onDragStart(b,true)}else{W(t,"dragend",this);W(o,"dragstart",this._onDragStart)}try{if(_.selection){setTimeout(function(){_.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(e){}},_dragStarted:function(){if(o&&t){var e=this.options;Y(t,e.ghostClass,true);Y(t,e.dragClass,false);U.active=this;K(this,o,"start",t,o,p)}else{this._nulling()}},_emulateDragOver:function(){if(w){if(this._lastX===w.clientX&&this._lastY===w.clientY){return}this._lastX=w.clientX;this._lastY=w.clientY;if(!I){Z(n,"display","none")}var e=_.elementFromPoint(w.clientX,w.clientY),t=e,i=R.length;if(t){do{if(t[T]){while(i--){R[i]({clientX:w.clientX,clientY:w.clientY,target:e,rootEl:t})}break}e=t}while(t=t.parentNode)}if(!I){Z(n,"display","")}}},_onTouchMove:function(e){if(b){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=o.clientX-b.clientX+r.x,s=o.clientY-b.clientY+r.y,l=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!U.active){if(i&&O(N(o.clientX-this._lastX),N(o.clientY-this._lastY))<i){return}this._dragStarted()}this._appendGhost();x=true;w=o;Z(n,"webkitTransform",l);Z(n,"mozTransform",l);Z(n,"msTransform",l);Z(n,"transform",l);e.preventDefault()}},_appendGhost:function(){if(!n){var e=t.getBoundingClientRect(),i=Z(t),r=this.options,a;n=t.cloneNode(true);Y(n,r.ghostClass,false);Y(n,r.fallbackClass,true);Y(n,r.dragClass,true);Z(n,"top",e.top-D(i.marginTop,10));Z(n,"left",e.left-D(i.marginLeft,10));Z(n,"width",e.width);Z(n,"height",e.height);Z(n,"opacity","0.8");Z(n,"position","fixed");Z(n,"zIndex","100000");Z(n,"pointerEvents","none");r.fallbackOnBody&&_.body.appendChild(n)||o.appendChild(n);a=n.getBoundingClientRect();Z(n,"width",e.width*2-a.width);Z(n,"height",e.height*2-a.height)}},_onDragStart:function(e,i){var n=e.dataTransfer,a=this.options;this._offUpEvents();if(v.checkPull(this,this,t,e)){r=ae(t);r.draggable=false;r.style["will-change"]="";Z(r,"display","none");Y(r,this.options.chosenClass,false);o.insertBefore(r,t);K(this,o,"clone",t)}Y(t,a.dragClass,true);if(i){if(i==="touch"){W(_,"touchmove",this._onTouchMove);W(_,"touchend",this._onDrop);W(_,"touchcancel",this._onDrop);W(_,"pointermove",this._onTouchMove);W(_,"pointerup",this._onDrop)}else{W(_,"mousemove",this._onTouchMove);W(_,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,50)}else{if(n){n.effectAllowed="move";a.setData&&a.setData.call(this,n,t)}W(_,"drop",this);setTimeout(this._dragStarted,0)}},_onDragOver:function(e){var s=this.el,l,u,c,p,m=this.options,y=m.group,b=U.active,w=v===y,C=false,S=m.sort;if(e.preventDefault!==void 0){e.preventDefault();!m.dragoverBubble&&e.stopPropagation()}if(t.animated){return}x=true;if(b&&!m.disabled&&(w?S||(p=!o.contains(t)):g===this||(b.lastPullMode=v.checkPull(this,b,t,e))&&y.checkPut(this,b,t,e))&&(e.rootEl===void 0||e.rootEl===this.el)){j(e,m,this.el);if(F){return}l=z(e.target,m.draggable,s);u=t.getBoundingClientRect();if(g!==this){g=this;C=true}if(p){H(b,true);i=o;if(r||a){o.insertBefore(t,r||a)}else if(!S){o.appendChild(t)}return}if(s.children.length===0||s.children[0]===n||s===e.target&&(l=ee(s,e))){if(l){if(l.animated){return}c=l.getBoundingClientRect()}H(b,w);if(Q(o,s,t,u,l,c,e)!==false){if(!t.contains(s)){s.appendChild(t);i=s}this._animate(u,t);l&&this._animate(c,l)}}else if(l&&!l.animated&&l!==t&&l.parentNode[T]!==void 0){if(f!==l){f=l;d=Z(l);h=Z(l.parentNode)}c=l.getBoundingClientRect();var _=c.right-c.left,D=c.bottom-c.top,$=k.test(d.cssFloat+d.display)||h.display=="flex"&&h["flex-direction"].indexOf("row")===0,A=l.offsetWidth>t.offsetWidth,E=l.offsetHeight>t.offsetHeight,P=($?(e.clientX-c.left)/_:(e.clientY-c.top)/D)>.5,I=l.nextElementSibling,N=Q(o,s,t,u,l,c,e),O=false;if(N!==false){F=true;setTimeout(J,30);H(b,w);if(N===1||N===-1){O=N===1}else if($){var M=t.offsetTop,R=l.offsetTop;if(M===R){O=l.previousElementSibling===t&&!A||P&&A}else if(l.previousElementSibling===t||t.previousElementSibling===l){O=(e.clientY-c.top)/D>.5}else{O=R>M}}else if(!C){O=I!==t&&!E||P&&E}if(!t.contains(s)){if(O&&!I){s.appendChild(t)}else{l.parentNode.insertBefore(t,O?I:l)}}i=t.parentNode;this._animate(u,t);this._animate(c,l)}}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();if(e.nodeType===1){e=e.getBoundingClientRect()}Z(t,"transition","none");Z(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)");t.offsetWidth;Z(t,"transition","all "+i+"ms");Z(t,"transform","translate3d(0,0,0)");clearTimeout(t.animated);t.animated=setTimeout(function(){Z(t,"transition","");Z(t,"transform","");t.animated=false},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;V(_,"touchmove",this._onTouchMove);V(_,"pointermove",this._onTouchMove);V(e,"mouseup",this._onDrop);V(e,"touchend",this._onDrop);V(e,"pointerup",this._onDrop);V(e,"touchcancel",this._onDrop);V(e,"selectstart",this)},_onDrop:function(e){var s=this.el,l=this.options;clearInterval(this._loopId);clearInterval(y.pid);clearTimeout(this._dragStartTimer);V(_,"mousemove",this._onTouchMove);if(this.nativeDraggable){V(_,"drop",this);V(s,"dragstart",this._onDragStart)}this._offUpEvents();if(e){if(x){e.preventDefault();!l.dropBubble&&e.stopPropagation()}n&&n.parentNode.removeChild(n);if(o===i||U.active.lastPullMode!=="clone"){r&&r.parentNode.removeChild(r)}if(t){if(this.nativeDraggable){V(t,"dragend",this)}X(t);t.style["will-change"]="";Y(t,this.options.ghostClass,false);Y(t,this.options.chosenClass,false);if(o!==i){m=ie(t,l.draggable);if(m>=0){K(null,i,"add",t,o,p,m);K(this,o,"remove",t,o,p,m);K(null,i,"sort",t,o,p,m);K(this,o,"sort",t,o,p,m)}}else{if(t.nextSibling!==a){m=ie(t,l.draggable);if(m>=0){K(this,o,"update",t,o,p,m);K(this,o,"sort",t,o,p,m)}}}if(U.active){if(m==null||m===-1){m=p}K(this,o,"end",t,o,p,m);this.save()}}}this._nulling()},_nulling:function(){o=t=i=n=a=r=s=l=u=b=w=x=m=f=d=g=v=U.active=null;M.forEach(function(e){e.checked=true});M.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":if(t){this._onDragOver(e);q(e)}break;case"selectstart":e.preventDefault();break}},toArray:function(){var e=[],t,i=this.el.children,n=0,r=i.length,o=this.options;for(;n<r;n++){t=i[n];if(z(t,o.draggable,this.el)){e.push(t.getAttribute(o.dataIdAttr)||te(t))}}return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var r=i.children[n];if(z(r,this.options.draggable,i)){t[e]=r}},this);e.forEach(function(e){if(t[e]){i.removeChild(t[e]);i.appendChild(t[e])}})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return z(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(t===void 0){return i[e]}else{i[e]=t;if(e==="group"){L(i)}}},destroy:function(){var e=this.el;e[T]=null;V(e,"mousedown",this._onTapStart);V(e,"touchstart",this._onTapStart);V(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){V(e,"dragover",this);V(e,"dragenter",this)}Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});R.splice(R.indexOf(this._onDragOver),1);this._onDrop();this.el=e=null}};function H(e,i){if(e.lastPullMode!=="clone"){i=true}if(r&&r.state!==i){Z(r,"display",i?"none":"");if(!i){if(r.state){if(e.options.group.revertClone){o.insertBefore(r,a);e._animate(t,r)}else{o.insertBefore(r,t)}}}r.state=i}}function z(e,t,i){if(e){i=i||_;do{if(t===">*"&&e.parentNode===i||ne(e,t)){return e}}while(e=B(e))}return null}function B(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function q(e){if(e.dataTransfer){e.dataTransfer.dropEffect="move"}e.preventDefault()}function W(e,t,i){e.addEventListener(t,i,E)}function V(e,t,i){e.removeEventListener(t,i,E)}function Y(e,t,i){if(e){if(e.classList){e.classList[i?"add":"remove"](t)}else{var n=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(C," ")}}}function Z(e,t,i){var n=e&&e.style;if(n){if(i===void 0){if(_.defaultView&&_.defaultView.getComputedStyle){i=_.defaultView.getComputedStyle(e,"")}else if(e.currentStyle){i=e.currentStyle}return t===void 0?i:i[t]}else{if(!(t in n)){t="-webkit-"+t}n[t]=i+(typeof i==="string"?"":"px")}}}function G(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,o=n.length;if(i){for(;r<o;r++){i(n[r],r)}}return n}return[]}function K(e,t,i,n,o,a,s){e=e||t[T];var l=_.createEvent("Event"),u=e.options,c="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,true,true);l.to=t;l.from=o||t;l.item=n||t;l.clone=r;l.oldIndex=a;l.newIndex=s;t.dispatchEvent(l);if(u[c]){u[c].call(e,l)}}function Q(e,t,i,n,r,o,a){var s,l=e[T],u=l.options.onMove,c;s=_.createEvent("Event");s.initEvent("move",true,true);s.to=t;s.from=e;s.dragged=i;s.draggedRect=n;s.related=r||t;s.relatedRect=o||t.getBoundingClientRect();e.dispatchEvent(s);if(u){c=u.call(l,s,a)}return c}function X(e){e.draggable=false}function J(){F=false}function ee(e,t){var i=e.lastElementChild,n=i.getBoundingClientRect();return(t.clientY-(n.top+n.height)>5||t.clientX-(n.right+n.width)>5)&&i}function te(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--){n+=t.charCodeAt(i)}return n.toString(36)}function ie(e,t){var i=0;if(!e||!e.parentNode){return-1}while(e&&(e=e.previousElementSibling)){if(e.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||ne(e,t))){i++}}return i}function ne(e,t){if(e){t=t.split(".");var i=t.shift().toUpperCase(),n=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(i===""||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(n)||[]).length==t.length)}return false}function re(e,t){var i,n;return function(){if(i===void 0){i=arguments;n=this;setTimeout(function(){if(i.length===1){e.call(n,i[0])}else{e.apply(n,i)}i=void 0},t)}}}function oe(e,t){if(e&&t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}function ae(e){return $?$(e).clone(true)[0]:A&&A.dom?A.dom(e).cloneNode(true):e.cloneNode(true)}function se(e){var t=e.getElementsByTagName("input");var i=t.length;while(i--){var n=t[i];n.checked&&M.push(n)}}W(_,"touchmove",function(e){if(U.active){e.preventDefault()}});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){E={capture:false,passive:false}}}))}catch(e){}U.utils={on:W,off:V,css:Z,find:G,is:function(e,t){return!!z(e,t,e)},extend:oe,throttle:re,closest:z,toggleClass:Y,clone:ae,index:ie};U.create=function(e,t){return new U(e,t)};U.version="1.5.1";return U});(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){"use strict";e.fn.kvsortable=function(t){var i,n=arguments;this.each(function(){var r=e(this),o=r.data("kvsortable");if(!o&&(t instanceof Object||!t)){o=new KvSortable(this,t);r.data("kvsortable",o)}if(o){if(t==="widget"){i=o}else if(t==="destroy"){o.destroy();r.removeData("kvsortable")}else if(typeof o[t]==="function"){i=o[t].apply(o,[].slice.call(n,1))}else if(t in o.options){i=o.option.apply(o,n)}}});return i===void 0?this:i}});(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{if(typeof module==="object"&&module.exports){module.exports=e(require("jquery"))}else{e(window.jQuery)}}})(function(e){"use strict";e.fn.fileinputLocales={};e.fn.fileinputThemes={};String.prototype.setTokens=function(e){var t=this.toString(),i,n;for(i in e){if(e.hasOwnProperty(i)){n=new RegExp("{"+i+"}","g");t=t.replace(n,e[i])}}return t};var t,i;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n'+'<param name="allowFullScreen" value="true" />\n'+'<param name="allowScriptAccess" value="always" />\n'+'<param name="autoPlay" value="false" />\n'+'<param name="autoStart" value="false" />\n'+'<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n'+'<span class="{previewFileIconClass}">{previewFileIcon}</span>\n'+"</div>",MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(e,t,i){return e!==undefined&&(i?e===t:e.match(t))},isIE:function(e){if(navigator.appName!=="Microsoft Internet Explorer"){return false}if(e===10){return new RegExp("msie\\s"+e,"i").test(navigator.userAgent)}var t=document.createElement("div"),i;t.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e";i=t.getElementsByTagName("i").length;document.body.appendChild(t);t.parentNode.removeChild(t);return i},initModal:function(t){var i=e("body");if(i.length){t.appendTo(i)}},isEmpty:function(t,i){return t===undefined||t===null||t.length===0||i&&e.trim(t)===""},isArray:function(e){return Array.isArray(e)||Object.prototype.toString.call(e)==="[object Array]"},ifSet:function(e,t,i){i=i||"";return t&&typeof t==="object"&&e in t?t[e]:i},cleanArray:function(e){if(!(e instanceof Array)){e=[]}return e.filter(function(e){return e!==undefined&&e!==null})},spliceArray:function(e,t){var i,n=0,r=[];if(!(e instanceof Array)){return[]}for(i=0;i<e.length;i++){if(i!==t){r[n]=e[i];n++}}return r},getNum:function(e,t){t=t||0;if(typeof e==="number"){return e}if(typeof e==="string"){e=parseFloat(e)}return isNaN(e)?t:e},hasFileAPISupport:function(){return!!(window.File&&window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(e.draggable!==undefined||e.ondragstart!==undefined&&e.ondrop!==undefined)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return false}},hasArrayBufferViewSupport:function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}},dataURI2Blob:function(e){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,n=t.hasBlobSupport(),r,o,a,s,l,u,c=(n||i)&&window.atob&&window.ArrayBuffer&&window.Uint8Array;if(!c){return null}if(e.split(",")[0].indexOf("base64")>=0){r=atob(e.split(",")[1])}else{r=decodeURIComponent(e.split(",")[1])}o=new ArrayBuffer(r.length);a=new Uint8Array(o);for(s=0;s<r.length;s+=1){a[s]=r.charCodeAt(s)}l=e.split(",")[0].split(":")[1].split(";")[0];if(n){return new Blob([t.hasArrayBufferViewSupport()?a:o],{type:l})}u=new i;u.append(o);return u.getBlob(l)},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(i,n,r){return t.isEmpty(i)||t.isEmpty(i[n])?r:e(i[n])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(Math.random()*100)},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var n=t;if(!i){return n}e.each(i,function(e,t){if(typeof t==="function"){t=t()}n=n.split(e).join(t)});return n},cleanMemory:function(e){var i=e.is("img")?e.attr("src"):e.find("source").attr("src");t.objUrl.revokeObjectURL(i)},findFileName:function(e){var t=e.lastIndexOf("/");if(t===-1){t=e.lastIndexOf("\\")}return e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var i=document,n=i.documentElement;if(n&&e&&!t.checkFullScreen()){if(n.requestFullscreen){n.requestFullscreen()}else if(n.msRequestFullscreen){n.msRequestFullscreen()}else if(n.mozRequestFullScreen){n.mozRequestFullScreen()}else if(n.webkitRequestFullscreen){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(i.exitFullscreen){i.exitFullscreen()}else if(i.msExitFullscreen){i.msExitFullscreen()}else if(i.mozCancelFullScreen){i.mozCancelFullScreen()}else if(i.webkitExitFullscreen){i.webkitExitFullscreen()}}},moveArray:function(e,t,i){if(i>=e.length){var n=i-e.length;while(n--+1){e.push(undefined)}}e.splice(i,0,e.splice(t,1)[0]);return e},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");if(!t.length){t=e.closest(".kv-zoom-cache")}t.remove()},setOrientation:function(e,t){var i=new DataView(e),n=0,r=1,o,a,s;if(i.getUint16(n)!==65496||e.length<2){if(t){t()}return}n+=2;o=i.byteLength;while(n<o-2){a=i.getUint16(n);n+=2;switch(a){case 65505:s=i.getUint16(n);o=s-n;n+=2;break;case 274:r=i.getUint16(n+6,false);o=0;break}}if(t){t(r)}},validateOrientation:function(e,i){if(!window.FileReader||!window.DataView){return}var n=new FileReader,r;n.onloadend=function(){r=n.result;t.setOrientation(r,i)};n.readAsArrayBuffer(e)},adjustOrientedImage:function(e,t){var i,n,r;if(!e.hasClass("is-portrait-gt4")){return}if(t){e.css({width:e.parent().height()});return}else{e.css({height:"auto",width:e.height()})}i=e.parent().offset().top;n=e.offset().top;r=i-n;e.css("margin-top",r)}};i=function(i,n){var r=this;r.$element=e(i);r.$parent=r.$element.parent();if(!r._validate()){return}r.isPreviewable=t.hasFileAPISupport();r.isIE9=t.isIE(9);r.isIE10=t.isIE(10);if(r.isPreviewable||r.isIE9){r._init(n);r._listen()}r.$element.removeClass("file-loading")};i.prototype={constructor:i,_cleanup:function(){var e=this;e.reader=null;e.formdata={};e.uploadCount=0;e.uploadStatus={};e.uploadLog=[];e.uploadAsyncCount=0;e.loadedImages=[];e.totalImagesCount=0;e.ajaxRequests=[];e.clearStack();e.fileInputCleared=false;e.fileBatchCompleted=true;if(!e.isPreviewable){e.showPreview=false}e.isError=false;e.ajaxAborted=false;e.cancelling=false},_init:function(i,n){var r=this,o=r.$element,a,s,l;r.options=i;e.each(i,function(e,i){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":r[e]=t.getNum(i);break;default:r[e]=i;break}});if(r.rtl){l=r.previewZoomButtonIcons.prev;r.previewZoomButtonIcons.prev=r.previewZoomButtonIcons.next;r.previewZoomButtonIcons.next=l}if(!n){r._cleanup()}r.$form=o.closest("form");r._initTemplateDefaults();r.uploadFileAttr=!t.isEmpty(o.attr("name"))?o.attr("name"):"file_data";s=r._getLayoutTemplate("progress");r.progressTemplate=s.replace("{class}",r.progressClass);r.progressCompleteTemplate=s.replace("{class}",r.progressCompleteClass);r.progressErrorTemplate=s.replace("{class}",r.progressErrorClass);r.dropZoneEnabled=t.hasDragDropSupport()&&r.dropZoneEnabled;r.isDisabled=o.attr("disabled")||o.attr("readonly");if(r.isDisabled){o.attr("disabled",true)}r.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(r.uploadUrl);r.isClickable=r.browseOnZoneClick&&r.showPreview&&(r.isAjaxUpload&&r.dropZoneEnabled||!t.isEmpty(r.defaultPreviewContent));r.slug=typeof i.slugCallback==="function"?i.slugCallback:r._slugDefault;r.mainTemplate=r.showCaption?r._getLayoutTemplate("main1"):r._getLayoutTemplate("main2");r.captionTemplate=r._getLayoutTemplate("caption");r.previewGenericTemplate=r._getPreviewTemplate("generic");if(!r.imageCanvas&&r.resizeImage&&(r.maxImageWidth||r.maxImageHeight)){r.imageCanvas=document.createElement("canvas");r.imageCanvasContext=r.imageCanvas.getContext("2d")}if(t.isEmpty(o.attr("id"))){o.attr("id",t.uniqId())}r.namespace=".fileinput_"+o.attr("id").replace(/-/g,"_");if(r.$container===undefined){r.$container=r._createContainer()}else{r._refreshContainer()}a=r.$container;r.$dropZone=a.find(".file-drop-zone");r.$progress=a.find(".kv-upload-progress");r.$btnUpload=a.find(".fileinput-upload");r.$captionContainer=t.getElement(i,"elCaptionContainer",a.find(".file-caption"));r.$caption=t.getElement(i,"elCaptionText",a.find(".file-caption-name"));r.$previewContainer=t.getElement(i,"elPreviewContainer",a.find(".file-preview"));r.$preview=t.getElement(i,"elPreviewImage",a.find(".file-preview-thumbnails"));r.$previewStatus=t.getElement(i,"elPreviewStatus",a.find(".file-preview-status"));r.$errorContainer=t.getElement(i,"elErrorContainer",r.$previewContainer.find(".kv-fileinput-error"));if(!t.isEmpty(r.msgErrorClass)){t.addCss(r.$errorContainer,r.msgErrorClass)}if(!n){r.$errorContainer.hide();r.previewInitId="preview-"+t.uniqId();r._initPreviewCache();r._initPreview(true);r._initPreviewActions();r._setFileDropZoneTitle();if(r.$parent.hasClass("file-loading")){r.$container.insertBefore(r.$parent);r.$parent.remove()}}if(o.attr("disabled")){r.disable()}r._initZoom();if(r.hideThumbnailContent){t.addCss(r.$preview,"hide-content")}},_initTemplateDefaults:function(){var i=this,n,r,o,a,s,l,u,c,f,d,h,p,m,v,g,y,b,w,x,C,k,T,S,_,D,$,A,E,P,I,F,N,O,M,R,j,L;n="{preview}\n"+'<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n'+'<div class="input-group {class}">\n'+"   {caption}\n"+'   <div class="input-group-btn">\n'+"       {remove}\n"+"       {cancel}\n"+"       {upload}\n"+"       {browse}\n"+"   </div>\n"+"</div>";r='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';o='<div class="file-preview {class}">\n'+"    {close}"+'    <div class="{dropClass}">\n'+'    <div class="file-preview-thumbnails">\n'+"    </div>\n"+'    <div class="clearfix"></div>'+'    <div class="file-preview-status text-center text-success"></div>\n'+'    <div class="kv-fileinput-error"></div>\n'+"    </div>\n"+"</div>";s='<button type="button" class="close fileinput-remove">&times;</button>\n';a='<i class="glyphicon glyphicon-file kv-caption-icon"></i>';l='<div tabindex="500" class="form-control file-caption {class}">\n'+'   <div class="file-caption-name"></div>\n'+"</div>\n";u='<button type="{type}" tabindex="500" title="{title}" class="{css}" '+"{status}>{icon} {label}</button>";c='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>';f='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>';d='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" '+'tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>';h='<div class="modal-dialog modal-lg{rtl}" role="document">\n'+'  <div class="modal-content">\n'+'    <div class="modal-header">\n'+'      <h5 class="modal-title">{heading}</h5>\n'+'      <span class="kv-zoom-title"></span>\n'+'      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n'+"    </div>\n"+'    <div class="modal-body">\n'+'      <div class="floating-buttons"></div>\n'+'      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n'+"{prev} {next}\n"+"    </div>\n"+"  </div>\n"+"</div>\n";p='<div class="progress">\n'+'    <div class="{class}" role="progressbar"'+' aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n'+"        {status}\n"+"     </div>\n"+"</div>";m=" <samp>({sizeText})</samp>";v='<div class="file-thumbnail-footer">\n'+'    <div class="file-footer-caption" title="{caption}">\n'+'        <div class="file-caption-info">{caption}</div>\n'+'        <div class="file-size-info">{size}</div>\n'+"    </div>\n"+"    {progress}\n{indicator}\n{actions}\n"+"</div>";g='<div class="file-actions">\n'+'    <div class="file-footer-buttons">\n'+"        {download} {upload} {delete} {zoom} {other}"+"    </div>\n"+"</div>\n"+"{drag}\n"+'<div class="clearfix"></div>';y='<button type="button" class="kv-file-remove {removeClass}" '+'title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n';b='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">'+"{uploadIcon}</button>";w='<a href="{downloadUrl}" class="{downloadClass}" title="{downloadTitle}" '+'download="{caption}">{downloadIcon}</a>';x='<button type="button" class="kv-file-zoom {zoomClass}" '+'title="{zoomTitle}">{zoomIcon}</button>';C='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>';k='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>';T='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}"'+' data-template="{template}"';S=T+'><div class="kv-file-content">\n';_=T+' title="{caption}"><div class="kv-file-content">\n';D="</div>{footer}\n</div>\n";$="{content}\n";A='<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n';E='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" '+'alt="{caption}" {style}>\n';P='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>'+"{data}</textarea {style}>\n";I='<video class="kv-preview-data file-preview-video" controls {style}>\n'+'<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n";F='<audio class="kv-preview-data file-preview-audio" controls {style}>\n<source src="{data}" '+'type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n";N='<object class="kv-preview-data file-preview-flash file-object" type="application/x-shockwave-flash" '+'data="{data}" {style}>\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n";O='<object class="kv-preview-data file-preview-object file-object {typeCss}" '+'data="{data}" type="{type}" {style}>\n'+'<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n";M='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf" {style}>\n';R='<div class="kv-preview-data file-preview-other-frame" {style}>\n'+t.DEFAULT_PREVIEW+"\n</div>\n";j='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>';L={width:"100%",height:"100%","min-height":"480px"};i.defaults={layoutTemplates:{main1:n,main2:r,preview:o,close:s,fileIcon:a,caption:l,modalMain:d,modal:h,progress:p,size:m,footer:v,indicator:k,actions:g,actionDelete:y,actionUpload:b,actionDownload:w,actionZoom:x,actionDrag:C,btnDefault:u,btnLink:c,btnBrowse:f,zoomCache:j},previewMarkupTags:{tagBefore1:S,tagBefore2:_,tagAfter:D},previewContentTemplates:{generic:$,html:A,image:E,text:P,video:I,audio:F,flash:N,object:O,pdf:M,other:R},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"213px",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:L,text:L,video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:L,other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(e,i){return t.compare(e,"image.*")||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(e,i){return t.compare(e,"text/html")||t.compare(i,/\.(htm|html)$/i)},text:function(e,i){return t.compare(e,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,i){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,i){return t.compare(e,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,i){return t.compare(e,"application/x-shockwave-flash",true)||t.compare(i,/\.(swf)$/i)},pdf:function(e,i){return t.compare(e,"application/pdf",true)||t.compare(i,/\.(pdf)$/i)},object:function(){return true},other:function(){return true}},fileActionSettings:{showRemove:true,showUpload:true,showDownload:true,showZoom:true,showDrag:true,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}};e.each(i.defaults,function(t,n){if(t==="allowedPreviewTypes"){if(i.allowedPreviewTypes===undefined){i.allowedPreviewTypes=n}return}i[t]=e.extend(true,{},n,i[t])});i._initPreviewTemplates()},_initPreviewTemplates:function(){var i=this,n=i.defaults,r=i.previewMarkupTags,o,a=r.tagAfter;e.each(n.previewContentTemplates,function(e,n){if(t.isEmpty(i.previewTemplates[e])){o=r.tagBefore2;if(e==="generic"||e==="image"||e==="html"||e==="text"){o=r.tagBefore1}i.previewTemplates[e]=o+n+a}})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var e=i.initialPreview;if(e.length>0&&!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}i.previewCache.data={content:e,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},count:function(){return!!i.previewCache.data&&!!i.previewCache.data.content?i.previewCache.data.content.length:0},get:function(n,r){var o="init_"+n,a=i.previewCache.data,s=a.config[n],l=a.content[n],u=i.previewInitId+"-"+o,c,f,d,h,p,m,v,g=t.ifSet("previewAsData",s,i.initialPreviewAsData),y=function(e,n,r,o,a,s,l,u,c){u=" file-preview-initial "+t.SORT_CSS+(u?" "+u:"");return i._generatePreviewTemplate(e,n,r,o,a,false,null,u,s,l,c)};if(!l){return""}r=r===undefined?true:r;d=t.ifSet("type",s,i.initialPreviewFileType||"generic");p=t.ifSet("filename",s,t.ifSet("caption",s));m=t.ifSet("filetype",s,d);h=i.previewCache.footer(n,r,s&&s.size||null);v=t.ifSet("frameClass",s);if(g){c=y(d,l,p,m,u,h,o,v)}else{c=y("generic",l,p,m,u,h,o,v,d).setTokens({content:a.content[n]})}if(a.tags.length&&a.tags[n]){c=t.replaceTags(c,a.tags[n])}if(!t.isEmpty(s)&&!t.isEmpty(s.frameAttr)){f=e(document.createElement("div")).html(c);f.find(".file-preview-initial").attr(s.frameAttr);c=f.html();f.remove()}return c},add:function(e,n,r,o){var a=i.previewCache.data,s;if(!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}if(o){s=a.content.push(e)-1;a.config[s]=n;a.tags[s]=r}else{s=e.length-1;a.content=e;a.config=n;a.tags=r}i.previewCache.data=a;return s},set:function(e,n,r,o){var a=i.previewCache.data,s,l;if(!e||!e.length){return}if(!t.isArray(e)){e=e.split(i.initialPreviewDelimiter)}l=e.filter(function(e){return e!==null});if(!l.length){return}if(a.content===undefined){a.content=[]}if(a.config===undefined){a.config=[]}if(a.tags===undefined){a.tags=[]}if(o){for(s=0;s<e.length;s++){if(e[s]){a.content.push(e[s])}}for(s=0;s<n.length;s++){if(n[s]){a.config.push(n[s])}}for(s=0;s<r.length;s++){if(r[s]){a.tags.push(r[s])}}}else{a.content=e;a.config=n;a.tags=r}i.previewCache.data=a},unset:function(e){var t=i.previewCache.count();if(!t){return}if(t===1){i.previewCache.data.content=[];i.previewCache.data.config=[];i.previewCache.data.tags=[];i.initialPreview=[];i.initialPreviewConfig=[];i.initialPreviewThumbTags=[];return}i.previewCache.data.content.splice(e,1);i.previewCache.data.config.splice(e,1);i.previewCache.data.tags.splice(e,1)},out:function(){var e="",t,n=i.previewCache.count(),r;if(n===0){return{content:"",caption:""}}for(r=0;r<n;r++){e+=i.previewCache.get(r)}t=i._getMsgSelected(n);return{content:e,caption:t}},footer:function(e,n,r){var o=i.previewCache.data||{};if(t.isEmpty(o.content)){return""}if(t.isEmpty(o.config)||t.isEmpty(o.config[e])){o.config[e]={}}n=n===undefined?true:n;var a=o.config[e],s=t.ifSet("caption",a),l,u=t.ifSet("width",a,"auto"),c=t.ifSet("url",a,false),f=t.ifSet("key",a,null),d=i.fileActionSettings,h=i.initialPreviewShowDelete||false,p=a.downloadUrl||i.initialPreviewDownloadUrl||"",m=a.filename||a.caption||"",v=!!p,g=t.ifSet("showDelete",a,t.ifSet("showDelete",d,h)),y=t.ifSet("showDownload",a,t.ifSet("showDownload",d,v)),b=t.ifSet("showZoom",a,t.ifSet("showZoom",d,true)),w=t.ifSet("showDrag",a,t.ifSet("showDrag",d,true)),x=c===false&&n;y=y&&a.downloadUrl!==false&&!!p;l=i._renderFileActions(false,y,g,b,w,x,c,f,true,p,m);return i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:l,caption:s,size:i._getSize(r),width:u,indicator:""})}};i.previewCache.init()},_handler:function(e,t,i){var n=this,r=n.namespace,o=t.split(" ").join(r+" ")+r;if(!e||!e.length){return}e.off(o).on(o,i)},_log:function(e){var t=this,i=t.$element.attr("id");if(i){e='"'+i+'": '+e}if(typeof window.console.log!=="undefined"){window.console.log(e)}else{window.alert(e)}},_validate:function(){var e=this,t=e.$element.attr("type")==="file";if(!t){e._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.')}return t},_errorsExist:function(){var t=this,i,n=t.$errorContainer.find("li");if(n.length){return true}i=e(document.createElement("div")).html(t.$errorContainer.html());i.find(".kv-error-close").remove();i.find("ul").remove();return!!e.trim(i.text()).length},_errorHandler:function(e,t){var i=this,n=e.target.error,r=function(e){i._showError(e.replace("{name}",t))};if(n.code===n.NOT_FOUND_ERR){r(i.msgFileNotFound)}else if(n.code===n.SECURITY_ERR){r(i.msgFileSecured)}else if(n.code===n.NOT_READABLE_ERR){r(i.msgFileNotReadable)}else if(n.code===n.ABORT_ERR){r(i.msgFilePreviewAborted)}else{r(i.msgFilePreviewError)}},_addError:function(e){var t=this,i=t.$errorContainer;if(e&&i.length){i.html(t.errorCloseButton+e);t._handler(i.find(".kv-error-close"),"click",function(){i.fadeOut("slow")})}},_resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=false;t.$container.removeClass("has-error");i.html("");if(e){i.fadeOut("slow")}else{i.hide()}},_showFolderError:function(e){var i=this,n=i.$errorContainer,r;if(!e){return}r=i.msgFoldersNotAllowed.replace("{n}",e);i._addError(r);t.addCss(i.$container,"has-error");n.fadeIn(800);i._raise("filefoldererror",[e,r])},_showUploadError:function(e,i,n){var r=this,o=r.$errorContainer,a=n||"fileuploaderror",s=i&&i.id?'<li data-file-id="'+i.id+'">'+e+"</li>":"<li>"+e+"</li>";if(o.find("ul").length===0){r._addError("<ul>"+s+"</ul>")}else{o.find("ul").append(s)}o.fadeIn(800);r._raise(a,[i,e]);r.$container.removeClass("file-input-new");t.addCss(r.$container,"has-error");return true},_showError:function(e,i,n){var r=this,o=r.$errorContainer,a=n||"fileerror";i=i||{};i.reader=r.reader;r._addError(e);o.fadeIn(800);r._raise(a,[i,e]);if(!r.isAjaxUpload){r._clearFileInput()}r.$container.removeClass("file-input-new");t.addCss(r.$container,"has-error");r.$btnUpload.attr("disabled",true);return true},_noFilesError:function(e){var i=this,n=i.minFileCount>1?i.filePlural:i.fileSingle,r=i.msgFilesTooLess.replace("{n}",i.minFileCount).replace("{files}",n),o=i.$errorContainer;i._addError(r);i.isError=true;i._updateFileDetails(0);o.fadeIn(800);i._raise("fileerror",[e,r]);i._clearFileInput();t.addCss(i.$container,"has-error")},_parseError:function(t,i,n,r){var o=this,a=e.trim(n+""),s,l=i.responseJSON!==undefined&&i.responseJSON.error!==undefined?i.responseJSON.error:i.responseText;if(o.cancelling&&o.msgUploadAborted){a=o.msgUploadAborted}if(o.showAjaxErrorDetails&&l){l=e.trim(l.replace(/\n\s*\n/g,"\n"));s=l.length?"<pre>"+l+"</pre>":"";a+=a?s:l}if(!a){a=o.msgAjaxError.replace("{operation}",t)}o.cancelling=false;return r?"<b>"+r+": </b>"+a:a},_parseFileType:function(e){var i=this,n,r,o,a,s=i.allowedPreviewTypes||[];for(a=0;a<s.length;a++){o=s[a];n=i.fileTypeSettings[o];r=n(e.type,e.name)?o:"";if(!t.isEmpty(r)){return r}}return"other"},_getPreviewIcon:function(t){var i=this,n,r=null;if(t&&t.indexOf(".")>-1){n=t.split(".").pop();if(i.previewFileIconSettings){r=i.previewFileIconSettings[n]||i.previewFileIconSettings[n.toLowerCase()]||null}if(i.previewFileExtSettings){e.each(i.previewFileExtSettings,function(e,t){if(i.previewFileIconSettings[e]&&t(n)){r=i.previewFileIconSettings[e];return}})}}return r},_parseFilePreviewIcon:function(e,t){var i=this,n=i._getPreviewIcon(t)||i.previewFileIcon,r=e;if(r.indexOf("{previewFileIcon}")>-1){r=r.setTokens({previewFileIconClass:i.previewFileIconClass,previewFileIcon:n})}return r},_raise:function(t,i){var n=this,r=e.Event(t);if(i!==undefined){n.$element.trigger(r,i)}else{n.$element.trigger(r)}if(r.isDefaultPrevented()||r.result===false){return false}switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:if(!n.ajaxAborted){n.ajaxAborted=r.result}break}return true},_listenFullScreen:function(e){var t=this,i=t.$modal,n,r;if(!i||!i.length){return}n=i&&i.find(".btn-fullscreen");r=i&&i.find(".btn-borderless");if(!n.length||!r.length){return}n.removeClass("active").attr("aria-pressed","false");r.removeClass("active").attr("aria-pressed","false");if(e){n.addClass("active").attr("aria-pressed","true")}else{r.addClass("active").attr("aria-pressed","true")}if(i.hasClass("file-zoom-fullscreen")){t._maximizeZoomDialog()}else{if(e){t._maximizeZoomDialog()}else{r.removeClass("active").attr("aria-pressed","false")}}},_listen:function(){var i=this,n=i.$element,r=i.$form,o=i.$container,a;i._handler(n,"change",e.proxy(i._change,i));if(i.showBrowse){i._handler(i.$btnFile,"click",e.proxy(i._browse,i))}i._handler(o.find(".fileinput-remove:not([disabled])"),"click",e.proxy(i.clear,i));i._handler(o.find(".fileinput-cancel"),"click",e.proxy(i.cancel,i));i._initDragDrop();i._handler(r,"reset",e.proxy(i.clear,i));if(!i.isAjaxUpload){i._handler(r,"submit",e.proxy(i._submitForm,i))}i._handler(i.$container.find(".fileinput-upload"),"click",e.proxy(i._uploadClick,i));i._handler(e(window),"resize",function(){i._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});a="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange";i._handler(e(document),a,function(){i._listenFullScreen(t.checkFullScreen())});i._autoFitContent();i._initClickable()},_autoFitContent:function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=this,n=t<400?i.previewSettingsSmall||i.defaults.previewSettingsSmall:i.previewSettings||i.defaults.previewSettings,r;e.each(n,function(e,t){r=".file-preview-frame .file-preview-"+e;i.$preview.find(r+".kv-preview-data,"+r+" .kv-preview-data").css(t)})},_initClickable:function(){var i=this,n;if(!i.isClickable){return}n=i.isAjaxUpload?i.$dropZone:i.$preview.find(".file-default-preview");t.addCss(n,"clickable");n.attr("tabindex",-1);i._handler(n,"click",function(t){var r=e(t.target);if(!r.parents(".file-preview-thumbnails").length||r.parents(".file-default-preview").length){i.$element.trigger("click");n.blur()}})},_initDragDrop:function(){var t=this,i=t.$dropZone;if(t.isAjaxUpload&&t.dropZoneEnabled&&t.showPreview){t._handler(i,"dragenter dragover",e.proxy(t._zoneDragEnter,t));t._handler(i,"dragleave",e.proxy(t._zoneDragLeave,t));t._handler(i,"drop",e.proxy(t._zoneDrop,t));t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit)}},_zoneDragDropInit:function(e){e.stopPropagation();e.preventDefault()},_zoneDragEnter:function(i){var n=this,r=e.inArray("Files",i.originalEvent.dataTransfer.types)>-1;n._zoneDragDropInit(i);if(n.isDisabled||!r){i.originalEvent.dataTransfer.effectAllowed="none";i.originalEvent.dataTransfer.dropEffect="none";return}t.addCss(n.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e);if(t.isDisabled){return}t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var i=this;e.preventDefault();if(i.isDisabled||t.isEmpty(e.originalEvent.dataTransfer.files)){return}i._change(e,"dragdrop");i.$dropZone.removeClass("file-highlighted")},_uploadClick:function(e){var i=this,n=i.$container.find(".fileinput-upload"),r,o=!n.hasClass("disabled")&&t.isEmpty(n.attr("disabled"));if(e&&e.isDefaultPrevented()){return}if(!i.isAjaxUpload){if(o&&n.attr("type")!=="submit"){r=n.closest("form");if(r.length){r.trigger("submit")}e.preventDefault()}return}e.preventDefault();if(o){i.upload()}},_submitForm:function(){var e=this;return e._isFileSelectionValid()&&!e._abort({})},_clearPreview:function(){var i=this,n=i.$preview,r=i.showUploadedThumbs?i.getFrames(":not(.file-preview-success)"):i.getFrames();r.each(function(){var i=e(this);i.remove();t.cleanZoomCache(n.find("#zoom-"+i.attr("id")))});if(!i.getFrames().length||!i.showPreview){i._resetUpload()}i._validateDefaultPreview()},_initSortable:function(){var i=this,n=i.$preview,r,o="."+t.SORT_CSS;if(!window.KvSortable||n.find(o).length===0){return}r={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:false,draggable:o,onSort:function(n){var r=n.oldIndex,o=n.newIndex,a,s;i.initialPreview=t.moveArray(i.initialPreview,r,o);i.initialPreviewConfig=t.moveArray(i.initialPreviewConfig,r,o);i.previewCache.init();for(var l=0;l<i.initialPreviewConfig.length;l++){if(i.initialPreviewConfig[l]!==null){a=i.initialPreviewConfig[l].key;s=e(".kv-file-remove[data-key='"+a+"']").closest(t.FRAMES);s.attr("data-fileindex","init_"+l).attr("data-fileindex","init_"+l)}}i._raise("filesorted",{previewId:e(n.item).attr("id"),oldIndex:r,newIndex:o,stack:i.initialPreviewConfig})}};if(n.data("kvsortable")){n.kvsortable("destroy")}e.extend(true,r,i.fileActionSettings.dragSettings);n.kvsortable(r)},_setPreviewContent:function(e){var t=this;t.$preview.html(e);t._autoFitContent()},_initPreview:function(e){var i=this,n=i.initialCaption||"",r;if(!i.previewCache.count()){i._clearPreview();if(e){i._setCaption(n)}else{i._initCaption()}return}r=i.previewCache.out();n=e&&i.initialCaption?i.initialCaption:r.caption;i._setPreviewContent(r.content);i._setInitThumbAttr();i._setCaption(n);i._initSortable();if(!t.isEmpty(r.content)){i.$container.removeClass("file-input-new")}},_getZoomButton:function(e){var t=this,i=t.previewZoomButtonIcons[e],n=t.previewZoomButtonClasses[e],r=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',o=r+(e==="close"?' data-dismiss="modal" aria-hidden="true"':"");if(e==="fullscreen"||e==="borderless"||e==="toggleheader"){o+=' data-toggle="button" aria-pressed="false" autocomplete="off"'}return'<button type="button" class="'+n+" btn-"+e+'"'+o+">"+i+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(e){var i=this,n=i.$modal,r=function(e){return{sourceEvent:e,previewId:n.data("previewId"),modal:n}};n.on(e+".bs.modal",function(o){var a=n.find(".btn-fullscreen"),s=n.find(".btn-borderless");i._raise("filezoom"+e,r(o));if(e==="shown"){s.removeClass("active").attr("aria-pressed","false");a.removeClass("active").attr("aria-pressed","false");if(n.hasClass("file-zoom-fullscreen")){i._maximizeZoomDialog();if(t.checkFullScreen()){a.addClass("active").attr("aria-pressed","true")}else{s.addClass("active").attr("aria-pressed","true")}}}})},_initZoom:function(){var i=this,n,r=i._getLayoutTemplate("modalMain"),o="#"+t.MODAL_ID;if(!i.showPreview){return}i.$modal=e(o);if(!i.$modal||!i.$modal.length){n=e(document.createElement("div")).html(r).insertAfter(i.$container);i.$modal=e(o).insertBefore(n);n.remove()}t.initModal(i.$modal);i.$modal.html(i._getModalContent());e.each(t.MODAL_EVENTS,function(e,t){i._listenModalEvent(t)})},_initZoomButtons:function(){var t=this,i=t.$modal.data("previewId")||"",n,r,o=t.getFrames().toArray(),a=o.length,s=t.$modal.find(".btn-prev"),l=t.$modal.find(".btn-next");if(o.length<2){s.hide();l.hide();return}else{s.show();l.show()}if(!a){return}n=e(o[0]);r=e(o[a-1]);s.removeAttr("disabled");l.removeAttr("disabled");if(n.length&&n.attr("id")===i){s.attr("disabled",true)}if(r.length&&r.attr("id")===i){l.attr("disabled",true)}},_maximizeZoomDialog:function(){var t=this,i=t.$modal,n=i.find(".modal-header:visible"),r=i.find(".modal-footer:visible"),o=i.find(".modal-body"),a=e(window).height(),s=0;i.addClass("file-zoom-fullscreen");if(n&&n.length){a-=n.outerHeight(true)}if(r&&r.length){a-=r.outerHeight(true)}if(o&&o.length){s=o.outerHeight(true)-o.height();a-=s}i.find(".kv-zoom-body").height(a)},_resizeZoomDialog:function(e){var i=this,n=i.$modal,r=n.find(".btn-fullscreen"),o=n.find(".btn-borderless");if(n.hasClass("file-zoom-fullscreen")){t.toggleFullScreen(false);if(!e){if(!r.hasClass("active")){n.removeClass("file-zoom-fullscreen");i.$modal.find(".kv-zoom-body").css("height",i.zoomModalHeight)}else{r.removeClass("active").attr("aria-pressed","false")}}else{if(!r.hasClass("active")){n.removeClass("file-zoom-fullscreen");i._resizeZoomDialog(true);if(o.hasClass("active")){o.removeClass("active").attr("aria-pressed","false")}}}}else{if(!e){i._maximizeZoomDialog();return}t.toggleFullScreen(true)}n.focus()},_setZoomContent:function(i,n){var r=this,o,a,s,l,u,c,f,d=i.attr("id"),h=r.$modal,p=h.find(".btn-prev"),m=h.find(".btn-next"),v,g=h.find(".btn-fullscreen"),y=h.find(".btn-borderless"),b,w,x=h.find(".btn-toggleheader"),C=r.$preview.find("#zoom-"+d);a=C.attr("data-template")||"generic";o=C.find(".kv-file-content");s=o.length?o.html():"";b=i.data("caption")||"";w=i.data("size")||"";l=b+" "+w;h.find(".kv-zoom-title").attr("title",e("<div/>").html(l).text()).html(l);u=h.find(".kv-zoom-body");h.removeClass("kv-single-content");if(n){v=u.addClass("file-thumb-loading").clone().insertAfter(u);u.html(s).hide();v.fadeOut("fast",function(){u.fadeIn("fast",function(){u.removeClass("file-thumb-loading")});v.remove()})}else{u.html(s)}f=r.previewZoomSettings[a];if(f){c=u.find(".kv-preview-data");t.addCss(c,"file-zoom-detail");e.each(f,function(e,t){c.css(e,t);if(c.attr("width")&&e==="width"||c.attr("height")&&e==="height"){c.removeAttr(e)}})}h.data("previewId",d);var k=u.find("img");if(k.length){t.adjustOrientedImage(k,true)}r._handler(p,"click",function(){r._zoomSlideShow("prev",d)});r._handler(m,"click",function(){r._zoomSlideShow("next",d)});r._handler(g,"click",function(){r._resizeZoomDialog(true)});r._handler(y,"click",function(){r._resizeZoomDialog(false)});r._handler(x,"click",function(){var e=h.find(".modal-header"),t=h.find(".modal-body .floating-buttons"),i,n=e.find(".kv-zoom-actions"),o=function(t){var i=r.$modal.find(".kv-zoom-body"),n=r.zoomModalHeight;if(h.hasClass("file-zoom-fullscreen")){n=i.outerHeight(true);if(!t){n=n-e.outerHeight(true)}}i.css("height",t?n+t:n)};if(e.is(":visible")){i=e.outerHeight(true);e.slideUp("slow",function(){n.find(".btn").appendTo(t);o(i)})}else{t.find(".btn").appendTo(n);e.slideDown("slow",function(){o()})}h.focus()});r._handler(h,"keydown",function(e){var t=e.which||e.keyCode;if(t===37&&!p.attr("disabled")){r._zoomSlideShow("prev",d)}if(t===39&&!m.attr("disabled")){r._zoomSlideShow("next",d)}})},_zoomPreview:function(e){var i=this,n,r=i.$modal;if(!e.length){throw"Cannot zoom to detailed preview!"}t.initModal(r);r.html(i._getModalContent());n=e.closest(t.FRAMES);i._setZoomContent(n);r.modal("show");i._initZoomButtons()},_zoomSlideShow:function(t,i){var n=this,r=n.$modal.find(".kv-zoom-actions .btn-"+t),o,a,s=n.getFrames().toArray(),l=s.length,u;if(r.attr("disabled")){return}for(a=0;a<l;a++){if(e(s[a]).attr("id")===i){u=t==="prev"?a-1:a+1;break}}if(u<0||u>=l||!s[u]){return}o=e(s[u]);if(o.length){n._setZoomContent(o,true)}n._initZoomButtons();n._raise("filezoom"+t,{previewId:i,modal:n.$modal})},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause();e(this).remove()});t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var i=this,n=i.$element,r,o,a;i.fileInputCleared=true;if(t.isEmpty(n.val())){return}if(i.isIE9||i.isIE10){r=n.closest("form");o=e(document.createElement("form"));a=e(document.createElement("div"));n.before(a);if(r.length){r.after(o)}else{a.after(o)}o.append(n).trigger("reset");a.before(n).remove();o.remove()}else{n.val("")}},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:true};e.uploadCount=0;e.uploadStatus={};e.uploadLog=[];e.uploadAsyncCount=0;e.loadedImages=[];e.totalImagesCount=0;e.$btnUpload.removeAttr("disabled");e._setProgress(0);e.$progress.hide();e._resetErrors(false);e.ajaxAborted=false;e.ajaxRequests=[];e._resetCanvas();e.cacheInitialPreview={};if(e.overwriteInitial){e.initialPreview=[];e.initialPreviewConfig=[];e.initialPreviewThumbTags=[];e.previewCache.data={content:[],config:[],tags:[]}}},_resetCanvas:function(){var e=this;if(e.canvas&&e.imageCanvasContext){e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)}},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&e.previewCache.count()},_resetPreview:function(){var e=this,t,i;if(e.previewCache.count()){t=e.previewCache.out();e._setPreviewContent(t.content);e._setInitThumbAttr();i=e.initialCaption?e.initialCaption:t.caption;e._setCaption(i)}else{e._clearPreview();e._initCaption()}if(e.showPreview){e._initZoom();e._initSortable()}},_clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;if(!e.showPreview||t.isEmpty(e.defaultPreviewContent)){return}e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>");e.$container.removeClass("file-input-new");e._initClickable()},_resetPreviewThumbs:function(e){var t=this,i;if(e){t._clearPreview();t.clearStack();return}if(t._hasInitialPreview()){i=t.previewCache.out();t._setPreviewContent(i.content);t._setInitThumbAttr();t._setCaption(i.caption);t._initPreviewActions()}else{t._clearPreview()}},_getLayoutTemplate:function(e){var i=this,n=i.layoutTemplates[e];if(t.isEmpty(i.customLayoutTags)){return n}return t.replaceTags(n,i.customLayoutTags)},_getPreviewTemplate:function(e){var i=this,n=i.previewTemplates[e];if(t.isEmpty(i.customPreviewTags)){return n}return t.replaceTags(n,i.customPreviewTags)},_getOutData:function(e,t,i){var n=this;e=e||{};t=t||{};i=i||n.filestack.slice(0)||{};return{form:n.formdata,files:i,filenames:n.filenames,filescount:n.getFilesCount(),extra:n._getExtraData(),response:t,reader:n.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,i=e===1?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",i):t.msgNoFilesSelected},_getFrame:function(t){var i=this,n=e("#"+t);if(!n.length){i._log('Invalid thumb frame with id: "'+t+'".');return null}return n},_getThumbs:function(e){e=e||"";return this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this,n=i.uploadExtraData;if(typeof i.uploadExtraData==="function"){n=i.uploadExtraData(e,t)}return n},_initXhr:function(e,t,i){var n=this;if(e.upload){e.upload.addEventListener("progress",function(e){var r=0,o=e.total,a=e.loaded||e.position;if(e.lengthComputable){r=Math.floor(a/o*100)}if(t){n._setAsyncUploadStatus(t,r,i)}else{n._setProgress(r)}},false)}return e},_mergeAjaxCallback:function(e,t,i){var n=this,r=n.ajaxSettings,o=n.mergeAjaxCallbacks,a;if(i==="delete"){r=n.ajaxDeleteSettings;o=n.mergeAjaxDeleteCallbacks}a=r[e];if(o&&typeof a==="function"){if(o==="before"){r[e]=function(){a.apply(this,arguments);t.apply(this,arguments)}}else{r[e]=function(){t.apply(this,arguments);a.apply(this,arguments)}}}else{r[e]=t}if(i==="delete"){n.ajaxDeleteSettings=r}else{n.ajaxSettings=r}},_ajaxSubmit:function(t,i,n,r,o,a){var s=this,l;if(!s._raise("filepreajax",[o,a])){return}s._uploadExtra(o,a);s._mergeAjaxCallback("beforeSend",t);s._mergeAjaxCallback("success",i);s._mergeAjaxCallback("complete",n);s._mergeAjaxCallback("error",r);l=e.extend(true,{},{xhr:function(){var t=e.ajaxSettings.xhr();return s._initXhr(t,o,s.getFileStack().length)},url:a&&s.uploadUrlThumb?s.uploadUrlThumb:s.uploadUrl,type:"POST",dataType:"json",data:s.formdata,cache:false,processData:false,contentType:false},s.ajaxSettings);s.ajaxRequests.push(e.ajax(l))},_mergeArray:function(e,i){var n=this,r=t.cleanArray(n[e]),o=t.cleanArray(i);n[e]=r.concat(o)},_initUploadSuccess:function(i,n,r){var o=this,a,s,l,u,c,f,d,h,p;if(!o.showPreview||typeof i!=="object"||e.isEmptyObject(i)){return}if(i.initialPreview!==undefined&&i.initialPreview.length>0){o.hasInitData=true;f=i.initialPreview||[];d=i.initialPreviewConfig||[];h=i.initialPreviewThumbTags||[];a=i.append===undefined||i.append;if(f.length>0&&!t.isArray(f)){f=f.split(o.initialPreviewDelimiter)}o._mergeArray("initialPreview",f);o._mergeArray("initialPreviewConfig",d);o._mergeArray("initialPreviewThumbTags",h);if(n!==undefined){if(!r){l=o.previewCache.add(f,d[0],h[0],a);s=o.previewCache.get(l,false);u=e(document.createElement("div")).html(s).hide().insertAfter(n);c=u.find(".kv-zoom-cache");if(c&&c.length){c.insertAfter(n)}n.fadeOut("slow",function(){var e=u.find(".file-preview-frame");if(e&&e.length){e.insertBefore(n).fadeIn("slow").css("display:inline-block")}o._initPreviewActions();o._clearFileInput();t.cleanZoomCache(o.$preview.find("#zoom-"+n.attr("id")));n.remove();u.remove();o._initSortable()})}else{p=n.attr("data-fileindex");o.uploadCache.content[p]=f[0];o.uploadCache.config[p]=d[0]||[];o.uploadCache.tags[p]=h[0]||[];o.uploadCache.append=a}}else{o.previewCache.set(f,d,h,a);o._initPreview();o._initPreviewActions()}}},_initSuccessThumbs:function(){var i=this;if(!i.showPreview){return}i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var n=e(this),r=i.$preview,o=n.find(".kv-file-remove");o.removeAttr("disabled");i._handler(o,"click",function(){var e=n.attr("id"),o=i._raise("filesuccessremove",[e,n.attr("data-fileindex")]);t.cleanMemory(n);if(o===false){return}n.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+e));n.remove();if(!i.getFrames().length){i.reset()}})})})},_checkAsyncComplete:function(){var t=this,i,n;for(n=0;n<t.filestack.length;n++){if(t.filestack[n]){i=t.previewInitId+"-"+n;if(e.inArray(i,t.uploadLog)===-1){return false}}}return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(t,i){var n=this,r=n._getExtraData(t,i);if(r.length===0){return}e.each(r,function(e,t){n.formdata.append(e,t)})},_uploadSingle:function(i,n){var r=this,o=r.getFileStack().length,a=new FormData,s,l=r.previewInitId+"-"+i,u,c,f,d,h=r.filestack.length>0||!e.isEmptyObject(r.uploadExtraData),p,m=e("#"+l).find(".file-thumb-progress"),v,g,y,b,w,x={id:l,index:i};r.formdata=a;if(r.showPreview){u=e("#"+l+":not(.file-preview-initial)");f=u.find(".kv-file-upload");d=u.find(".kv-file-remove");m.show()}if(o===0||!h||f&&f.hasClass("disabled")||r._abort(x)){return}w=function(e,t){if(!p){r.updateStack(e,undefined)}r.uploadLog.push(t);if(r._checkAsyncComplete()){r.fileBatchCompleted=true}};c=function(){var e=r.uploadCache,i,n,o,a=0,s=r.cacheInitialPreview;if(!r.fileBatchCompleted){return}if(s&&s.content){a=s.content.length}setTimeout(function(){var l=r.getFileStack(true).length===0;if(r.showPreview){r.previewCache.set(e.content,e.config,e.tags,e.append);if(a){for(n=0;n<e.content.length;n++){o=n+a;s.content[o]=e.content[n];if(s.config.length){s.config[o]=e.config[n]}if(s.tags.length){s.tags[o]=e.tags[n]}}r.initialPreview=t.cleanArray(s.content);r.initialPreviewConfig=t.cleanArray(s.config);r.initialPreviewThumbTags=t.cleanArray(s.tags)}else{r.initialPreview=e.content;r.initialPreviewConfig=e.config;r.initialPreviewThumbTags=e.tags}r.cacheInitialPreview={};if(r.hasInitData){r._initPreview();r._initPreviewActions()}}r.unlock(l);if(l){r._clearFileInput()}i=r.$preview.find(".file-preview-initial");if(r.uploadAsync&&i.length){t.addCss(i,t.SORT_CSS);r._initSortable()}r._raise("filebatchuploadcomplete",[r.filestack,r._getExtraData()]);r.uploadCount=0;r.uploadStatus={};r.uploadLog=[];r._setProgress(101)},100)};v=function(o){s=r._getOutData(o);r.fileBatchCompleted=false;if(r.showPreview){if(!u.hasClass("file-preview-success")){r._setThumbStatus(u,"Loading");t.addCss(u,"file-uploading")}f.attr("disabled",true);d.attr("disabled",true)}if(!n){r.lock()}r._raise("filepreupload",[s,l,i]);e.extend(true,x,s);if(r._abort(x)){o.abort();r._setProgressCancelled()}};g=function(o,a,c){var d=r.showPreview&&u.attr("id")?u.attr("id"):l;s=r._getOutData(c,o);e.extend(true,x,s);setTimeout(function(){if(t.isEmpty(o)||t.isEmpty(o.error)){if(r.showPreview){r._setThumbStatus(u,"Success");f.hide();r._initUploadSuccess(o,u,n);r._setProgress(101,m)}r._raise("fileuploaded",[s,d,i]);if(!n){r.updateStack(i,undefined)}else{w(i,d)}}else{p=true;r._showUploadError(o.error,x);r._setPreviewError(u,i,r.filestack[i],r.retryErrorUploads);if(!r.retryErrorUploads){f.hide()}if(n){w(i,d)}r._setProgress(101,e("#"+d).find(".file-thumb-progress"),r.msgUploadError)}},100)};y=function(){setTimeout(function(){if(r.showPreview){f.removeAttr("disabled");d.removeAttr("disabled");u.removeClass("file-uploading")}if(!n){r.unlock(false);r._clearFileInput()}else{c()}r._initSuccessThumbs()},100)};b=function(t,o,a){var s=r.ajaxOperations.uploadThumb,c=r._parseError(s,t,a,n&&r.filestack[i].name?r.filestack[i].name:null);p=true;setTimeout(function(){if(n){w(i,l)}r.uploadStatus[l]=100;r._setPreviewError(u,i,r.filestack[i],r.retryErrorUploads);if(!r.retryErrorUploads){f.hide()}e.extend(true,x,r._getOutData(t));r._setProgress(101,m,r.msgAjaxProgressError.replace("{operation}",s));r._setProgress(101,e("#"+l).find(".file-thumb-progress"),r.msgUploadError);r._showUploadError(c,x)},100)};a.append(r.uploadFileAttr,r.filestack[i],r.filenames[i]);a.append("file_id",i);r._ajaxSubmit(v,g,y,b,l,i)},_uploadBatch:function(){var i=this,n=i.filestack,r=n.length,o={},a,s,l,u,c=i.filestack.length>0||!e.isEmptyObject(i.uploadExtraData),f;i.formdata=new FormData;if(r===0||!c||i._abort(o)){return}f=function(){e.each(n,function(e){i.updateStack(e,undefined)});i._clearFileInput()};a=function(n){i.lock();var r=i._getOutData(n);if(i.showPreview){i._getThumbs().each(function(){var n=e(this),r=n.find(".kv-file-upload"),o=n.find(".kv-file-remove");if(!n.hasClass("file-preview-success")){i._setThumbStatus(n,"Loading");t.addCss(n,"file-uploading")}r.attr("disabled",true);o.attr("disabled",true)})}i._raise("filebatchpreupload",[r]);if(i._abort(r)){n.abort();i._setProgressCancelled()}};s=function(n,r,o){var a=i._getOutData(o,n),s=0,l=i._getThumbs(":not(.file-preview-success)"),u=t.isEmpty(n)||t.isEmpty(n.errorkeys)?[]:n.errorkeys;if(t.isEmpty(n)||t.isEmpty(n.error)){i._raise("filebatchuploadsuccess",[a]);f();if(i.showPreview){l.each(function(){var t=e(this);i._setThumbStatus(t,"Success");t.removeClass("file-uploading");t.find(".kv-file-upload").hide().removeAttr("disabled")});i._initUploadSuccess(n)}else{i.reset()}i._setProgress(101)}else{if(i.showPreview){l.each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading");t.find(".kv-file-upload").removeAttr("disabled");t.find(".kv-file-remove").removeAttr("disabled");if(u.length===0||e.inArray(s,u)!==-1){i._setPreviewError(t,n,i.filestack[n],i.retryErrorUploads);if(!i.retryErrorUploads){t.find(".kv-file-upload").hide();i.updateStack(n,undefined)}}else{t.find(".kv-file-upload").hide();i._setThumbStatus(t,"Success");i.updateStack(n,undefined)}if(!t.hasClass("file-preview-error")||i.retryErrorUploads){s++}});i._initUploadSuccess(n)}i._showUploadError(n.error,a,"filebatchuploaderror");i._setProgress(101,i.$progress,i.msgUploadError)}};u=function(){i.unlock();i._initSuccessThumbs();i._clearFileInput();i._raise("filebatchuploadcomplete",[i.filestack,i._getExtraData()])};l=function(t,n,o){var a=i._getOutData(t),s=i.ajaxOperations.uploadBatch,l=i._parseError(s,t,o);i._showUploadError(l,a,"filebatchuploaderror");i.uploadFileCount=r-1;if(!i.showPreview){return}i._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading");if(i.filestack[n]!==undefined){i._setPreviewError(t)}});i._getThumbs().removeClass("file-uploading");i._getThumbs(" .kv-file-upload").removeAttr("disabled");i._getThumbs(" .kv-file-delete").removeAttr("disabled");i._setProgress(101,i.$progress,i.msgAjaxProgressError.replace("{operation}",s))};e.each(n,function(e,r){if(!t.isEmpty(n[e])){i.formdata.append(i.uploadFileAttr,r,i.filenames[e])}});i._ajaxSubmit(a,s,u,l)},_uploadExtraOnly:function(){var e=this,i={},n,r,o,a;e.formdata=new FormData;if(e._abort(i)){return}n=function(t){e.lock();var n=e._getOutData(t);e._raise("filebatchpreupload",[n]);e._setProgress(50);i.data=n;i.xhr=t;if(e._abort(i)){t.abort();e._setProgressCancelled()}};r=function(i,n,r){var o=e._getOutData(r,i);if(t.isEmpty(i)||t.isEmpty(i.error)){e._raise("filebatchuploadsuccess",[o]);e._clearFileInput();e._initUploadSuccess(i);e._setProgress(101)}else{e._showUploadError(i.error,o,"filebatchuploaderror")}};o=function(){e.unlock();e._clearFileInput();e._raise("filebatchuploadcomplete",[e.filestack,e._getExtraData()])};a=function(t,n,r){var o=e._getOutData(t),a=e.ajaxOperations.uploadExtra,s=e._parseError(a,t,r);i.data=o;e._showUploadError(s,o,"filebatchuploaderror");e._setProgress(101,e.$progress,e.msgAjaxProgressError.replace("{operation}",a))};e._ajaxSubmit(n,r,o,a)},_deleteFileIndex:function(i){var n=this,r=i.attr("data-fileindex");if(r.substring(0,5)==="init_"){r=parseInt(r.replace("init_",""));n.initialPreview=t.spliceArray(n.initialPreview,r);n.initialPreviewConfig=t.spliceArray(n.initialPreviewConfig,r);n.initialPreviewThumbTags=t.spliceArray(n.initialPreviewThumbTags,r);n.getFrames().each(function(){var t=e(this),i=t.attr("data-fileindex");if(i.substring(0,5)==="init_"){i=parseInt(i.replace("init_",""));if(i>r){i--;t.attr("data-fileindex","init_"+i)}}});if(n.uploadAsync){n.cacheInitialPreview=n.getPreview()}}},_initFileActions:function(){var i=this,n=i.$preview;if(!i.showPreview){return}i._initZoomButton();i.getFrames(" .kv-file-remove").each(function(){var r=e(this),o=r.closest(t.FRAMES),a,s=o.attr("id"),l=o.attr("data-fileindex"),u,c,f;i._handler(r,"click",function(){f=i._raise("filepreremove",[s,l]);if(f===false||!i._validateMinCount()){return false}a=o.hasClass("file-preview-error");t.cleanMemory(o);o.fadeOut("slow",function(){t.cleanZoomCache(n.find("#zoom-"+s));i.updateStack(l,undefined);i._clearObjects(o);o.remove();if(s&&a){i.$errorContainer.find('li[data-file-id="'+s+'"]').fadeOut("fast",function(){e(this).remove();if(!i._errorsExist()){i._resetErrors()}})}i._clearFileInput();var r=i.getFileStack(true),f=i.previewCache.count(),d=r.length,h=i.showPreview&&i.getFrames().length;if(d===0&&f===0&&!h){i.reset()}else{u=f+d;c=u>1?i._getMsgSelected(u):r[0]?i._getFileNames()[0]:"";i._setCaption(c)}i._raise("fileremoved",[s,l])})})});i.getFrames(" .kv-file-upload").each(function(){var n=e(this);i._handler(n,"click",function(){var e=n.closest(t.FRAMES),r=e.attr("data-fileindex");i.$progress.hide();if(e.hasClass("file-preview-error")&&!i.retryErrorUploads){return}i._uploadSingle(r,false)})})},_initPreviewActions:function(){var i=this,n=i.$preview,r=i.deleteExtraData||{},o=t.FRAMES+" .kv-file-remove",a=i.fileActionSettings,s=a.removeClass,l=a.removeErrorClass,u=function(){var e=i.isAjaxUpload?i.previewCache.count():i.$element.get(0).files.length;if(!n.find(t.FRAMES).length&&!e){i._setCaption("");i.reset();i.initialCaption=""}};i._initZoomButton();n.find(o).each(function(){var o=e(this),a=o.data("url")||i.deleteUrl,c=o.data("key"),f,d,h;if(t.isEmpty(a)||c===undefined){return}var p=o.closest(t.FRAMES),m=i.previewCache.data,v,g,y=p.attr("data-fileindex"),b,w;y=parseInt(y.replace("init_",""));b=t.isEmpty(m.config)&&t.isEmpty(m.config[y])?null:m.config[y];w=t.isEmpty(b)||t.isEmpty(b.extra)?r:b.extra;if(typeof w==="function"){w=w()}g={id:o.attr("id"),key:c,extra:w};f=function(e){i.ajaxAborted=false;i._raise("filepredelete",[c,e,w]);o.removeClass(l);if(i._abort()){e.abort()}else{t.addCss(p,"file-uploading");t.addCss(o,"disabled "+s)}};d=function(e,r,a){var f,d;if(!t.isEmpty(e)&&!t.isEmpty(e.error)){g.jqXHR=a;g.response=e;i._showError(e.error,g,"filedeleteerror");p.removeClass("file-uploading");o.removeClass("disabled "+s).addClass(l);u();return}p.removeClass("file-uploading").addClass("file-deleted");p.fadeOut("slow",function(){y=parseInt(p.attr("data-fileindex").replace("init_",""));i.previewCache.unset(y);f=i.previewCache.count();d=f>0?i._getMsgSelected(f):"";i._deleteFileIndex(p);i._setCaption(d);i._raise("filedeleted",[c,a,w]);t.cleanZoomCache(n.find("#zoom-"+p.attr("id")));i._clearObjects(p);p.remove();u()})};h=function(e,t,n){var r=i.ajaxOperations.deleteThumb,a=i._parseError(r,e,n);g.jqXHR=e;g.response={};i._showError(a,g,"filedeleteerror");p.removeClass("file-uploading");o.removeClass("disabled "+s).addClass(l);u()};i._mergeAjaxCallback("beforeSend",f,"delete");i._mergeAjaxCallback("success",d,"delete");i._mergeAjaxCallback("error",h,"delete");v=e.extend(true,{},{url:a,type:"POST",dataType:"json",data:e.extend(true,{},{key:c},w)},i.ajaxDeleteSettings);i._handler(o,"click",function(){if(!i._validateMinCount()){return false}i.ajaxAborted=false;i._raise("filebeforedelete",[c,w]);if(i.ajaxAborted instanceof Promise){i.ajaxAborted.then(function(t){if(!t){e.ajax(v)}})}else{if(!i.ajaxAborted){e.ajax(v)}}})})},_hideFileIcon:function(){if(this.overwriteInitial){this.$captionContainer.find(".kv-caption-icon").hide()}},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(t){var i=this,n=parseFloat(t),r,o=i.fileSizeGetter,a,s;if(!e.isNumeric(t)||!e.isNumeric(n)){return""}if(typeof o==="function"){s=o(n)}else{if(n===0){s="0.00 B"}else{r=Math.floor(Math.log(n)/Math.log(1024));a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];s=(n/Math.pow(1024,r)).toFixed(2)*1+" "+a[r]}}return i._getLayoutTemplate("size").replace("{sizeText}",s)},_generatePreviewTemplate:function(i,n,r,o,a,s,l,u,c,f,d){var h=this,p=h.slug(r),m,v="",g="",y=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=y<400?h.previewSettingsSmall[i]||h.defaults.previewSettingsSmall[i]:h.previewSettings[i]||h.defaults.previewSettings[i],w=c||h._renderFileFooter(p,l,"auto",s),x=h._getPreviewIcon(r),C="type-default",k=x&&h.preferIconicPreview,T=x&&h.preferIconicZoomPreview,S;if(b){e.each(b,function(e,t){g+=e+":"+t+";"})}S=function(n,s,l,c){var m=l?"zoom-"+a:a,v=h._getPreviewTemplate(n),y=(u||"")+" "+c;if(h.frameClass){y=h.frameClass+" "+y}if(l){y=y.replace(" "+t.SORT_CSS,"")}v=h._parseFilePreviewIcon(v,r);if(n==="text"){s=t.htmlEncode(s)}if(i==="object"&&!o){e.each(h.defaults.fileTypeSettings,function(e,t){if(e==="object"||e==="other"){return}if(t(r,o)){C="type-"+e}})}return v.setTokens({previewId:m,caption:p,frameClass:y,type:o,fileindex:f,typeCss:C,footer:w,data:s,template:d||i,style:g?'style="'+g+'"':""})};f=f||a.slice(a.lastIndexOf("-")+1);if(h.fileActionSettings.showZoom){v=S(T?"other":i,n,true,"kv-zoom-thumb")}v="\n"+h._getLayoutTemplate("zoomCache").replace("{zoomContent}",v);m=S(k?"other":i,n,false,"kv-preview-thumb");return m+v},_previewDefault:function(i,n,r){var o=this,a=o.$preview;if(!o.showPreview){return}var s=i?i.name:"",l=i?i.type:"",u,c=i.size||0,f=o.slug(s),d=r===true&&!o.isAjaxUpload,h=t.objUrl.createObjectURL(i);o._clearDefaultPreview();u=o._generatePreviewTemplate("other",h,s,l,n,d,c);a.append("\n"+u);o._setThumbAttr(n,f,c);if(r===true&&o.isAjaxUpload){o._setThumbStatus(e("#"+n),"Error")}},_previewFile:function(e,i,n,r,o){if(!this.showPreview){return}var a=this,s=a._parseFileType(i),l=i?i.name:"",u=a.slug(l),c=a.allowedPreviewTypes,f=a.allowedPreviewMimeTypes,d=a.$preview,h=c&&c.indexOf(s)>=0,p=i.size||0,m=i.type,v=s==="text"||s==="html"||s==="image"?n.target.result:o,g,y=f&&f.indexOf(m)!==-1;if(s==="html"&&a.purifyHtml&&window.DOMPurify){v=window.DOMPurify.sanitize(v)}if(h||y){g=a._generatePreviewTemplate(s,v,l,m,r,false,p);a._clearDefaultPreview();d.append("\n"+g);var b=d.find("#"+r+" img");if(b.length&&a.autoOrientImage){t.validateOrientation(i,function(e){if(!e){a._validateImage(r,u,m,p,v);return}var n=d.find("#zoom-"+r+" img"),o="rotate-"+e;if(e>4){o+=b.width()>b.height()?" is-portrait-gt4":" is-landscape-gt4"}t.addCss(b,o);t.addCss(n,o);a._raise("fileimageoriented",{$img:b,file:i});a._validateImage(r,u,m,p,v);t.adjustOrientedImage(b)})}else{a._validateImage(r,u,m,p,v)}}else{a._previewDefault(i,r)}a._setThumbAttr(r,u,p);a._initSortable()},_setThumbAttr:function(t,i,n){var r=this,o=e("#"+t);if(o.length){n=n&&n>0?r._getSize(n):"";o.data({caption:i,size:n})}},_setInitThumbAttr:function(){var e=this,i=e.previewCache.data,n=e.previewCache.count(),r,o,a,s;if(n===0){return}for(var l=0;l<n;l++){r=i.config[l];s=e.previewInitId+"-"+"init_"+l;o=t.ifSet("caption",r,t.ifSet("filename",r));a=t.ifSet("size",r);e._setThumbAttr(s,o,a)}},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(i){this.reader=new FileReader;var n=this,r=n.$element,o=n.$preview,a=n.reader,s=n.$previewContainer,l=n.$previewStatus,u=n.msgLoading,c=n.msgProgress,f=n.previewInitId,d=i.length,h=n.fileTypeSettings,p=n.filestack.length,m,v=n.allowedFileTypes,g=v?v.length:0,y=n.allowedFileExtensions,b=t.isEmpty(y)?"":y.join(", "),w=n.maxFilePreviewSize&&parseFloat(n.maxFilePreviewSize),x=o.length&&(!w||isNaN(w)),C=function(t,r,o,a){var s=e.extend(true,{},n._getOutData({},{},i),{id:o,index:a}),l={id:o,index:a,file:r,files:i},u;n._previewDefault(r,o,true);if(n.isAjaxUpload){n.addToStack(undefined);setTimeout(function(){m(a+1)},100)}else{d=0}n._initFileActions();u=e("#"+o);u.find(".kv-file-upload").hide();if(n.removeFromPreviewOnError){u.remove()}n.isError=n.isAjaxUpload?n._showUploadError(t,s):n._showError(t,l);n._updateFileDetails(d)};n.loadedImages=[];n.totalImagesCount=0;e.each(i,function(e,t){var i=n.fileTypeSettings.image;if(i&&i(t.type)){n.totalImagesCount++}});m=function(e){if(t.isEmpty(r.attr("multiple"))){d=1}if(e>=d){if(n.isAjaxUpload&&n.filestack.length>0){n._raise("filebatchselected",[n.getFileStack()])}else{n._raise("filebatchselected",[i])}s.removeClass("file-thumb-loading");l.html("");return}var k=p+e,T=f+"-"+k,S,_,D=i[e],$,A=D.name?n.slug(D.name):"",E=(D.size||0)/1e3,P,I,F="",N=t.objUrl.createObjectURL(D),O,M,R,j,L=0,U="",H;if(g>0){for(P=0;P<g;P++){R=v[P];j=n.msgFileTypes[R]||R;U+=P===0?j:", "+j}}if(A===false){m(e+1);return}if(A.length===0){I=n.msgInvalidFileName.replace("{name}",t.htmlEncode(D.name));C(I,D,T,e);return}if(!t.isEmpty(y)){F=new RegExp("\\.("+y.join("|")+")$","i")}$=E.toFixed(2);if(n.maxFileSize>0&&E>n.maxFileSize){I=n.msgSizeTooLarge.setTokens({name:A,size:$,maxSize:n.maxFileSize});C(I,D,T,e);return}if(n.minFileSize!==null&&E<=t.getNum(n.minFileSize)){I=n.msgSizeTooSmall.setTokens({name:A,size:$,minSize:n.minFileSize});C(I,D,T,e);return}if(!t.isEmpty(v)&&t.isArray(v)){for(P=0;P<v.length;P+=1){O=v[P];H=h[O];L+=!H||typeof H!=="function"?0:H(D.type,D.name)?1:0}if(L===0){I=n.msgInvalidFileType.setTokens({name:A,types:U});C(I,D,T,e);return}}if(L===0&&!t.isEmpty(y)&&t.isArray(y)&&!t.isEmpty(F)){M=t.compare(A,F);L+=t.isEmpty(M)?0:M.length;if(L===0){I=n.msgInvalidFileExtension.setTokens({name:A,extensions:b});C(I,D,T,e);return}}if(!n.showPreview){if(n.isAjaxUpload){n.addToStack(D)}setTimeout(function(){m(e+1);n._updateFileDetails(d)},100);n._raise("fileloaded",[D,T,e,a]);return}if(!x&&E>w){n.addToStack(D);s.addClass("file-thumb-loading");n._previewDefault(D,T);n._initFileActions();n._updateFileDetails(d);m(e+1);return}if(o.length&&FileReader!==undefined){l.html(u.replace("{index}",e+1).replace("{files}",d));s.addClass("file-thumb-loading");a.onerror=function(e){n._errorHandler(e,A)};a.onload=function(t){n._previewFile(e,D,t,T,N);n._initFileActions()};a.onloadend=function(){I=c.setTokens({index:e+1,files:d,percent:50,name:A});setTimeout(function(){l.html(I);n._updateFileDetails(d);m(e+1)},100);n._raise("fileloaded",[D,T,e,a])};a.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,n=Math.ceil(i);I=c.setTokens({index:e+1,files:d,percent:n,name:A});setTimeout(function(){l.html(I)},100)}};S=h.text;_=h.image;if(S(D.type,A)){a.readAsText(D,n.textEncoding)}else{if(_(D.type,A)){a.readAsDataURL(D)}else{a.readAsArrayBuffer(D)}}}else{n._previewDefault(D,T);setTimeout(function(){m(e+1);n._updateFileDetails(d)},100);n._raise("fileloaded",[D,T,e,a])}n.addToStack(D)};m(0);n._updateFileDetails(d,false)},_updateFileDetails:function(e){var i=this,n=i.$element,r=i.getFileStack(),o=t.isIE(9)&&t.findFileName(n.val())||n[0].files[0]&&n[0].files[0].name||r.length&&r[0].name||"",a=i.slug(o),s=i.isAjaxUpload?r.length:e,l=i.previewCache.count()+s,u=s===1?a:i._getMsgSelected(l);if(i.isError){i.$previewContainer.removeClass("file-thumb-loading");i.$previewStatus.html("");i.$captionContainer.find(".kv-caption-icon").hide()}else{i._showFileIcon()}i._setCaption(u,i.isError);i.$container.removeClass("file-input-new file-input-ajax-new");if(arguments.length===1){i._raise("fileselect",[e,a])}if(i.previewCache.count()){i._initPreviewActions()}},_setThumbStatus:function(e,t){var i=this;if(!i.showPreview){return}var n="indicator"+t,r=n+"Title",o="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),s=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading");if(t==="Success"){e.find(".file-drag-handle").remove()}a.html(s[n]);a.attr("title",s[r]);e.addClass(o);if(t==="Error"&&!i.retryErrorUploads){e.find(".kv-file-upload").attr("disabled",true)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,i,n){var r=this,o=Math.min(e,100),a,s=r.progressUploadThreshold,l=e<=100?r.progressTemplate:r.progressCompleteTemplate,u=o<100?r.progressTemplate:n?r.progressErrorTemplate:l;i=i||r.$progress;if(!t.isEmpty(u)){if(s&&o>s&&e<=100){a=u.setTokens({percent:s,status:r.msgUploadThreshold})}else{a=u.setTokens({percent:o,status:e>100?r.msgUploadEnd:o+"%"})}i.html(a);if(n){i.find('[role="progressbar"]').html(n)}}},_setFileDropZoneTitle:function(){var e=this,i=e.$container.find(".file-drop-zone"),n=e.dropZoneTitle,r;if(e.isClickable){r=t.isEmpty(e.$element.attr("multiple"))?e.fileSingle:e.filePlural;n+=e.dropZoneClickTitle.replace("{files}",r)}i.find("."+e.dropZoneTitleClass).remove();if(!e.isAjaxUpload||!e.showPreview||i.length===0||e.getFileStack().length>0||!e.dropZoneEnabled){return}if(i.find(t.FRAMES).length===0&&t.isEmpty(e.defaultPreviewContent)){i.prepend('<div class="'+e.dropZoneTitleClass+'">'+n+"</div>")}e.$container.removeClass("file-input-new");t.addCss(e.$container,"file-input-ajax-new")},_setAsyncUploadStatus:function(t,i,n){var r=this,o=0;r._setProgress(i,e("#"+t).find(".file-thumb-progress"));r.uploadStatus[t]=i;e.each(r.uploadStatus,function(e,t){o+=t});r._setProgress(Math.floor(o/n))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;if(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount){e._noFilesError({});return false}return true},_getFileCount:function(e){var t=this,i=0;if(t.validateInitialCount&&!t.overwriteInitial){i=t.previewCache.count();e+=i}return e},_getFileId:function(e){var t=this,i=t.generateFileId,n;if(typeof i==="function"){return i(e,event)}if(!e){return null}n=String(e.webkitRelativePath||e.fileName||e.name||null);if(!n){return null}return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},_getFileName:function(e){return e&&e.name?this.slug(e.name):undefined},_getFileIds:function(e){var t=this;return t.fileids.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},_getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},_setPreviewError:function(e,t,i,n){var r=this;if(t!==undefined){r.updateStack(t,i)}if(!r.showPreview){return}if(r.removeFromPreviewOnError&&!n){e.remove();return}else{r._setThumbStatus(e,"Error")}r._refreshUploadButton(e,n)},_refreshUploadButton:function(e,t){var i=this,n=e.find(".kv-file-upload"),r=i.fileActionSettings,o=r.uploadIcon,a=r.uploadTitle;if(!n.length){return}if(t){o=r.uploadRetryIcon;a=r.uploadRetryTitle}n.attr("title",a).html(o)},_checkDimensions:function(e,i,n,r,o,a,s){var l=this,u,c,f=i==="Small"?"min":"max",d=l[f+"Image"+a],h,p;if(t.isEmpty(d)||!n.length){return}h=n[0];c=a==="Width"?h.naturalWidth||h.width:h.naturalHeight||h.height;p=i==="Small"?c>=d:c<=d;if(p){return}u=l["msgImage"+a+i].setTokens({name:o,size:d});l._showUploadError(u,s);l._setPreviewError(r,e,null)},_validateImage:function(t,i,n,r,o){var a=this,s=a.$preview,l,u,c,f=s.find("#"+t),d=f.attr("data-fileindex"),h=f.find("img"),p;i=i||"Untitled";h.one("load",function(){u=f.width();c=s.width();if(u>c){h.css("width","100%")}l={ind:d,id:t};a._checkDimensions(d,"Small",h,f,i,"Width",l);a._checkDimensions(d,"Small",h,f,i,"Height",l);if(!a.resizeImage){a._checkDimensions(d,"Large",h,f,i,"Width",l);a._checkDimensions(d,"Large",h,f,i,"Height",l)}a._raise("fileimageloaded",[t]);p=window.piexif?window.piexif.load(o):null;a.loadedImages.push({ind:d,img:h,thumb:f,pid:t,typ:n,siz:r,validated:false,imgData:o,exifObj:p});f.data("exif",p);a._validateAllImages()}).one("error",function(){a._raise("fileimageloaderror",[t])}).each(function(){if(this.complete){e(this).trigger("load")}else{if(this.error){e(this).trigger("error")}}})},_validateAllImages:function(){var e=this,t,i={val:0},n=e.loadedImages.length,r,o,a=e.resizeIfSizeMoreThan;if(n!==e.totalImagesCount){return}e._raise("fileimagesloaded");if(!e.resizeImage){return}for(t=0;t<e.loadedImages.length;t++){r=e.loadedImages[t];if(r.validated){continue}o=r.siz;if(o&&o>a*1e3){e._getResizedImage(r,i,n)}e.loadedImages[t].validated=true}},_getResizedImage:function(i,n,r){var o=this,a=e(i.img)[0],s=a.naturalWidth,l=a.naturalHeight,u,c=1,f=o.maxImageWidth||s,d=o.maxImageHeight||l,h=!!(s&&l),p,m,v=o.imageCanvas,g,y=o.imageCanvasContext,b=i.typ,w=i.pid,x=i.ind,C=i.thumb,k,T,S=i.exifObj,_;k=function(e,t,i){if(o.isAjaxUpload){o._showUploadError(e,t,i)}else{o._showError(e,t,i)}o._setPreviewError(C,x)};if(!o.filestack[x]||!h||s<=f&&l<=d){if(h&&o.filestack[x]){o._raise("fileimageresized",[w,x])}n.val++;if(n.val===r){o._raise("fileimagesresized")}if(!h){k(o.msgImageResizeError,{id:w,index:x},"fileimageresizeerror");return}}b=b||o.resizeDefaultImageType;p=s>f;m=l>d;if(o.resizePreference==="width"){c=p?f/s:m?d/l:1}else{c=m?d/l:p?f/s:1}o._resetCanvas();s*=c;l*=c;v.width=s;v.height=l;try{y.drawImage(a,0,0,s,l);g=v.toDataURL(b,o.resizeQuality);if(S){_=window.piexif.dump(S);g=window.piexif.insert(_,g)}u=t.dataURI2Blob(g);o.filestack[x]=u;o._raise("fileimageresized",[w,x]);n.val++;if(n.val===r){o._raise("fileimagesresized",[undefined,undefined])}if(!(u instanceof Blob)){k(o.msgImageResizeError,{id:w,index:x},"fileimageresizeerror")}}catch(e){n.val++;if(n.val===r){o._raise("fileimagesresized",[undefined,undefined])}T=o.msgImageResizeException.replace("{errors}",e.message);k(T,{id:w,index:x},"fileimageresizeexception")}},_initBrowse:function(e){var t=this;if(t.showBrowse){t.$btnFile=e.find(".btn-file");t.$btnFile.append(t.$element)}else{t.$element.hide()}},_initCaption:function(){var e=this,i=e.initialCaption||"";if(e.overwriteInitial||t.isEmpty(i)){e.$caption.html("");return false}e._setCaption(i);return true},_setCaption:function(i,n){var r=this,o,a,s,l,u=r.getFileStack();if(!r.$caption.length){return}if(n){o=e("<div>"+r.msgValidationError+"</div>").text();s=u.length;if(s){l=s===1&&u[0]?r._getFileNames()[0]:r._getMsgSelected(s)}else{l=r._getMsgSelected(r.msgNo)}a='<span class="'+r.msgValidationErrorClass+'">'+r.msgValidationErrorIcon+(t.isEmpty(i)?l:i)+"</span>"}else{if(t.isEmpty(i)){return}o=e("<div>"+i+"</div>").text();a=r._getLayoutTemplate("fileIcon")+o}r.$caption.html(a);r.$caption.attr("title",o);r.$captionContainer.find(".file-caption-ellipsis").attr("title",o)},_createContainer:function(){var t=this,i={class:"file-input file-input-new"+(t.rtl?" kv-rtl":"")},n=e(document.createElement("div")).attr(i).html(t._renderMain());t.$element.before(n);t._initBrowse(n);if(t.theme){n.addClass("theme-"+t.theme)}return n},_refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element);t.html(e._renderMain());e._initBrowse(t)},_renderMain:function(){var e=this,t=e.isAjaxUpload&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=!e.showClose?"":e._getLayoutTemplate("close"),n=!e.showPreview?"":e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}),r=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,o=e.captionTemplate.setTokens({class:r+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:n,close:i,caption:o,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var i=this,n=i._getLayoutTemplate("btnDefault"),r=i[e+"Class"],o=i[e+"Title"],a=i[e+"Icon"],s=i[e+"Label"],l=i.isDisabled?" disabled":"",u="button";switch(e){case"remove":if(!i.showRemove){return""}break;case"cancel":if(!i.showCancel){return""}r+=" kv-hidden";break;case"upload":if(!i.showUpload){return""}if(i.isAjaxUpload&&!i.isDisabled){n=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl)}else{u="submit"}break;case"browse":if(!i.showBrowse){return""}n=i._getLayoutTemplate("btnBrowse");break;default:return""}r+=e==="browse"?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button";if(!t.isEmpty(s)){s=' <span class="'+i.buttonLabelClass+'">'+s+"</span>"}return n.setTokens({type:u,css:r,title:o,status:l,icon:a,label:s})},_renderThumbProgress:function(){var e=this;return'<div class="file-thumb-progress kv-hidden">'+e.progressTemplate.setTokens({percent:"0",status:e.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,i,n,r){var o=this,a=o.fileActionSettings,s=a.showRemove,l=a.showDrag,u=a.showUpload,c=a.showZoom,f,d=o._getLayoutTemplate("footer"),h=o._getLayoutTemplate("indicator"),p=r?a.indicatorError:a.indicatorNew,m=r?a.indicatorErrorTitle:a.indicatorNewTitle,v=h.setTokens({indicator:p,indicatorTitle:m});i=o._getSize(i);if(o.isAjaxUpload){f=d.setTokens({actions:o._renderFileActions(u,false,s,c,l,false,false,false),caption:e,size:i,width:n,progress:o._renderThumbProgress(),indicator:v})}else{f=d.setTokens({actions:o._renderFileActions(false,false,false,c,l,false,false,false),caption:e,size:i,width:n,progress:"",indicator:v})}f=t.replaceTags(f,o.previewThumbTags);return f},_renderFileActions:function(e,t,i,n,r,o,a,s,l,u,c){if(!e&&!t&&!i&&!n&&!r){return""}var f=this,d=a===false?"":' data-url="'+a+'"',h=s===false?"":' data-key="'+s+'"',p="",m="",v="",g="",y="",b,w=f._getLayoutTemplate("actions"),x=f.fileActionSettings,C=f.otherActionButtons.setTokens({dataKey:h,key:s}),k=o?x.removeClass+" disabled":x.removeClass;if(i){p=f._getLayoutTemplate("actionDelete").setTokens({removeClass:k,removeIcon:x.removeIcon,removeTitle:x.removeTitle,dataUrl:d,dataKey:h,key:s})}if(e){m=f._getLayoutTemplate("actionUpload").setTokens({uploadClass:x.uploadClass,uploadIcon:x.uploadIcon,uploadTitle:x.uploadTitle})}if(t){v=f._getLayoutTemplate("actionDownload").setTokens({downloadClass:x.downloadClass,downloadIcon:x.downloadIcon,downloadTitle:x.downloadTitle,downloadUrl:u||f.initialPreviewDownloadUrl});v=v.setTokens({filename:c,key:s})}if(n){g=f._getLayoutTemplate("actionZoom").setTokens({zoomClass:x.zoomClass,zoomIcon:x.zoomIcon,zoomTitle:x.zoomTitle})}if(r&&l){b="drag-handle-init "+x.dragClass;y=f._getLayoutTemplate("actionDrag").setTokens({dragClass:b,dragTitle:x.dragTitle,dragIcon:x.dragIcon})}return w.setTokens({delete:p,upload:m,download:v,zoom:g,drag:y,other:C})},_browse:function(e){var t=this;t._raise("filebrowse");if(e&&e.isDefaultPrevented()){return}if(t.isError&&!t.isAjaxUpload){t.clear()}t.$captionContainer.focus()},_filterDuplicate:function(e,t,i){var n=this,r=n._getFileId(e);if(r&&i&&i.indexOf(r)>-1){return}if(!i){i=[]}t.push(e);i.push(r)},_change:function(i){var n=this,r=n.$element;if(!n.isAjaxUpload&&t.isEmpty(r.val())&&n.fileInputCleared){n.fileInputCleared=false;return}n.fileInputCleared=false;var o=[],a,s,l=arguments.length>1,u=n.isAjaxUpload,c,f,d=l?i.originalEvent.dataTransfer.files:r.get(0).files,h=n.filestack.length,p=t.isEmpty(r.attr("multiple")),m=p&&h>0,v=0,g=n._getFileIds(),y=function(t,i,r,o){var a=e.extend(true,{},n._getOutData({},{},d),{id:r,index:o}),s={id:r,index:o,file:i,files:d};return n.isAjaxUpload?n._showUploadError(t,a):n._showError(t,s)};n.reader=null;n._resetUpload();n._hideFileIcon();if(n.isAjaxUpload){n.$container.find(".file-drop-zone ."+n.dropZoneTitleClass).remove()}if(l){e.each(d,function(e,t){if(t&&!t.type&&t.size!==undefined&&t.size%4096===0){v++}else{n._filterDuplicate(t,o,g)}})}else{if(i.target&&i.target.files===undefined){d=i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]}else{d=i.target.files||{}}if(u){e.each(d,function(e,t){n._filterDuplicate(t,o,g)})}else{o=d}}if(t.isEmpty(o)||o.length===0){if(!u){n.clear()}n._showFolderError(v);n._raise("fileselectnone");return}n._resetErrors();f=o.length;s=n._getFileCount(n.isAjaxUpload?n.getFileStack().length+f:f);if(n.maxFileCount>0&&s>n.maxFileCount){if(!n.autoReplace||f>n.maxFileCount){c=n.autoReplace&&f>n.maxFileCount?f:s;a=n.msgFilesTooMany.replace("{m}",n.maxFileCount).replace("{n}",c);n.isError=y(a,null,null,null);n.$captionContainer.find(".kv-caption-icon").hide();n._setCaption("",true);n.$container.removeClass("file-input-new file-input-ajax-new");return}if(s>n.maxFileCount){n._resetPreviewThumbs(u)}}else{if(!u||m){n._resetPreviewThumbs(false);if(m){n.clearStack()}}else{if(u&&h===0&&(!n.previewCache.count()||n.overwriteInitial)){n._resetPreviewThumbs(true)}}}if(n.isPreviewable){n._readFiles(o)}else{n._updateFileDetails(1)}n._showFolderError(v)},_abort:function(t){var i=this,n;if(i.ajaxAborted&&typeof i.ajaxAborted==="object"&&i.ajaxAborted.message!==undefined){n=e.extend(true,{},i._getOutData(),t);n.abortData=i.ajaxAborted.data||{};n.abortMessage=i.ajaxAborted.message;i._setProgress(101,i.$progress,i.msgCancelled);i._showUploadError(i.ajaxAborted.message,n,"filecustomerror");i.cancel();return true}return false},_resetFileStack:function(){var i=this,n=0,r=[],o=[],a=[];i._getThumbs().each(function(){var s=e(this),l=s.attr("data-fileindex"),u=i.filestack[l],c=s.attr("id"),f;if(l==="-1"||l===-1){return}if(u!==undefined){r[n]=u;o[n]=i._getFileName(u);a[n]=i._getFileId(u);s.attr({id:i.previewInitId+"-"+n,"data-fileindex":n});n++}else{f="uploaded-"+t.uniqId();s.attr({id:f,"data-fileindex":"-1"});i.$preview.find("#zoom-"+c).attr("id","zoom-"+f)}});i.filestack=r;i.filenames=o;i.fileids=a},_isFileSelectionValid:function(e){var t=this;e=e||0;if(t.required&&!t.getFilesCount()){t.$errorContainer.html("");t._showUploadError(t.msgFileRequired);return false}if(t.minFileCount>0&&t._getFileCount(e)<t.minFileCount){t._noFilesError({});return false}return true},clearStack:function(){var e=this;e.filestack=[];e.filenames=[];e.fileids=[];return e.$element},updateStack:function(e,t){var i=this;i.filestack[e]=t;i.filenames[e]=i._getFileName(t);i.fileids[e]=t&&i._getFileId(t)||null;return i.$element},addToStack:function(e){var t=this;t.filestack.push(e);t.filenames.push(t._getFileName(e));t.fileids.push(t._getFileId(e));return t.$element},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?t!==undefined:t!==undefined&&t!==null})},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e.$element.get(0).files.length;return e._getFileCount(t)},lock:function(){var e=this;e._resetErrors();e.disable();if(e.showRemove){e.$container.find(".fileinput-remove").hide()}if(e.showCancel){e.$container.find(".fileinput-cancel").show()}e._raise("filelock",[e.filestack,e._getExtraData()]);return e.$element},unlock:function(e){var t=this;if(e===undefined){e=true}t.enable();if(t.showCancel){t.$container.find(".fileinput-cancel").hide()}if(t.showRemove){t.$container.find(".fileinput-remove").show()}if(e){t._resetFileStack()}t._raise("fileunlock",[t.filestack,t._getExtraData()]);return t.$element},cancel:function(){var t=this,i=t.ajaxRequests,n=i.length,r;if(n>0){for(r=0;r<n;r+=1){t.cancelling=true;i[r].abort()}}t._setProgressCancelled();t._getThumbs().each(function(){var i=e(this),n=i.attr("data-fileindex");i.removeClass("file-uploading");if(t.filestack[n]!==undefined){i.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled");i.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")}t.unlock()});return t.$element},clear:function(){var i=this,n;if(!i._raise("fileclear")){return}i.$btnUpload.removeAttr("disabled");i._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))});i._resetUpload();i.clearStack();i._clearFileInput();i._resetErrors(true);if(i._hasInitialPreview()){i._showFileIcon();i._resetPreview();i._initPreviewActions();i.$container.removeClass("file-input-new")}else{i._getThumbs().each(function(){i._clearObjects(e(this))});if(i.isAjaxUpload){i.previewCache.data={}}i.$preview.html("");n=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"";i.$caption.html(n);i.$caption.attr("title","");t.addCss(i.$container,"file-input-new");i._validateDefaultPreview()}if(i.$container.find(t.FRAMES).length===0){if(!i._initCaption()){i.$captionContainer.find(".kv-caption-icon").hide()}}i._hideFileIcon();i._raise("filecleared");i.$captionContainer.focus();i._setFileDropZoneTitle();return i.$element},reset:function(){var e=this;if(!e._raise("filereset")){return}e._resetPreview();e.$container.find(".fileinput-filename").text("");t.addCss(e.$container,"file-input-new");if(e.getFrames().length||e.isAjaxUpload&&e.dropZoneEnabled){e.$container.removeClass("file-input-new")}e.clearStack();e.formdata={};e._setFileDropZoneTitle();return e.$element},disable:function(){var e=this;e.isDisabled=true;e._raise("filedisabled");e.$element.attr("disabled","disabled");e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled");e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",true);t.addCss(e.$container.find(".btn-file"),"disabled");e._initDragDrop();return e.$element},enable:function(){var e=this;e.isDisabled=false;e._raise("fileenabled");e.$element.removeAttr("disabled");e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled");e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled");e.$container.find(".btn-file").removeClass("disabled");e._initDragDrop();return e.$element},upload:function(){var i=this,n=i.getFileStack().length,r,o,a,s=!e.isEmptyObject(i._getExtraData());if(!i.isAjaxUpload||i.isDisabled||!i._isFileSelectionValid(n)){return}i._resetUpload();if(n===0&&!s){i._showUploadError(i.msgUploadEmpty);return}i.$progress.show();i.uploadCount=0;i.uploadStatus={};i.uploadLog=[];i.lock();i._setProgress(2);if(n===0&&s){i._uploadExtraOnly();return}a=i.filestack.length;i.hasInitData=false;if(i.uploadAsync){o=i._getOutData();i._raise("filebatchpreupload",[o]);i.fileBatchCompleted=false;i.uploadCache={content:[],config:[],tags:[],append:true};i.uploadAsyncCount=i.getFileStack().length;for(r=0;r<a;r++){i.uploadCache.content[r]=null;i.uploadCache.config[r]=null;i.uploadCache.tags[r]=null}i.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS);i._initSortable();i.cacheInitialPreview=i.getPreview();for(r=0;r<a;r++){if(i.filestack[r]){i._uploadSingle(r,true)}}return}i._uploadBatch();return i.$element},destroy:function(){var t=this,i=t.$form,n=t.$container,r=t.$element,o=t.namespace;e(document).off(o);e(window).off(o);if(i&&i.length){i.off(o)}if(t.isAjaxUpload){t._clearFileInput()}t._cleanup();t._initPreviewCache();r.insertBefore(n).off(o).removeData();n.off().remove();return r},refresh:function(i,n){var r=this,o=r.$element;if(typeof i!=="object"||t.isEmpty(i)){i=r.options}else{i=e.extend(true,{},r.options,i)}r._init(i,true);r._listen();if(n){o.trigger("change"+r.namespace)}return o},zoom:function(e){var i=this,n=i._getFrame(e),r=i.$modal;if(!n){return}t.initModal(r);r.html(i._getModalContent());i._setZoomContent(n);r.modal("show");i._initZoomButtons()},getExif:function(e){var t=this,i=t._getFrame(e);return i&&i.data("exif")||null},getFrames:function(e){var i=this;e=e||"";return i.$preview.find(t.FRAMES+e)},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}};e.fn.fileinput=function(n){if(!t.hasFileAPISupport()&&!t.isIE(9)){return}var r=Array.apply(null,arguments),o=[];r.shift();this.each(function(){var a=e(this),s=a.data("fileinput"),l=typeof n==="object"&&n,u=l.theme||a.data("theme"),c={},f={},d=l.language||a.data("language")||e.fn.fileinput.defaults.language||"en",h;if(!s){if(u){f=e.fn.fileinputThemes[u]||{}}if(d!=="en"&&!t.isEmpty(e.fn.fileinputLocales[d])){c=e.fn.fileinputLocales[d]||{}}h=e.extend(true,{},e.fn.fileinput.defaults,f,e.fn.fileinputLocales.en,c,l,a.data());s=new i(this,h);a.data("fileinput",s)}if(typeof n==="string"){o.push(s[n].apply(s,r))}});switch(o.length){case 0:return this;case 1:return o[0];default:return o}};e.fn.fileinput.defaults={language:"en",showCaption:true,showBrowse:true,showPreview:true,showRemove:true,showUpload:true,showCancel:true,showClose:true,showUploadedThumbs:true,browseOnZoneClick:false,autoReplace:false,autoOrientImage:true,required:false,rtl:false,hideThumbnailContent:false,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:true,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:false,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:true,initialPreviewDownloadUrl:"",removeFromPreviewOnError:false,deleteUrl:"",deleteExtraData:{},overwriteInitial:true,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-kv btn-default btn-outline-secondary",borderless:"btn btn-kv btn-default btn-outline-secondary",close:"btn btn-kv btn-default btn-outline-secondary"},preferIconicPreview:false,preferIconicZoomPreview:false,allowedPreviewTypes:undefined,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:true,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:false,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:false,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<button class="close kv-error-close">&times;</button>',slugCallback:null,dropZoneEnabled:true,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:true,mergeAjaxCallbacks:false,mergeAjaxDeleteCallbacks:false,retryErrorUploads:true};e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};e.fn.fileinput.Constructor=i;e(document).ready(function(){var t=e("input.file[type=file]");if(t.length){t.fileinput()}})});(function(e){"use strict";e.fn.fileinputThemes.gly={fileActionSettings:{removeIcon:'<i class="glyphicon glyphicon-trash"></i>',uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',dragIcon:'<i class="glyphicon glyphicon-move"></i>',indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>'},layoutTemplates:{fileIcon:'<i class="glyphicon glyphicon-file kv-caption-icon"></i>'},previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',removeIcon:'<i class="glyphicon glyphicon-trash"></i>',cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> '}})(window.jQuery);(function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.editableform.defaults,i);this.$div=e(t);if(!this.options.scope){this.options.scope=this}};t.prototype={constructor:t,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){t.addClass("editable-buttons-bottom")}},render:function(){this.$loading=e(e.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);e.when(this.input.render()).then(e.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(e){e.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var t=this.value===null||this.value===undefined||this.value===""?this.options.defaultValue:this.value;this.input.value2input(t);this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;if(this.$form){e=this.$form.outerWidth();t=this.$form.outerHeight();if(e){this.$loading.width(e)}if(t){this.$loading.height(t)}this.$form.hide()}else{e=this.$loading.parent().width();if(e){this.$loading.width(e)}}this.$loading.show()},showForm:function(e){this.$loading.hide();this.$form.show();if(e!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(t){var i=this.$form.find(".control-group"),n=this.$form.find(".editable-error-block"),r;if(t===false){i.removeClass(e.fn.editableform.errorGroupClass);n.removeClass(e.fn.editableform.errorBlockClass).empty().hide()}else{if(t){r=(""+t).split("\n");for(var o=0;o<r.length;o++){r[o]=e("<div>").text(r[o]).html()}t=r.join("<br>")}i.addClass(e.fn.editableform.errorGroupClass);n.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation();t.preventDefault();var i=this.input.input2value();var n=this.validate(i);if(e.type(n)==="object"&&n.newValue!==undefined){i=n.newValue;this.input.value2input(i);if(typeof n.msg==="string"){this.error(n.msg);this.showForm();return}}else if(n){this.error(n);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var r=this.input.value2submit(i);this.isSaving=true;e.when(this.save(r)).done(e.proxy(function(e){this.isSaving=false;var t=typeof this.options.success==="function"?this.options.success.call(this.options.scope,e,i):null;if(t===false){this.error(false);this.showForm(false);return}if(typeof t==="string"){this.error(t);this.showForm();return}if(t&&typeof t==="object"&&t.hasOwnProperty("newValue")){i=t.newValue}this.error(false);this.value=i;this.$div.triggerHandler("save",{newValue:i,submitValue:r,response:e})},this)).fail(e.proxy(function(e){this.isSaving=false;var t;if(typeof this.options.error==="function"){t=this.options.error.call(this.options.scope,e,i)}else{t=typeof e==="string"?e:e.responseText||e.statusText||"Unknown error!"}this.error(t);this.showForm()},this))},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,true);var i=typeof this.options.pk==="function"?this.options.pk.call(this.options.scope):this.options.pk,n=!!(typeof this.options.url==="function"||this.options.url&&(this.options.send==="always"||this.options.send==="auto"&&i!==null&&i!==undefined)),r;if(n){this.showLoading();r={name:this.options.name||"",value:t,pk:i};if(typeof this.options.params==="function"){r=this.options.params.call(this.options.scope,r)}else{this.options.params=e.fn.editableutils.tryParseJson(this.options.params,true);e.extend(r,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,r)}else{return e.ajax(e.extend({url:this.options.url,data:r,type:"POST"},this.options.ajaxOptions))}}},validate:function(e){if(e===undefined){e=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,e)}},option:function(e,t){if(e in this.options){this.options[e]=t}if(e==="value"){this.setValue(t)}},setValue:function(e,t){if(t){this.value=this.input.str2value(e)}else{this.value=e}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};e.fn.editableform=function(i){var n=arguments;return this.each(function(){var r=e(this),o=r.data("editableform"),a=typeof i==="object"&&i;if(!o){r.data("editableform",o=new t(this,a))}if(typeof i==="string"){o[i].apply(o,Array.prototype.slice.call(n,1))}})};e.fn.editableform.Constructor=t;e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};e.fn.editableform.template='<form class="form-inline editableform">'+'<div class="control-group">'+'<div><div class="editable-input"></div><div class="editable-buttons"></div></div>'+'<div class="editable-error-block"></div>'+"</div>"+"</form>";e.fn.editableform.loading='<div class="editableform-loading"></div>';e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button>'+'<button type="button" class="editable-cancel">cancel</button>';e.fn.editableform.errorGroupClass=null;e.fn.editableform.errorBlockClass="editable-error";e.fn.editableform.engine="jquery"})(window.jQuery);(function(e){"use strict";e.fn.editableutils={inherit:function(e,t){var i=function(){};i.prototype=t.prototype;e.prototype=new i;e.prototype.constructor=e;e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange){e.setSelectionRange(t,t)}else if(e.createTextRange){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}},tryParseJson:function(e,t){if(typeof e==="string"&&e.length&&e.match(/^[\{\[].*[\}\]]$/)){if(t){try{e=new Function("return "+e)()}catch(e){}finally{return e}}else{e=new Function("return "+e)()}}return e},sliceObj:function(t,i,n){var r,o,a={};if(!e.isArray(i)||!i.length){return a}for(var s=0;s<i.length;s++){r=i[s];if(t.hasOwnProperty(r)){a[r]=t[r]}if(n===true){continue}o=r.toLowerCase();if(t.hasOwnProperty(o)){a[r]=t[o]}}return a},getConfigData:function(t){var i={};e.each(t.data(),function(e,t){if(typeof t!=="object"||t&&typeof t==="object"&&(t.constructor===Object||t.constructor===Array)){i[e]=t}});return i},objectKeys:function(e){if(Object.keys){return Object.keys(e)}else{if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var t=[],i;for(i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t.push(i)}}return t}},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,i,n){if(!i||t===null){return[]}if(typeof n!=="function"){var r=n||"value";n=function(e){return e[r]}}var o=e.isArray(t),a=[],s=this;e.each(i,function(i,r){if(r.children){a=a.concat(s.itemsByValue(t,r.children,n))}else{if(o){if(e.grep(t,function(e){return e==(r&&typeof r==="object"?n(r):r)}).length){a.push(r)}}else{var l=r&&typeof r==="object"?n(r):r;if(t==l){a.push(r)}}}});return a},createInput:function(t){var i,n,r,o=t.type;if(o==="date"){if(t.mode==="inline"){if(e.fn.editabletypes.datefield){o="datefield"}else if(e.fn.editabletypes.dateuifield){o="dateuifield"}}else{if(e.fn.editabletypes.date){o="date"}else if(e.fn.editabletypes.dateui){o="dateui"}}if(o==="date"&&!e.fn.editabletypes.date){o="combodate"}}if(o==="datetime"&&t.mode==="inline"){o="datetimefield"}if(o==="wysihtml5"&&!e.fn.editabletypes[o]){o="textarea"}if(typeof e.fn.editabletypes[o]==="function"){i=e.fn.editabletypes[o];n=this.sliceObj(t,this.objectKeys(i.defaults));r=new i(n);return r}else{e.error("Unknown type: "+o);return false}},supportsTransitions:function(){var e=document.body||document.documentElement,t=e.style,i="transition",n=["Moz","Webkit","Khtml","O","ms"];if(typeof t[i]==="string"){return true}i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<n.length;r++){if(typeof t[n[r]+i]==="string"){return true}}return false}}})(window.jQuery);(function(e){"use strict";var t=function(e,t){this.init(e,t)};var i=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=e(i);this.options=e.extend({},e.fn.editableContainer.defaults,n);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",e.proxy(function(){this.destroy()},this));if(!e(document).data("editable-handlers-attached")){e(document).on("keyup.editable",function(t){if(t.which===27){e(".editable-open").editableContainer("hide")}});e(document).on("click.editable",function(i){var n=e(i.target),r,o=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!e.contains(document.documentElement,i.target)){return}if(n.is(document)){return}for(r=0;r<o.length;r++){if(n.is(o[r])||n.parents(o[r]).length){return}}t.prototype.closeOthers(i.target)});e(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!e.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var t in this.options){if(t in this.defaults){this.containerOptions[t]=this.options[t]}else{this.formOptions[t]=this.options[t]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;if(this.containerDataName){if(e=this.$element.data(this.containerDataName)){return e}}e=this.$element.data(this.containerName);return e},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open");if(t!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=e("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(e){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:e};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",e||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(e){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(e)}},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t);this.hide("save")},option:function(e,t){this.options[e]=t;if(e in this.containerOptions){this.containerOptions[e]=t;this.setContainerOption(e,t)}else{this.formOptions[e]=t;if(this.$form){this.$form.editableform("option",e,t)}}},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(i,n){if(n===t||e(n).find(t).length){return}var r=e(n),o=r.data("editableContainer");if(!o){return}if(o.options.onblur==="cancel"){r.data("editableContainer").hide("onblur")}else if(o.options.onblur==="submit"){r.data("editableContainer").tip().find("form").submit()}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};e.fn.editableContainer=function(n){var r=arguments;return this.each(function(){var o=e(this),a="editableContainer",s=o.data(a),l=typeof n==="object"&&n,u=l.mode==="inline"?i:t;if(!s){o.data(a,s=new u(this,l))}if(typeof n==="string"){s[n].apply(s,Array.prototype.slice.call(r,1))}})};e.fn.editableContainer.Popup=t;e.fn.editableContainer.Inline=i;e.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(e){if(e.handler){e.handler()}}}})(window.jQuery);(function(e){"use strict";e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})})(window.jQuery);(function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.editable.defaults,i,e.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!e.fn.editableutils.supportsTransitions()){this.options.highlight=false}};t.prototype={constructor:t,init:function(){var t=false,i,n;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=e.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(e.trim(this.$element.html()));t=true}else{this.options.value=e.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(!this.options.disabled){e.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var t=this.options.toggle!=="click";this.toggle(t)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":i=true;break;case"auto":i=!e.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!t;break;default:i=false}e.when(i?this.render():true).then(e.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var t=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var i=e(t.target);if(!i.data("editable")){if(i.hasClass(this.options.emptyclass)){i.empty()}i.editable(this.options).trigger(t)}},this))},render:function(e){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,e)}else if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,e)}else{return this.input.value2html(this.value,this.$element[0])}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(t,i){if(t&&typeof t==="object"){e.each(t,e.proxy(function(t,i){this.option(e.trim(t),i)},this));return}this.options[t]=i;if(t==="disabled"){return i?this.disable():this.enable()}if(t==="value"){this.setValue(i)}if(this.container){this.container.option(t,i)}if(this.input.option){this.input.option(t,i)}},handleEmpty:function(t){if(this.options.display===false){return}if(t!==undefined){this.isEmpty=t}else{if(typeof this.input.isEmpty==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=e.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(t){if(this.options.disabled){return}if(!this.container){var i=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i);this.$element.on("save.internal",e.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible")){return}this.container.show(t)},hide:function(){if(this.container){this.container.hide()}},toggle:function(e){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(e)}},save:function(e,t){if(this.options.unsavedclass){var i=false;i=i||typeof this.options.url==="function";i=i||this.options.display===false;i=i||t.response!==undefined;i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue);if(i){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var n=this.$element,r=n.css("background-color");n.css("background-color",this.options.highlight);setTimeout(function(){if(r==="transparent"){r=""}n.css("background-color",r);n.addClass("editable-bg-transition");setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,false,t.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(t,i,n){if(i){this.value=this.input.str2value(t)}else{this.value=t}if(this.container){this.container.option("value",this.value)}e.when(this.render(n)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};e.fn.editable=function(i){var n={},r=arguments,o="editable";switch(i){case"validate":this.each(function(){var t=e(this),i=t.data(o),r;if(i&&(r=i.validate())){n[i.options.name]=r}});return n;case"getValue":if(arguments.length===2&&arguments[1]===true){n=this.eq(0).data(o).value}else{this.each(function(){var t=e(this),i=t.data(o);if(i&&i.value!==undefined&&i.value!==null){n[i.options.name]=i.input.value2submit(i.value)}})}return n;case"submit":var a=arguments[1]||{},s=this,l=this.editable("validate");if(e.isEmptyObject(l)){var u={};if(s.length===1){var c=s.data("editable");var f={name:c.options.name||"",value:c.input.value2submit(c.value),pk:typeof c.options.pk==="function"?c.options.pk.call(c.options.scope):c.options.pk};if(typeof c.options.params==="function"){f=c.options.params.call(c.options.scope,f)}else{c.options.params=e.fn.editableutils.tryParseJson(c.options.params,true);e.extend(f,c.options.params)}u={url:c.options.url,data:f,type:"POST"};a.success=a.success||c.options.success;a.error=a.error||c.options.error}else{var d=this.editable("getValue");u={url:a.url,data:d,type:"POST"}}u.success=typeof a.success==="function"?function(e){a.success.call(s,e,a)}:e.noop;u.error=typeof a.error==="function"?function(){a.error.apply(s,arguments)}:e.noop;if(a.ajaxOptions){e.extend(u,a.ajaxOptions)}if(a.data){e.extend(u.data,a.data)}e.ajax(u)}else{if(typeof a.error==="function"){a.error.call(s,l)}}return this}return this.each(function(){var n=e(this),a=n.data(o),s=typeof i==="object"&&i;if(s&&s.selector){a=new t(this,s);return}if(!a){n.data(o,a=new t(this,s))}if(typeof i==="string"){a[i].apply(a,Array.prototype.slice.call(r,1))}})};e.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);(function(e){"use strict";e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,n){this.type=t;this.options=e.extend({},n,i)},prerender:function(){this.$tpl=e(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(t,i){e(i)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(e){if(this.options[e]!==undefined&&this.options[e]!==null){this.$input.attr(e,this.options[e])}},option:function(e,t){this.options[e]=t}};t.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};e.extend(e.fn.editabletypes,{abstractinput:t})})(window.jQuery);(function(e){"use strict";var t=function(e){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){var t=e.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();t.resolve()},function(){this.error=this.options.sourceError;t.resolve()});return t.promise()},html2value:function(e){return null},value2html:function(t,i,n,r){var o=e.Deferred(),a=function(){if(typeof n==="function"){n.call(i,t,this.sourceData,r)}else{this.value2htmlFinal(t,i)}o.resolve()};if(t===null){a.call(this)}else{this.onSourceReady(a,function(){o.resolve()})}return o.promise()},onSourceReady:function(t,i){var n;if(e.isFunction(this.options.source)){n=this.options.source.call(this.options.scope);this.sourceData=null}else{n=this.options.source}if(this.options.sourceCache&&e.isArray(this.sourceData)){t.call(this);return}try{n=e.fn.editableutils.tryParseJson(n,false)}catch(e){i.call(this);return}if(typeof n==="string"){if(this.options.sourceCache){var r=n,o;if(!e(document).data(r)){e(document).data(r,{})}o=e(document).data(r);if(o.loading===false&&o.sourceData){this.sourceData=o.sourceData;this.doPrepend();t.call(this);return}else if(o.loading===true){o.callbacks.push(e.proxy(function(){this.sourceData=o.sourceData;this.doPrepend();t.call(this)},this));o.err_callbacks.push(e.proxy(i,this));return}else{o.loading=true;o.callbacks=[];o.err_callbacks=[]}}var a=e.extend({url:n,type:"get",cache:false,dataType:"json",success:e.proxy(function(n){if(o){o.loading=false}this.sourceData=this.makeArray(n);if(e.isArray(this.sourceData)){if(o){o.sourceData=this.sourceData;e.each(o.callbacks,function(){this.call()})}this.doPrepend();t.call(this)}else{i.call(this);if(o){e.each(o.err_callbacks,function(){this.call()})}}},this),error:e.proxy(function(){i.call(this);if(o){o.loading=false;e.each(o.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);e.ajax(a)}else{this.sourceData=this.makeArray(n);if(e.isArray(this.sourceData)){this.doPrepend();t.call(this)}else{i.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!e.isArray(this.prependData)){if(e.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(e.isArray(this.prependData)&&e.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(e,t){},makeArray:function(t){var i,n,r=[],o,a;if(!t||typeof t==="string"){return null}if(e.isArray(t)){a=function(e,t){n={value:e,text:t};if(i++>=2){return false}};for(var s=0;s<t.length;s++){o=t[s];if(typeof o==="object"){i=0;e.each(o,a);if(i===1){r.push(n)}else if(i>1){if(o.children){o.children=this.makeArray(o.children)}r.push(o)}}else{r.push({value:o,text:o})}}}else{e.each(t,function(e,t){r.push({value:e,text:t})})}return r},option:function(e,t){this.options[e]=t;if(e==="source"){this.sourceData=null}if(e==="prepend"){this.prependData=null}}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});e.fn.editabletypes.list=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=e('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(~e.inArray(t.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)},this)).parent().css("position","relative");this.$clear.click(e.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(e){if(!this.$clear){return}var t=this.$input.val().length,i=this.$clear.is(":visible");if(t&&!i){this.$clear.show()}if(!t&&i){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});e.fn.editabletypes.text=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(t){if(t.ctrlKey&&t.which===13){e(this).closest("form").submit()}})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});e.fn.editabletypes.textarea=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list);e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,n){var r;if(e.isArray(n)){for(var o=0;o<n.length;o++){r={};if(n[o].children){r.label=n[o].text;i.append(t(e("<optgroup>",r),n[o].children))}else{r.value=n[o].value;if(n[o].disabled){r.disabled=true}i.append(e("<option>",r).text(n[o].text))}}}return i};t(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(t){if(t.which===13){e(this).closest("form").submit()}})},value2htmlFinal:function(t,i){var n="",r=e.fn.editableutils.itemsByValue(t,this.sourceData);if(r.length){n=r[0].text}e.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}});t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"});e.fn.editabletypes.select=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list);e.extend(t.prototype,{renderList:function(){var t,i;this.$tpl.empty();if(!e.isArray(this.sourceData)){return}for(var n=0;n<this.sourceData.length;n++){t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(e("<span>").text(" "+this.sourceData[n].text));e("<div>").append(t).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var i,n=null;if(typeof t==="string"&&t.length){i=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*");n=t.split(i)}else if(e.isArray(t)){n=t}else{n=[t]}return n},value2input:function(t){this.$input.prop("checked",false);if(e.isArray(t)&&t.length){this.$input.each(function(i,n){var r=e(n);e.each(t,function(e,t){if(r.val()==t){r.prop("checked",true)}})})}},input2value:function(){var t=[];this.$input.filter(":checked").each(function(i,n){t.push(e(n).val())});return t},value2htmlFinal:function(t,i){var n=[],r=e.fn.editableutils.itemsByValue(t,this.sourceData),o=this.options.escape;if(r.length){e.each(r,function(t,i){var r=o?e.fn.editableutils.escape(i.text):i.text;n.push(r)});e(i).html(n.join("<br>"))}else{e(i).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){if(t.which===13){e(this).closest("form").submit()}})}});t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});e.fn.editabletypes.checklist=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);e.extend(t.prototype,{value2html:function(t,i){if(t){e(i).text("[hidden]")}else{e(i).empty()}},html2value:function(e){return null}});t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});e.fn.editabletypes.password=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});e.fn.editabletypes.email=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});e.fn.editabletypes.url=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});e.fn.editabletypes.tel=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text);e.extend(t.prototype,{render:function(){t.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});e.fn.editabletypes.number=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}});t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});e.fn.editabletypes.range=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass()}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});e.fn.editabletypes.time=t})(window.jQuery);(function(e){"use strict";var t=function(i){this.init("select2",i,t.defaults);i.select2=i.select2||{};this.sourceData=null;if(i.placeholder){i.select2.placeholder=i.placeholder}if(!i.select2.tags&&i.source){var n=i.source;if(e.isFunction(i.source)){n=i.source.call(i.scope)}if(typeof n==="string"){i.select2.ajax=i.select2.ajax||{};if(!i.select2.ajax.data){i.select2.ajax.data=function(e){return{query:e}}}if(!i.select2.ajax.results){i.select2.ajax.results=function(e){return{results:e}}}i.select2.ajax.url=n}else{this.sourceData=this.convertSource(n);i.select2.data=this.sourceData}}this.options.select2=e.extend({},t.defaults.select2,i.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if(typeof this.idFunc!=="function"){var r=this.idFunc||"id";this.idFunc=function(e){return e[r]}}this.formatSelection=this.options.select2.formatSelection;if(typeof this.formatSelection!=="function"){this.formatSelection=function(e){return e.text}}};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(i,n){var r="",o,a=this;if(this.options.select2.tags){o=i}else if(this.sourceData){o=e.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)}else{}if(e.isArray(o)){r=[];e.each(o,function(e,t){r.push(t&&typeof t==="object"?a.formatSelection(t):t)})}else if(o){r=a.formatSelection(o)}r=e.isArray(r)?r.join(this.options.viewseparator):r;t.superclass.value2html.call(this,r,n)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)){t=t.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(t);this.$input.select2(this.options.select2)}else{this.$input.val(t).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var r=e(this.options.scope);if(!r.data("editable").isEmpty){var o={id:t,text:r.text()};this.$input.select2("data",o)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if(typeof t!=="string"||!this.isMultiple){return t}i=i||this.getSeparator();var n,r,o;if(t===null||t.length<1){return null}n=t.split(i);for(r=0,o=n.length;r<o;r=r+1){n[r]=e.trim(n[r])}return n},autosubmit:function(){this.$input.on("change",function(t,i){if(!i){e(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&t[0].value!==undefined){for(var i=0;i<t.length;i++){if(t[i].value!==undefined){t[i].id=t[i].value;delete t[i].value}}}return t},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});e.fn.editabletypes.select2=t})(window.jQuery);(function(e){var t=function(t,i){this.$element=e(t);if(!this.$element.is("input")){e.error("Combodate should be applied to INPUT element");return}this.options=e.extend({},e.fn.combodate.defaults,i,this.$element.data());this.init()};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=e('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change();if(this.options.smartDays){if(e(t.target).is(".month")||e(t.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;e.each(this.map,function(e,i){i=i[0];var n=new RegExp(i+"+"),r=i.length>1?i.substring(1,2):i;t=t.replace(n,"{"+r+"}")});t=t.replace(/ /g,"&nbsp;");e.each(this.map,function(e,i){i=i[0];var n=i.length>1?i.substring(1,2):i;t=t.replace("{"+n+"}",'<select class="'+e+'"></select>')});return t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null;this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(!t){return}var i="fill"+e.charAt(0).toUpperCase()+e.slice(1);var n=this[i]();var r=t.val();t.empty();for(var o=0;o<n.length;o++){t.append('<option value="'+n[o][0]+'">'+n[o][1]+"</option>")}t.val(r)},fillCommon:function(e){var t=[],i;if(this.options.firstItem==="name"){i=moment.relativeTime||moment.langData()._relativeTime;var n=typeof i[e]==="function"?i[e](1,true,e,false):i[e];n=n.split(" ").reverse()[0];t.push(["",n])}else if(this.options.firstItem==="empty"){t.push(["",""])}return t},fillDay:function(){var e=this.fillCommon("d"),t,i,n=this.options.template.indexOf("DD")!==-1,r=31;if(this.options.smartDays&&this.$month&&this.$year){var o=parseInt(this.$month.val(),10);var a=parseInt(this.$year.val(),10);if(!isNaN(o)&&!isNaN(a)){r=moment([a,o]).daysInMonth()}}for(i=1;i<=r;i++){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillMonth:function(){var e=this.fillCommon("M"),t,i,n=this.options.template.indexOf("MMMM")!==-1,r=this.options.template.indexOf("MMM")!==-1,o=this.options.template.indexOf("MM")!==-1;for(i=0;i<=11;i++){if(n){t=moment().date(1).month(i).format("MMMM")}else if(r){t=moment().date(1).month(i).format("MMM")}else if(o){t=this.leadZero(i+1)}else{t=i+1}e.push([i,t])}return e},fillYear:function(){var e=[],t,i,n=this.options.template.indexOf("YYYY")!==-1;for(i=this.options.maxYear;i>=this.options.minYear;i--){t=n?i:(i+"").substring(2);e[this.options.yearDescending?"push":"unshift"]([i,t])}e=this.fillCommon("y").concat(e);return e},fillHour:function(){var e=this.fillCommon("h"),t,i,n=this.options.template.indexOf("h")!==-1,r=this.options.template.indexOf("H")!==-1,o=this.options.template.toLowerCase().indexOf("hh")!==-1,a=n?1:0,s=n?12:23;for(i=a;i<=s;i++){t=o?this.leadZero(i):i;e.push([i,t])}return e},fillMinute:function(){var e=this.fillCommon("m"),t,i,n=this.options.template.indexOf("mm")!==-1;for(i=0;i<=59;i+=this.options.minuteStep){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillSecond:function(){var e=this.fillCommon("s"),t,i,n=this.options.template.indexOf("ss")!==-1;for(i=0;i<=59;i+=this.options.secondStep){t=n?this.leadZero(i):i;e.push([i,t])}return e},fillAmpm:function(){var e=this.options.template.indexOf("a")!==-1,t=this.options.template.indexOf("A")!==-1,i=[["am",e?"am":"AM"],["pm",e?"pm":"PM"]];return i},getValue:function(t){var i,n={},r=this,o=false;e.each(this.map,function(e,t){if(e==="ampm"){return}var i=e==="day"?1:0;n[e]=r["$"+e]?parseInt(r["$"+e].val(),10):i;if(isNaN(n[e])){o=true;return false}});if(o){return""}if(this.$ampm){if(n.hour===12){n.hour=this.$ampm.val()==="am"?0:12}else{n.hour=this.$ampm.val()==="am"?n.hour:n.hour+12}}i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]);this.highlight(i);t=t===undefined?this.options.format:t;if(t===null){return i.isValid()?i:null}else{return i.isValid()?i.format(t):""}},setValue:function(t){if(!t){return}var i=typeof t==="string"?moment(t,this.options.format):moment(t),n=this,r={};function o(t,i){var n={};t.children("option").each(function(t,r){var o=e(r).attr("value"),a;if(o==="")return;a=Math.abs(o-i);if(typeof n.distance==="undefined"||a<n.distance){n={value:o,distance:a}}});return n.value}if(i.isValid()){e.each(this.map,function(e,t){if(e==="ampm"){return}r[e]=i[t[1]]()});if(this.$ampm){if(r.hour>=12){r.ampm="pm";if(r.hour>12){r.hour-=12}}else{r.ampm="am";if(r.hour===0){r.hour=12}}}e.each(r,function(e,t){if(n["$"+e]){if(e==="minute"&&n.options.minuteStep>1&&n.options.roundTime){t=o(n["$"+e],t)}if(e==="second"&&n.options.secondStep>1&&n.options.roundTime){t=o(n["$"+e],t)}n["$"+e].val(t)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(i.format(this.options.format)).change()}},highlight:function(e){if(!e.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};e.fn.combodate=function(i){var n,r=Array.apply(null,arguments);r.shift();if(i==="getValue"&&this.length&&(n=this.eq(0).data("combodate"))){return n.getValue.apply(n,r)}return this.each(function(){var n=e(this),o=n.data("combodate"),a=typeof i=="object"&&i;if(!o){n.data("combodate",o=new t(this,a))}if(typeof i=="string"&&typeof o[i]=="function"){o[i].apply(o,r)}})};e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}})(window.jQuery);(function(e){"use strict";var t=function(i){this.init("combodate",i,t.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}i.combodate=e.fn.editableutils.tryParseJson(i.combodate,true);this.options.combodate=e.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(e.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(e,i){var n=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});e.fn.editabletypes.combodate=t})(window.jQuery);(function(e){"use strict";var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var i=this.input.options.inputclass===null||this.input.options.inputclass===false;var n="input-sm";var r="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~e.inArray(this.input.type,r)){this.input.$input.addClass("form-control");if(i){this.input.options.inputclass=n;this.input.$input.addClass(n)}}var o=this.$form.find(".editable-buttons");var a=i?[n]:this.input.options.inputclass.split(" ");for(var s=0;s<a.length;s++){if(a[s].toLowerCase()==="input-lg"){o.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});e.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit">'+'<i class="glyphicon glyphicon-ok"></i>'+"</button>"+'<button type="button" class="btn btn-default btn-sm editable-cancel">'+'<i class="glyphicon glyphicon-remove"></i>'+"</button>";e.fn.editableform.errorGroupClass="has-error";e.fn.editableform.errorBlockClass=null;e.fn.editableform.engine="bs3"})(window.jQuery);(function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){e.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var t;if(this.$element.data("template")){t=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(t){this.$element.data("template",t)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){(function(){var e=this.tip();var t=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;var i=/\s?auto?\s?/i;var n=i.test(t);if(n){t=t.replace(i,"")||"top"}var r=this.getPosition();var o=e[0].offsetWidth;var a=e[0].offsetHeight;if(n){var s=this.$element.parent();var l=t;var u=document.documentElement.scrollTop||document.body.scrollTop;var c=this.options.container=="body"?window.innerWidth:s.outerWidth();var f=this.options.container=="body"?window.innerHeight:s.outerHeight();var d=this.options.container=="body"?0:s.offset().left;t=t=="bottom"&&r.top+r.height+a-u>f?"top":t=="top"&&r.top-u-a<0?"bottom":t=="right"&&r.right+o>c?"left":t=="left"&&r.left-o<d?"right":t;e.removeClass(l).addClass(t)}var h=this.getCalculatedOffset(t,r,o,a);this.applyPlacement(h,t)}).call(this.container())}})})(window.jQuery);(function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}var n=function(t,i){var n=this;this._process_options(i);this.element=e(t);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0)this.component=false;this.picker=e(d.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1});this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};n.prototype={constructor:n,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o);var n=i.language;if(!f[n]){n=n.split("-")[0];if(!f[n])n=u.language}i.language=n;switch(i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode);i.weekStart%=7;i.weekEnd=(i.weekStart+6)%7;var r=d.parseFormat(i.format);if(i.startDate!==-Infinity){i.startDate=d.parseDate(i.startDate,r,i.language)}if(i.endDate!==Infinity){i.endDate=d.parseDate(i.endDate,r,i.language)}i.daysOfWeekDisabled=i.daysOfWeekDisabled||[];if(!e.isArray(i.daysOfWeekDisabled))i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/);i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.on(n)}},_unapplyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.off(n)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]}else if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]}else if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:e.proxy(this.show,this)}]]}this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);this.element.trigger({type:t,date:r,format:e.proxy(function(e){var t=e||this.o.format;return d.formatDate(n,t,this.o.language)},this)})},show:function(e){if(!this.isInline)this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(e){e.preventDefault()}this._trigger("show")},hide:function(e){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val()))this.setValue();this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+e.getTimezoneOffset()*6e4)},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-e.getTimezoneOffset()*6e4))},setUTCDate:function(e){this.date=e;this.setValue()},setValue:function(){var e=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(e)}}else{this.element.val(e)}},getFormattedDate:function(e){if(e===undefined)e=this.o.format;return d.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e});this.update();this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var t=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!="auto"}).first().css("z-index"))+10;var i=this.component?this.component.parent().offset():this.element.offset();var n=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:i.top+n,left:i.left,zIndex:t})},_allow_update:true,update:function(){if(!this._allow_update)return;var e,t=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0]instanceof Date)){e=arguments[0];t=true}else{e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=d.parseDate(e,this.o.format,this.o.language);if(t)this.setValue();if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i;this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}while(e<this.o.weekStart+7){t+='<th class="dow">'+f[this.o.language].daysMin[e++%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12){e+='<span class="month">'+f[this.o.language].monthsShort[t++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(t){if(!t||!t.length)delete this.range;else this.range=e.map(t,function(e){return e.valueOf()});this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=this.date.valueOf(),a=new Date;if(t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<r){i.push("old")}else if(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>r){i.push("new")}if(this.o.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()){i.push("today")}if(o&&t.valueOf()==o){i.push("active")}if(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){i.push("disabled")}if(this.range){if(t>this.range[0]&&t<this.range[this.range.length-1]){i.push("range")}if(e.inArray(t.valueOf(),this.range)!=-1){i.push("selected")}}return i},fill:function(){var i=new Date(this.viewDate),n=i.getUTCFullYear(),r=i.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,u=this.date&&this.date.valueOf(),c;this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[r]+" "+n);this.picker.find("tfoot th.today").text(f[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(f[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var h=t(n,r-1,28,0,0,0,0),p=d.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(p);h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(h);m.setUTCDate(m.getUTCDate()+42);m=m.valueOf();var v=[];var g;while(h.valueOf()<m){if(h.getUTCDay()==this.o.weekStart){v.push("<tr>");if(this.o.calendarWeeks){var y=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),b=new Date(+y+(7+4-y.getUTCDay())%7*864e5),w=new Date(+(w=t(b.getUTCFullYear(),0,1))+(7+4-w.getUTCDay())%7*864e5),x=(b-w)/864e5/7+1;v.push('<td class="cw">'+x+"</td>")}}g=this.getClassNames(h);g.push("day");var C=this.o.beforeShowDay(h);if(C===undefined)C={};else if(typeof C==="boolean")C={enabled:C};else if(typeof C==="string")C={classes:C};if(C.enabled===false)g.push("disabled");if(C.classes)g=g.concat(C.classes.split(/\s+/));if(C.tooltip)c=C.tooltip;g=e.unique(g);v.push('<td class="'+g.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+h.getUTCDate()+"</td>");if(h.getUTCDay()==this.o.weekEnd){v.push("</tr>")}h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var k=this.date&&this.date.getUTCFullYear();var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");if(k&&k==n){T.eq(this.date.getUTCMonth()).addClass("active")}if(n<o||n>s){T.addClass("disabled")}if(n==o){T.slice(0,a).addClass("disabled")}if(n==s){T.slice(l+1).addClass("disabled")}v="";n=parseInt(n/10,10)*10;var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var _=-1;_<11;_++){v+='<span class="year'+(_==-1?" old":_==10?" new":"")+(k==n?" active":"")+(n<o||n>s?" disabled":"")+'">'+n+"</span>";n+=1}S.html(v)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(i){i.preventDefault();var n=e(i.target).closest("span, td, th");if(n.length==1){switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=d.modes[this.viewMode].navStep*(n[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r);break}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0);this.showMode(-2);var a=this.o.todayBtn=="linked"?null:"view";this._setDate(o,a);break;case"clear":var s;if(this.isInput)s=this.element;else if(this.component)s=this.element.find("input");if(s)s.val("").change();this._trigger("changeDate");this.update();if(this.o.autoclose)this.hide();break}break;case"span":if(!n.is(".disabled")){this.viewDate.setUTCDate(1);if(n.is(".month")){var l=1;var u=n.parent().find("span").index(n);var c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(u);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(t(c,u,l,0,0,0,0))}}else{var c=parseInt(n.text(),10)||0;var l=1;var u=0;this.viewDate.setUTCFullYear(c);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(t(c,u,l,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1;var c=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth();if(n.is(".old")){if(u===0){u=11;c-=1}else{u-=1}}else if(n.is(".new")){if(u==11){u=0;c+=1}else{u+=1}}this._setDate(t(c,u,l,0,0,0,0))}break}}},_setDate:function(e,t){if(!t||t=="date")this.date=new Date(e);if(!t||t=="view")this.viewDate=new Date(e);this.fill();this.setValue();this._trigger("changeDate");var i;if(this.isInput){i=this.element}else if(this.component){i=this.element.find("input")}if(i){i.change();if(this.o.autoclose&&(!t||t=="date")){this.hide()}}},moveMonth:function(e,t){if(!t)return e;var i=new Date(e.valueOf()),n=i.getUTCDate(),r=i.getUTCMonth(),o=Math.abs(t),a,s;t=t>0?1:-1;if(o==1){s=t==-1?function(){return i.getUTCMonth()==r}:function(){return i.getUTCMonth()!=a};a=r+t;i.setUTCMonth(a);if(a<0||a>11)a=(a+12)%12}else{for(var l=0;l<o;l++)i=this.moveMonth(i,t);a=i.getUTCMonth();i.setUTCDate(n);s=function(){return a!=i.getUTCMonth()}}while(s()){i.setUTCDate(--n);i.setUTCMonth(a)}return i},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27)this.show();return}var t=false,i,n,r,o,a;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;i=e.keyCode==37?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);a=this.moveYear(this.viewDate,i)}else if(e.shiftKey){o=this.moveMonth(this.date,i);a=this.moveMonth(this.viewDate,i)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i);a=new Date(this.viewDate);a.setUTCDate(this.viewDate.getUTCDate()+i)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=a;this.setValue();this.update();e.preventDefault();t=true}break;case 38:case 40:if(!this.o.keyboardNavigation)break;i=e.keyCode==38?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);a=this.moveYear(this.viewDate,i)}else if(e.shiftKey){o=this.moveMonth(this.date,i);a=this.moveMonth(this.viewDate,i)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i*7);a=new Date(this.viewDate);a.setUTCDate(this.viewDate.getUTCDate()+i*7)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=a;this.setValue();this.update();e.preventDefault();t=true}break;case 13:this.hide();e.preventDefault();break;case 9:this.hide();break}if(t){this._trigger("changeDate");var s;if(this.isInput){s=this.element}else if(this.component){s=this.element.find("input")}if(s){s.change()}}},showMode:function(e){if(e){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))}this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var r=function(t,i){this.element=e(t);this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e});delete i.inputs;e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this));this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")});this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date});this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker"),n=i.getUTCDate(),r=e.inArray(t.target,this.inputs),o=this.inputs.length;if(r==-1)return;if(n<this.dates[r]){while(r>=0&&n<this.dates[r]){this.pickers[r--].setUTCDate(n)}}else if(n>this.dates[r]){while(r<o&&n>this.dates[r]){this.pickers[r++].setUTCDate(n)}}this.updateDates()},remove:function(){e.map(this.pickers,function(e){e.remove()});delete this.element.data().datepicker}};function o(t,i){var n=e(t).data(),r={},o,a=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var s in n)if(i.test(s)){o=s.replace(a,function(e,t){return t.toLowerCase()});r[o]=n[s]}return r}function a(t){var i={};if(!f[t]){t=t.split("-")[0];if(!f[t])return}var n=f[t];e.each(c,function(e,t){if(t in n)i[t]=n[t]});return i}var s=e.fn.datepicker;var l=e.fn.datepicker=function(t){var i=Array.apply(null,arguments);i.shift();var s,l;this.each(function(){var l=e(this),c=l.data("datepicker"),f=typeof t=="object"&&t;if(!c){var d=o(this,"date"),h=e.extend({},u,d,f),p=a(h.language),m=e.extend({},u,p,d,f);if(l.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||l.find("input").toArray()};l.data("datepicker",c=new r(this,e.extend(m,v)))}else{l.data("datepicker",c=new n(this,m))}}if(typeof t=="string"&&typeof c[t]=="function"){s=c[t].apply(c,i);if(s!==undefined)return false}});if(s!==undefined)return s;else return this};var u=e.fn.datepicker.defaults={autoclose:false,beforeShowDay:e.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var c=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=n;var f=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,d.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||i.length===0){throw new Error("Invalid date format.")}return{separators:t,parts:i}},parseDate:function(i,r,o){if(i instanceof Date)return i;if(typeof r==="string")r=d.parseFormat(r);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var a=/([\-+]\d+)([dmwy])/,s=i.match(/([\-+]\d+)([dmwy])/g),l,u;i=new Date;for(var c=0;c<s.length;c++){l=a.exec(s[c]);u=parseInt(l[1]);switch(l[2]){case"d":i.setUTCDate(i.getUTCDate()+u);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,u);break;case"w":i.setUTCDate(i.getUTCDate()+u*7);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,u);break}}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var s=i&&i.match(this.nonpunctuation)||[],i=new Date,h={},p=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){t-=1;while(t<0)t+=12;t%=12;e.setUTCMonth(t);while(e.getUTCMonth()!=t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},v,g,l;m["M"]=m["MM"]=m["mm"]=m["m"];m["dd"]=m["d"];i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var y=r.parts.slice();if(s.length!=y.length){y=e(y).filter(function(t,i){return e.inArray(i,p)!==-1}).toArray()}if(s.length==y.length){for(var c=0,b=y.length;c<b;c++){v=parseInt(s[c],10);l=y[c];if(isNaN(v)){switch(l){case"MM":g=e(f[o].months).filter(function(){var e=this.slice(0,s[c].length),t=s[c].slice(0,e.length);return e==t});v=e.inArray(g[0],f[o].months)+1;break;case"M":g=e(f[o].monthsShort).filter(function(){var e=this.slice(0,s[c].length),t=s[c].slice(0,e.length);return e==t});v=e.inArray(g[0],f[o].monthsShort)+1;break}}h[l]=v}for(var c=0,w;c<p.length;c++){w=p[c];if(w in h&&!isNaN(h[w]))m[w](i,h[w])}}return i},formatDate:function(t,i,n){if(typeof i==="string")i=d.parseFormat(i);var r={d:t.getUTCDate(),D:f[n].daysShort[t.getUTCDay()],DD:f[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:f[n].monthsShort[t.getUTCMonth()],MM:f[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m;var t=[],o=e.extend([],i.separators);for(var a=0,s=i.parts.length;a<=s;a++){if(o.length)t.push(o.shift());t.push(r[i.parts[a]])}return t.join("")},headTemplate:"<thead>"+"<tr>"+'<th class="prev"><i class="icon-arrow-left"/></th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next"><i class="icon-arrow-right"/></th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table>"+"</div>"+"</div>";e.fn.datepicker.DPGlobal=d;e.fn.datepicker.noConflict=function(){e.fn.datepicker=s;return this};e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);if(i.data("datepicker"))return;t.preventDefault();l.call(i,"show")});e(function(){l.call(e('[data-provide="datepicker-inline"]'))})})(window.jQuery);(function(e){"use strict";e.fn.bdatepicker=e.fn.datepicker.noConflict();if(!e.fn.datepicker){e.fn.datepicker=e.fn.bdatepicker}var t=function(e){this.init("date",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{initPicker:function(t,i){if(!this.options.viewformat){this.options.viewformat=this.options.format}t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,true);this.options.datepicker=e.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=e.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault();e.stopPropagation();this.clear()},this));this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,i){var n=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(e(t.currentTarget).is(".old")||e(t.currentTarget).is(".new")){return}var i=e(this).closest("form");setTimeout(function(){i.submit()},200)})},parseDate:function(e,t){var i=null,n;if(e){i=this.dpg.parseDate(e,t,this.options.datepicker.language);if(typeof e==="string"){n=this.dpg.formatDate(i,t,this.options.datepicker.language);if(e!==n){i=null}}}return i}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});e.fn.editabletypes.date=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datefield",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});e.fn.editabletypes.datefield=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datetime",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput);e.extend(t.prototype,{initPicker:function(t,i){if(!this.options.viewformat){this.options.viewformat=this.options.format}t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,true);this.options.datetimepicker=e.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=e.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(t){var i=e(this).closest("form").parent();setTimeout(function(){i.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault();e.stopPropagation();this.clear()},this));this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,i){var n=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(i){t.superclass.value2html.call(this,n,i)}else{return n}},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){if(e){this.$input.data("datetimepicker").setDate(e)}},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(t){var i=e(this).closest("form");setTimeout(function(){i.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-e.getTimezoneOffset()*6e4):e},fromUTC:function(e){return e?new Date(e.valueOf()+e.getTimezoneOffset()*6e4):e},parseDate:function(e,t){var i=null,n;if(e){i=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType);if(typeof e==="string"){n=this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType);if(e!==n){i=null}}}return i}});t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});e.fn.editabletypes.datetime=t})(window.jQuery);(function(e){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults);this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime);e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});e.fn.editabletypes.datetimefield=t})(window.jQuery);(function(e){"use strict";var t=null;var i=function(e){var t=arguments,i=true,n=1;e=e.replace(/%s/g,function(){var e=t[n++];if(typeof e==="undefined"){i=false;return""}return e});return i?e:""};var n=function(t,i,n,r){var o="";e.each(t,function(e,t){if(t[i]===r){o=t[n];return false}return true});return o};var r=function(t,i){var n=-1;e.each(t,function(e,t){if(t.field===i){n=e;return false}return true});return n};var o=function(t){var i,n,r,o=0,a=[];for(i=0;i<t[0].length;i++){o+=t[0][i].colspan||1}for(i=0;i<t.length;i++){a[i]=[];for(n=0;n<o;n++){a[i][n]=false}}for(i=0;i<t.length;i++){for(n=0;n<t[i].length;n++){var s=t[i][n],l=s.rowspan||1,u=s.colspan||1,c=e.inArray(false,a[i]);if(u===1){s.fieldIndex=c;if(typeof s.field==="undefined"){s.field=c}}for(r=0;r<l;r++){a[i+r][c]=true}for(r=0;r<u;r++){a[i][c+r]=true}}}};var a=function(){if(t===null){var i=e("<p/>").addClass("fixed-table-scroll-inner"),n=e("<div/>").addClass("fixed-table-scroll-outer"),r,o;n.append(i);e("body").append(n);r=i[0].offsetWidth;n.css("overflow","scroll");o=i[0].offsetWidth;if(r===o){o=n[0].clientWidth}n.remove();t=r-o}return t};var s=function(t,n,r,o){var a=n;if(typeof n==="string"){var s=n.split(".");if(s.length>1){a=window;e.each(s,function(e,t){a=a[t]})}else{a=window[n]}}if(typeof a==="object"){return a}if(typeof a==="function"){return a.apply(t,r||[])}if(!a&&typeof n==="string"&&i.apply(this,[n].concat(r))){return i.apply(this,[n].concat(r))}return o};var l=function(t,i,n){var r=Object.getOwnPropertyNames(t),o=Object.getOwnPropertyNames(i),a="";if(n){if(r.length!==o.length){return false}}for(var s=0;s<r.length;s++){a=r[s];if(e.inArray(a,o)>-1){if(t[a]!==i[a]){return false}}}return true};var u=function(e){if(typeof e==="string"){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return e};var c=function(e){for(var t in e){var i=t.split(/(?=[A-Z])/).join("-").toLowerCase();if(i!==t){e[i]=e[t];delete e[t]}}return e};var f=function(e,t,i){var n=e;if(typeof t!=="string"||e.hasOwnProperty(t)){return i?u(e[t]):e[t]}var r=t.split(".");for(var o in r){if(r.hasOwnProperty(o)){n=n&&n[r[o]]}}return i?u(n):n};var d=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var h=function(){if(!Object.keys){Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if(typeof r!=="object"&&(typeof r!=="function"||r===null)){throw new TypeError("Object.keys called on non-object")}var o=[],a,s;for(a in r){if(e.call(r,a)){o.push(a)}}if(t){for(s=0;s<n;s++){if(e.call(r,i[s])){o.push(i[s])}}}return o}}()}};var p=function(t,i){this.options=i;this.$el=e(t);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};p.DEFAULTS={classes:"table table-hover",sortClass:undefined,locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",sortStable:false,striped:false,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:false,onlyInfoPagination:false,paginationLoop:true,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(e,t){return""},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:e.noop,customSort:e.noop,rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},footerStyle:function(e,t){return{}},onAll:function(e,t){return false},onClickCell:function(e,t,i,n){return false},onDblClickCell:function(e,t,i,n){return false},onClickRow:function(e,t){return false},onDblClickRow:function(e,t){return false},onSort:function(e,t){return false},onCheck:function(e){return false},onUncheck:function(e){return false},onCheckAll:function(e){return false},onUncheckAll:function(e){return false},onCheckSome:function(e){return false},onUncheckSome:function(e){return false},onLoadSuccess:function(e){return false},onLoadError:function(e){return false},onColumnSwitch:function(e,t){return false},onPageChange:function(e,t){return false},onSearch:function(e){return false},onToggle:function(e){return false},onPreBody:function(e){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(e,t,i){return false},onCollapseRow:function(e,t){return false},onRefreshOptions:function(e){return false},onRefresh:function(e){return false},onResetView:function(){return false}};p.LOCALES={};p.LOCALES["en-US"]=p.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return i("%s rows per page",e)},formatShowingRows:function(e,t,n){return i("Showing %s to %s of %s rows",e,t,n)},formatDetailPagination:function(e){return i("Showing %s rows",e)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};e.extend(p.DEFAULTS,p.LOCALES["en-US"]);p.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,class:undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true,escape:false};p.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"};p.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initHiddenRows();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};p.prototype.initLocale=function(){if(this.options.locale){var t=this.options.locale.split(/-|_/);t[0].toLowerCase();if(t[1])t[1].toUpperCase();if(e.fn.bootstrapTable.locales[this.options.locale]){e.extend(this.options,e.fn.bootstrapTable.locales[this.options.locale])}else if(e.fn.bootstrapTable.locales[t.join("-")]){e.extend(this.options,e.fn.bootstrapTable.locales[t.join("-")])}else if(e.fn.bootstrapTable.locales[t[0]]){e.extend(this.options,e.fn.bootstrapTable.locales[t[0]])}}};p.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");this.$toolbar=this.$container.find(".fixed-table-toolbar");this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(e.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};p.prototype.initTable=function(){var t=this,i=[],n=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=e("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var t=[];e(this).find("th").each(function(){if(typeof e(this).data("field")!=="undefined"){e(this).data("field",e(this).data("field")+"")}t.push(e.extend({},{title:e(this).html(),class:e(this).attr("class"),titleTooltip:e(this).attr("title"),rowspan:e(this).attr("rowspan")?+e(this).attr("rowspan"):undefined,colspan:e(this).attr("colspan")?+e(this).attr("colspan"):undefined},e(this).data()))});i.push(t)});if(!e.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=e.extend(true,[],i,this.options.columns);this.columns=[];o(this.options.columns);e.each(this.options.columns,function(i,n){e.each(n,function(n,r){r=e.extend({},p.COLUMN_DEFAULTS,r);if(typeof r.fieldIndex!=="undefined"){t.columns[r.fieldIndex]=r}t.options.columns[i][n]=r})});if(this.options.data.length){return}var r=[];this.$el.find(">tbody>tr").each(function(i){var o={};o._id=e(this).attr("id");o._class=e(this).attr("class");o._data=c(e(this).data());e(this).find(">td").each(function(n){var a=e(this),s=+a.attr("colspan")||1,l=+a.attr("rowspan")||1,u,f;for(;r[i]&&r[i][n];n++);for(u=n;u<n+s;u++){for(f=i;f<i+l;f++){if(!r[f]){r[f]=[]}r[f][u]=true}}var d=t.columns[n].field;o[d]=e(this).html();o["_"+d+"_id"]=e(this).attr("id");o["_"+d+"_class"]=e(this).attr("class");o["_"+d+"_rowspan"]=e(this).attr("rowspan");o["_"+d+"_colspan"]=e(this).attr("colspan");o["_"+d+"_title"]=e(this).attr("title");o["_"+d+"_data"]=c(e(this).data())});n.push(o)});this.options.data=n;if(n.length)this.fromHtml=true};p.prototype.initHeader=function(){var t=this,n={},r=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};e.each(this.options.columns,function(o,a){r.push("<tr>");if(o===0&&!t.options.cardView&&t.options.detailView){r.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',t.options.columns.length))}e.each(a,function(e,o){var a="",s="",l="",c="",f=i(' class="%s"',o["class"]),d=t.options.sortOrder||o.order,h="px",p=o.width;if(o.width!==undefined&&!t.options.cardView){if(typeof o.width==="string"){if(o.width.indexOf("%")!==-1){h="%"}}}if(o.width&&typeof o.width==="string"){p=o.width.replace("%","").replace("px","")}s=i("text-align: %s; ",o.halign?o.halign:o.align);l=i("text-align: %s; ",o.align);c=i("vertical-align: %s; ",o.valign);c+=i("width: %s; ",(o.checkbox||o.radio)&&!p?"36px":p?p+h:undefined);if(typeof o.fieldIndex!=="undefined"){t.header.fields[o.fieldIndex]=o.field;t.header.styles[o.fieldIndex]=l+c;t.header.classes[o.fieldIndex]=f;t.header.formatters[o.fieldIndex]=o.formatter;t.header.events[o.fieldIndex]=o.events;t.header.sorters[o.fieldIndex]=o.sorter;t.header.sortNames[o.fieldIndex]=o.sortName;t.header.cellStyles[o.fieldIndex]=o.cellStyle;t.header.searchables[o.fieldIndex]=o.searchable;if(!o.visible){return}if(t.options.cardView&&!o.cardVisible){return}n[o.field]=o}r.push("<th"+i(' title="%s"',o.titleTooltip),o.checkbox||o.radio?i(' class="bs-checkbox %s"',o["class"]||""):f,i(' style="%s"',s+c),i(' rowspan="%s"',o.rowspan),i(' colspan="%s"',o.colspan),i(' data-field="%s"',o.field),">");r.push(i('<div class="th-inner %s">',t.options.sortable&&o.sortable?"sortable both":""));a=t.options.escape?u(o.title):o.title;if(o.checkbox){if(!t.options.singleSelect&&t.options.checkboxHeader){a='<input name="btSelectAll" type="checkbox" />'}t.header.stateField=o.field}if(o.radio){a="";t.header.stateField=o.field;t.options.singleSelect=true}r.push(a);r.push("</div>");r.push('<div class="fht-cell"></div>');r.push("</div>");r.push("</th>")});r.push("</tr>")});this.$header.html(r.join(""));this.$header.find("th[data-field]").each(function(t){e(this).data(n[e(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var n=e(this);if(t.options.detailView){if(n.closest(".bootstrap-table")[0]!==t.$container[0])return false}if(t.options.sortable&&n.parent().data().sortable){t.onSort(i)}});this.$header.children().children().off("keypress").on("keypress",function(i){if(t.options.sortable&&e(this).data().sortable){var n=i.keyCode||i.which;if(n==13){t.onSort(i)}}});e(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();e(window).on("resize.bootstrap-table",e.proxy(this.resetWidth,this))}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var i=e(this).prop("checked");t[i?"checkAll":"uncheckAll"]();t.updateSelected()})};p.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};p.prototype.initData=function(e,t){if(t==="append"){this.data=this.data.concat(e)}else if(t==="prepend"){this.data=[].concat(e).concat(this.data)}else{this.data=e||this.options.data}if(t==="append"){this.options.data=this.options.data.concat(e)}else if(t==="prepend"){this.options.data=[].concat(e).concat(this.options.data)}else{this.options.data=this.data}if(this.options.sidePagination==="server"){return}this.initSort()};p.prototype.initSort=function(){var t=this,n=this.options.sortName,r=this.options.sortOrder==="desc"?-1:1,o=e.inArray(this.options.sortName,this.header.fields),a=0;if(this.options.customSort!==e.noop){this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);return}if(o!==-1){if(this.options.sortStable){e.each(this.data,function(e,t){if(!t.hasOwnProperty("_position"))t._position=e})}this.data.sort(function(i,a){if(t.header.sortNames[o]){n=t.header.sortNames[o]}var l=f(i,n,t.options.escape),u=f(a,n,t.options.escape),c=s(t.header,t.header.sorters[o],[l,u]);if(c!==undefined){return r*c}if(l===undefined||l===null){l=""}if(u===undefined||u===null){u=""}if(t.options.sortStable&&l===u){l=i._position;u=a._position}if(e.isNumeric(l)&&e.isNumeric(u)){l=parseFloat(l);u=parseFloat(u);if(l<u){return r*-1}return r}if(l===u){return 0}if(typeof l!=="string"){l=l.toString()}if(l.localeCompare(u)===-1){return r*-1}return r});if(this.options.sortClass!==undefined){clearTimeout(a);a=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find(i('[data-field="%s"]',t.options.sortName).index()+1);t.$el.find(i("tr td:nth-child(%s)",e)).addClass(t.options.sortClass)},250)}}};p.prototype.onSort=function(t){var i=t.type==="keypress"?e(t.currentTarget):e(t.currentTarget).parent(),n=this.$header.find("th").eq(i.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===i.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=i.data("field");this.options.sortOrder=i.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);i.add(n).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};p.prototype.initToolbar=function(){var t=this,n=[],r=0,o,a,l=0;if(this.$toolbar.find(".bs-bars").children().length){e("body").append(e(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){e(i('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar))}n=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=s(null,this.options.icons)}if(this.options.showPaginationSwitch){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){n.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){n.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');e.each(this.columns,function(e,r){if(r.radio||r.checkbox){return}if(t.options.cardView&&!r.cardVisible){return}var o=r.visible?' checked="checked"':"";if(r.switchable){n.push(i('<li role="menuitem">'+'<label><input type="checkbox" data-field="%s" value="%s"%s> %s</label>'+"</li>",r.field,e,o,r.title));l++}});n.push("</ul>","</div>")}n.push("</div>");if(this.showToolbar||n.length>2){this.$toolbar.append(n.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){t.toggleView()})}if(this.options.showColumns){o=this.$toolbar.find(".keep-open");if(l<=this.options.minimumCountColumns){o.find("input").prop("disabled",true)}o.find("li").off("click").on("click",function(e){e.stopImmediatePropagation()});o.find("input").off("click").on("click",function(){var i=e(this);t.toggleColumn(e(this).val(),i.prop("checked"),false);t.trigger("column-switch",e(this).data("field"),i.prop("checked"))})}if(this.options.search){n=[];n.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(n.join(""));a=this.$toolbar.find(".search input");a.off("keyup drop blur").on("keyup drop blur",function(i){if(t.options.searchOnEnterKey&&i.keyCode!==13){return}if(e.inArray(i.keyCode,[37,38,39,40])>-1){return}clearTimeout(r);r=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut)});if(d()){a.off("mouseup").on("mouseup",function(e){clearTimeout(r);r=setTimeout(function(){t.onSearch(e)},t.options.searchTimeOut)})}}};p.prototype.onSearch=function(t){var i=e.trim(e(t.currentTarget).val());if(this.options.trimOnSearch&&e(t.currentTarget).val()!==i){e(t.currentTarget).val(i)}if(i===this.searchText){return}this.searchText=i;this.options.searchText=i;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",i)};p.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){if(this.options.customSearch!==e.noop){this.options.customSearch.apply(this,[this.searchText]);return}var i=this.searchText&&(this.options.escape?u(this.searchText):this.searchText).toLowerCase();var n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(t,i){for(var r in n){if(e.isArray(n[r])&&e.inArray(t[r],n[r])===-1||!e.isArray(n[r])&&t[r]!==n[r]){return false}}return true}):this.options.data;this.data=i?e.grep(this.data,function(n,o){for(var a=0;a<t.header.fields.length;a++){if(!t.header.searchables[a]){continue}var l=e.isNumeric(t.header.fields[a])?parseInt(t.header.fields[a],10):t.header.fields[a];var u=t.columns[r(t.columns,l)];var c;if(typeof l==="string"){c=n;var f=l.split(".");for(var d=0;d<f.length;d++){c=c[f[d]]}if(u&&u.searchFormatter){c=s(u,t.header.formatters[a],[c,n,o],c)}}else{c=n[l]}if(typeof c==="string"||typeof c==="number"){if(t.options.strictSearch){if((c+"").toLowerCase()===i){return true}}else{if((c+"").toLowerCase().indexOf(i)!==-1){return true}}}}return false}):this.data}};p.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var t=this,n=[],r=false,o,a,s,l,u,c,f,d,h,p=this.getData(),m=this.options.pageList;if(this.options.sidePagination!=="server"){this.options.totalRows=p.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;r=true}else if(this.options.pageSize===this.options.totalRows){var v=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(e.inArray(this.options.formatAllRows().toLowerCase(),v)>-1){r=true}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}n.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){n.push('<span class="page-list">');var g=[i('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',r?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if(typeof this.options.pageList==="string"){var y=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[];e.each(y,function(e,i){m.push(i.toUpperCase()===t.options.formatAllRows().toUpperCase()?t.options.formatAllRows():+i)})}e.each(m,function(e,n){if(!t.options.smartDisplay||e===0||m[e-1]<t.options.totalRows){var o;if(r){o=n===t.options.formatAllRows()?' class="active"':""}else{o=n===t.options.pageSize?' class="active"':""}g.push(i('<li role="menuitem"%s><a href="#">%s</a></li>',o,n))}});g.push("</ul></span>");n.push(this.options.formatRecordsPerPage(g.join("")));n.push("</span>");n.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="#">'+this.options.paginationPreText+"</a></li>");if(this.totalPages<5){a=1;s=this.totalPages}else{a=this.options.pageNumber-2;s=a+4;if(a<1){a=1;s=5}if(s>this.totalPages){s=this.totalPages;a=s-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){n.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="#">',1,"</a>","</li>");a++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){a--}else{n.push('<li class="page-first-separator disabled">','<a href="#">...</a>',"</li>")}s--}}if(this.totalPages>=7){if(this.options.pageNumber>=this.totalPages-2){a--}}if(this.totalPages==6){if(this.options.pageNumber>=this.totalPages-2){s++}}else if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=this.totalPages-3){s++}}for(o=a;o<=s;o++){n.push('<li class="page-number'+(o===this.options.pageNumber?" active":"")+'">','<a href="#">',o,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=this.totalPages-4){n.push('<li class="page-last-separator disabled">','<a href="#">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=this.totalPages-3){n.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="#">',this.totalPages,"</a>","</li>")}}n.push('<li class="page-next"><a href="#">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(n.join(""));if(!this.options.onlyInfoPagination){l=this.$pagination.find(".page-list a");u=this.$pagination.find(".page-first");c=this.$pagination.find(".page-pre");f=this.$pagination.find(".page-next");d=this.$pagination.find(".page-last");h=this.$pagination.find(".page-number");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(m.length<2||this.options.totalRows<=m[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(!this.options.paginationLoop){if(this.options.pageNumber===1){c.addClass("disabled")}if(this.options.pageNumber===this.totalPages){f.addClass("disabled")}}if(r){this.options.pageSize=this.options.formatAllRows()}l.off("click").on("click",e.proxy(this.onPageListChange,this));u.off("click").on("click",e.proxy(this.onPageFirst,this));c.off("click").on("click",e.proxy(this.onPagePre,this));f.off("click").on("click",e.proxy(this.onPageNext,this));d.off("click").on("click",e.proxy(this.onPageLast,this));h.off("click").on("click",e.proxy(this.onPageNumber,this))}};p.prototype.updatePagination=function(t){if(t&&e(t.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};p.prototype.onPageListChange=function(t){var i=e(t.currentTarget);i.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(t);return false};p.prototype.onPageFirst=function(e){this.options.pageNumber=1;this.updatePagination(e);return false};p.prototype.onPagePre=function(e){if(this.options.pageNumber-1===0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(e);return false};p.prototype.onPageNext=function(e){if(this.options.pageNumber+1>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(e);return false};p.prototype.onPageLast=function(e){this.options.pageNumber=this.totalPages;this.updatePagination(e);return false};p.prototype.onPageNumber=function(t){if(this.options.pageNumber===+e(t.currentTarget).text()){return}this.options.pageNumber=+e(t.currentTarget).text();this.updatePagination(t);return false};p.prototype.initRow=function(t,r,o,a){var l=this,c,d=[],h={},p=[],m="",v={},g=[];if(e.inArray(t,this.hiddenRows)>-1){return}h=s(this.options,this.options.rowStyle,[t,r],h);if(h&&h.css){for(c in h.css){p.push(c+": "+h.css[c])}}v=s(this.options,this.options.rowAttributes,[t,r],v);if(v){for(c in v){g.push(i('%s="%s"',c,u(v[c])))}}if(t._data&&!e.isEmptyObject(t._data)){e.each(t._data,function(e,t){if(e==="index"){return}m+=i(' data-%s="%s"',e,t)})}d.push("<tr",i(" %s",g.join(" ")),i(' id="%s"',e.isArray(t)?undefined:t._id),i(' class="%s"',h.classes||(e.isArray(t)?undefined:t._class)),i(' data-index="%s"',r),i(' data-uniqueid="%s"',t[this.options.uniqueId]),i("%s",m),">");if(this.options.cardView){d.push(i('<td colspan="%s"><div class="card-views">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){d.push("<td>",'<a class="detail-icon" href="#">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>")}e.each(this.header.fields,function(o,a){var c="",m=f(t,a,l.options.escape),v="",g="",y={},b="",w=l.header.classes[o],x="",C="",k="",T="",S=l.columns[o];if(l.fromHtml&&typeof m==="undefined"){return}if(!S.visible){return}if(l.options.cardView&&!S.cardVisible){return}if(S.escape){m=u(m)}h=i('style="%s"',p.concat(l.header.styles[o]).join("; "));if(t["_"+a+"_id"]){b=i(' id="%s"',t["_"+a+"_id"])}if(t["_"+a+"_class"]){w=i(' class="%s"',t["_"+a+"_class"])}if(t["_"+a+"_rowspan"]){C=i(' rowspan="%s"',t["_"+a+"_rowspan"])}if(t["_"+a+"_colspan"]){k=i(' colspan="%s"',t["_"+a+"_colspan"])}if(t["_"+a+"_title"]){T=i(' title="%s"',t["_"+a+"_title"])}y=s(l.header,l.header.cellStyles[o],[m,t,r,a],y);if(y.classes){w=i(' class="%s"',y.classes)}if(y.css){var _=[];for(var D in y.css){_.push(D+": "+y.css[D])}h=i('style="%s"',_.concat(l.header.styles[o]).join("; "))}v=s(S,l.header.formatters[o],[m,t,r],m);if(t["_"+a+"_data"]&&!e.isEmptyObject(t["_"+a+"_data"])){e.each(t["_"+a+"_data"],function(e,t){if(e==="index"){return}x+=i(' data-%s="%s"',e,t)})}if(S.checkbox||S.radio){g=S.checkbox?"checkbox":g;g=S.radio?"radio":g;c=[i(l.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',S["class"]||""),"<input"+i(' data-index="%s"',r)+i(' name="%s"',l.options.selectItemName)+i(' type="%s"',g)+i(' value="%s"',t[l.options.idField])+i(' checked="%s"',v===true||(m||v&&v.checked)?"checked":undefined)+i(' disabled="%s"',!S.checkboxEnabled||v&&v.disabled?"disabled":undefined)+" />",l.header.formatters[o]&&typeof v==="string"?v:"",l.options.cardView?"</div>":"</td>"].join("");t[l.header.stateField]=v===true||v&&v.checked}else{v=typeof v==="undefined"||v===null?l.options.undefinedText:v;c=l.options.cardView?['<div class="card-view">',l.options.showHeader?i('<span class="title" %s>%s</span>',h,n(l.columns,"field","title",a)):"",i('<span class="value">%s</span>',v),"</div>"].join(""):[i("<td%s %s %s %s %s %s %s>",b,w,h,x,C,k,T),v,"</td>"].join("");if(l.options.cardView&&l.options.smartDisplay&&v===""){c='<div class="card-view"></div>'}}d.push(c)});if(this.options.cardView){d.push("</div></td>")}d.push("</tr>");return d.join(" ")};p.prototype.initBody=function(t){var n=this,o=[],a=this.getData();this.trigger("pre-body",a);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=e("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=a.length}var l=e(document.createDocumentFragment());var u;for(var c=this.pageFrom-1;c<this.pageTo;c++){var d=a[c];var h=this.initRow(d,c,a,l);u=u||!!h;if(h&&h!==true){l.append(h)}}if(!u){l.append('<tr class="no-records-found">'+i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>")}this.$body.html(l);if(!t){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var o=e(this),a=o.parent(),s=n.data[a.data("index")],l=o[0].cellIndex,u=n.getVisibleFields(),c=u[n.options.detailView&&!n.options.cardView?l-1:l],d=n.columns[r(n.columns,c)],h=f(s,c,n.options.escape);if(o.find(".detail-icon").length){return}n.trigger(t.type==="click"?"click-cell":"dbl-click-cell",c,h,s,o);n.trigger(t.type==="click"?"click-row":"dbl-click-row",s,a,c);if(t.type==="click"&&n.options.clickToSelect&&d.clickToSelect){var p=a.find(i('[name="%s"]',n.options.selectItemName));if(p.length){p[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var t=e(this),r=t.parent().parent(),o=r.data("index"),l=a[o];if(r.next().is("tr.detail-view")){t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailOpen));n.trigger("collapse-row",o,l);r.next().remove()}else{t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailClose));r.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',r.find("td").length));var u=r.next().find("td");var c=s(n.options,n.options.detailFormatter,[o,l,u],"");if(u.length===1){u.append(c)}n.trigger("expand-row",o,l,u)}n.resetView();return false});this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=e(this),r=i.prop("checked"),o=n.data[i.data("index")];if(n.options.maintainSelected&&e(this).is(":radio")){e.each(n.options.data,function(e,t){t[n.header.stateField]=false})}o[n.header.stateField]=r;if(n.options.singleSelect){n.$selectItem.not(this).each(function(){n.data[e(this).data("index")][n.header.stateField]=false});n.$selectItem.filter(":checked").not(this).prop("checked",false)}n.updateSelected();n.trigger(r?"check":"uncheck",o,i)});e.each(this.header.events,function(t,i){if(!i){return}if(typeof i==="string"){i=s(null,i)}var r=n.header.fields[t],o=e.inArray(r,n.getVisibleFields());if(n.options.detailView&&!n.options.cardView){o+=1}for(var a in i){n.$body.find(">tr:not(.no-records-found)").each(function(){var t=e(this),s=t.find(n.options.cardView?".card-view":"td").eq(o),l=a.indexOf(" "),u=a.substring(0,l),c=a.substring(l+1),f=i[a];s.find(c).off(u).on(u,function(e){var i=t.data("index"),o=n.data[i],a=o[r];f.apply(this,[e,a,o,i])})})}});this.updateSelected();this.resetView();this.trigger("post-body",a)};p.prototype.initServer=function(t,i,n){var r=this,o={},a={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},l;if(this.options.pagination){a.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;a.pageNumber=this.options.pageNumber}if(!(n||this.options.url)&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){a={search:a.searchText,sort:a.sortName,order:a.sortOrder};if(this.options.pagination){a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize}}if(!e.isEmptyObject(this.filterColumnsPartial)){a.filter=JSON.stringify(this.filterColumnsPartial,null)}o=s(this.options,this.options.queryParams,[a],o);e.extend(o,i||{});if(o===false){return}if(!t){this.$tableLoading.show()}l=e.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(o):o,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e){e=s(r.options,r.options.responseHandler,[e],e);r.load(e);r.trigger("load-success",e);if(!t)r.$tableLoading.hide()},error:function(e){r.trigger("load-error",e.status,e);if(!t)r.$tableLoading.hide()}});if(this.options.ajax){s(this,this.options.ajax,[l],null)}else{if(this._xhr&&this._xhr.readyState!==4){this._xhr.abort()}this._xhr=e.ajax(l)}};p.prototype.initSearchText=function(){if(this.options.search){if(this.options.searchText!==""){var e=this.$toolbar.find(".search input");e.val(this.options.searchText);this.onSearch({currentTarget:e})}}};p.prototype.getCaret=function(){var t=this;e.each(this.$header.find("th"),function(i,n){e(n).find(".sortable").removeClass("desc asc").addClass(e(n).data("field")===t.options.sortName?t.options.sortOrder:"both")})};p.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t);this.$selectItem.each(function(){e(this).closest("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})};p.prototype.updateRows=function(){var t=this;this.$selectItem.each(function(){t.data[e(this).data("index")][t.header.stateField]=e(this).prop("checked")})};p.prototype.resetRows=function(){var t=this;e.each(this.data,function(e,i){t.$selectAll.prop("checked",false);t.$selectItem.prop("checked",false);if(t.header.stateField){i[t.header.stateField]=false}});this.initHiddenRows()};p.prototype.trigger=function(t){var i=Array.prototype.slice.call(arguments,1);t+=".bs.table";this.options[p.EVENTS[t]].apply(this.options,i);this.$el.trigger(e.Event(t),i);this.options.onAll(t,i);this.$el.trigger(e.Event("all.bs.table"),[t,i])};p.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};p.prototype.fitHeader=function(){var t=this,n,r,o,s;if(t.$el.is(":hidden")){t.timeoutId_=setTimeout(e.proxy(t.fitHeader,t),100);return}n=this.$tableBody.get(0);r=n.scrollWidth>n.clientWidth&&n.scrollHeight>n.clientHeight+this.$header.outerHeight()?a():0;this.$el.css("margin-top",-this.$header.outerHeight());o=e(":focus");if(o.length>0){var l=o.parents("th");if(l.length>0){var u=l.attr("data-field");if(u!==undefined){var c=this.$header.find("[data-field='"+u+"']");if(c.length>0){c.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":r}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);s=e(".focus-temp:visible:eq(0)");if(s.length>0){s.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(n){t.$header_.find(i('th[data-field="%s"]',e(this).data("field"))).data(e(this).data())});var f=this.getVisibleFields(),d=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(n){var r=e(this),o=n;if(t.options.detailView&&!t.options.cardView){if(n===0){t.$header_.find("th.detail").find(".fht-cell").width(r.innerWidth())}o=n-1}var a=t.$header_.find(i('th[data-field="%s"]',f[o]));if(a.length>1){a=e(d[r[0].cellIndex])}a.find(".fht-cell").width(r.innerWidth())});this.$tableBody.off("scroll").on("scroll",function(){t.$tableHeader.scrollLeft(e(this).scrollLeft());if(t.options.showFooter&&!t.options.cardView){t.$tableFooter.scrollLeft(e(this).scrollLeft())}});t.trigger("post-header")};p.prototype.resetFooter=function(){var t=this,n=t.getData(),r=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){r.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}e.each(this.columns,function(e,o){var a,l="",u="",c=[],f={},d=i(' class="%s"',o["class"]);if(!o.visible){return}if(t.options.cardView&&!o.cardVisible){return}l=i("text-align: %s; ",o.falign?o.falign:o.align);u=i("vertical-align: %s; ",o.valign);f=s(null,t.options.footerStyle);if(f&&f.css){for(a in f.css){c.push(a+": "+f.css[a])}}r.push("<td",d,i(' style="%s"',l+u+c.concat().join("; ")),">");r.push('<div class="th-inner">');r.push(s(o,o.footerFormatter,[n],"&nbsp;")||"&nbsp;");r.push("</div>");r.push('<div class="fht-cell"></div>');r.push("</div>");r.push("</td>")});this.$tableFooter.find("tr").html(r.join(""));this.$tableFooter.show();clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};p.prototype.fitFooter=function(){var t=this,i,n,r;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100);return}n=this.$el.css("width");r=n>this.$tableBody.width()?a():0;this.$tableFooter.css({"margin-right":r}).find("table").css("width",n).attr("class",this.$el.attr("class"));i=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(t){var n=e(this);i.eq(t).find(".fht-cell").width(n.innerWidth())})};p.prototype.toggleColumn=function(e,t,n){if(e===-1){return}this.columns[e].visible=t;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var r=this.$toolbar.find(".keep-open input").prop("disabled",false);if(n){r.filter(i('[value="%s"]',e)).prop("checked",t)}if(r.filter(":checked").length<=this.options.minimumCountColumns){r.filter(":checked").prop("disabled",true)}}};p.prototype.getVisibleFields=function(){var t=this,i=[];e.each(this.header.fields,function(e,n){var o=t.columns[r(t.columns,n)];if(!o.visible){return}i.push(n)});return i};p.prototype.resetView=function(e){var t=0;if(e&&e.height){this.options.height=e.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var i=this.$toolbar.outerHeight(true),n=this.$pagination.outerHeight(true),r=this.options.height-i-n;this.$tableContainer.css("height",r+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();t+=this.$header.outerHeight()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){t+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",t+"px");this.trigger("reset-view")};p.prototype.getData=function(t){return this.searchText||!e.isEmptyObject(this.filterColumns)||!e.isEmptyObject(this.filterColumnsPartial)?t?this.data.slice(this.pageFrom-1,this.pageTo):this.data:t?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data};p.prototype.load=function(t){var i=false;if(this.options.sidePagination==="server"){this.options.totalRows=t[this.options.totalField];i=t.fixedScroll;t=t[this.options.dataField]}else if(!e.isArray(t)){i=t.fixedScroll;t=t.data}this.initData(t);this.initSearch();this.initPagination();this.initBody(i)};p.prototype.append=function(e){this.initData(e,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.prepend=function(e){this.initData(e,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.remove=function(t){var i=this.options.data.length,n,r;if(!t.hasOwnProperty("field")||!t.hasOwnProperty("values")){return}for(n=i-1;n>=0;n--){r=this.options.data[n];if(!r.hasOwnProperty(t.field)){continue}if(e.inArray(r[t.field],t.values)!==-1){this.options.data.splice(n,1);if(this.options.sidePagination==="server"){this.options.totalRows-=1}}}if(i===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};p.prototype.getRowByUniqueId=function(e){var t=this.options.uniqueId,i=this.options.data.length,n=null,r,o,a;for(r=i-1;r>=0;r--){o=this.options.data[r];if(o.hasOwnProperty(t)){a=o[t]}else if(o._data.hasOwnProperty(t)){a=o._data[t]}else{continue}if(typeof a==="string"){e=e.toString()}else if(typeof a==="number"){if(Number(a)===a&&a%1===0){e=parseInt(e)}else if(a===Number(a)&&a!==0){e=parseFloat(e)}}if(a===e){n=o;break}}return n};p.prototype.removeByUniqueId=function(e){var t=this.options.data.length,i=this.getRowByUniqueId(e);if(i){this.options.data.splice(this.options.data.indexOf(i),1)}if(t===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};p.prototype.updateByUniqueId=function(t){var i=this;var n=e.isArray(t)?t:[t];e.each(n,function(t,n){var r;if(!n.hasOwnProperty("id")||!n.hasOwnProperty("row")){return}r=e.inArray(i.getRowByUniqueId(n.id),i.options.data);if(r===-1){return}e.extend(i.options.data[r],n.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.insertRow=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("row")){return}this.data.splice(e.index,0,e.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.updateRow=function(t){var i=this;var n=e.isArray(t)?t:[t];e.each(n,function(t,n){if(!n.hasOwnProperty("index")||!n.hasOwnProperty("row")){return}e.extend(i.options.data[n.index],n.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};p.prototype.initHiddenRows=function(){this.hiddenRows=[]};p.prototype.showRow=function(e){this.toggleRow(e,true)};p.prototype.hideRow=function(e){this.toggleRow(e,false)};p.prototype.toggleRow=function(t,i){var n,r;if(t.hasOwnProperty("index")){n=this.getData()[t.index]}else if(t.hasOwnProperty("uniqueId")){n=this.getRowByUniqueId(t.uniqueId)}if(!n){return}r=e.inArray(n,this.hiddenRows);if(!i&&r===-1){this.hiddenRows.push(n)}else if(i&&r>-1){this.hiddenRows.splice(r,1)}this.initBody(true)};p.prototype.getHiddenRows=function(t){var i=this,n=this.getData(),r=[];e.each(n,function(t,n){if(e.inArray(n,i.hiddenRows)>-1){r.push(n)}});this.hiddenRows=r;return r};p.prototype.mergeCells=function(t){var i=t.index,n=e.inArray(t.field,this.getVisibleFields()),r=t.rowspan||1,o=t.colspan||1,a,s,l=this.$body.find(">tr"),u;if(this.options.detailView&&!this.options.cardView){n+=1}u=l.eq(i).find(">td").eq(n);if(i<0||n<0||i>=this.data.length){return}for(a=i;a<i+r;a++){for(s=n;s<n+o;s++){l.eq(a).find(">td").eq(s).hide()}}u.attr("rowspan",r).attr("colspan",o).show()};p.prototype.updateCell=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("field")||!e.hasOwnProperty("value")){return}this.data[e.index][e.field]=e.value;if(e.reinit===false){return}this.initSort();this.initBody(true)};p.prototype.getOptions=function(){return this.options};p.prototype.getSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]===true})};p.prototype.getAllSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]})};p.prototype.checkAll=function(){this.checkAll_(true)};p.prototype.uncheckAll=function(){this.checkAll_(false)};p.prototype.checkInvert=function(){var t=this;var i=t.$selectItem.filter(":enabled");var n=i.filter(":checked");i.each(function(){e(this).prop("checked",!e(this).prop("checked"))});t.updateRows();t.updateSelected();t.trigger("uncheck-some",n);n=t.getSelections();t.trigger("check-some",n)};p.prototype.checkAll_=function(e){var t;if(!e){t=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.filter(":enabled").prop("checked",e);this.updateRows();if(e){t=this.getSelections()}this.trigger(e?"check-all":"uncheck-all",t)};p.prototype.check=function(e){this.check_(true,e)};p.prototype.uncheck=function(e){this.check_(false,e)};p.prototype.check_=function(e,t){var n=this.$selectItem.filter(i('[data-index="%s"]',t)).prop("checked",e);this.data[t][this.header.stateField]=e;this.updateSelected();this.trigger(e?"check":"uncheck",this.data[t],n)};p.prototype.checkBy=function(e){this.checkBy_(true,e)};p.prototype.uncheckBy=function(e){this.checkBy_(false,e)};p.prototype.checkBy_=function(t,n){if(!n.hasOwnProperty("field")||!n.hasOwnProperty("values")){return}var r=this,o=[];e.each(this.options.data,function(a,s){if(!s.hasOwnProperty(n.field)){return false}if(e.inArray(s[n.field],n.values)!==-1){var l=r.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',a)).prop("checked",t);s[r.header.stateField]=t;o.push(s);r.trigger(t?"check":"uncheck",s,l)}});this.updateSelected();this.trigger(t?"check-some":"uncheck-some",o)};p.prototype.destroy=function(){this.$el.insertBefore(this.$container);e(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};p.prototype.showLoading=function(){this.$tableLoading.show()};p.prototype.hideLoading=function(){this.$tableLoading.hide()};p.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};p.prototype.refresh=function(e){if(e&&e.url){this.options.url=e.url}if(e&&e.pageNumber){this.options.pageNumber=e.pageNumber}if(e&&e.pageSize){this.options.pageSize=e.pageSize}this.initServer(e&&e.silent,e&&e.query,e&&e.url);this.trigger("refresh",e)};p.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter){this.fitFooter()}};p.prototype.showColumn=function(e){this.toggleColumn(r(this.columns,e),true,true)};p.prototype.hideColumn=function(e){this.toggleColumn(r(this.columns,e),false,true)};p.prototype.getHiddenColumns=function(){return e.grep(this.columns,function(e){return!e.visible})};p.prototype.getVisibleColumns=function(){return e.grep(this.columns,function(e){return e.visible})};p.prototype.toggleAllColumns=function(t){e.each(this.columns,function(e,i){this.columns[e].visible=t});this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var i=this.$toolbar.find(".keep-open input").prop("disabled",false);if(i.filter(":checked").length<=this.options.minimumCountColumns){i.filter(":checked").prop("disabled",true)}}};p.prototype.showAllColumns=function(){this.toggleAllColumns(true)};p.prototype.hideAllColumns=function(){this.toggleAllColumns(false)};p.prototype.filterBy=function(t){this.filterColumns=e.isEmptyObject(t)?{}:t;this.options.pageNumber=1;this.initSearch();this.updatePagination()};p.prototype.scrollTo=function(e){if(typeof e==="string"){e=e==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof e==="number"){this.$tableBody.scrollTop(e)}if(typeof e==="undefined"){return this.$tableBody.scrollTop()}};p.prototype.getScrollPosition=function(){return this.scrollTo()};p.prototype.selectPage=function(e){if(e>0&&e<=this.options.totalPages){this.options.pageNumber=e;this.updatePagination()}};p.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};p.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};p.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody();this.trigger("toggle",this.options.cardView)};p.prototype.refreshOptions=function(t){if(l(this.options,t,true)){return}this.options=e.extend(this.options,t);this.trigger("refresh-options",this.options);this.destroy();this.init()};p.prototype.resetSearch=function(e){var t=this.$toolbar.find(".search input");t.val(e||"");this.onSearch({currentTarget:t})};p.prototype.expandRow_=function(e,t){var n=this.$body.find(i('> tr[data-index="%s"]',t));if(n.next().is("tr.detail-view")===(e?false:true)){n.find("> td > .detail-icon").click()}};p.prototype.expandRow=function(e){this.expandRow_(true,e)};p.prototype.collapseRow=function(e){this.expandRow_(false,e)};p.prototype.expandAllRows=function(t){if(t){var n=this.$body.find(i('> tr[data-index="%s"]',0)),r=this,o=null,a=false,s=-1;if(!n.next().is("tr.detail-view")){n.find("> td > .detail-icon").click();a=true}else if(!n.next().next().is("tr.detail-view")){n.next().find(".detail-icon").click();a=true}if(a){try{s=setInterval(function(){o=r.$body.find("tr.detail-view").last().find(".detail-icon");if(o.length>0){o.click()}else{clearInterval(s)}},1)}catch(e){clearInterval(s)}}}else{var l=this.$body.children();for(var u=0;u<l.length;u++){this.expandRow_(true,e(l[u]).data("index"))}}};p.prototype.collapseAllRows=function(t){if(t){this.expandRow_(false,0)}else{var i=this.$body.children();for(var n=0;n<i.length;n++){this.expandRow_(false,e(i[n]).data("index"))}}};p.prototype.updateFormatText=function(e,t){if(this.options[i("format%s",e)]){if(typeof t==="string"){this.options[i("format%s",e)]=function(){return t}}else if(typeof t==="function"){this.options[i("format%s",e)]=t}}this.initToolbar();this.initPagination();this.initBody()};var m=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];e.fn.bootstrapTable=function(t){var i,n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e(this),o=r.data("bootstrap.table"),a=e.extend({},p.DEFAULTS,r.data(),typeof t==="object"&&t);if(typeof t==="string"){if(e.inArray(t,m)<0){throw new Error("Unknown method: "+t)}if(!o){return}i=o[t].apply(o,n);if(t==="destroy"){r.removeData("bootstrap.table")}}if(!o){r.data("bootstrap.table",o=new p(this,a))}});return typeof i==="undefined"?this:i};e.fn.bootstrapTable.Constructor=p;e.fn.bootstrapTable.defaults=p.DEFAULTS;e.fn.bootstrapTable.columnDefaults=p.COLUMN_DEFAULTS;e.fn.bootstrapTable.locales=p.LOCALES;e.fn.bootstrapTable.methods=m;e.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:r,compareObjects:l,calculateObjectValue:s,getItemField:f,objectKeys:h,isIEBrowser:d};e(function(){e('[data-toggle="table"]').bootstrapTable()})})(jQuery);!function(e){"use strict";var t={};var i=[{base:"A",letters:"Aâ¶ï¼¡ÃÃÃáº¦áº¤áºªáº¨ÃÄÄáº°áº®áº´áº²È¦Ç ÃÇáº¢ÃÇºÇÈÈáº áº¬áº¶á¸ÄÈºâ±¯"},{base:"AA",letters:"ê²"},{base:"AE",letters:"ÃÇ¼Ç¢"},{base:"AO",letters:"ê´"},{base:"AU",letters:"ê¶"},{base:"AV",letters:"ê¸êº"},{base:"AY",letters:"ê¼"},{base:"B",letters:"Bâ·ï¼¢á¸á¸á¸ÉÆÆ"},{base:"C",letters:"Câ¸ï¼£ÄÄÄÄÃá¸ÆÈ»ê¾"},{base:"D",letters:"Dâ¹ï¼¤á¸Äá¸á¸á¸á¸ÄÆÆÆê¹"},{base:"DZ",letters:"Ç±Ç"},{base:"Dz",letters:"Ç²Ç"},{base:"E",letters:"Eâºï¼¥ÃÃÃá»áº¾á»á»áº¼Äá¸á¸ÄÄÃáººÄÈÈáº¸á»È¨á¸Äá¸á¸ÆÆ"},{base:"F",letters:"Fâ»ï¼¦á¸Æê»"},{base:"G",letters:"Gâ¼ï¼§Ç´Äá¸ ÄÄ Ç¦Ä¢Ç¤Æê ê½ê¾"},{base:"H",letters:"Hâ½ï¼¨Ä¤á¸¢á¸¦Èá¸¤á¸¨á¸ªÄ¦â±§â±µê"},{base:"I",letters:"Iâ¾ï¼©ÃÃÃÄ¨ÄªÄ¬Ä°Ãá¸®á»ÇÈÈá»Ä®á¸¬Æ"},{base:"J",letters:"Jâ¿ï¼ªÄ´É"},{base:"K",letters:"Kâï¼«á¸°Ç¨á¸²Ä¶á¸´Æâ±©êêêê¢"},{base:"L",letters:"Lâï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êêê"},{base:"LJ",letters:"Ç"},{base:"Lj",letters:"Ç"},{base:"M",letters:"Mâï¼­á¸¾á¹á¹â±®Æ"},{base:"N",letters:"Nâï¼®Ç¸ÅÃá¹Åá¹Åá¹á¹È Æêê¤"},{base:"NJ",letters:"Ç"},{base:"Nj",letters:"Ç"},{base:"O",letters:"Oâï¼¯ÃÃÃá»á»á»á»Ãá¹È¬á¹Åá¹á¹ÅÈ®È°ÃÈªá»ÅÇÈÈÆ á»á»á» á»á»¢á»á»ÇªÇ¬ÃÇ¾ÆÆêê"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"ê"},{base:"OU",letters:"È¢"},{base:"OE",letters:"ÂÅ"},{base:"oe",letters:"ÂÅ"},{base:"P",letters:"Pâï¼°á¹á¹Æ¤â±£êêê"},{base:"Q",letters:"Qâï¼±êêÉ"},{base:"R",letters:"Râï¼²Åá¹ÅÈÈá¹á¹Åá¹Éâ±¤êê¦ê"},{base:"S",letters:"Sâï¼³áºÅá¹¤Åá¹ Å á¹¦á¹¢á¹¨ÈÅâ±¾ê¨ê"},{base:"T",letters:"Tâï¼´á¹ªÅ¤á¹¬ÈÅ¢á¹°á¹®Å¦Æ¬Æ®È¾ê"},{base:"TZ",letters:"ê¨"},{base:"U",letters:"Uâï¼µÃÃÃÅ¨á¹¸Åªá¹ºÅ¬ÃÇÇÇÇá»¦Å®Å°ÇÈÈÆ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É"},{base:"V",letters:"Vâï¼¶á¹¼á¹¾Æ²êÉ"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâï¼·áºáºÅ´áºáºáºâ±²"},{base:"X",letters:"Xâï¼¸áºáº"},{base:"Y",letters:"Yâï¼¹á»²ÃÅ¶á»¸È²áºÅ¸á»¶á»´Æ³Éá»¾"},{base:"Z",letters:"Zâï¼ºÅ¹áºÅ»Å½áºáºÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâï½áºÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄáº±áº¯áºµáº³È§Ç¡Ã¤Çáº£Ã¥Ç»ÇÈÈáº¡áº­áº·á¸Äâ±¥É"},{base:"aa",letters:"ê³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êµ"},{base:"au",letters:"ê·"},{base:"av",letters:"ê¹ê»"},{base:"ay",letters:"ê½"},{base:"b",letters:"bâï½á¸á¸á¸ÆÆÉ"},{base:"c",letters:"câï½ÄÄÄÄÃ§á¸ÆÈ¼ê¿â"},{base:"d",letters:"dâï½á¸Äá¸á¸á¸á¸ÄÆÉÉêº"},{base:"dz",letters:"Ç³Ç"},{base:"e",letters:"eâï½Ã¨Ã©Ãªá»áº¿á»á»áº½Äá¸á¸ÄÄÃ«áº»ÄÈÈáº¹á»È©á¸Äá¸á¸ÉÉÇ"},{base:"f",letters:"fâï½á¸Æê¼"},{base:"g",letters:"gâï½ÇµÄá¸¡ÄÄ¡Ç§Ä£Ç¥É ê¡áµ¹ê¿"},{base:"h",letters:"hâï½Ä¥á¸£á¸§Èá¸¥á¸©á¸«áºÄ§â±¨â±¶É¥"},{base:"hv",letters:"Æ"},{base:"i",letters:"iâï½Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»ÇÈÈá»Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâï½ÄµÇ°É"},{base:"k",letters:"kâï½á¸±Ç©á¸³Ä·á¸µÆâ±ªêêêê£"},{base:"l",letters:"lâï½ÅÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿ÅÆÉ«â±¡êêê"},{base:"lj",letters:"Ç"},{base:"m",letters:"mâï½á¸¿á¹á¹É±É¯"},{base:"n",letters:"nâï½Ç¹ÅÃ±á¹Åá¹Åá¹á¹ÆÉ²Åêê¥"},{base:"nj",letters:"Ç"},{base:"o",letters:"oâï½Ã²Ã³Ã´á»á»á»á»Ãµá¹È­á¹Åá¹á¹ÅÈ¯È±Ã¶È«á»ÅÇÈÈÆ¡á»á»á»¡á»á»£á»á»Ç«Ç­Ã¸Ç¿ÉêêÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâï½á¹á¹Æ¥áµ½êêê"},{base:"q",letters:"qâ ï½Éêê"},{base:"r",letters:"râ¡ï½Åá¹ÅÈÈá¹á¹Åá¹ÉÉ½êê§ê"},{base:"s",letters:"sâ¢ï½ÃÅá¹¥Åá¹¡Å¡á¹§á¹£á¹©ÈÅÈ¿ê©êáº"},{base:"t",letters:"tâ£ï½á¹«áºÅ¥á¹­ÈÅ£á¹±á¹¯Å§Æ­Êâ±¦ê"},{base:"tz",letters:"ê©"},{base:"u",letters:"uâ¤ï½Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇÇÇÇá»§Å¯Å±ÇÈÈÆ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ"},{base:"v",letters:"vâ¥ï½á¹½á¹¿ÊêÊ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ¦ï½áºáºÅµáºáºáºáºâ±³"},{base:"x",letters:"xâ§ï½áºáº"},{base:"y",letters:"yâ¨ï½á»³Ã½Å·á»¹È³áºÃ¿á»·áºá»µÆ´Éá»¿"},{base:"z",letters:"zâ©ï½ÅºáºÅ¼Å¾áºáºÆ¶È¥Éâ±¬ê£"}];var n=function(){for(var e=0;e<i.length;e++){var n=i[e].letters;for(var r=0;r<n.length;r++){t[n[r]]=i[e].base}}};var r=function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})};e.extend(e.fn.bootstrapTable.defaults,{searchAccentNeutralise:false});var o=e.fn.bootstrapTable.Constructor,a=o.prototype.init,s=o.prototype.initSearch;o.prototype.init=function(){if(this.options.searchAccentNeutralise){n()}a.apply(this,Array.prototype.slice.apply(arguments))};o.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){var i=this.searchText&&this.searchText.toLowerCase();var n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(e,t){for(var i in n){if(e[i]!==n[i]){return false}}return true}):this.options.data;this.data=i?e.grep(this.data,function(n,o){for(var a in n){a=e.isNumeric(a)?parseInt(a,10):a;var s=n[a],l=t.columns[e.fn.bootstrapTable.utils.getFieldIndex(t.columns,a)],u=e.inArray(a,t.header.fields);if(l&&l.searchFormatter){s=e.fn.bootstrapTable.utils.calculateObjectValue(l,t.header.formatters[u],[s,n,o],s)}var c=e.inArray(a,t.header.fields);if(c!==-1&&t.header.searchables[c]&&(typeof s==="string"||typeof s==="number")){if(t.options.searchAccentNeutralise){s=r(s);i=r(i)}if(t.options.strictSearch){if((s+"").toLowerCase()===i){return true}}else{if((s+"").toLowerCase().indexOf(i)!==-1){return true}}}}return false}):this.data}}}(jQuery);(function(e){"use strict";var t={sortOrder:"bs.table.sortOrder",sortName:"bs.table.sortName",pageNumber:"bs.table.pageNumber",pageList:"bs.table.pageList",columns:"bs.table.columns",searchText:"bs.table.searchText",filterControl:"bs.table.filterControl"};var i=function(e){var t=e.$header;if(e.options.height){t=e.$tableHeader}return t};var n=function(e){var t="select, input";if(e.options.height){t="table select, table input"}return t};var r=function(){return!!navigator.cookieEnabled};var o=function(e,t){var i=-1;for(var n=0;n<t.length;n++){if(e.toLowerCase()===t[n].toLowerCase()){i=n;break}}return i};var a=function(e,t,i){if(!e.options.cookie||!r()||e.options.cookieIdTable===""){return}if(o(t,e.options.cookiesEnabled)===-1){return}t=e.options.cookieIdTable+"."+t;switch(e.options.cookieStorage){case"cookieStorage":document.cookie=[t,"=",i,"; expires="+e.options.cookieExpire,e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:"",e.options.cookieSecure?"; secure":""].join("");break;case"localStorage":localStorage.setItem(t,i);break;case"sessionStorage":sessionStorage.setItem(t,i);break;default:return false}return true};var s=function(e,t,i){if(!i){return null}if(o(i,e.options.cookiesEnabled)===-1){return null}i=t+"."+i;switch(e.options.cookieStorage){case"cookieStorage":return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;case"localStorage":return localStorage.getItem(i);case"sessionStorage":return sessionStorage.getItem(i);default:return null}};var l=function(e,t,i){i=t+"."+i;switch(e.options.cookieStorage){case"cookieStorage":document.cookie=[encodeURIComponent(i),"=","; expires=Thu, 01 Jan 1970 00:00:00 GMT",e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:""].join("");break;case"localStorage":localStorage.removeItem(i);break;case"sessionStorage":sessionStorage.removeItem(i);break}return true};var u=function(e){var t=e.replace(/[0-9]*/,"");e=e.replace(/[A-Za-z]{1,2}}/,"");switch(t.toLowerCase()){case"s":e=+e;break;case"mi":e=e*60;break;case"h":e=e*60*60;break;case"d":e=e*24*60*60;break;case"m":e=e*30*24*60*60;break;case"y":e=e*365*24*60*60;break;default:e=undefined;break}return e===undefined?"":"; max-age="+e};var c=function(r){setTimeout(function(){var o=JSON.parse(s(r,r.options.cookieIdTable,t.filterControl));if(!r.options.filterControlValuesLoaded&&o){r.options.filterControlValuesLoaded=true;var a={},l=i(r),u=n(r),c=function(t,i){e(i).each(function(i,n){e(t).val(n.text);a[n.field]=n.text})};l.find(u).each(function(){var t=e(this).closest("[data-field]").data("field"),i=e.grep(o,function(e){return e.field===t});c(this,i)});r.initColumnSearch(a)}},250)};e.extend(e.fn.bootstrapTable.defaults,{cookie:false,cookieExpire:"2h",cookiePath:null,cookieDomain:null,cookieSecure:null,cookieIdTable:"",cookiesEnabled:["bs.table.sortOrder","bs.table.sortName","bs.table.pageNumber","bs.table.pageList","bs.table.columns","bs.table.searchText","bs.table.filterControl"],cookieStorage:"cookieStorage",filterControls:[],filterControlValuesLoaded:false});e.fn.bootstrapTable.methods.push("getCookies");e.fn.bootstrapTable.methods.push("deleteCookie");e.extend(e.fn.bootstrapTable.utils,{setCookie:a,getCookie:s});var f=e.fn.bootstrapTable.Constructor,d=f.prototype.init,h=f.prototype.initTable,p=f.prototype.initServer,m=f.prototype.onSort,v=f.prototype.onPageNumber,g=f.prototype.onPageListChange,y=f.prototype.onPageFirst,b=f.prototype.onPagePre,w=f.prototype.onPageNext,x=f.prototype.onPageLast,C=f.prototype.toggleColumn,k=f.prototype.selectPage,T=f.prototype.onSearch;f.prototype.init=function(){var e=0;this.options.filterControls=[];this.options.filterControlValuesLoaded=false;this.options.cookiesEnabled=typeof this.options.cookiesEnabled==="string"?this.options.cookiesEnabled.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.cookiesEnabled;if(this.options.filterControl){var i=this;this.$el.on("column-search.bs.table",function(e,n,r){var o=true;for(var s=0;s<i.options.filterControls.length;s++){if(i.options.filterControls[s].field===n){i.options.filterControls[s].text=r;o=false;break}}if(o){i.options.filterControls.push({field:n,text:r})}a(i,t.filterControl,JSON.stringify(i.options.filterControls))}).on("post-body.bs.table",c(i))}d.apply(this,Array.prototype.slice.apply(arguments))};f.prototype.initServer=function(){var i=this,n=[],r=function(e){return e.filterControl&&e.filterControl==="select"},o=function(e){return e.filterData&&e.filterData!=="column"},a=function(){var e=JSON.parse(s(i,i.options.cookieIdTable,t.filterControl));return i.options.cookie&&e};n=e.grep(i.columns,function(e){return r(e)&&!o(e)});f.prototype.initServer=p;if(this.options.filterControl&&a()&&n.length===0){return}p.apply(this,Array.prototype.slice.apply(arguments))};f.prototype.initTable=function(){h.apply(this,Array.prototype.slice.apply(arguments));this.initCookie()};f.prototype.initCookie=function(){if(!this.options.cookie){return}if(this.options.cookieIdTable===""||this.options.cookieExpire===""||!r()){throw new Error("Configuration error. Please review the cookieIdTable, cookieExpire properties, if those properties are ok, then this browser does not support the cookies")}var i=s(this,this.options.cookieIdTable,t.sortOrder),n=s(this,this.options.cookieIdTable,t.sortName),o=s(this,this.options.cookieIdTable,t.pageNumber),a=s(this,this.options.cookieIdTable,t.pageList),l=JSON.parse(s(this,this.options.cookieIdTable,t.columns)),u=s(this,this.options.cookieIdTable,t.searchText);this.options.sortOrder=i?i:this.options.sortOrder;this.options.sortName=n?n:this.options.sortName;this.options.pageNumber=o?+o:this.options.pageNumber;this.options.pageSize=a?a===this.options.formatAllRows()?a:+a:this.options.pageSize;this.options.searchText=u?u:"";if(l){e.each(this.columns,function(t,i){i.visible=e.inArray(i.field,l)!==-1})}};f.prototype.onSort=function(){m.apply(this,Array.prototype.slice.apply(arguments));a(this,t.sortOrder,this.options.sortOrder);a(this,t.sortName,this.options.sortName)};f.prototype.onPageNumber=function(){v.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,this.options.pageNumber)};f.prototype.onPageListChange=function(){g.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageList,this.options.pageSize)};f.prototype.onPageFirst=function(){y.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,this.options.pageNumber)};f.prototype.onPagePre=function(){b.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,this.options.pageNumber)};f.prototype.onPageNext=function(){w.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,this.options.pageNumber)};f.prototype.onPageLast=function(){x.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,this.options.pageNumber)};f.prototype.toggleColumn=function(){C.apply(this,Array.prototype.slice.apply(arguments));var i=[];e.each(this.columns,function(e,t){if(t.visible){i.push(t.field)}});a(this,t.columns,JSON.stringify(i))};f.prototype.selectPage=function(e){k.apply(this,Array.prototype.slice.apply(arguments));a(this,t.pageNumber,e)};f.prototype.onSearch=function(){var i=Array.prototype.slice.apply(arguments);T.apply(this,i);if(e(i[0].currentTarget).parent().hasClass("search")){a(this,t.searchText,this.searchText)}};f.prototype.getCookies=function(){var i=this;var n={};e.each(t,function(e,t){n[e]=s(i,i.options.cookieIdTable,t);if(e==="columns"){n[e]=JSON.parse(n[e])}});return n};f.prototype.deleteCookie=function(e){if(e===""||!r()){return}l(this,this.options.cookieIdTable,t[e])}})(jQuery);!function(e){"use strict";var t=e.fn.bootstrapTable.utils.calculateObjectValue,i=e.fn.bootstrapTable.utils.sprintf;var n=function(t){var i=document.createElement("textarea");e(i).html(t);document.body.appendChild(i);i.select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy")}e(i).remove()};e.extend(e.fn.bootstrapTable.defaults,{copyBtn:false,copyWHiddenBtn:false,copyDelemeter:", "});e.fn.bootstrapTable.methods.push("copyColumnsToClipboard","copyColumnsToClipboardWithHidden");var r=e.fn.bootstrapTable.Constructor,o=r.prototype.initToolbar;r.prototype.initToolbar=function(){o.apply(this,Array.prototype.slice.apply(arguments));var e=this,t=this.$toolbar.find(">.btn-group");if(this.options.clickToSelect||this.options.singleSelect){if(this.options.copyBtn){var i="<button class='btn btn-default' id='copyBtn'><span class='glyphicon glyphicon-copy icon-pencil'></span></button>";t.append(i);t.find("#copyBtn").click(function(){e.copyColumnsToClipboard()})}if(this.options.copyWHiddenBtn){var n="<button class='btn btn-default' id='copyWHiddenBtn'><span class='badge'><span class='glyphicon glyphicon-copy icon-pencil'></span></span></button>";t.append(n);t.find("#copyWHiddenBtn").click(function(){e.copyColumnsToClipboardWithHidden()})}}};r.prototype.copyColumnsToClipboard=function(){var i=this,r="",o=this.options.copyDelemeter;e.each(i.getSelections(),function(n,a){e.each(i.options.columns[0],function(e,s){if(s.field!=="state"&&s.field!=="RowNumber"&&s.visible){if(a[s.field]!==null){r+=t(s,i.header.formatters[e],[a[s.field],a,n],a[s.field])}r+=o}});r+="\r\n"});n(r)};r.prototype.copyColumnsToClipboardWithHidden=function(){var i=this,r="",o=this.options.copyDelemeter;e.each(i.getSelections(),function(n,a){e.each(i.options.columns[0],function(e,s){if(s.field!="state"&&s.field!=="RowNumber"){if(a[s.field]!==null){r+=t(s,i.header.formatters[e],[a[s.field],a,n],a[s.field])}r+=o}});r+="\r\n"});n(r)}}(jQuery);(function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{editable:true,onEditableInit:function(){return false},onEditableSave:function(e,t,i,n){return false},onEditableShown:function(e,t,i,n){return false},onEditableHidden:function(e,t,i,n){return false}});e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"editable-init.bs.table":"onEditableInit","editable-save.bs.table":"onEditableSave","editable-shown.bs.table":"onEditableShown","editable-hidden.bs.table":"onEditableHidden"});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initTable,n=t.prototype.initBody;t.prototype.initTable=function(){var t=this;i.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.editable){return}e.each(this.columns,function(i,n){if(!n.editable){return}var r={},o=[],a="editable-";var s=function(e,t){var i=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});if(i.slice(0,a.length)==a){var n=i.replace(a,"data-");r[n]=t}};e.each(t.options,s);n.formatter=n.formatter||function(e,t,i){return e};n._formatter=n._formatter?n._formatter:n.formatter;n.formatter=function(i,a,l){var u=n._formatter?n._formatter(i,a,l):i;e.each(n,s);e.each(r,function(e,t){o.push(" "+e+'="'+t+'"')});var c=false;if(n.editable.hasOwnProperty("noeditFormatter")){c=n.editable.noeditFormatter(i,a,l)}if(c===false){return['<a href="javascript:void(0)"',' data-name="'+n.field+'"',' data-pk="'+a[t.options.idField]+'"',' data-value="'+u+'"',o.join(""),">"+"</a>"].join("")}else{return c}}})};t.prototype.initBody=function(){var t=this;n.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.editable){return}e.each(this.columns,function(i,n){if(!n.editable){return}t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("save").on("save",function(i,r){var o=t.getData(),a=e(this).parents("tr[data-index]").data("index"),s=o[a],l=s[n.field];e(this).data("value",r.submitValue);s[n.field]=r.submitValue;t.trigger("editable-save",n.field,s,l,e(this));t.resetFooter()});t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("shown").on("shown",function(i,r){var o=t.getData(),a=e(this).parents("tr[data-index]").data("index"),s=o[a];t.trigger("editable-shown",n.field,s,e(this),r)});t.$body.find('a[data-name="'+n.field+'"]').editable(n.editable).off("hidden").on("hidden",function(i,r){var o=t.getData(),a=e(this).parents("tr[data-index]").data("index"),s=o[a];t.trigger("editable-hidden",n.field,s,e(this),r)})});this.trigger("editable-init")}})(jQuery);(function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;var i={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"MS-Excel",xlsx:"MS-Excel (OpenXML)",powerpoint:"MS-Powerpoint",pdf:"PDF"};e.extend(e.fn.bootstrapTable.defaults,{showExport:false,exportDataType:"basic",exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{}});e.extend(e.fn.bootstrapTable.defaults.icons,{export:"glyphicon-export icon-share"});e.extend(e.fn.bootstrapTable.locales,{formatExport:function(){return"Export data"}});e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initToolbar;n.prototype.initToolbar=function(){this.showToolbar=this.options.showExport;r.apply(this,Array.prototype.slice.apply(arguments));if(this.options.showExport){var n=this,o=this.$toolbar.find(">.btn-group"),a=o.find("div.export");if(!a.length){a=e(['<div class="export btn-group">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+' dropdown-toggle" aria-label="export type" '+'title="'+this.options.formatExport()+'" '+'data-toggle="dropdown" type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.export),'<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"</ul>","</div>"].join("")).appendTo(o);var s=a.find(".dropdown-menu"),l=this.options.exportTypes;if(typeof this.options.exportTypes==="string"){var u=this.options.exportTypes.slice(1,-1).replace(/ /g,"").split(",");l=[];e.each(u,function(e,t){l.push(t.slice(1,-1))})}e.each(l,function(e,t){if(i.hasOwnProperty(t)){s.append(['<li role="menuitem" data-type="'+t+'">','<a href="javascript:void(0)">',i[t],"</a>","</li>"].join(""))}});s.find("li").click(function(){var t=e(this).data("type"),i=function(){n.$el.tableExport(e.extend({},n.options.exportOptions,{type:t,escape:false}))};if(n.options.exportDataType==="all"&&n.options.pagination){n.$el.one(n.options.sidePagination==="server"?"post-body.bs.table":"page-change.bs.table",function(){i();n.togglePagination()});n.togglePagination()}else if(n.options.exportDataType==="selected"){var r=n.getData(),o=n.getAllSelections();if(n.options.sidePagination==="server"){r={total:n.options.totalRows};r[n.options.dataField]=n.getData();o={total:n.options.totalRows};o[n.options.dataField]=n.getAllSelections()}n.load(o);i();n.load(r)}else{i()}})}}}})(jQuery);(function(e){"use strict";var t=function(t,i){var n={};function r(t,o){if(Object(t)!==t){n[o]=t}else if(e.isArray(t)){for(var a=0,s=t.length;a<s;a++){r(t[a],o?o+i.options.flatSeparator+a:""+a);if(s==0){n[o]=[]}}}else{var l=true;for(var u in t){l=false;r(t[u],o?o+i.options.flatSeparator+u:u)}if(l){n[o]={}}}}r(t,"");return n};var i=function(i,n){var r=[];e.each(!e.isArray(i)?[i]:i,function(e,i){r.push(t(i,n))});return r};e.extend(e.fn.bootstrapTable.defaults,{flat:false,flatSeparator:"."});var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initData;n.prototype.initData=function(e,t){if(this.options.flat){e=i(e?e:this.options.data,this)}r.apply(this,[e,t])}})(jQuery);!function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{multipleSearch:false,delimeter:" "});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initSearch;t.prototype.initSearch=function(){if(this.options.multipleSearch){if(this.searchText===undefined){return}var t=this.searchText.split(this.options.delimeter),n=this,r=e.isEmptyObject(this.filterColumns)?null:this.filterColumns,o=[];if(t.length===1){i.apply(this,Array.prototype.slice.apply(arguments))}else{for(var a=0;a<t.length;a++){var s=t[a].trim();o=s?e.grep(o.length===0?this.options.data:o,function(t,i){for(var r in t){r=e.isNumeric(r)?parseInt(r,10):r;var o=t[r],a=n.columns[e.fn.bootstrapTable.utils.getFieldIndex(n.columns,r)],l=e.inArray(r,n.header.fields);if(a&&a.searchFormatter){o=e.fn.bootstrapTable.utils.calculateObjectValue(a,n.header.formatters[l],[o,t,i],o)}var u=e.inArray(r,n.header.fields);if(u!==-1&&n.header.searchables[u]&&(typeof o==="string"||typeof o==="number")){if(n.options.strictSearch){if((o+"").toLowerCase()===s){return true}}else{if((o+"").toLowerCase().indexOf(s)!==-1){return true}}}}return false}):this.data}this.data=o}}else{i.apply(this,Array.prototype.slice.apply(arguments))}}}(jQuery);(function(e){"use strict";var t=false;var i=function(t){var i=t.$sortModal.selector,n=i.substr(1);if(!e(n).hasClass("modal")){var r='  <div class="modal fade" id="'+n+'" tabindex="-1" role="dialog" aria-labelledby="'+n+'Label" aria-hidden="true">';r+='         <div class="modal-dialog">';r+='             <div class="modal-content">';r+='                 <div class="modal-header">';r+='                     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>';r+='                     <h4 class="modal-title" id="'+n+'Label">'+t.options.formatMultipleSort()+"</h4>";r+="                 </div>";r+='                 <div class="modal-body">';r+='                     <div class="bootstrap-table">';r+='                         <div class="fixed-table-toolbar">';r+='                             <div class="bars">';r+='                                 <div id="toolbar">';r+='                                     <button id="add" type="button" class="btn btn-default"><i class="'+t.options.iconsPrefix+" "+t.options.icons.plus+'"></i> '+t.options.formatAddLevel()+"</button>";r+='                                     <button id="delete" type="button" class="btn btn-default" disabled><i class="'+t.options.iconsPrefix+" "+t.options.icons.minus+'"></i> '+t.options.formatDeleteLevel()+"</button>";r+="                                 </div>";r+="                             </div>";r+="                         </div>";r+='                         <div class="fixed-table-container">';r+='                             <table id="multi-sort" class="table">';r+="                                 <thead>";r+="                                     <tr>";r+="                                         <th></th>";r+='                                         <th><div class="th-inner">'+t.options.formatColumn()+"</div></th>";r+='                                         <th><div class="th-inner">'+t.options.formatOrder()+"</div></th>";r+="                                     </tr>";r+="                                 </thead>";r+="                                 <tbody></tbody>";r+="                             </table>";r+="                         </div>";r+="                     </div>";r+="                 </div>";r+='                 <div class="modal-footer">';r+='                     <button type="button" class="btn btn-default" data-dismiss="modal">'+t.options.formatCancel()+"</button>";r+='                     <button type="button" class="btn btn-primary">'+t.options.formatSort()+"</button>";r+="                 </div>";r+="             </div>";r+="         </div>";r+="     </div>";e("body").append(e(r));t.$sortModal=e(i);var o=t.$sortModal.find("tbody > tr");t.$sortModal.off("click","#add").on("click","#add",function(){var e=t.$sortModal.find(".multi-sort-name:first option").length,i=t.$sortModal.find("tbody tr").length;if(i<e){i++;t.addLevel();t.setButtonStates()}});t.$sortModal.off("click","#delete").on("click","#delete",function(){var e=t.$sortModal.find(".multi-sort-name:first option").length,i=t.$sortModal.find("tbody tr").length;if(i>1&&i<=e){i--;t.$sortModal.find("tbody tr:last").remove();t.setButtonStates()}});t.$sortModal.off("click",".btn-primary").on("click",".btn-primary",function(){var i=t.$sortModal.find("tbody > tr"),n=t.$sortModal.find("div.alert"),r=[],o=[];t.options.sortPriority=e.map(i,function(t){var i=e(t),n=i.find(".multi-sort-name").val(),o=i.find(".multi-sort-order").val();r.push(n);return{sortName:n,sortOrder:o}});var a=r.sort();for(var s=0;s<r.length-1;s++){if(a[s+1]==a[s]){o.push(a[s])}}if(o.length>0){if(n.length===0){n='<div class="alert alert-danger" role="alert"><strong>'+t.options.formatDuplicateAlertTitle()+"</strong> "+t.options.formatDuplicateAlertDescription()+"</div>";e(n).insertBefore(t.$sortModal.find(".bars"))}}else{if(n.length===1){e(n).remove()}t.$sortModal.modal("hide");t.options.sortName="";if(t.options.sidePagination==="server"){t.options.queryParams=function(e){e.multiSort=t.options.sortPriority;return e};t.initServer(t.options.silentSort);return}t.onMultipleSort()}});if(t.options.sortPriority===null||t.options.sortPriority.length===0){if(t.options.sortName){t.options.sortPriority=[{sortName:t.options.sortName,sortOrder:t.options.sortOrder}]}}if(t.options.sortPriority!==null&&t.options.sortPriority.length>0){if(o.length<t.options.sortPriority.length&&typeof t.options.sortPriority==="object"){for(var a=0;a<t.options.sortPriority.length;a++){t.addLevel(a,t.options.sortPriority[a])}}}else{t.addLevel(0)}t.setButtonStates()}};e.extend(e.fn.bootstrapTable.defaults,{showMultiSort:false,sortPriority:null,onMultipleSort:function(){return false}});e.extend(e.fn.bootstrapTable.defaults.icons,{sort:"glyphicon-sort",plus:"glyphicon-plus",minus:"glyphicon-minus"});e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"multiple-sort.bs.table":"onMultipleSort"});e.extend(e.fn.bootstrapTable.locales,{formatMultipleSort:function(){return"Multiple Sort"},formatAddLevel:function(){return"Add Level"},formatDeleteLevel:function(){return"Delete Level"},formatColumn:function(){return"Column"},formatOrder:function(){return"Order"},formatSortBy:function(){return"Sort by"},formatThenBy:function(){return"Then by"},formatSort:function(){return"Sort"},formatCancel:function(){return"Cancel"},formatDuplicateAlertTitle:function(){return"Duplicate(s) detected!"},formatDuplicateAlertDescription:function(){return"Please remove or change any duplicate column."},formatSortOrders:function(){return{asc:"Ascending",desc:"Descending"}}});e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,r=n.prototype.initToolbar;n.prototype.initToolbar=function(){this.showToolbar=true;var n=this,o="#sortModal_"+this.$el.attr("id");this.$sortModal=e(o);r.apply(this,Array.prototype.slice.apply(arguments));if(this.options.showMultiSort){var a=this.$toolbar.find(">.btn-group").first(),s=this.$toolbar.find("div.multi-sort");if(!s.length){s='  <button class="multi-sort btn btn-default'+(this.options.iconSize===undefined?"":" btn-"+this.options.iconSize)+'" type="button" data-toggle="modal" data-target="'+o+'" title="'+this.options.formatMultipleSort()+'">';s+='     <i class="'+this.options.iconsPrefix+" "+this.options.icons.sort+'"></i>';s+="</button>";a.append(s);i(n)}this.$el.on("sort.bs.table",function(){t=true});this.$el.on("multiple-sort.bs.table",function(){t=false});this.$el.on("load-success.bs.table",function(){if(!t&&n.options.sortPriority!==null&&typeof n.options.sortPriority==="object"&&n.options.sidePagination!=="server"){n.onMultipleSort()}});this.$el.on("column-switch.bs.table",function(e,t){for(var r=0;r<n.options.sortPriority.length;r++){if(n.options.sortPriority[r].sortName===t){n.options.sortPriority.splice(r,1)}}n.assignSortableArrows();n.$sortModal.remove();i(n)});this.$el.on("reset-view.bs.table",function(){if(!t&&n.options.sortPriority!==null&&typeof n.options.sortPriority==="object"){n.assignSortableArrows()}})}};n.prototype.onMultipleSort=function(){var t=this;var i=function(e,t){return e>t?1:e<t?-1:0};var n=function(n,r){var o=[],a=[];for(var s=0;s<t.options.sortPriority.length;s++){var l=t.options.sortPriority[s].sortOrder==="desc"?-1:1,u=n[t.options.sortPriority[s].sortName],c=r[t.options.sortPriority[s].sortName];if(u===undefined||u===null){u=""}if(c===undefined||c===null){c=""}if(e.isNumeric(u)&&e.isNumeric(c)){u=parseFloat(u);c=parseFloat(c)}if(typeof u!=="string"){u=u.toString()}o.push(l*i(u,c));a.push(l*i(c,u))}return i(o,a)};this.data.sort(function(e,t){return n(e,t)});this.initBody();this.assignSortableArrows();this.trigger("multiple-sort")};n.prototype.addLevel=function(t,i){var n=t===0?this.options.formatSortBy():this.options.formatThenBy();this.$sortModal.find("tbody").append(e("<tr>").append(e("<td>").text(n)).append(e("<td>").append(e('<select class="form-control multi-sort-name">'))).append(e("<td>").append(e('<select class="form-control multi-sort-order">'))));var r=this.$sortModal.find(".multi-sort-name").last(),o=this.$sortModal.find(".multi-sort-order").last();e.each(this.columns,function(e,t){if(t.sortable===false||t.visible===false){return true}r.append('<option value="'+t.field+'">'+t.title+"</option>")});e.each(this.options.formatSortOrders(),function(e,t){o.append('<option value="'+e+'">'+t+"</option>")});if(i!==undefined){r.find('option[value="'+i.sortName+'"]').attr("selected",true);o.find('option[value="'+i.sortOrder+'"]').attr("selected",true)}};n.prototype.assignSortableArrows=function(){var t=this,i=t.$header.find("th");for(var n=0;n<i.length;n++){for(var r=0;r<t.options.sortPriority.length;r++){if(e(i[n]).data("field")===t.options.sortPriority[r].sortName){e(i[n]).find(".sortable").removeClass("desc asc").addClass(t.options.sortPriority[r].sortOrder)}}}};n.prototype.setButtonStates=function(){var e=this.$sortModal.find(".multi-sort-name:first option").length,t=this.$sortModal.find("tbody tr").length;if(t==e){this.$sortModal.find("#add").attr("disabled","disabled")}if(t>1){this.$sortModal.find("#delete").removeAttr("disabled")}if(t<e){this.$sortModal.find("#add").removeAttr("disabled")}if(t==1){this.$sortModal.find("#delete").attr("disabled","disabled")}}})(jQuery);function alphanum(e,t){function i(e){var t=[],i=0,n=-1,r=0,o,a;while(o=(a=e.charAt(i++)).charCodeAt(0)){var s=o===46||o>=48&&o<=57;if(s!==r){t[++n]="";r=s}t[n]+=a}return t}function n(e){if(typeof e==="number"){e=""+e}if(!e){e=""}return e}var r=i(n(e));var o=i(n(t));for(x=0;r[x]&&o[x];x++){if(r[x]!==o[x]){var a=Number(r[x]),s=Number(o[x]);if(a==r[x]&&s==o[x]){return a-s}else{return r[x]>o[x]?1:-1}}}return r.length-o.length}function numericOnly(e,t){function i(e){e=e.replace(new RegExp(/[^0-9]/g),"");return parseInt(e,10)}return i(e)-i(t)}!function(e){"use strict";function t(e){var t=e.$header;if(e.options.height){t=e.$tableHeader}return t}function i(e){return t(e).find("[data-filter-field]")}function n(t){var n=i(t);if(!e.isEmptyObject(t.filterColumnsPartial)){n.each(function(i,n){var r=e(n),o=r.attr("data-filter-field"),a=t.filterColumnsPartial[o];if(r.is("select")){r.val(a).trigger("change")}else{r.val(a)}})}}function r(t,i){var n=false,r,o,a=0;e.each(t.columns,function(t,a){r="hidden";o=[];if(!a.visible){return}if(!a.filter){o.push('<div class="no-filter"></div>')}else{var s=a.filter.class?" "+a.filter.class:"";o.push('<div style="margin: 0px 2px 2px 2px;" class="filter'+s+'">');if(a.searchable){n=true;r="visible"}switch(a.filter.type.toLowerCase()){case"input":o.push('<input type="text" data-filter-field="'+a.field+'" style="width: 100%; visibility:'+r+'">');break;case"select":o.push('<select data-filter-field="'+a.field+'" style="width: 100%; visibility:'+r+'"></select>');break}}e.each(i.children().children(),function(t,i){i=e(i);if(i.data("field")===a.field){i.find(".fht-cell").append(o.join(""));return false}})});if(n){var s=i.find("input"),l=i.find("select");if(s.length>0){s.off("keyup").on("keyup",function(e){clearTimeout(a);a=setTimeout(function(){t.onColumnSearch(e)},t.options.searchTimeOut)});s.off("mouseup").on("mouseup",function(i){var n=e(this),r=n.val();if(r===""){return}setTimeout(function(){var e=n.val();if(e===""){clearTimeout(a);a=setTimeout(function(){t.onColumnSearch(i)},t.options.searchTimeOut)}},1)})}if(l.length>0){l.on("select2:select",function(e){t.onColumnSearch(e)})}}else{i.find(".filter").hide()}}function o(i){var n=t(i);e.each(i.columns,function(e,t){if(t.filter&&t.filter.type==="select"){var r=n.find("select[data-filter-field="+t.field+"]");if(r.length>0&&!r.data().select2){t.filter.data.unshift("");var o={placeholder:"",allowClear:true,data:t.filter.data,dropdownParent:i.$el.closest(".bootstrap-table")};r.select2(o);r.on("select2:unselecting",function(e){e.preventDefault();r.val(null).trigger("change");i.searchText=undefined;i.onColumnSearch(e)})}}})}e.extend(e.fn.bootstrapTable.defaults,{filter:false,filterValues:{}});e.extend(e.fn.bootstrapTable.COLUMN_DEFAULTS,{filter:undefined});var a=e.fn.bootstrapTable.Constructor,s=a.prototype.init,l=a.prototype.initHeader,u=a.prototype.initSearch;a.prototype.init=function(){if(this.options.filter){var t=this;if(!e.isEmptyObject(t.options.filterValues)){t.filterColumnsPartial=t.options.filterValues;t.options.filterValues={}}this.$el.on("reset-view.bs.table",function(){if(!t.options.height){return}if(t.$tableHeader.find("select").length>0||t.$tableHeader.find("input").length>0){return}r(t,t.$tableHeader)}).on("post-header.bs.table",function(){var e=0;o(t);clearTimeout(e);e=setTimeout(function(){n(t)},t.options.searchTimeOut-1e3)}).on("column-switch.bs.table",function(e,i){n(t)})}s.apply(this,Array.prototype.slice.apply(arguments))};a.prototype.initHeader=function(){l.apply(this,Array.prototype.slice.apply(arguments));if(this.options.filter){r(this,this.$header)}};a.prototype.initSearch=function(){u.apply(this,Array.prototype.slice.apply(arguments));var t=this,i=t.filterColumnsPartial;if(t.options.sidePagination==="client"){this.data=e.grep(this.data,function(n,r){for(var o in i){var a=t.columns[e.fn.bootstrapTable.utils.getFieldIndex(t.columns,o)],s=i[o].toLowerCase(),l=n[o];l=e.fn.bootstrapTable.utils.calculateObjectValue(t.header,t.header.formatters[e.inArray(o,t.header.fields)],[l,n,r],l);if(a.filterStrictSearch){if(!(e.inArray(o,t.header.fields)!==-1&&(typeof l==="string"||typeof l==="number")&&l.toString().toLowerCase()===s.toString().toLowerCase())){return false}}else{if(!(e.inArray(o,t.header.fields)!==-1&&(typeof l==="string"||typeof l==="number")&&(l+"").toLowerCase().indexOf(s)!==-1)){return false}}}return true})}};a.prototype.onColumnSearch=function(t){var i=e(t.currentTarget).attr("data-filter-field"),n=e.trim(e(t.currentTarget).val());if(e.isEmptyObject(this.filterColumnsPartial)){this.filterColumnsPartial={}}if(n){this.filterColumnsPartial[i]=n}else{delete this.filterColumnsPartial[i]}this.options.pageNumber=1;this.onSearch(t)};a.prototype.setFilterData=function(i,n){var r=this,o=t(r),a=o.find('select[data-filter-field="'+i+'"]');n.unshift("");a.empty();a.select2({data:n,placeholder:"",allowClear:true,dropdownParent:r.$el.closest(".bootstrap-table")});e.each(this.columns,function(e,t){if(t.field===i){t.filter.data=n;return false}})};a.prototype.setFilterValues=function(e){this.filterColumnsPartial=e};e.fn.bootstrapTable.methods.push("setFilterData");e.fn.bootstrapTable.methods.push("setFilterValues")}(jQuery);(function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;e.extend(e.fn.bootstrapTable.defaults,{stickyHeader:false});var i=e.fn.bootstrapTable.Constructor,n=i.prototype.initHeader;i.prototype.initHeader=function(){var i=this;n.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.stickyHeader){return}var r=this.$tableBody.find("table"),o=r.attr("id"),a=r.attr("id")+"-sticky-header",s=a+"-sticky-header-container",l=a+"_sticky_anchor_begin",u=a+"_sticky_anchor_end";r.before(t('<div id="%s" class="hidden"></div>',s));r.before(t('<div id="%s"></div>',l));r.after(t('<div id="%s"></div>',u));r.find("thead").attr("id",a);this.$stickyHeader=e(e("#"+a).clone(true,true));this.$stickyHeader.removeAttr("id");e(window).on("resize."+o,r,c);e(window).on("scroll."+o,r,c);r.closest(".fixed-table-container").find(".fixed-table-body").on("scroll."+o,r,f);this.$el.on("all.bs.table",function(t){i.$stickyHeader=e(e("#"+a).clone(true,true));i.$stickyHeader.removeAttr("id")});function c(t){var n=t.data;var r=n.find("thead").attr("id");if(n.length<1||e("#"+o).length<1){e(window).off("resize."+o);e(window).off("scroll."+o);n.closest(".fixed-table-container").find(".fixed-table-body").off("scroll."+o);return}var a="0";if(i.options.stickyHeaderOffsetY)a=i.options.stickyHeaderOffsetY.replace("px","");var c=e(window).scrollTop();var d=e("#"+l).offset().top-a;var h=e("#"+u).offset().top-a-e("#"+r).css("height").replace("px","");if(c>d&&c<=h){e.each(i.$stickyHeader.find("tr").eq(0).find("th"),function(t,i){e(i).css("min-width",e("#"+r+" tr").eq(0).find("th").eq(t).css("width"))});e("#"+s).removeClass("hidden").addClass("fix-sticky fixed-table-container");e("#"+s).css("top",a+"px");var p=e('<div style="position:absolute;width:100%;overflow-x:hidden;" />');e("#"+s).html(p.append(i.$stickyHeader));f(t)}else{e("#"+s).removeClass("fix-sticky").addClass("hidden")}}function f(t){var i=t.data;var n=i.find("thead").attr("id");e("#"+s).css("width",+i.closest(".fixed-table-body").css("width").replace("px","")+1);e("#"+s+" thead").parent().scrollLeft(Math.abs(e("#"+n).position().left))}}})(jQuery);function setPageAlert(e,t,i){var n=window.translations[t]?window.translations[t]:t;e=e==="error"?"danger":e;$("#alerts").html($('<div class="alert alert-dismissable alert-fadeout fade in alert-'+e+'" role="alert">'+'<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>'+n+"</div>"));if(i!==undefined){window.setTimeout(function(){$(".alert-fadeout").fadeTo(1e3,0).slideUp(1e3,function(){$(this).remove()})},i)}}function clearPageAlert(){$("#alerts").html("")}$(document).ready(function(){moment.locale(lang);$.extend($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales[lang]);$("select").select2({language:lang,minimumResultsForSearch:11,width:"resolve"});$(".select2.select2-container").css("width","100%");$(".datetimepicker-input").datetimepicker({locale:lang,showClear:true,showClose:true,showTodayButton:true,allowInputToggle:true});$(".table-bootstrap-table").bootstrapTable("hideLoading");$('.btn-group[title="Columns"]').find("i.glyphicon-th").removeClass("glyphicon-th").addClass("glyphicon-th-list");$(".readonly-select").prop("disabled",true)});$("form").submit(function(){$(".readonly-select").prop("disabled",false)});var FormMapper=function(){var e=function e(t,i){if(t===i.value){i.checked=true}else{t=i.defaultChecked?i.defaultChecked:false}};var t=function e(t,i){if($.type(t)==="undefined"||t===null){t=i.defaultValue?i.defaultValue:""}i.value=new Date(t).toISOString().split("T")[0]};var i=function t(i,n){e(i,n)};var n=function e(t,i){if($.type(t)==="undefined"||t===null){t=i.defaultValue?i.defaultValue:""}t=$.isArray(t)?t:[t];for(var n=0;n<i.options.length;n++){i.options[n].selected|=t.indexOf(i.options[n].value)>-1}$(i).trigger("change")};var r=function e(t,i){if($.type(t)==="undefined"||t===null){t="core.placeholder"}i.value=t.toString()||t;$(i).trigger("change")};var o=function e(t,i){if($.type(t)==="undefined"||t===null||t===""){t="core.placeholder"}t=window.translations[t]?window.translations[t]:t;$("#"+i).html(t)};var a=function e(t,i){if($.type(t)==="undefined"||t===null){i.value=""}else{i.value=t}};var s=function o(s,l){if(!l){return}var u=l.type||l[0].type;switch(u){case"radio":i(s,l);break;case"checkbox":e(s,l);break;case"select-multiple":n(s,l);break;case"select":case"select-one":r(s,l);break;case"date":t(s,l);break;default:a(s,l);break}};var l=function e(t,i){for(var n in t){if(!t.hasOwnProperty(n)){continue}var r=t[n].value;if($.type(r)==="object"){e(r,i)}else if(t[n].name==="static"){o(r,n)}else{var a=i.elements.namedItem(n);s(r,a)}}};return{mapDataToCheckboxField:e,mapDataToDateField:t,mapDataToRadioField:i,mapDataToSelectField:r,mapDataToSelectMultipleField:n,mapDataToTextField:a,mapDataToField:s,mapDataToForm:l}}();$(document).ready(function(){if($("#mapview").length){window.map=initialiseMapView()}});function mapSource(e,t){if(e==="BingMaps"){return new ol.source.BingMaps(t)}if(e==="TileWMS"){return new ol.source.TileWMS(t)}}function initialiseMapView(){var e=[];var t=null;var i=null;for(var n=0;n<mapConfig.layers.length;++n){i=mapConfig.layers[n];t=new ol.layer.Tile({name:i.name,visible:i.visible,preload:i.preload,source:mapSource(i.class,i.source)});t.set("name",i.name);e.push(t)}var r=new ol.Map({layers:e,controls:[],loadTilesWhileInteracting:true,target:"map",view:new ol.View(mapConfig.view)});r.addControl(new ol.control.Zoom);r.addControl(new ol.control.ZoomSlider);$("a.layer-select").on("click",function(){var i=$(this).attr("value");$("a.layer-select").removeClass("selected");$(this).addClass("selected");for(var n=0;n<e.length;++n){t=e[n];t.setVisible(t.get("name")===i)}});if(points.length>0){features=[];var o=new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"#f00"}),stroke:new ol.style.Stroke({color:"#000",width:1})})});var a=new ol.format.WKT;for(var s in points){feature=a.readFeature(points[s],{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});feature.set("ark_id",s);features.push(feature)}t=new ol.layer.Vector({source:new ol.source.Vector({features:features}),style:o});t.set("name","finds");t.set("selectable",true);r.addLayer(t);view=r.getView();extent=t.getSource().getExtent();view.fit(extent);var l=new ol.interaction.Select({layers:function(e){return e.get("selectable")},style:new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"#f00"}),stroke:new ol.style.Stroke({color:"#000",width:1})})})});r.addInteraction(l);var u=l.getFeatures();window.mapcollection=u;u.on("add",function(e){var t=$(".table tr");for(var i=0;i<t.length;i++){$(t[i]).removeClass("selected");$(t[i]).find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}var n=[Infinity,Infinity,-Infinity,-Infinity];u.forEach(function(e,t,i){var r=e.get("ark_id");$(".table tr[data-unique-id='"+r.toString()+"']").addClass("selected");$(".table tr[data-unique-id='"+r.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check");if($(".bootstrap-table button[name=tableView]").hasClass("active")!==true){$(".table tr[data-unique-id='"+r.toString()+"']").parent().prepend($(".table tr[data-unique-id='"+r.toString()+"']"))}var o=e.getGeometry().getExtent();if(typeof o!=="undefined"){n=[Math.min(o[0],n[0]),Math.min(o[1],n[1]),Math.max(o[2],n[2]),Math.max(o[3],n[3])]}});r.getView().fit(n)});u.on("remove",function(e){var t=$(".dime-table tr");for(var i=0;i<t.length;i++){$(t[i]).removeClass("selected");$(t[i]).find(".tablecheckbox").removeClass("glyphicon-check").addClass("glyphicon-unchecked")}u.forEach(function(e,t,i){var n=e.get("ark_id");$(".table tr[data-unique-id='"+n.toString()+"']").addClass("selected");$(".table tr[data-unique-id='"+n.toString()+"']").find(".tablecheckbox").removeClass("glyphicon-unchecked").addClass("glyphicon-check")})})}$(".style-select-option").on("click",function(){if($(this).attr("value")==="choropleth"){var e=$("<div>",{id:"navbar-fade",class:"modal-backdrop fade in map-cover"});$(".ol-viewport").append(e);var t=false;r.getLayers().forEach(function(e,i,n){if(e.get("name")==="chorplethlayer"){e.setVisible(true);$(".modal-backdrop").detach();view=r.getView();extent=e.getSource().getExtent();view.fit(extent,r.getSize());$(".map-legend").show();t=true}else if(e.get("name")==="features"){e.setVisible(false)}});if(t===false){var i={concept:"core.map.chorpleth",module:itemkey,attribute:"location",itemlist:itemlist};$.get(path+"api/geo/choropleth",false,function(e){var t=new ol.format.WKT;var i=[];var n=e.region;for(var a in n){feature=t.readFeature(n[a].geometry,{dataProjection:"EPSG:"+n[a].srid,featureProjection:"EPSG:3857"});feature.set("count",n[a].count);feature.set("band",n[a].band);i.push(feature)}var s={4:[225,38,42],3:[235,111,77],2:[241,227,50],1:[104,176,56]};var l=200;var u=10;var c=.5;bandslength=Object.keys(s).length;var f=l/bandslength;var d={};var h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width",u);h.setAttribute("height",l);h.setAttribute("style","border: 1px solid black");for(var p in s){rect=document.createElementNS("http://www.w3.org/2000/svg","rect");o="fill:rgb("+s[p][0]+","+s[p][1]+","+s[p][2]+")";rect.setAttribute("style",o);rect.setAttribute("height",f);rect.setAttribute("width",u);rect.setAttribute("fill-opacity",c);rect.setAttribute("y",f*(bandslength-p));h.append(rect);s[p].push(c);d[p]=new ol.style.Style({fill:new ol.style.Fill({color:s[p]}),stroke:new ol.style.Stroke({color:"#000",width:1})})}h.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");$(".legend-image").append(h);$(".map-legend").show();var m=new ol.layer.Vector({source:new ol.source.Vector({features:i}),style:function(e,t){return[d[e.get("band")]]}});m.set("name","choroplethlayer");m.set("selectable",false);r.addLayer(m);view=r.getView();extent=m.getSource().getExtent();view.fit(extent);$(".modal-backdrop").detach()}).fail(function(){$(".modal-backdrop").detach()})}}else if($(this).attr("value")==="distribution"){view=r.getView();extent=[Infinity,Infinity,-Infinity,-Infinity];r.getLayers().forEach(function(e,t,i){if(e.get("name")==="choroplethlayer"){e.setVisible(false)}else{if(e.get("name")==="finds"){e.setVisible(true);newextent=e.getSource().getExtent();if(newextent[0]!==Infinity){extent=[Math.min(newextent[0],extent[0]),Math.min(newextent[1],extent[1]),Math.max(newextent[2],extent[2]),Math.max(newextent[3],extent[3])];view.fit(extent)}}}});$(".map-legend").hide()}else{r.getLayers().forEach(function(e,t,i){if(e.get("name")==="municipalitylayer"||e.get("name")==="finds"){e.setVisible(false)}});$(".map-legend").hide()}});switch(default_overlay){case"distribution":$('.style-select-option[value="distribution"]').click();break;case"choropleth":$('.style-select-option[value="choropleth"]').click();break;default:}return r}var NoteSaveButton=function(e){var t=$.summernote.ui;var i=t.button({contents:'<i class="fa fa-child"/>Save',tooltip:"save",click:function(){$.post(window.location.pathname,e.invoke("code"))}});return i.render()};$("#pageedit").on("click",function(){if($(this).hasClass("active")){$(".inlineedit").summernote("destroy")}else{$(".inlineedit").summernote({lang:lang,focus:true,buttons:{save:NoteSaveButton},toolbar:[["style",["style"]],["font",["fontname","fontsize"]],["textstyle",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["color",["color"]],["para",["ul","ol","paragraph","height"]],["insert",["picture","link","video"]],["table",["table"]],["hr",["hr"]],["view",["fullscreen","codeview"]],["edit",["undo","redo"]],["help",["help"]],["save",["save"]]]})}});$(document).ready(function(){editableNewRegisterRow();$("#register-table").bootstrapTable("hideLoading")});function hideEditableRegisterRow(){$("#register-table").find("tbody").find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("hide")}function editableRegisterRow(e){hideEditableRegisterRow();$("#register-table").find("tbody").find("tr").eq(e).find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("show")}function editableNewRegisterRow(){$("#register-new").find("a").not(".row-view, .row-edit, .row-save, .row-cancel, .row-delete").editable("show")}window.registerEvents={"click .row-view":function(e,t,i,n){alert("View row "+i.id)},"click .row-edit":function(e,t,i,n){editableRegisterRow(n)},"click .row-save":function(e,t,i,n){alert("Save row "+i.id)},"click .row-cancel":function(e,t,i,n){alert("Cancel row "+i.id)},"click .row-delete":function(e,t,i,n){$("#register-table").bootstrapTable("remove",{field:"id",values:[i.id]})}};var Router=function(){var e="";var t=[];var i=function e(t,i){i=i===undefined?[]:i;this.base=this.base===undefined?"":this.base;var n=this.routes[t];if(n===undefined){return undefined}var r=this.base+n.path;for(var o in i){if(i.hasOwnProperty(o)){r=r.replace("{"+o+"}",i[o])}}return r};var n=function e(t){this.base=t};var r=function e(t){this.routes=t};return{generatePath:i,setBasePath:n,setRoutes:r}}();function debounce(e,t,i){var n;return function(){var r=this,o=arguments;var a=function(){n=null;if(!i){e.apply(r,o)}};var s=i&&!n;clearTimeout(n);n=setTimeout(a,t);if(s){e.apply(r,o)}}}
//# sourceMappingURL=ark.js.map
